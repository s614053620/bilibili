/*!
* Bilibili Live Player Loader (55-21bf6ef8)
*
* Copyright 2016 - 2020 Bilibili, Inc.
* Released in Thu Dec 31 2020 11:00:04 GMT+0800 (中国标准时间)
*/

!function(e, t) {
    "object" == typeof exports && "object" == typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define([], t) : "object" == typeof exports ? exports.EmbedPlayer = t() : e.EmbedPlayer = t()
}(window, (function() {
        return function(e) {
            var t = {};
            function n(r) {
                if (t[r])
                    return t[r].exports;
                var i = t[r] = {
                    i: r,
                    l: !1,
                    exports: {}
                };
                return e[r].call(i.exports, i, i.exports, n),
                    i.l = !0,
                    i.exports
            }
            return n.m = e,
                n.c = t,
                n.d = function(e, t, r) {
                    n.o(e, t) || Object.defineProperty(e, t, {
                        enumerable: !0,
                        get: r
                    })
                }
                ,
                n.r = function(e) {
                    "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                        value: "Module"
                    }),
                        Object.defineProperty(e, "__esModule", {
                            value: !0
                        })
                }
                ,
                n.t = function(e, t) {
                    if (1 & t && (e = n(e)),
                    8 & t)
                        return e;
                    if (4 & t && "object" == typeof e && e && e.__esModule)
                        return e;
                    var r = Object.create(null);
                    if (n.r(r),
                        Object.defineProperty(r, "default", {
                            enumerable: !0,
                            value: e
                        }),
                    2 & t && "string" != typeof e)
                        for (var i in e)
                            n.d(r, i, function(t) {
                                return e[t]
                            }
                                .bind(null, i));
                    return r
                }
                ,
                n.n = function(e) {
                    var t = e && e.__esModule ? function() {
                            return e.default
                        }
                        : function() {
                            return e
                        }
                    ;
                    return n.d(t, "a", t),
                        t
                }
                ,
                n.o = function(e, t) {
                    return Object.prototype.hasOwnProperty.call(e, t)
                }
                ,
                n.p = "",
                n(n.s = 4)
        }([function(e, t, n) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var r = function() {
                function e() {}
                return e.warn = function(t) {
                    var n = t.key || e.LOG_DEBUG_TAG
                        , r = t.value || "warn"
                        , i = "LivePlayerLoader '" + n + "': " + JSON.stringify(r);
                    e.ENABLE_DEBUG && console.warn(i)
                }
                    ,
                    e.info = function(t) {
                        var n = t.key || e.LOG_DEBUG_TAG
                            , r = t.value || "info"
                            , i = "LivePlayerLoader '" + n + "': " + JSON.stringify(r);
                        e.ENABLE_DEBUG && console.info(i)
                    }
                    ,
                    e.error = function(t) {
                        var n = t.key || e.LOG_DEBUG_TAG
                            , r = t.value || "error"
                            , i = "LivePlayerLoader '" + n + "': " + JSON.stringify(r);
                        e.ENABLE_DEBUG && console.error(i)
                    }
                    ,
                    e.assign = function(t) {
                        for (var n = [], r = 1; r < arguments.length; r++)
                            n[r - 1] = arguments[r];
                        if (null == t)
                            throw new TypeError("Cannot convert undefined or null to object");
                        for (var i = Object(t), a = 0; a < n.length; a++) {
                            var o = n[a];
                            null != o && e.name2value(o, i)
                        }
                        return i
                    }
                    ,
                    e.createWrapper = function(t, n, r, i) {
                        void 0 === r && (r = {}),
                        void 0 === i && (i = 1);
                        try {
                            if (t && n && t.querySelector("#" + n))
                                return t.querySelector("#" + n)
                        } catch (e) {}
                        var a = document.createElement("div");
                        return a.id = n,
                            r = e.assign({
                                width: "100%",
                                height: "100%",
                                zIndex: 1,
                                position: "relative"
                            }, r),
                            e.addStyle(a, r),
                            t.appendChild(a),
                            a
                    }
                    ,
                    e.createIframe = function(t, n, r, i, a, o) {
                        void 0 === i && (i = document.body),
                        void 0 === a && (a = {}),
                        void 0 === o && (o = null),
                        t || e.error({
                            key: "[ createIframe ]",
                            value: "iframe src is missing"
                        });
                        var s = document.createElement("iframe")
                            , l = [];
                        for (var u in a = e.assign({
                            width: !0,
                            height: !0,
                            iframe: !0,
                            container: !0
                        }, a),
                            n = e.assign({
                                width: "100%",
                                height: "100%",
                                frameBorder: "0",
                                marginWidth: "0",
                                marginHeight: "0"
                            }, n),
                            r)
                            !a[u] && r.hasOwnProperty(u) && null != r[u] && l.push(u + "=" + r[u]);
                        return s.src = s + "?" + l.join("&"),
                            e.name2value(n, s),
                            s.addEventListener("load", (function() {
                                    e.info({
                                        key: "[ iframe ]",
                                        value: "load complete"
                                    }),
                                    o && o()
                                }
                            )),
                            i.appendChild(s),
                            s
                    }
                    ,
                    e.loadScript = function(e, t, n) {
                        try {
                            var r = document.createElement("script")
                                , i = document.getElementsByTagName("head")[0];
                            r.src = e,
                                r.onload = "function" == typeof t && t,
                                r.onerror = function(t) {
                                    i && i.removeChild(r),
                                        console.error("Load script error, src:", e),
                                    "function" == typeof n && n()
                                }
                                ,
                            i && i.appendChild(r)
                        } catch (t) {
                            console.error("Load script error", e, t)
                        }
                    }
                    ,
                    e.getCookie = function() {
                        var e = document.cookie
                            , t = {};
                        try {
                            if (e)
                                for (var n = e.split("; "), r = 0, i = n.length; r < i; r++) {
                                    var a = n[r].split("=");
                                    t[a[0]] = a[1]
                                }
                        } catch (e) {
                            console.error("Live player loader get cookie error", e)
                        }
                        return t
                    }
                    ,
                    e.setCookie = function(e, t, n) {
                        void 0 === n && (n = 365);
                        var r = new Date
                            , i = encodeURIComponent(e)
                            , a = encodeURIComponent(t);
                        r.setTime(r.getTime() + 24 * n * 60 * 60 * 1e3),
                            document.cookie = i + "=" + a + "; expires=" + r.toUTCString() + "; path=/; domain=.bilibili.com"
                    }
                    ,
                    e.getLocalStorageItem = function(t, n) {
                        void 0 === n && (n = "undefined");
                        try {
                            return "undefined" === n ? JSON.parse(localStorage.getItem(t)) || {} : (JSON.parse(localStorage.getItem(t)) || {})[n]
                        } catch (t) {
                            return e.error({
                                key: "[ getLocalStorageItem ]",
                                value: "LocalStorage Not Support"
                            }),
                                void 0 === n ? null : window.undefined
                        }
                    }
                    ,
                    e.setLocalStorageItem = function(t, n) {
                        try {
                            return localStorage.setItem(t, JSON.stringify(n)),
                                !0
                        } catch (t) {
                            return e.error({
                                key: "[ setLocalStorageItem ]",
                                value: "LocalStorage Not Support"
                            }),
                                !1
                        }
                    }
                    ,
                    e.replacePathVersion = function(e, t, n) {
                        return void 0 === t && (t = "latest"),
                        void 0 === n && (n = ""),
                            e ? e.replace(/\#\{version\}/, t).replace(/\#\{folder\}/, n) : e
                    }
                    ,
                    e.addStyle = function(t, n) {
                        return t instanceof HTMLElement || e.error({
                            key: "[ addStyle ]",
                            value: "The element is not instance of HTMLElement"
                        }),
                            e.name2value(n, t.style),
                            t
                    }
                    ,
                    e.getRequestParams = function() {
                        var e = window.location.search.substr(1);
                        if (!e)
                            return {};
                        for (var t = {}, n = e.split("&"), r = 0; r < n.length; r++) {
                            var i = n[r].split("=");
                            t[i[0]] = decodeURIComponent(i[1])
                        }
                        return t
                    }
                    ,
                    e.name2value = function(e, t) {
                        for (var n in e)
                            Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                        return t
                    }
                    ,
                    e.callQueueFunction = function(e) {
                        for (; e.length; ) {
                            var t = e.shift();
                            if ("function" == typeof t) {
                                if (0 === e.length)
                                    return t();
                                t()
                            }
                        }
                    }
                    ,
                    e.copyFunctionQueue = function(e) {
                        var t = [];
                        if (e instanceof Array)
                            for (var n = e.length, r = 0; r < n; r++)
                                t[r] = e[r];
                        return t
                    }
                    ,
                    e.ENABLE_DEBUG = !1,
                    e.LOG_DEBUG_TAG = "[ LOG ]",
                    e
            }();
            t.default = r
        }
            , function(e, t, n) {
                "use strict";
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var r = n(6)
                    , i = n(0)
                    , a = n(2)
                    , o = function() {
                    function e() {}
                    return e.hasLivePlayerFile = function() {
                        return window.Player && window.Player.VERSION()
                    }
                        ,
                        e.hasJQuery = function() {
                            return !!window.jQuery
                        }
                        ,
                        e.hasNoFlashTipsComponent = function() {
                            return !!window.NoFlashTips
                        }
                        ,
                        e.hasSwfObject = function() {
                            return !!window.swfobject
                        }
                        ,
                        e.isFlashPlayerLoadComplete = function(e, t, n) {
                            void 0 === n && (n = null);
                            var r = !1
                                , a = 0
                                , o = 0
                                , s = Date.now()
                                , l = function(e) {
                                clearTimeout(a),
                                    clearTimeout(o),
                                n && n(e)
                            };
                            if (window[t] = function() {
                                r = !0,
                                    i.default.info({
                                        key: "[ Flash ]",
                                        value: "callback called. Elapsed: " + (Date.now() - s) + "ms"
                                    }),
                                    l(!0)
                            }
                                ,
                                e.success) {
                                i.default.info({
                                    key: "[ Flash ]",
                                    value: "load complete. Elapsed: " + (Date.now() - s) + "ms"
                                });
                                var u = e.ref;
                                !function e() {
                                    if (!r)
                                        try {
                                            if ("function" == typeof u.PercentLoaded && 100 === u.PercentLoaded())
                                                return void (o = window.setTimeout((function() {
                                                        r || (window[t](),
                                                            i.default.warn({
                                                                key: "[ Flash ]",
                                                                value: "manual execute callback"
                                                            }))
                                                    }
                                                ), 2e3));
                                            if (Date.now() - s > 5e3)
                                                return i.default.error({
                                                    key: "[ Flash ]",
                                                    value: "loading timeout"
                                                }),
                                                    void l(!1);
                                            a = window.setTimeout(e, 100)
                                        } catch (e) {}
                                }()
                            } else
                                l(!1)
                        }
                        ,
                        e.hasFlashPlugin = function() {
                            var e = !1
                                , t = navigator.plugins
                                , n = window.ActiveXObject;
                            try {
                                var r = n && !1 !== new n("ShockwaveFlash.ShockwaveFlash");
                                e = void 0 !== t && "object" == typeof t["Shockwave Flash"] || r
                            } catch (e) {
                                console.error("flash plugin detect error", e)
                            }
                            return e
                        }
                        ,
                        e.isHTML5PlayerSupported = function() {
                            return !(!function() {
                                var e = !1;
                                try {
                                    e = MediaSource && MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')
                                } catch (e) {
                                    console.error("mseFlvPlaybackDetect error", e)
                                }
                                return e
                            }() || !function() {
                                var e = !1;
                                try {
                                    var t = new XMLHttpRequest;
                                    t.open("GET", "https://example.com", !0),
                                        t.responseType = "moz-chunked-arraybuffer",
                                        e = "moz-chunked-arraybuffer" === t.responseType.toString()
                                } catch (e) {
                                    console.error("mozChunkedArrayBufferDetect error", e)
                                }
                                return e
                            }() && !function() {
                                var e = !1;
                                try {
                                    e = window.fetch && ReadableStream && function() {
                                        var e = !1;
                                        try {
                                            var t = navigator.userAgent.toLowerCase()
                                                , n = /(edge)\/([\w.]+)/.exec(t);
                                            if (n && n[0]) {
                                                var r = n[2] && n[2].split(".") || [];
                                                if (r && r.length) {
                                                    var i = parseInt(r[0], 10)
                                                        , a = parseInt(r[1], 10);
                                                    i >= 15 && a >= 15048 && (e = !0)
                                                }
                                            } else
                                                e = !0
                                        } catch (e) {
                                            console.error("msEdgeDetect error", e)
                                        }
                                        return e
                                    }()
                                } catch (e) {
                                    console.error("fetchStreamDetect error", e)
                                }
                                return e
                            }())
                        }
                        ,
                        e.isInPartsTesting = function(t) {
                            void 0 === t && (t = "1.3");
                            var n = !1;
                            try {
                                var o = r.detect()
                                    , s = o.version && o.version.split(".")
                                    , l = i.default.getLocalStorageItem(a.PLAYER_DATABASE_TYPE.LOCAL_NAME)
                                    , u = i.default.getLocalStorageItem("LIVE_HTML5_PLAYER_PTK");
                                if (l && "html5" !== l.type && u.version !== t) {
                                    parseInt(s[0], 10);
                                    (o && "chrome" === o.name || o && "firefox" === o.name) && (n = !0),
                                    e.hasFlashPlugin() || (n = !0),
                                        n = !0
                                }
                                n && i.default.setLocalStorageItem("LIVE_HTML5_PLAYER_PTK", {
                                    version: t,
                                    status: !0,
                                    date: Date.now()
                                })
                            } catch (e) {
                                console.error("Using default HTML5 player error", e)
                            }
                            return n
                        }
                        ,
                        e
                }();
                t.default = o
            }
            , function(e, t, n) {
                "use strict";
                var r, i, a, o;
                Object.defineProperty(t, "__esModule", {
                    value: !0
                }),
                    function(e) {
                        e.HTML5 = "html5",
                            e.FLASH = "flash"
                    }(r || (r = {})),
                    t.PLAYER_TYPE = r,
                    function(e) {
                        e[e.HOME = 0] = "HOME",
                            e[e.PAGE = 1] = "PAGE",
                            e[e.SHARING = 2] = "SHARING",
                            e[e.MOBILE = 3] = "MOBILE"
                    }(i || (i = {})),
                    t.PLAYER_USAGE_TYPE = i,
                    function(e) {
                        e.COOKIE_NAME = "LIVE_PLAYER_TYPE",
                            e.LOCAL_NAME = "LIVE_PLAYER_STATUS",
                            e.LOCAL_SWITCH_NAME = "BILIBILI_LIVE_PLAYER_SWITCH_STATUS"
                    }(a || (a = {})),
                    t.PLAYER_DATABASE_TYPE = a,
                    function(e) {
                        e[e.HTML5 = 1] = "HTML5",
                            e[e.FLASH = 2] = "FLASH"
                    }(o || (o = {})),
                    t.COOKIE_KEY = o
            }
            , function(e, t, n) {
                "use strict";
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var r = "https://s1.hdslb.com/bfs/static/blive/live-assets/player"
                    , i = {
                    jquery: r + "/libs/jquery/jquery-1.11.3.min.js",
                    noFlashTips: r + "/libs/no-flash-tips.min.js",
                    html5Player: "//s1.hdslb.com/bfs/static/player/live/loader/player-loader-latest.min.js",
                    html5MobilePlayer: r + "/html5/mobile/lmplayer.min.js",
                    swfObject: r + "/libs/swfobject.js",
                    flashPagePlayer: "https://s1.hdslb.com/bfs/static/blive/web-player/pageplayer-#{version}.swf",
                    flashHomePlayer: "https://s1.hdslb.com/bfs/static/blive/web-player/homeplayer-#{version}.swf"
                };
                t.default = i
            }
            , function(e, t, n) {
                var r = n(5).default;
                e.exports = r,
                    window.EmbedPlayer = r
            }
            , function(e, t, n) {
                "use strict";
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var r = n(1)
                    , i = n(7)
                    , a = n(8)
                    , o = n(3)
                    , s = n(2)
                    , l = n(14)
                    , u = n(0)
                    , c = function() {
                    function e(t) {
                        this.state = {},
                            this.eventsQueue = {
                                initEventQueue: [],
                                onEventQueue: [],
                                funcCallBufferQueue: [],
                                setEventQueue: []
                            },
                            this.player = null,
                            this.requestParams = null,
                            this.playerEventMap = null,
                            this.playerEventSetMap = null,
                            this.guid = this.getGUID(),
                            this.returnObject = null,
                            this.BUNDLE_TYPE = "release",
                            this.isRelease = "release" === this.BUNDLE_TYPE;
                        var n = this.isRelease ? 0 : 1;
                        if (this.requestParams = u.default.getRequestParams(),
                            u.default.ENABLE_DEBUG = !!(void 0 === this.requestParams.debug ? n : parseInt(this.requestParams.debug, 10)),
                            !e.instance)
                            return u.default.info({
                                key: "[ Loader ]",
                                value: "begin."
                            }),
                                e.instance = this,
                                this.verifyOptions(t).initializeConfig(t).bindLoaderProto().initialize(t),
                                this.getLoaderReturn();
                        u.default.error({
                            key: "[ LivePlayerLoader ]",
                            value: "LivePlayerLoader already exists"
                        })
                    }
                    return e.getFMP4PlayerCtor = function() {
                        return window.Player && window.Player.fMp4Player
                    }
                        ,
                        e.loader = function(t) {
                            e.instance ? e.instance.loader("", t) : u.default.warn({
                                key: "[ loader ]",
                                value: "missing instance"
                            })
                        }
                        ,
                        e.reload = function(t) {
                            e.instance ? e.instance.loader(e.instance.state.currentPlayerType, t) : u.default.warn({
                                key: "[ loader ]",
                                value: "missing instance"
                            })
                        }
                        ,
                        e.prototype.loader = function(e, t) {
                            if (this.state.isStopPlayback)
                                return !1;
                            var n = e || this.config.typeMap[this.state.currentPlayerType];
                            return this.state.switchCount++,
                                this.destroyPlayer(),
                                this.config.initTime = Math.floor(performance.now && performance.now() || 0),
                                u.default.setCookie(s.PLAYER_DATABASE_TYPE.COOKIE_NAME, n === s.PLAYER_TYPE.HTML5 ? s.COOKIE_KEY.HTML5 : s.COOKIE_KEY.FLASH, 365),
                                this.loadPlayer(n),
                            "function" == typeof t && t(),
                                this.done(this.reinitCallbackQueue.bind(this), this.onOperableElementsChange.bind(this)),
                                !0
                        }
                        ,
                        e.prototype.reload = function(e) {
                            return this.loader(this.state.currentPlayerType, e),
                                this.getLoaderReturn()
                        }
                        ,
                        e.prototype.init = function(e, t) {
                            return this.player ? (e && t && (this.eventsQueue.initEventQueue.push({
                                action: e,
                                data: t
                            }),
                            this.player && this.player.init(e, t)),
                                this.getLoaderReturn()) : this.done(this.init.bind(this, e, t))
                        }
                        ,
                        e.prototype.on = function(e, t) {
                            if (!this.player)
                                return this.done(this.on.bind(this, e, t));
                            if (e && "function" == typeof t) {
                                var n = this.state.currentPlayerType;
                                if ("operableElementsChange" === e)
                                    return this.state.callbackMap.operableElementsChange.push(t),
                                        this.getLoaderReturn();
                                if (this.eventsQueue.onEventQueue.push({
                                    action: e,
                                    callback: t
                                }),
                                n === s.PLAYER_TYPE.HTML5)
                                    "function" == typeof this.player.on && this.player.on(e, t);
                                else if (n === s.PLAYER_TYPE.FLASH) {
                                    var r = this.getEventGUID();
                                    this.playerEventMap[r] = {
                                        action: e,
                                        callback: t
                                    },
                                    this.player.on && this.player.on(e, "_playerEventMap." + r + ".callback")
                                }
                            }
                            return this.getLoaderReturn()
                        }
                        ,
                        e.prototype.set = function(e) {
                            if (!this.player)
                                return this.done(this.set.bind(this, e));
                            if (e && e instanceof Object) {
                                var t = this.state.currentPlayerType;
                                if (e.action && "blockDanmaku" === e.action)
                                    -1 === this.eventsQueue.setEventQueue.indexOf(e) && this.eventsQueue.setEventQueue.push(e);
                                if (t === s.PLAYER_TYPE.HTML5)
                                    "function" == typeof this.player.set && this.player.set(e);
                                else if (t === s.PLAYER_TYPE.FLASH) {
                                    if (e.callback) {
                                        var n = this.getEventGUID();
                                        this.playerEventSetMap[n] = {
                                            callback: e.callback
                                        },
                                            e.callback = "_playerEventSetMap." + n + ".callback"
                                    }
                                    this.player.set && this.player.set(e)
                                }
                            }
                            return this.getLoaderReturn()
                        }
                        ,
                        e.prototype.done = function() {
                            for (var e = [], t = 0; t < arguments.length; t++)
                                e[t] = arguments[t];
                            return this.eventsQueue.funcCallBufferQueue.push.apply(this.eventsQueue.funcCallBufferQueue, e),
                            this.player && u.default.callQueueFunction(this.eventsQueue.funcCallBufferQueue),
                                this.getLoaderReturn()
                        }
                        ,
                        e.prototype.loadVideo = function(e) {
                            try {
                                this.config.cid = e.cid,
                                this.player && this.player.loadVideo && this.player.loadVideo(e)
                            } catch (e) {
                                u.default.error({
                                    key: "[ loadVideo ]",
                                    value: e.message
                                })
                            }
                        }
                        ,
                        e.prototype.changeUIStatus = function(e) {
                            try {
                                void 0 !== e.logo && (this.state.UIState.logo = e.logo),
                                void 0 !== e.recommend && (this.state.UIState.recommend = e.recommend),
                                void 0 !== e.feedback && (this.state.UIState.feedback = e.feedback),
                                void 0 !== e.tipsText && (this.state.UIState.tipsText = e.tipsText),
                                this.player && this.player.changeUIStatus && this.player.changeUIStatus(this.state.UIState)
                            } catch (e) {
                                u.default.error({
                                    key: "[ loadVideo ]",
                                    value: e.message
                                })
                            }
                        }
                        ,
                        e.prototype.addLoadingPicture = function(e) {
                            this.player || this.done(this.addLoadingPicture.bind(this, e));
                            try {
                                this.config.loadingPicture = e,
                                this.player && this.player.addLoadingPicture && this.player.addLoadingPicture(e)
                            } catch (e) {
                                u.default.error({
                                    key: "[ addLoadingPicture ]",
                                    value: e.message
                                })
                            }
                        }
                        ,
                        e.prototype.destroy = function() {
                            this.destroyPlayer(),
                                e.instance = null,
                                e.playerInstance = null
                        }
                        ,
                        e.prototype.getPlayerInfo = function() {
                            try {
                                return this.player && this.player.getPlayerInfo && this.player.getPlayerInfo()
                            } catch (e) {
                                u.default.error({
                                    key: "[ getPlayerInfo ]",
                                    value: e.message
                                })
                            }
                        }
                        ,
                        e.prototype.stopPlayback = function(e) {
                            try {
                                this.state.isStopPlayback = !0,
                                    this.player.stopPlayback(e)
                            } catch (e) {
                                return u.default.error({
                                    key: "[ stopPlayback ]",
                                    value: e.message
                                }),
                                    !1
                            }
                        }
                        ,
                        e.prototype.getOperableElements = function() {
                            try {
                                return this.state.currentPlayerType === s.PLAYER_TYPE.HTML5 ? "function" == typeof this.player.getOperableElements && this.player.getOperableElements() : this.state.operableElements
                            } catch (e) {
                                u.default.error({
                                    key: "[ getOperableElements ]",
                                    value: e.message
                                })
                            }
                        }
                        ,
                        e.prototype.notifyInOperation = function(e) {
                            void 0 === e && (e = !0);
                            try {
                                this.state.currentPlayerType === s.PLAYER_TYPE.HTML5 ? "function" == typeof this.player.notifyInOperation && this.player.notifyInOperation(e) : this.toggleFlashOperableElements(e)
                            } catch (e) {
                                u.default.error({
                                    key: "[ notifyInOperation ]",
                                    value: e.message
                                })
                            }
                        }
                        ,
                        e.prototype.notifyAnnouncement = function(e, t) {
                            void 0 === e && (e = !0),
                            void 0 === t && (t = 100);
                            try {
                                this.player && this.player.notifyAnnouncement && this.player.notifyAnnouncement(e, t)
                            } catch (e) {
                                u.default.error({
                                    key: "[ notifyAnnouncement ]",
                                    value: e.message
                                })
                            }
                        }
                        ,
                        e.prototype.initialize = function(e) {
                            var t = this;
                            if (!r.default.hasJQuery()) {
                                var n = u.default.replacePathVersion(o.default.jquery, this.version.jquery);
                                return u.default.loadScript(n, (function() {
                                        t.initialize(e)
                                    }
                                )),
                                    !1
                            }
                            return this.container = u.default.createWrapper(this.container, l.DEFAULT_OPTIONS.wrapperId),
                            e.iframe && u.default.createIframe(e.iframeSrc, {
                                width: e.width,
                                height: e.height
                            }, e, this.container, {
                                width: !0,
                                height: !0,
                                iframe: !0,
                                container: !0
                            }),
                            this.config.isInPartsTesting && this.setConfig(s.PLAYER_TYPE.HTML5),
                                this.state.currentPlayerType = this.adjustType(this.getConfig("type")),
                                this.loadPlayer(this.state.currentPlayerType),
                                this
                        }
                        ,
                        e.prototype.loadPlayer = function(e, t) {
                            switch (void 0 === e && (e = s.PLAYER_TYPE.HTML5),
                            void 0 === t && (t = !1),
                                e) {
                                case s.PLAYER_TYPE.HTML5:
                                    this.config.isHTML5PlayerSupported ? (this.setCurrentType(s.PLAYER_TYPE.HTML5),
                                        this.createHTML5Player(t)) : this.config.onlyH5 ? this.showOnlyH5Tips() : this.loadPlayer(s.PLAYER_TYPE.FLASH, t);
                                    break;
                                case s.PLAYER_TYPE.FLASH:
                                    this.config.onlyH5 ? this.showOnlyH5Tips() : (this.setCurrentType(s.PLAYER_TYPE.FLASH),
                                        this.createFlashPlayer(t));
                                    break;
                                default:
                                    throw new Error("Unsupported Player Type " + e)
                            }
                            this.config.roomInitDataV2 = null
                        }
                        ,
                        e.prototype.createHTML5Player = function(e) {
                            var t = this;
                            if (void 0 === e && (e = !1),
                                r.default.hasLivePlayerFile())
                                this.initializeHTML5Player();
                            else {
                                var n = this.state
                                    , i = this.getPlayerPath(s.PLAYER_TYPE.HTML5, e);
                                u.default.loadScript(i, this.initializeHTML5Player.bind(this), (function() {
                                        n.fallback && t.createHTML5Player(!0),
                                            n.fallback = !1
                                    }
                                ))
                            }
                        }
                        ,
                        e.prototype.checkHasFlashPlugin = function(e, t) {
                            var n = this;
                            void 0 === t && (t = !1);
                            var r = this.config;
                            return !(!r.hasFlashPlugin && this.state.currentPlayerType === s.PLAYER_TYPE.FLASH || t) || (new i.default(this.container,(function(t) {
                                    n.loadPlayer(s.PLAYER_TYPE.HTML5, e),
                                    "function" == typeof t && t()
                                }
                            ),r.isHTML5PlayerSupported),
                                !1)
                        }
                        ,
                        e.prototype.createFlashPlayer = function(e) {
                            var t = this;
                            void 0 === e && (e = !1);
                            var n = this.config;
                            if (this.checkHasFlashPlugin(e))
                                if (r.default.hasSwfObject()) {
                                    this.state.fallback = !0;
                                    var i = l.DEFAULT_PARAMS
                                        , a = this.getPlayerPath(s.PLAYER_TYPE.FLASH, e)
                                        , c = {
                                        cid: n.cid,
                                        rnd: n.rnd,
                                        type: n.type,
                                        p2p: n.p2p,
                                        fnPromiseMode: n.fnPromiseMode,
                                        changeMode: !!n.isHTML5PlayerSupported && n.changeMode,
                                        versionRnd: n.versionRnd,
                                        initTime: n.initTime || performance.now && performance.now(),
                                        loaderInitTime: performance.now && performance.now(),
                                        onReady: n.onReady || l.DEFAULT_OPTIONS.flashPlayerCallbackFuncName,
                                        loadingPicture: n.loadingPicture,
                                        switchCount: this.state.switchCount
                                    };
                                    0 === this.config.type && (i.wmode = "transparent");
                                    var f = {
                                        swfUrl: a,
                                        container: this.container,
                                        width: "100%",
                                        height: "100%",
                                        version: "0",
                                        expressInstallSwfUrl: "",
                                        flashvars: c,
                                        params: i,
                                        attributes: {
                                            id: l.DEFAULT_OPTIONS.flashPlayerId
                                        }
                                    };
                                    this.initializeFlashPlayer(f)
                                } else
                                    this.state.fallback && u.default.loadScript(o.default.swfObject, (function() {
                                            t.state.fallback = !1,
                                                t.createFlashPlayer(e)
                                        }
                                    ), (function() {
                                            throw t.checkHasFlashPlugin(e, !0),
                                                new Error("Get SWFObject js file error")
                                        }
                                    ))
                        }
                        ,
                        e.prototype.initializeHTML5Player = function() {
                            var t = this.config
                                , n = this.state;
                            this.container.querySelector("object") && (this.container.innerHTML = ""),
                                this.state.operableElements.mainElement = null,
                                this.player = new window.Player($(this.container),{
                                    cid: t.cid,
                                    rnd: t.rnd,
                                    type: t.type,
                                    initTime: t.initTime,
                                    protover: t.protover,
                                    loaderInitTime: performance.now && performance.now(),
                                    changeMode: !t.onlyH5 && t.changeMode,
                                    versionRnd: t.versionRnd,
                                    switchCount: this.state.switchCount,
                                    roomInitDataV2: t.roomInitDataV2,
                                    sendPanel: t.sendPanel,
                                    specialDanmakuHeight: t.specialDanmakuHeight,
                                    specialDanmakuUIDList: t.specialDanmakuUIDList,
                                    loadingPicture: t.loadingPicture,
                                    fnPromiseMode: t.fnPromiseMode,
                                    fnElementId: t.fnElementId,
                                    checkChasingFrame: t.checkChasingFrame,
                                    UI: n.UIState,
                                    mask: t.mask,
                                    ptype: t.ptype,
                                    coreType: t.coreType,
                                    backgroundFilter: t.backgroundFilter,
                                    compsCustomConfig: t.compsCustomConfig
                                }),
                                e.playerInstance = this.player,
                                u.default.callQueueFunction(this.eventsQueue.funcCallBufferQueue)
                        }
                        ,
                        e.prototype.initializeFlashPlayer = function(t) {
                            var n = this
                                , i = t.swfUrl
                                , a = t.container
                                , o = t.width
                                , s = t.height
                                , l = t.version
                                , c = t.expressInstallSwfUrl
                                , f = t.flashvars
                                , p = t.params
                                , d = t.attributes
                                , h = document.createElement("div");
                            this.container.innerHTML = "",
                                h.id = d.id,
                                a.appendChild(h),
                                this.createFlashOperableElements(),
                                window.swfobject.embedSWF(i, h.id, o, s, l, c, f, p, d, (function(t) {
                                        r.default.isFlashPlayerLoadComplete(t, f.onReady, (function(r) {
                                                r ? (n.player = t.ref,
                                                    e.playerInstance = n.player,
                                                    u.default.callQueueFunction(n.eventsQueue.funcCallBufferQueue)) : (n.state.fallback && n.createFlashPlayer(!0),
                                                    n.state.fallback = !1)
                                            }
                                        ))
                                    }
                                ))
                        }
                        ,
                        e.prototype.initializeConfig = function(e) {
                            return this.container = e.container,
                                this.compatibleWithLinkHelper(),
                                this.config = u.default.assign(l.DEFAULT_OPTIONS, {
                                    typeMap: {
                                        flash: s.PLAYER_TYPE.HTML5,
                                        html5: s.PLAYER_TYPE.FLASH
                                    },
                                    rnd: 0,
                                    hasFlashPlugin: r.default.hasFlashPlugin(),
                                    isHTML5PlayerSupported: r.default.isHTML5PlayerSupported(),
                                    isInPartsTesting: r.default.isInPartsTesting(),
                                    mask: e.mask,
                                    compsCustomConfig: e.compsCustomConfig || {}
                                }, e),
                                e.UI = e.UI || {},
                                this.state = {
                                    currentPlayerType: this.getConfig("type"),
                                    fallback: !0,
                                    switchCount: 0,
                                    operableElements: {
                                        mainElement: null
                                    },
                                    callbackMap: {
                                        operableElementsChange: []
                                    },
                                    UIState: {
                                        logo: void 0 === e.UI.logo || e.UI.logo,
                                        recommend: void 0 === e.UI.recommend || e.UI.recommend,
                                        tipsText: e.UI.tipsText || null,
                                        feedback: void 0 === e.UI.feedback || e.UI.feedback
                                    }
                                },
                                this.version = {
                                    html5: {
                                        web: "2.5.11",
                                        mobile: "2.5.11"
                                    },
                                    flash: {
                                        home: "2.8.1",
                                        page: "2.8.3",
                                        share: "latest"
                                    },
                                    backup: "latest"
                                },
                                this.playerEventMap = window._playerEventMap = {},
                                this.playerEventSetMap = window._playerEventSetMap = {},
                                this
                        }
                        ,
                        e.prototype.verifyOptions = function(e) {
                            return e && e instanceof Object ? e.container && e.container instanceof HTMLElement ? e.cid && parseInt("" + e.cid, 10) > 0 || u.default.error({
                                key: "cid",
                                value: e.cid
                            }) : u.default.error({
                                key: "container",
                                value: e.container
                            }) : u.default.error({
                                key: "options",
                                value: e
                            }),
                                this
                        }
                        ,
                        e.prototype.getPlayerPath = function(e, t) {
                            void 0 === t && (t = !1);
                            var n = this.config.type
                                , r = e === s.PLAYER_TYPE.HTML5
                                , i = t ? this.version.backup : this.version.html5.web
                                , a = "" + o.default.html5Player;
                            if (r)
                                return u.default.replacePathVersion(a, i);
                            switch (parseInt(n.toString(), 10)) {
                                case s.PLAYER_USAGE_TYPE.PAGE:
                                    a = o.default.flashPagePlayer,
                                        i = this.version.flash.page;
                                    break;
                                case s.PLAYER_USAGE_TYPE.HOME:
                                    a = o.default.flashHomePlayer,
                                        i = this.version.flash.home;
                                    break;
                                default:
                                    throw new Error("[ getPlayerPath ] Unsupported Type")
                            }
                            return i = t ? this.version.backup : i,
                                u.default.replacePathVersion("" + a, i)
                        }
                        ,
                        e.prototype.getConfig = function(e, t) {
                            return void 0 === e && (e = "undefined"),
                            void 0 === t && (t = s.PLAYER_DATABASE_TYPE.LOCAL_NAME),
                                u.default.getLocalStorageItem(t, e)
                        }
                        ,
                        e.prototype.setConfig = function(e, t) {
                            void 0 === t && (t = s.PLAYER_DATABASE_TYPE.LOCAL_NAME);
                            var n = u.default.assign({
                                type: l.DEFAULT_OPTIONS.defaultPlayerType
                            }, this.getConfig(t), {
                                type: e,
                                timeStamp: Date.now()
                            });
                            return u.default.setLocalStorageItem(t, n)
                        }
                        ,
                        e.prototype.setCurrentType = function(e) {
                            return this.config.typeMap[e] ? (this.state.currentPlayerType = e,
                                this.setConfig(e),
                                !0) : (u.default.warn({
                                key: "[ setCurrentType ]",
                                value: "currentType distortion"
                            }),
                                !1)
                        }
                        ,
                        e.prototype.adjustType = function(e) {
                            return this.config.typeMap[e] ? e : s.PLAYER_TYPE.FLASH
                        }
                        ,
                        e.prototype.getGUID = function() {
                            var e = 0;
                            return function() {
                                return e++
                            }
                        }
                        ,
                        e.prototype.getEventGUID = function() {
                            return "player_event_" + this.guid()
                        }
                        ,
                        e.prototype.bindLoaderProto = function() {
                            var e = this
                                , t = l.PLAYER_EVENTS_MAP
                                , n = l.PLAYER_EVENTS_PROMISE_MAP
                                , r = this
                                , i = function(i) {
                                if (!Object.prototype.hasOwnProperty.call(t, i))
                                    return "continue";
                                var a = t[i].slice(1);
                                r[i] = function() {
                                    for (var r = [], o = 0; o < arguments.length; o++)
                                        r[o] = arguments[o];
                                    var l = e.state.currentPlayerType === s.PLAYER_TYPE.HTML5
                                        , c = a.slice(0)
                                        , f = function() {
                                        try {
                                            return l ? (c.push.apply(c, r),
                                                e.player[t[i][0]].apply(e.player, c)) : n[i] && 0 !== n[i].length && e.config.fnPromiseMode ? new Promise((function(t, n) {
                                                    var a = e.getEventGUID()
                                                        , o = e.getEventGUID();
                                                    e.playerEventMap[a] = {
                                                        callback: t.bind(e)
                                                    },
                                                        e.playerEventMap[o] = {
                                                            callback: n.bind(e)
                                                        },
                                                        r = r.concat(["_playerEventMap." + a + ".callback", "_playerEventMap." + o + ".callback"]),
                                                        e.player[i].apply(e.player, r)
                                                }
                                            )) : e.player[i].apply(e.player, r)
                                        } catch (e) {
                                            u.default.error({
                                                key: "[ bindPlayerEvents ]",
                                                value: e.message
                                            })
                                        }
                                    };
                                    return n[i] && n[i].length && e.config.fnPromiseMode ? f() : (e.eventsQueue.funcCallBufferQueue.push(f),
                                        e.player ? u.default.callQueueFunction(e.eventsQueue.funcCallBufferQueue) : void 0)
                                }
                            };
                            for (var a in t)
                                i(a);
                            return this
                        }
                        ,
                        e.prototype.reinitCallbackQueue = function() {
                            if (e.instance) {
                                var t = u.default.copyFunctionQueue(this.eventsQueue.initEventQueue)
                                    , n = u.default.copyFunctionQueue(this.eventsQueue.onEventQueue)
                                    , r = u.default.copyFunctionQueue(this.eventsQueue.setEventQueue)
                                    , i = 0
                                    , a = 0;
                                for (this.eventsQueue.onEventQueue = [],
                                         this.eventsQueue.initEventQueue = [],
                                         this.eventsQueue.setEventQueue = [],
                                         i = 0,
                                         a = t.length; i < a; i++)
                                    this.init && this.init(t[i].action, t[i].data);
                                for (i = 0,
                                         a = n.length; i < a; i++)
                                    this.on && this.on(n[i].action, n[i].callback),
                                    "switchLine" === n[i].action && n[i].callback(0);
                                for (i = 0,
                                         a = r.length; i < a; i++)
                                    this.set && this.set(r[i])
                            }
                        }
                        ,
                        e.prototype.compatibleWithLinkHelper = function() {
                            try {
                                var e = u.default.getCookie()
                                    , t = u.default.getLocalStorageItem(s.PLAYER_DATABASE_TYPE.LOCAL_NAME);
                                localStorage && (e[s.PLAYER_DATABASE_TYPE.COOKIE_NAME] === s.COOKIE_KEY.FLASH ? (u.default.setLocalStorageItem(s.PLAYER_DATABASE_TYPE.LOCAL_SWITCH_NAME, "true"),
                                    t.type = "html5") : e[s.PLAYER_DATABASE_TYPE.COOKIE_NAME] === s.COOKIE_KEY.HTML5 && (t.type = "flash")),
                                    u.default.setLocalStorageItem(s.PLAYER_DATABASE_TYPE.LOCAL_NAME, t)
                            } catch (e) {}
                        }
                        ,
                        e.prototype.getLoaderReturn = function() {
                            if (!this.isRelease)
                                return this;
                            if (this.returnObject)
                                return this.returnObject;
                            var e = {};
                            for (var t in l.PLAYER_EVENTS_MAP)
                                Object.prototype.hasOwnProperty.call(l.PLAYER_EVENTS_MAP, t) && (e[t] = this[t].bind(this));
                            return e.on = this.on.bind(this),
                                e.loader = this.loader.bind(this),
                                e.reload = this.reload.bind(this),
                                e.set = this.set.bind(this),
                                e.init = this.init.bind(this),
                                e.done = this.done.bind(this),
                                e.loadVideo = this.loadVideo.bind(this),
                                e.addLoadingPicture = this.addLoadingPicture.bind(this),
                                e.getPlayerInfo = this.getPlayerInfo.bind(this),
                                e.stopPlayback = this.stopPlayback.bind(this),
                                e.destroy = this.destroy.bind(this),
                                e.version = this.version,
                                e.getOperableElements = this.getOperableElements.bind(this),
                                e.notifyInOperation = this.notifyInOperation.bind(this),
                                e.notifyAnnouncement = this.notifyAnnouncement.bind(this),
                                e.changeUIStatus = this.changeUIStatus.bind(this),
                                this.returnObject = e,
                                e
                        }
                        ,
                        e.prototype.destroyPlayer = function() {
                            try {
                                this.eventsQueue.funcCallBufferQueue.length = 0,
                                    this.state.fallback = !0,
                                this.state.currentPlayerType === s.PLAYER_TYPE.HTML5 && this.player && "function" == typeof this.player.destroy && this.player.destroy(),
                                    this.player = null
                            } catch (e) {}
                        }
                        ,
                        e.prototype.createFlashOperableElements = function() {
                            try {
                                var e = document.createElement("div");
                                e.className = "flash-player-operable-element";
                                e.style.cssText = "position: absolute; top: 0; left: 0; right: 0; bottom: 80px;z-index:-1;",
                                    this.state.operableElements = {
                                        mainElement: e
                                    },
                                    this.container.appendChild(e)
                            } catch (e) {
                                console.error("Create Flash Operable Elements Error", e)
                            }
                        }
                        ,
                        e.prototype.toggleFlashOperableElements = function(e) {
                            void 0 === e && (e = !0);
                            try {
                                this.state.operableElements && this.state.operableElements.mainElement && (this.state.operableElements.mainElement.style.zIndex = "" + (e ? 99 : -1))
                            } catch (e) {}
                        }
                        ,
                        e.prototype.onOperableElementsChange = function() {
                            try {
                                var e = this.state.callbackMap.operableElementsChange
                                    , t = this.state.currentPlayerType === s.PLAYER_TYPE.HTML5 ? this.player.getOperableElements && this.player.getOperableElements() : this.getOperableElements();
                                t ? e && e.length && e.forEach((function(e) {
                                        e(t)
                                    }
                                )) : u.default.warn({
                                    key: "[ getNewOperableElements ]",
                                    value: "return undefined"
                                })
                            } catch (e) {
                                u.default.error({
                                    key: "[ onOperableElementsChange ]",
                                    value: e.message
                                })
                            }
                        }
                        ,
                        e.prototype.showOnlyH5Tips = function() {
                            new a.default({
                                id: "js-player-decorator",
                                url: "//s1.hdslb.com/bfs/static/player/img/h5.png",
                                textList: ["您当前的浏览器不支持HTML5播放器", "请切换浏览器再试试哦~"]
                            })
                        }
                        ,
                        e.instance = null,
                        e.playerInstance = null,
                        e
                }();
                t.default = c
            }
            , function(e, t, n) {
                "use strict";
                function r(e) {
                    var t = a([["iOS", /iP(hone|od|ad)/], ["Android OS", /Android/], ["BlackBerry OS", /BlackBerry|BB10/], ["Windows Mobile", /IEMobile/], ["Amazon OS", /Kindle/], ["Windows 3.11", /Win16/], ["Windows 95", /(Windows 95)|(Win95)|(Windows_95)/], ["Windows 98", /(Windows 98)|(Win98)/], ["Windows 2000", /(Windows NT 5.0)|(Windows 2000)/], ["Windows XP", /(Windows NT 5.1)|(Windows XP)/], ["Windows Server 2003", /(Windows NT 5.2)/], ["Windows Vista", /(Windows NT 6.0)/], ["Windows 7", /(Windows NT 6.1)/], ["Windows 8", /(Windows NT 6.2)/], ["Windows 8.1", /(Windows NT 6.3)/], ["Windows 10", /(Windows NT 10.0)/], ["Windows ME", /Windows ME/], ["Open BSD", /OpenBSD/], ["Sun OS", /SunOS/], ["Linux", /(Linux)|(X11)/], ["Mac OS", /(Mac_PowerPC)|(Macintosh)/], ["QNX", /QNX/], ["BeOS", /BeOS/], ["OS/2", /OS\/2/], ["Search Bot", /(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]]).filter((function(t) {
                            return t.rule && t.rule.test(e)
                        }
                    ))[0];
                    return t ? t.name : null
                }
                function i(e) {
                    var t = a([["edge", /Edge\/([0-9\._]+)/], ["yandexbrowser", /YaBrowser\/([0-9\._]+)/], ["vivaldi", /Vivaldi\/([0-9\.]+)/], ["kakaotalk", /KAKAOTALK\s([0-9\.]+)/], ["chrome", /(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/], ["phantomjs", /PhantomJS\/([0-9\.]+)(:?\s|$)/], ["crios", /CriOS\/([0-9\.]+)(:?\s|$)/], ["firefox", /Firefox\/([0-9\.]+)(?:\s|$)/], ["fxios", /FxiOS\/([0-9\.]+)/], ["opera", /Opera\/([0-9\.]+)(?:\s|$)/], ["opera", /OPR\/([0-9\.]+)(:?\s|$)$/], ["ie", /Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/], ["ie", /MSIE\s([0-9\.]+);.*Trident\/[4-7].0/], ["ie", /MSIE\s(7\.0)/], ["bb10", /BB10;\sTouch.*Version\/([0-9\.]+)/], ["android", /Android\s([0-9\.]+)/], ["ios", /Version\/([0-9\._]+).*Mobile.*Safari.*/], ["safari", /Version\/([0-9\._]+).*Safari/]]);
                    if (!e)
                        return null;
                    var n = t.map((function(t) {
                            var n = t.rule.exec(e)
                                , r = n && n[1].split(/[._]/).slice(0, 3);
                            return r && r.length < 3 && (r = r.concat(1 === r.length ? [0, 0] : [0])),
                            n && {
                                name: t.name,
                                version: r.join("."),
                                versionMajor: parseInt(r[0], 10)
                            }
                        }
                    )).filter(Boolean)[0] || null;
                    return n && (n.os = r(e)),
                        n
                }
                function a(e) {
                    return e.map((function(e) {
                            return {
                                name: e[0],
                                rule: e[1]
                            }
                        }
                    ))
                }
                Object.defineProperty(t, "__esModule", {
                    value: !0
                }),
                    t.detect = function() {
                        return "undefined" != typeof navigator ? i(navigator.userAgent) : null
                    }
                    ,
                    t.detectOS = r,
                    t.parseUserAgent = i
            }
            , function(e, t, n) {
                "use strict";
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var r = n(1)
                    , i = n(0)
                    , a = n(3)
                    , o = function() {
                    function e(e, t, n) {
                        if (this._options = {
                            msg: "主人，未安装Flash插件，暂时无法观看直播，您可以…",
                            msgSize: 14,
                            btnList: [{
                                title: "下载Flash插件",
                                type: "flash",
                                theme: "red"
                            }],
                            miniType: 1
                        },
                        null == e)
                            throw new Error("Container Cannot be undefined or null");
                        n && this._options.btnList.push({
                            title: "使用HTML5播放器",
                            type: "html5",
                            theme: "orange",
                            onClick: t
                        }),
                            this.createNoFlashTips(e)
                    }
                    return e.prototype.createNoFlashTips = function(e) {
                        var t = this;
                        r.default.hasNoFlashTipsComponent() ? new window.NoFlashTips(e,this._options) : i.default.loadScript(a.default.noFlashTips, (function() {
                                t.createNoFlashTips(e)
                            }
                        ), (function() {
                                i.default.error({
                                    key: "[ NoFlashTips ]",
                                    value: "Get NoFlashTips component fail."
                                }),
                                    e.innerHTML = "Flash 未安装或已禁用组件加载失败。",
                                    i.default.addStyle(e, {
                                        lineHeight: "500px",
                                        textAlign: "center",
                                        fontSize: "14px"
                                    })
                            }
                        ))
                    }
                        ,
                        e
                }();
                t.default = o
            }
            , function(e, t, n) {
                "use strict";
                var r = this && this.__assign || function() {
                        return (r = Object.assign || function(e) {
                                for (var t, n = 1, r = arguments.length; n < r; n++)
                                    for (var i in t = arguments[n])
                                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                                return e
                            }
                        ).apply(this, arguments)
                    }
                ;
                Object.defineProperty(t, "__esModule", {
                    value: !0
                }),
                    n(9);
                var i = function() {
                    function e(e) {
                        this.prefix = "must-h5",
                            this.config = r({
                                textList: []
                            }, e),
                            this.container = document.querySelector("#" + this.config.id) || document.createElement("div"),
                            this.init()
                    }
                    return e.prototype.init = function() {
                        this.container.innerHTML = this.tpl()
                    }
                        ,
                        e.prototype.tpl = function() {
                            var e = this
                                , t = "";
                            return this.config.textList.forEach((function(n) {
                                    t += '<p class="' + e.prefix + '-text">' + n + "</p> "
                                }
                            )),
                            '<div class="' + this.prefix + '" >\n                <img class="' + this.prefix + '-img" src="' + this.config.url + '"> \n                ' + t + "\n        </div>"
                        }
                        ,
                        e.prototype.destroy = function() {}
                        ,
                        e
                }();
                t.default = i
            }
            , function(e, t, n) {
                var r = n(10);
                "string" == typeof r && (r = [[e.i, r, ""]]);
                var i = {
                    hmr: !0,
                    transform: void 0,
                    insertInto: void 0
                };
                n(12)(r, i);
                r.locals && (e.exports = r.locals)
            }
            , function(e, t, n) {
                (e.exports = n(11)(!1)).push([e.i, ".must-h5 {\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background: #000;\n  color: #fff;\n  font-size: 16px;\n}\n.must-h5-img {\n  width: 60%;\n  max-width: 300px;\n  margin-bottom: 1em;\n}\n.must-h5-text {\n  margin: 0;\n  line-height: 2;\n}\n", ""])
            }
            , function(e, t, n) {
                "use strict";
                e.exports = function(e) {
                    var t = [];
                    return t.toString = function() {
                        return this.map((function(t) {
                                var n = function(e, t) {
                                    var n = e[1] || ""
                                        , r = e[3];
                                    if (!r)
                                        return n;
                                    if (t && "function" == typeof btoa) {
                                        var i = (o = r,
                                        "/*# sourceMappingURL=data:application/json;charset=utf-8;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(o)))) + " */")
                                            , a = r.sources.map((function(e) {
                                                return "/*# sourceURL=" + r.sourceRoot + e + " */"
                                            }
                                        ));
                                        return [n].concat(a).concat([i]).join("\n")
                                    }
                                    var o;
                                    return [n].join("\n")
                                }(t, e);
                                return t[2] ? "@media " + t[2] + "{" + n + "}" : n
                            }
                        )).join("")
                    }
                        ,
                        t.i = function(e, n) {
                            "string" == typeof e && (e = [[null, e, ""]]);
                            for (var r = {}, i = 0; i < this.length; i++) {
                                var a = this[i][0];
                                null != a && (r[a] = !0)
                            }
                            for (i = 0; i < e.length; i++) {
                                var o = e[i];
                                null != o[0] && r[o[0]] || (n && !o[2] ? o[2] = n : n && (o[2] = "(" + o[2] + ") and (" + n + ")"),
                                    t.push(o))
                            }
                        }
                        ,
                        t
                }
            }
            , function(e, t, n) {
                var r, i, a = {}, o = (r = function() {
                        return window && document && document.all && !window.atob
                    }
                        ,
                        function() {
                            return void 0 === i && (i = r.apply(this, arguments)),
                                i
                        }
                ), s = function(e, t) {
                    return t ? t.querySelector(e) : document.querySelector(e)
                }, l = function(e) {
                    var t = {};
                    return function(e, n) {
                        if ("function" == typeof e)
                            return e();
                        if (void 0 === t[e]) {
                            var r = s.call(this, e, n);
                            if (window.HTMLIFrameElement && r instanceof window.HTMLIFrameElement)
                                try {
                                    r = r.contentDocument.head
                                } catch (e) {
                                    r = null
                                }
                            t[e] = r
                        }
                        return t[e]
                    }
                }(), u = null, c = 0, f = [], p = n(13);
                function d(e, t) {
                    for (var n = 0; n < e.length; n++) {
                        var r = e[n]
                            , i = a[r.id];
                        if (i) {
                            i.refs++;
                            for (var o = 0; o < i.parts.length; o++)
                                i.parts[o](r.parts[o]);
                            for (; o < r.parts.length; o++)
                                i.parts.push(g(r.parts[o], t))
                        } else {
                            var s = [];
                            for (o = 0; o < r.parts.length; o++)
                                s.push(g(r.parts[o], t));
                            a[r.id] = {
                                id: r.id,
                                refs: 1,
                                parts: s
                            }
                        }
                    }
                }
                function h(e, t) {
                    for (var n = [], r = {}, i = 0; i < e.length; i++) {
                        var a = e[i]
                            , o = t.base ? a[0] + t.base : a[0]
                            , s = {
                            css: a[1],
                            media: a[2],
                            sourceMap: a[3]
                        };
                        r[o] ? r[o].parts.push(s) : n.push(r[o] = {
                            id: o,
                            parts: [s]
                        })
                    }
                    return n
                }
                function y(e, t) {
                    var n = l(e.insertInto);
                    if (!n)
                        throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
                    var r = f[f.length - 1];
                    if ("top" === e.insertAt)
                        r ? r.nextSibling ? n.insertBefore(t, r.nextSibling) : n.appendChild(t) : n.insertBefore(t, n.firstChild),
                            f.push(t);
                    else if ("bottom" === e.insertAt)
                        n.appendChild(t);
                    else {
                        if ("object" != typeof e.insertAt || !e.insertAt.before)
                            throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");
                        var i = l(e.insertAt.before, n);
                        n.insertBefore(t, i)
                    }
                }
                function m(e) {
                    if (null === e.parentNode)
                        return !1;
                    e.parentNode.removeChild(e);
                    var t = f.indexOf(e);
                    t >= 0 && f.splice(t, 1)
                }
                function v(e) {
                    var t = document.createElement("style");
                    if (void 0 === e.attrs.type && (e.attrs.type = "text/css"),
                    void 0 === e.attrs.nonce) {
                        var r = function() {
                            0;
                            return n.nc
                        }();
                        r && (e.attrs.nonce = r)
                    }
                    return E(t, e.attrs),
                        y(e, t),
                        t
                }
                function E(e, t) {
                    Object.keys(t).forEach((function(n) {
                            e.setAttribute(n, t[n])
                        }
                    ))
                }
                function g(e, t) {
                    var n, r, i, a;
                    if (t.transform && e.css) {
                        if (!(a = "function" == typeof t.transform ? t.transform(e.css) : t.transform.default(e.css)))
                            return function() {}
                                ;
                        e.css = a
                    }
                    if (t.singleton) {
                        var o = c++;
                        n = u || (u = v(t)),
                            r = L.bind(null, n, o, !1),
                            i = L.bind(null, n, o, !0)
                    } else
                        e.sourceMap && "function" == typeof URL && "function" == typeof URL.createObjectURL && "function" == typeof URL.revokeObjectURL && "function" == typeof Blob && "function" == typeof btoa ? (n = function(e) {
                                var t = document.createElement("link");
                                return void 0 === e.attrs.type && (e.attrs.type = "text/css"),
                                    e.attrs.rel = "stylesheet",
                                    E(t, e.attrs),
                                    y(e, t),
                                    t
                            }(t),
                                r = w.bind(null, n, t),
                                i = function() {
                                    m(n),
                                    n.href && URL.revokeObjectURL(n.href)
                                }
                        ) : (n = v(t),
                                r = T.bind(null, n),
                                i = function() {
                                    m(n)
                                }
                        );
                    return r(e),
                        function(t) {
                            if (t) {
                                if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap)
                                    return;
                                r(e = t)
                            } else
                                i()
                        }
                }
                e.exports = function(e, t) {
                    if ("undefined" != typeof DEBUG && DEBUG && "object" != typeof document)
                        throw new Error("The style-loader cannot be used in a non-browser environment");
                    (t = t || {}).attrs = "object" == typeof t.attrs ? t.attrs : {},
                    t.singleton || "boolean" == typeof t.singleton || (t.singleton = o()),
                    t.insertInto || (t.insertInto = "head"),
                    t.insertAt || (t.insertAt = "bottom");
                    var n = h(e, t);
                    return d(n, t),
                        function(e) {
                            for (var r = [], i = 0; i < n.length; i++) {
                                var o = n[i];
                                (s = a[o.id]).refs--,
                                    r.push(s)
                            }
                            e && d(h(e, t), t);
                            for (i = 0; i < r.length; i++) {
                                var s;
                                if (0 === (s = r[i]).refs) {
                                    for (var l = 0; l < s.parts.length; l++)
                                        s.parts[l]();
                                    delete a[s.id]
                                }
                            }
                        }
                }
                ;
                var P, b = (P = [],
                        function(e, t) {
                            return P[e] = t,
                                P.filter(Boolean).join("\n")
                        }
                );
                function L(e, t, n, r) {
                    var i = n ? "" : r.css;
                    if (e.styleSheet)
                        e.styleSheet.cssText = b(t, i);
                    else {
                        var a = document.createTextNode(i)
                            , o = e.childNodes;
                        o[t] && e.removeChild(o[t]),
                            o.length ? e.insertBefore(a, o[t]) : e.appendChild(a)
                    }
                }
                function T(e, t) {
                    var n = t.css
                        , r = t.media;
                    if (r && e.setAttribute("media", r),
                        e.styleSheet)
                        e.styleSheet.cssText = n;
                    else {
                        for (; e.firstChild; )
                            e.removeChild(e.firstChild);
                        e.appendChild(document.createTextNode(n))
                    }
                }
                function w(e, t, n) {
                    var r = n.css
                        , i = n.sourceMap
                        , a = void 0 === t.convertToAbsoluteUrls && i;
                    (t.convertToAbsoluteUrls || a) && (r = p(r)),
                    i && (r += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(i)))) + " */");
                    var o = new Blob([r],{
                        type: "text/css"
                    })
                        , s = e.href;
                    e.href = URL.createObjectURL(o),
                    s && URL.revokeObjectURL(s)
                }
            }
            , function(e, t) {
                e.exports = function(e) {
                    var t = "undefined" != typeof window && window.location;
                    if (!t)
                        throw new Error("fixUrls requires window.location");
                    if (!e || "string" != typeof e)
                        return e;
                    var n = t.protocol + "//" + t.host
                        , r = n + t.pathname.replace(/\/[^\/]*$/, "/");
                    return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, (function(e, t) {
                            var i, a = t.trim().replace(/^"(.*)"$/, (function(e, t) {
                                    return t
                                }
                            )).replace(/^'(.*)'$/, (function(e, t) {
                                    return t
                                }
                            ));
                            return /^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a) ? e : (i = 0 === a.indexOf("//") ? a : 0 === a.indexOf("/") ? n + a : r + a.replace(/^\.\//, ""),
                            "url(" + JSON.stringify(i) + ")")
                        }
                    ))
                }
            }
            , function(e, t, n) {
                "use strict";
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                t.PLAYER_EVENTS_MAP = {
                    play: ["play"],
                    pause: ["pause"],
                    resize: ["resize"],
                    sendDanmaku: ["sendDanmaku"],
                    sendGift: ["sendGift"],
                    noticeGift: ["noticeGift"],
                    noticeGuard: ["noticeGuard"],
                    sendGiftStatus: ["sendGiftStatus"],
                    switchLine: ["switchLine"],
                    switchQuality: ["switchQuality"],
                    stop: ["stop"],
                    mute: ["mute"],
                    freeze: ["freeze"],
                    refresh: ["refresh"],
                    discardFrame: ["discardFrame"],
                    remainBufferLength: ["remainBufferLength"],
                    injectInitAPIData: ["injectInitAPIData"],
                    getPlaybackDelay: ["getPlaybackDelay"],
                    setProtectPlaybackRate: ["setProtectPlaybackRate"],
                    setChasingFrameThreshold: ["setChasingFrameThreshold"],
                    setPlaybackRate: ["setPlaybackRate"],
                    getPlaybackRate: ["getPlaybackRate"],
                    mock: ["mock"]
                };
                t.PLAYER_EVENTS_PROMISE_MAP = {
                    sendDanmaku: ["sendDanmaku"]
                };
                t.DEFAULT_PARAMS = {
                    allowfullscreen: "true",
                    allowscriptaccess: "always",
                    allowfullscreeninteractive: "true",
                    quality: "high",
                    wmode: "direct"
                };
                t.DEFAULT_OPTIONS = {
                    wrapperId: "js-player-decorator",
                    html5PlayerId: "player_object",
                    flashPlayerId: "swfobject_placeholder",
                    flashPlayerCallbackFuncName: "flash_on_ready_callback",
                    defaultPlayerType: "flash",
                    iframe: !1,
                    type: 1,
                    changeMode: !0,
                    p2p: 0,
                    versionRnd: 0,
                    width: "100%",
                    height: "100%",
                    devModule: !1,
                    crossOrigin: !1,
                    roomInitData: {},
                    fnPromiseMode: !1
                }
            }
        ])
    }
));

/*!
* Bilibili HTML5 Live Player v2.5.11 (350-21bf6ef8)
*
* Copyright 2016 - 2020 bilibili, Inc.
* Released in Thu Dec 31 2020 10:58:59 GMT+0800 (中国标准时间)
*/

!function(e) {
    var t = {};
    function n(o) {
        if (t[o])
            return t[o].exports;
        var i = t[o] = {
            i: o,
            l: !1,
            exports: {}
        };
        return e[o].call(i.exports, i, i.exports, n),
            i.l = !0,
            i.exports
    }
    n.m = e,
        n.c = t,
        n.d = function(e, t, o) {
            n.o(e, t) || Object.defineProperty(e, t, {
                enumerable: !0,
                get: o
            })
        }
        ,
        n.r = function(e) {
            "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                value: "Module"
            }),
                Object.defineProperty(e, "__esModule", {
                    value: !0
                })
        }
        ,
        n.t = function(e, t) {
            if (1 & t && (e = n(e)),
            8 & t)
                return e;
            if (4 & t && "object" == typeof e && e && e.__esModule)
                return e;
            var o = Object.create(null);
            if (n.r(o),
                Object.defineProperty(o, "default", {
                    enumerable: !0,
                    value: e
                }),
            2 & t && "string" != typeof e)
                for (var i in e)
                    n.d(o, i, function(t) {
                        return e[t]
                    }
                        .bind(null, i));
            return o
        }
        ,
        n.n = function(e) {
            var t = e && e.__esModule ? function() {
                    return e.default
                }
                : function() {
                    return e
                }
            ;
            return n.d(t, "a", t),
                t
        }
        ,
        n.o = function(e, t) {
            return Object.prototype.hasOwnProperty.call(e, t)
        }
        ,
        n.p = "",
        n(n.s = 16)
}({
    16: function(e, t, n) {
        try {
            var o = n(17);
            n(18)(window.jQuery),
                window.Clipboard = o
        } catch (e) {
            console.error(e)
        }
    },
    17: function(e, t) {
        /*!
 * clipboard.js v1.5.12
 * https://zenorocha.github.io/clipboard.js
 *
 * Licensed MIT © Zeno Rocha
 */
        !function(n) {
            if ("object" == typeof t && void 0 !== e)
                e.exports = n();
            else if ("function" == typeof define && define.amd)
                define([], n);
            else {
                ("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).Clipboard = n()
            }
        }((function() {
                return function e(t, n, o) {
                    function i(a, l) {
                        if (!n[a]) {
                            if (!t[a]) {
                                var s = "function" == typeof require && require;
                                if (!l && s)
                                    return s(a, !0);
                                if (r)
                                    return r(a, !0);
                                var c = new Error("Cannot find module '" + a + "'");
                                throw c.code = "MODULE_NOT_FOUND",
                                    c
                            }
                            var u = n[a] = {
                                exports: {}
                            };
                            t[a][0].call(u.exports, (function(e) {
                                    var n = t[a][1][e];
                                    return i(n || e)
                                }
                            ), u, u.exports, e, t, n, o)
                        }
                        return n[a].exports
                    }
                    for (var r = "function" == typeof require && require, a = 0; a < o.length; a++)
                        i(o[a]);
                    return i
                }({
                    1: [function(e, t, n) {
                        var o = e("matches-selector");
                        t.exports = function(e, t, n) {
                            for (var i = n ? e : e.parentNode; i && i !== document; ) {
                                if (o(i, t))
                                    return i;
                                i = i.parentNode
                            }
                        }
                    }
                        , {
                            "matches-selector": 5
                        }],
                    2: [function(e, t, n) {
                        function o(e, t, n, o) {
                            return function(n) {
                                n.delegateTarget = i(n.target, t, !0),
                                n.delegateTarget && o.call(e, n)
                            }
                        }
                        var i = e("closest");
                        t.exports = function(e, t, n, i, r) {
                            var a = o.apply(this, arguments);
                            return e.addEventListener(n, a, r),
                                {
                                    destroy: function() {
                                        e.removeEventListener(n, a, r)
                                    }
                                }
                        }
                    }
                        , {
                            closest: 1
                        }],
                    3: [function(e, t, n) {
                        n.node = function(e) {
                            return void 0 !== e && e instanceof HTMLElement && 1 === e.nodeType
                        }
                            ,
                            n.nodeList = function(e) {
                                var t = Object.prototype.toString.call(e);
                                return void 0 !== e && ("[object NodeList]" === t || "[object HTMLCollection]" === t) && "length"in e && (0 === e.length || n.node(e[0]))
                            }
                            ,
                            n.string = function(e) {
                                return "string" == typeof e || e instanceof String
                            }
                            ,
                            n.fn = function(e) {
                                return "[object Function]" === Object.prototype.toString.call(e)
                            }
                    }
                        , {}],
                    4: [function(e, t, n) {
                        var o = e("./is")
                            , i = e("delegate");
                        t.exports = function(e, t, n) {
                            if (!e && !t && !n)
                                throw new Error("Missing required arguments");
                            if (!o.string(t))
                                throw new TypeError("Second argument must be a String");
                            if (!o.fn(n))
                                throw new TypeError("Third argument must be a Function");
                            if (o.node(e))
                                return function(e, t, n) {
                                    return e.addEventListener(t, n),
                                        {
                                            destroy: function() {
                                                e.removeEventListener(t, n)
                                            }
                                        }
                                }(e, t, n);
                            if (o.nodeList(e))
                                return function(e, t, n) {
                                    return Array.prototype.forEach.call(e, (function(e) {
                                            e.addEventListener(t, n)
                                        }
                                    )),
                                        {
                                            destroy: function() {
                                                Array.prototype.forEach.call(e, (function(e) {
                                                        e.removeEventListener(t, n)
                                                    }
                                                ))
                                            }
                                        }
                                }(e, t, n);
                            if (o.string(e))
                                return function(e, t, n) {
                                    return i(document.body, e, t, n)
                                }(e, t, n);
                            throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")
                        }
                    }
                        , {
                            "./is": 3,
                            delegate: 2
                        }],
                    5: [function(e, t, n) {
                        var o = Element.prototype
                            , i = o.matchesSelector || o.webkitMatchesSelector || o.mozMatchesSelector || o.msMatchesSelector || o.oMatchesSelector;
                        t.exports = function(e, t) {
                            if (i)
                                return i.call(e, t);
                            for (var n = e.parentNode.querySelectorAll(t), o = 0; o < n.length; ++o)
                                if (n[o] == e)
                                    return !0;
                            return !1
                        }
                    }
                        , {}],
                    6: [function(e, t, n) {
                        t.exports = function(e) {
                            var t;
                            if ("INPUT" === e.nodeName || "TEXTAREA" === e.nodeName)
                                e.focus(),
                                    e.setSelectionRange(0, e.value.length),
                                    t = e.value;
                            else {
                                e.hasAttribute("contenteditable") && e.focus();
                                var n = window.getSelection()
                                    , o = document.createRange();
                                o.selectNodeContents(e),
                                    n.removeAllRanges(),
                                    n.addRange(o),
                                    t = n.toString()
                            }
                            return t
                        }
                    }
                        , {}],
                    7: [function(e, t, n) {
                        function o() {}
                        o.prototype = {
                            on: function(e, t, n) {
                                var o = this.e || (this.e = {});
                                return (o[e] || (o[e] = [])).push({
                                    fn: t,
                                    ctx: n
                                }),
                                    this
                            },
                            once: function(e, t, n) {
                                function o() {
                                    i.off(e, o),
                                        t.apply(n, arguments)
                                }
                                var i = this;
                                return o._ = t,
                                    this.on(e, o, n)
                            },
                            emit: function(e) {
                                for (var t = [].slice.call(arguments, 1), n = ((this.e || (this.e = {}))[e] || []).slice(), o = 0, i = n.length; i > o; o++)
                                    n[o].fn.apply(n[o].ctx, t);
                                return this
                            },
                            off: function(e, t) {
                                var n = this.e || (this.e = {})
                                    , o = n[e]
                                    , i = [];
                                if (o && t)
                                    for (var r = 0, a = o.length; a > r; r++)
                                        o[r].fn !== t && o[r].fn._ !== t && i.push(o[r]);
                                return i.length ? n[e] = i : delete n[e],
                                    this
                            }
                        },
                            t.exports = o
                    }
                        , {}],
                    8: [function(e, t, n) {
                        !function(o, i) {
                            if (void 0 !== n)
                                i(t, e("select"));
                            else {
                                var r = {
                                    exports: {}
                                };
                                i(r, o.select),
                                    o.clipboardAction = r.exports
                            }
                        }(this, (function(e, t) {
                                "use strict";
                                var n = function(e) {
                                    return e && e.__esModule ? e : {
                                        default: e
                                    }
                                }(t)
                                    , o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                                        return typeof e
                                    }
                                    : function(e) {
                                        return e && "function" == typeof Symbol && e.constructor === Symbol ? "symbol" : typeof e
                                    }
                                    , i = function() {
                                    function e(e, t) {
                                        for (var n = 0; n < t.length; n++) {
                                            var o = t[n];
                                            o.enumerable = o.enumerable || !1,
                                                o.configurable = !0,
                                            "value"in o && (o.writable = !0),
                                                Object.defineProperty(e, o.key, o)
                                        }
                                    }
                                    return function(t, n, o) {
                                        return n && e(t.prototype, n),
                                        o && e(t, o),
                                            t
                                    }
                                }()
                                    , r = function() {
                                    function e(t) {
                                        (function(e, t) {
                                                if (!(e instanceof t))
                                                    throw new TypeError("Cannot call a class as a function")
                                            }
                                        )(this, e),
                                            this.resolveOptions(t),
                                            this.initSelection()
                                    }
                                    return e.prototype.resolveOptions = function() {
                                        var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                                        this.action = e.action,
                                            this.emitter = e.emitter,
                                            this.target = e.target,
                                            this.text = e.text,
                                            this.trigger = e.trigger,
                                            this.selectedText = ""
                                    }
                                        ,
                                        e.prototype.initSelection = function() {
                                            this.text ? this.selectFake() : this.target && this.selectTarget()
                                        }
                                        ,
                                        e.prototype.selectFake = function() {
                                            var e = this
                                                , t = "rtl" == document.documentElement.getAttribute("dir");
                                            this.removeFake(),
                                                this.fakeHandlerCallback = function() {
                                                    return e.removeFake()
                                                }
                                                ,
                                                this.fakeHandler = document.body.addEventListener("click", this.fakeHandlerCallback) || !0,
                                                this.fakeElem = document.createElement("textarea"),
                                                this.fakeElem.style.fontSize = "12pt",
                                                this.fakeElem.style.border = "0",
                                                this.fakeElem.style.padding = "0",
                                                this.fakeElem.style.margin = "0",
                                                this.fakeElem.style.position = "absolute",
                                                this.fakeElem.style[t ? "right" : "left"] = "-9999px",
                                                this.fakeElem.style.top = (window.pageYOffset || document.documentElement.scrollTop) + "px",
                                                this.fakeElem.setAttribute("readonly", ""),
                                                this.fakeElem.value = this.text,
                                                document.body.appendChild(this.fakeElem),
                                                this.selectedText = (0,
                                                    n.default)(this.fakeElem),
                                                this.copyText()
                                        }
                                        ,
                                        e.prototype.removeFake = function() {
                                            this.fakeHandler && (document.body.removeEventListener("click", this.fakeHandlerCallback),
                                                this.fakeHandler = null,
                                                this.fakeHandlerCallback = null),
                                            this.fakeElem && (document.body.removeChild(this.fakeElem),
                                                this.fakeElem = null)
                                        }
                                        ,
                                        e.prototype.selectTarget = function() {
                                            this.selectedText = (0,
                                                n.default)(this.target),
                                                this.copyText()
                                        }
                                        ,
                                        e.prototype.copyText = function() {
                                            var e = void 0;
                                            try {
                                                e = document.execCommand(this.action)
                                            } catch (t) {
                                                e = !1
                                            }
                                            this.handleResult(e)
                                        }
                                        ,
                                        e.prototype.handleResult = function(e) {
                                            e ? this.emitter.emit("success", {
                                                action: this.action,
                                                text: this.selectedText,
                                                trigger: this.trigger,
                                                clearSelection: this.clearSelection.bind(this)
                                            }) : this.emitter.emit("error", {
                                                action: this.action,
                                                trigger: this.trigger,
                                                clearSelection: this.clearSelection.bind(this)
                                            })
                                        }
                                        ,
                                        e.prototype.clearSelection = function() {
                                            this.target && this.target.blur(),
                                                window.getSelection().removeAllRanges()
                                        }
                                        ,
                                        e.prototype.destroy = function() {
                                            this.removeFake()
                                        }
                                        ,
                                        i(e, [{
                                            key: "action",
                                            set: function() {
                                                var e = arguments.length <= 0 || void 0 === arguments[0] ? "copy" : arguments[0];
                                                if (this._action = e,
                                                "copy" !== this._action && "cut" !== this._action)
                                                    throw new Error('Invalid "action" value, use either "copy" or "cut"')
                                            },
                                            get: function() {
                                                return this._action
                                            }
                                        }, {
                                            key: "target",
                                            set: function(e) {
                                                if (void 0 !== e) {
                                                    if (!e || "object" !== (void 0 === e ? "undefined" : o(e)) || 1 !== e.nodeType)
                                                        throw new Error('Invalid "target" value, use a valid Element');
                                                    if ("copy" === this.action && e.hasAttribute("disabled"))
                                                        throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');
                                                    if ("cut" === this.action && (e.hasAttribute("readonly") || e.hasAttribute("disabled")))
                                                        throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');
                                                    this._target = e
                                                }
                                            },
                                            get: function() {
                                                return this._target
                                            }
                                        }]),
                                        e
                                }();
                                e.exports = r
                            }
                        ))
                    }
                        , {
                            select: 6
                        }],
                    9: [function(e, t, n) {
                        !function(o, i) {
                            if (void 0 !== n)
                                i(t, e("./clipboard-action"), e("tiny-emitter"), e("good-listener"));
                            else {
                                var r = {
                                    exports: {}
                                };
                                i(r, o.clipboardAction, o.tinyEmitter, o.goodListener),
                                    o.clipboard = r.exports
                            }
                        }(this, (function(e, t, n, o) {
                                "use strict";
                                function i(e) {
                                    return e && e.__esModule ? e : {
                                        default: e
                                    }
                                }
                                function r(e, t) {
                                    var n = "data-clipboard-" + e;
                                    if (t.hasAttribute(n))
                                        return t.getAttribute(n)
                                }
                                var a = i(t)
                                    , l = i(n)
                                    , s = i(o)
                                    , c = function(e) {
                                    function t(n, o) {
                                        !function(e, t) {
                                            if (!(e instanceof t))
                                                throw new TypeError("Cannot call a class as a function")
                                        }(this, t);
                                        var i = function(e, t) {
                                            if (!e)
                                                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                            return !t || "object" != typeof t && "function" != typeof t ? e : t
                                        }(this, e.call(this));
                                        return i.resolveOptions(o),
                                            i.listenClick(n),
                                            i
                                    }
                                    return function(e, t) {
                                        if ("function" != typeof t && null !== t)
                                            throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                                        e.prototype = Object.create(t && t.prototype, {
                                            constructor: {
                                                value: e,
                                                enumerable: !1,
                                                writable: !0,
                                                configurable: !0
                                            }
                                        }),
                                        t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                                    }(t, e),
                                        t.prototype.resolveOptions = function() {
                                            var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                                            this.action = "function" == typeof e.action ? e.action : this.defaultAction,
                                                this.target = "function" == typeof e.target ? e.target : this.defaultTarget,
                                                this.text = "function" == typeof e.text ? e.text : this.defaultText
                                        }
                                        ,
                                        t.prototype.listenClick = function(e) {
                                            var t = this;
                                            this.listener = (0,
                                                s.default)(e, "click", (function(e) {
                                                    return t.onClick(e)
                                                }
                                            ))
                                        }
                                        ,
                                        t.prototype.onClick = function(e) {
                                            var t = e.delegateTarget || e.currentTarget;
                                            this.clipboardAction && (this.clipboardAction = null),
                                                this.clipboardAction = new a.default({
                                                    action: this.action(t),
                                                    target: this.target(t),
                                                    text: this.text(t),
                                                    trigger: t,
                                                    emitter: this
                                                })
                                        }
                                        ,
                                        t.prototype.defaultAction = function(e) {
                                            return r("action", e)
                                        }
                                        ,
                                        t.prototype.defaultTarget = function(e) {
                                            var t = r("target", e);
                                            return t ? document.querySelector(t) : void 0
                                        }
                                        ,
                                        t.prototype.defaultText = function(e) {
                                            return r("text", e)
                                        }
                                        ,
                                        t.prototype.destroy = function() {
                                            this.listener.destroy(),
                                            this.clipboardAction && (this.clipboardAction.destroy(),
                                                this.clipboardAction = null)
                                        }
                                        ,
                                        t
                                }(l.default);
                                e.exports = c
                            }
                        ))
                    }
                        , {
                            "./clipboard-action": 8,
                            "good-listener": 4,
                            "tiny-emitter": 7
                        }]
                }, {}, [9])(9)
            }
        ))
    },
    18: function(e, t) {
        !function(n) {
            "function" == typeof define && define.amd ? define(["jquery"], n) : "object" == typeof t ? e.exports = n : n(jQuery)
        }((function(e) {
                function t(t) {
                    var a = t || window.event
                        , l = s.call(arguments, 1)
                        , c = 0
                        , f = 0
                        , h = 0
                        , d = 0
                        , p = 0
                        , g = 0;
                    if ((t = e.event.fix(a)).type = "mousewheel",
                    "detail"in a && (h = -1 * a.detail),
                    "wheelDelta"in a && (h = a.wheelDelta),
                    "wheelDeltaY"in a && (h = a.wheelDeltaY),
                    "wheelDeltaX"in a && (f = -1 * a.wheelDeltaX),
                    "axis"in a && a.axis === a.HORIZONTAL_AXIS && (f = -1 * h,
                        h = 0),
                        c = 0 === h ? f : h,
                    "deltaY"in a && (c = h = -1 * a.deltaY),
                    "deltaX"in a && (f = a.deltaX,
                    0 === h && (c = -1 * f)),
                    0 !== h || 0 !== f) {
                        if (1 === a.deltaMode) {
                            var y = e.data(this, "mousewheel-line-height");
                            c *= y,
                                h *= y,
                                f *= y
                        } else if (2 === a.deltaMode) {
                            var m = e.data(this, "mousewheel-page-height");
                            c *= m,
                                h *= m,
                                f *= m
                        }
                        if (d = Math.max(Math.abs(h), Math.abs(f)),
                        (!r || r > d) && (r = d,
                        o(a, d) && (r /= 40)),
                        o(a, d) && (c /= 40,
                            f /= 40,
                            h /= 40),
                            c = Math[c >= 1 ? "floor" : "ceil"](c / r),
                            f = Math[f >= 1 ? "floor" : "ceil"](f / r),
                            h = Math[h >= 1 ? "floor" : "ceil"](h / r),
                        u.settings.normalizeOffset && this.getBoundingClientRect) {
                            var v = this.getBoundingClientRect();
                            p = t.clientX - v.left,
                                g = t.clientY - v.top
                        }
                        return t.deltaX = f,
                            t.deltaY = h,
                            t.deltaFactor = r,
                            t.offsetX = p,
                            t.offsetY = g,
                            t.deltaMode = 0,
                            l.unshift(t, c, f, h),
                        i && clearTimeout(i),
                            i = setTimeout(n, 200),
                            (e.event.dispatch || e.event.handle).apply(this, l)
                    }
                }
                function n() {
                    r = null
                }
                function o(e, t) {
                    return u.settings.adjustOldDeltas && "mousewheel" === e.type && t % 120 == 0
                }
                var i, r, a = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"], l = "onwheel"in document || document.documentMode >= 9 ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"], s = Array.prototype.slice;
                if (e.event.fixHooks)
                    for (var c = a.length; c; )
                        e.event.fixHooks[a[--c]] = e.event.mouseHooks;
                var u = e.event.special.mousewheel = {
                    version: "3.1.12",
                    setup: function() {
                        if (this.addEventListener)
                            for (var n = l.length; n; )
                                this.addEventListener(l[--n], t, !1);
                        else
                            this.onmousewheel = t;
                        e.data(this, "mousewheel-line-height", u.getLineHeight(this)),
                            e.data(this, "mousewheel-page-height", u.getPageHeight(this))
                    },
                    teardown: function() {
                        if (this.removeEventListener)
                            for (var n = l.length; n; )
                                this.removeEventListener(l[--n], t, !1);
                        else
                            this.onmousewheel = null;
                        e.removeData(this, "mousewheel-line-height"),
                            e.removeData(this, "mousewheel-page-height")
                    },
                    getLineHeight: function(t) {
                        var n = e(t)
                            , o = n["offsetParent"in e.fn ? "offsetParent" : "parent"]();
                        return o.length || (o = e("body")),
                        parseInt(o.css("fontSize"), 10) || parseInt(n.css("fontSize"), 10) || 16
                    },
                    getPageHeight: function(t) {
                        return e(t).height()
                    },
                    settings: {
                        adjustOldDeltas: !0,
                        normalizeOffset: !0
                    }
                };
                e.fn.extend({
                    mousewheel: function(e) {
                        return e ? this.bind("mousewheel", e) : this.trigger("mousewheel")
                    },
                    unmousewheel: function(e) {
                        return this.unbind("mousewheel", e)
                    }
                })
            }
        ))
    }
});
!function(e) {
    var t = {};
    function n(i) {
        if (t[i])
            return t[i].exports;
        var r = t[i] = {
            i: i,
            l: !1,
            exports: {}
        };
        return e[i].call(r.exports, r, r.exports, n),
            r.l = !0,
            r.exports
    }
    n.m = e,
        n.c = t,
        n.d = function(e, t, i) {
            n.o(e, t) || Object.defineProperty(e, t, {
                enumerable: !0,
                get: i
            })
        }
        ,
        n.r = function(e) {
            "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                value: "Module"
            }),
                Object.defineProperty(e, "__esModule", {
                    value: !0
                })
        }
        ,
        n.t = function(e, t) {
            if (1 & t && (e = n(e)),
            8 & t)
                return e;
            if (4 & t && "object" == typeof e && e && e.__esModule)
                return e;
            var i = Object.create(null);
            if (n.r(i),
                Object.defineProperty(i, "default", {
                    enumerable: !0,
                    value: e
                }),
            2 & t && "string" != typeof e)
                for (var r in e)
                    n.d(i, r, function(t) {
                        return e[t]
                    }
                        .bind(null, r));
            return i
        }
        ,
        n.n = function(e) {
            var t = e && e.__esModule ? function() {
                    return e.default
                }
                : function() {
                    return e
                }
            ;
            return n.d(t, "a", t),
                t
        }
        ,
        n.o = function(e, t) {
            return Object.prototype.hasOwnProperty.call(e, t)
        }
        ,
        n.p = "",
        n(n.s = 19)
}([function(e, t, n) {
    "use strict";
    var i = this && this.__importDefault || function(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
    ;
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var r = i(n(37));
    t.TRACK = r.default;
    var o = i(n(38));
    t.EVENT = o.default;
    var a = i(n(7));
    t.STATE_STRING = a.default;
    var s = i(n(8));
    t.ERROR_CODE = s.default;
    var l = i(n(39));
    t.CONFIG_STRING = l.default;
    var c, u, d, h, f, p, v, y, g;
    t.PREFIX = "bilibili-live-player",
        function(e) {
            e[e.PLAYER_INITIALIZED_COUNT = 2] = "PLAYER_INITIALIZED_COUNT",
                e[e.V_IDEL = 0] = "V_IDEL",
                e[e.V_READY = 1] = "V_READY",
                e[e.V_BUFF = 2] = "V_BUFF",
                e[e.V_PLAY = 3] = "V_PLAY",
                e[e.V_PAUSE = 4] = "V_PAUSE",
                e[e.V_RELOAD = 5] = "V_RELOAD",
                e[e.P_NORMAL = 0] = "P_NORMAL",
                e[e.P_WEB_FULLSCREEN = 1] = "P_WEB_FULLSCREEN",
                e[e.P_FULLSCREEN = 2] = "P_FULLSCREEN",
                e[e.VOLUME_ON = 1] = "VOLUME_ON",
                e[e.VOLUME_OFF = 0] = "VOLUME_OFF",
                e[e.QUALITY_DEFAULT = 0] = "QUALITY_DEFAULT",
                e[e.QUALITY_SD = 1] = "QUALITY_SD",
                e[e.QUALITY_HD = 2] = "QUALITY_HD",
                e[e.QUALITY_FHD = 3] = "QUALITY_FHD",
                e[e.QUALITY_SOURCE = 4] = "QUALITY_SOURCE",
                e[e.LIVE_URL = 0] = "LIVE_URL",
                e[e.LIVE_B1URL = 1] = "LIVE_B1URL",
                e[e.LIVE_B2URL = 2] = "LIVE_B2URL",
                e[e.LIVE_B3URL = 3] = "LIVE_B3URL",
                e[e.L_CLOSE = 3] = "L_CLOSE",
                e[e.L_BLOCK = 4] = "L_BLOCK",
                e[e.L_PRE_ROUND = 5] = "L_PRE_ROUND",
                e[e.L_ERROR = 7] = "L_ERROR",
                e[e.L_STATUS_PREPARING = 0] = "L_STATUS_PREPARING",
                e[e.L_STATUS_LIVE = 1] = "L_STATUS_LIVE",
                e[e.L_STATUS_ROUND = 2] = "L_STATUS_ROUND",
                e[e.WS_OP_HEARTBEAT = 2] = "WS_OP_HEARTBEAT",
                e[e.WS_OP_HEARTBEAT_REPLY = 3] = "WS_OP_HEARTBEAT_REPLY",
                e[e.WS_OP_MESSAGE = 5] = "WS_OP_MESSAGE",
                e[e.WS_OP_USER_AUTHENTICATION = 7] = "WS_OP_USER_AUTHENTICATION",
                e[e.WS_OP_CONNECT_SUCCESS = 8] = "WS_OP_CONNECT_SUCCESS",
                e[e.GIFT_SYS_GIFT = 0] = "GIFT_SYS_GIFT",
                e[e.GIFT_SYS_LUCKY_MONEY = 1] = "GIFT_SYS_LUCKY_MONEY",
                e[e.GIFT_SYS_TV = 2] = "GIFT_SYS_TV",
                e[e.GIFT_SYS_ANNOUNCEMENT = 3] = "GIFT_SYS_ANNOUNCEMENT",
                e[e.GIFT_SYS_GUARD = 4] = "GIFT_SYS_GUARD",
                e[e.GIFT_SYS_ACTIVITY_RED_PACKET = 6] = "GIFT_SYS_ACTIVITY_RED_PACKET",
                e[e.DANMAKU_GIFT_666 = 7] = "DANMAKU_GIFT_666",
                e[e.DANMAKU_GIFT_233 = 8] = "DANMAKU_GIFT_233",
                e[e.DANMAKU_GIFT_FFF = 13] = "DANMAKU_GIFT_FFF",
                e[e.WS_PACKAGE_HEADER_TOTAL_LENGTH = 16] = "WS_PACKAGE_HEADER_TOTAL_LENGTH",
                e[e.WS_PACKAGE_OFFSET = 0] = "WS_PACKAGE_OFFSET",
                e[e.WS_HEADER_OFFSET = 4] = "WS_HEADER_OFFSET",
                e[e.WS_VERSION_OFFSET = 6] = "WS_VERSION_OFFSET",
                e[e.WS_OPERATION_OFFSET = 8] = "WS_OPERATION_OFFSET",
                e[e.WS_SEQUENCE_OFFSET = 12] = "WS_SEQUENCE_OFFSET",
                e[e.WS_BODY_PROTOCOL_VERSION = 1] = "WS_BODY_PROTOCOL_VERSION",
                e[e.WS_HEADER_DEFAULT_VERSION = 1] = "WS_HEADER_DEFAULT_VERSION",
                e[e.WS_HEADER_DEFAULT_OPERATION = 1] = "WS_HEADER_DEFAULT_OPERATION",
                e[e.WS_HEADER_DEFAULT_SEQUENCE = 1] = "WS_HEADER_DEFAULT_SEQUENCE",
                e[e.KEYCODE_ESC = 27] = "KEYCODE_ESC",
                e[e.KEYCODE_ENTER = 13] = "KEYCODE_ENTER",
                e[e.KEYCODE_TAB = 9] = "KEYCODE_TAB",
                e[e.BLOCK_MODE_KEYWORD = 0] = "BLOCK_MODE_KEYWORD",
                e[e.BLOCK_MODE_USER = 1] = "BLOCK_MODE_USER",
                e[e.BLOCK_ADD_SHIELD = 1] = "BLOCK_ADD_SHIELD",
                e[e.BLOCK_REMOVE_SHIELD = 0] = "BLOCK_REMOVE_SHIELD",
                e[e.DANMAKU_AVERAGE_WIDTH = 280] = "DANMAKU_AVERAGE_WIDTH",
                e[e.DANMAKU_AVERAGE_HEIGHT = 32] = "DANMAKU_AVERAGE_HEIGHT",
                e[e.DANMAKU_DEFAULT_INT10_COLOR = 16777215] = "DANMAKU_DEFAULT_INT10_COLOR",
                e[e.DANMAKU_DEFAULT_FONT_SIZE = 25] = "DANMAKU_DEFAULT_FONT_SIZE",
                e[e.DANMAKU_MODE_SCROLL = 1] = "DANMAKU_MODE_SCROLL",
                e[e.DANMAKU_MODE_BOTTOM = 4] = "DANMAKU_MODE_BOTTOM",
                e[e.DANMAKU_MODE_TOP = 5] = "DANMAKU_MODE_TOP",
                e[e.DANMAKU_MODE_REVERSE = 6] = "DANMAKU_MODE_REVERSE",
                e[e.WEBSOCKET_PORT = 7170] = "WEBSOCKET_PORT",
                e[e.WEBSOCKET_SECURITY_PORT = 7172] = "WEBSOCKET_SECURITY_PORT",
                e[e.PLAYER_HOME = 0] = "PLAYER_HOME",
                e[e.PLAYER_ROOM = 1] = "PLAYER_ROOM",
                e[e.PLAYER_ACTIVITY = 2] = "PLAYER_ACTIVITY",
                e[e.SWITCH_TYPE_LINE = 1] = "SWITCH_TYPE_LINE",
                e[e.SWITCH_TYPE_QUALITY = 2] = "SWITCH_TYPE_QUALITY",
                e[e.SWITCH_INFO_TYPE_INIT = 0] = "SWITCH_INFO_TYPE_INIT",
                e[e.SWITCH_INFO_TYPE_COMPLETED = 1] = "SWITCH_INFO_TYPE_COMPLETED",
                e[e.SWITCH_INFO_TYPE_FAILED = 2] = "SWITCH_INFO_TYPE_FAILED",
                e[e.INIT_ACTION_TYPE_WORDS = 0] = "INIT_ACTION_TYPE_WORDS",
                e[e.INIT_ACTION_TYPE_GIFTS = 1] = "INIT_ACTION_TYPE_GIFTS",
                e[e.ENTER_TIPS_TYPE_VIDEO_AREA = 0] = "ENTER_TIPS_TYPE_VIDEO_AREA",
                e[e.ENTER_TIPS_TYPE_CONTROLLER = 1] = "ENTER_TIPS_TYPE_CONTROLLER",
                e[e.LAST_OP_STATE_INIT_PLAYER = 0] = "LAST_OP_STATE_INIT_PLAYER",
                e[e.LAST_OP_STATE_SWITCH_LINE = 1] = "LAST_OP_STATE_SWITCH_LINE",
                e[e.LAST_OP_STATE_SWITCH_QUALITY = 2] = "LAST_OP_STATE_SWITCH_QUALITY",
                e[e.LAST_OP_STATE_SWITCH_RELOAD = 3] = "LAST_OP_STATE_SWITCH_RELOAD",
                e[e.LAST_OP_STATE_WS_REFRESH = 4] = "LAST_OP_STATE_WS_REFRESH",
                e[e.LAST_OP_STATE_WS_LIVE = 5] = "LAST_OP_STATE_WS_LIVE",
                e[e.LAST_OP_STATE_ERROR = 6] = "LAST_OP_STATE_ERROR",
                e[e.WS_AUTH_TOKEN_ERROR = -101] = "WS_AUTH_TOKEN_ERROR",
                e[e.BUFFERING_SLOW_NETWORK_SPEED = 1] = "BUFFERING_SLOW_NETWORK_SPEED",
                e[e.BUFFERING_LACK_OF_PERFORMANCE = 2] = "BUFFERING_LACK_OF_PERFORMANCE",
                e[e.BUFFERING_SEEKING = 3] = "BUFFERING_SEEKING",
                e[e.BUFFERING_OTHERS = 4] = "BUFFERING_OTHERS"
        }(c || (c = {})),
        function(e) {
            e[e.NONE = 0] = "NONE",
                e[e.HLS_BILI = 1] = "HLS_BILI",
                e[e.FLV_QN = 4] = "FLV_QN",
                e[e.FLV_KS = 2] = "FLV_KS",
                e[e.FLV_QVB = 8] = "FLV_QVB",
                e[e.FLV_ALI = 256] = "FLV_ALI"
        }(u || (u = {})),
        t.P2P_TYPE = u,
        function(e) {
            e.Initialize = "Initialize",
                e.Wating = "Wating",
                e.Start = "Start",
                e.Playing = "Playing",
                e.Destroyed = "Destroyed"
        }(d || (d = {})),
        t.ILivePlayerWrapStatus = d,
        function(e) {
            e[e.FLV = 0] = "FLV",
                e[e.DASH = 1] = "DASH",
                e[e.FMP4_MUXER = 2] = "FMP4_MUXER"
        }(h || (h = {})),
        t.CORE_TYPE = h,
        function(e) {
            e[e.FLVP2P_2_FLV = 1] = "FLVP2P_2_FLV",
                e[e.DASH_2_FLV = 2] = "DASH_2_FLV",
                e[e.DASHP2P_2_DASH = 3] = "DASHP2P_2_DASH"
        }(f || (f = {})),
        t.PROTOCOL_DOWNGRADE_TYPE = f,
        function(e) {
            e[e.CLICK = 1] = "CLICK",
                e[e.ESC = 2] = "ESC",
                e[e.DBCLICK = 3] = "DBCLICK",
                e[e.OTHER = 4] = "OTHER"
        }(p || (p = {})),
        t.SCREEN_CHANGE = p,
        function(e) {
            e[e.FULL = 0] = "FULL",
                e[e.WEB_FULL = 1] = "WEB_FULL"
        }(v || (v = {})),
        t.SCREEN_TYPE = v,
        function(e) {
            e.HLS_FMP4_AVC = "http_hls-fmp4-avc",
                e.HLS_FMP4_HEVC = "http_hls-fmp4-hevc",
                e.HTTPSTREAM_FLV_AVC = "http_stream-flv-avc",
                e.HTTPSTREAM_FLV_HEVC = "http_stream-flv-hevc"
        }(y || (y = {})),
        t.STREAM_FORMAT = y,
        function(e) {
            e.HEVC = "hevc",
                e.AVC = "avc"
        }(g || (g = {})),
        t.CODEC_NAME = g;
    t.MAX_PLAYBACK_TIME_SHIFT = 3600;
    t.STREAM_URL_MAX_REUSE_TIME = 3,
        t.default = c
}
    , function(e, t, n) {
        "use strict";
        var i = this && this.__importDefault || function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = n(36)
            , o = i(n(2))
            , a = function() {
            function e() {}
            return e.debounce = function(e, t, n) {
                var i, r = this;
                return function() {
                    for (var o = [], a = 0; a < arguments.length; a++)
                        o[a] = arguments[a];
                    if (i && clearTimeout(i),
                        n) {
                        var s = !i;
                        s && e.apply(r, o),
                            i = window.setTimeout((function() {
                                    i = null
                                }
                            ), t)
                    } else
                        i = window.setTimeout((function() {
                                e.apply(r, o)
                            }
                        ), t)
                }
            }
                ,
                e.throttle = function(e, t) {
                    var n = Date.now()
                        , i = this;
                    return function() {
                        for (var r = [], o = 0; o < arguments.length; o++)
                            r[o] = arguments[o];
                        var a = Date.now();
                        a - n > t && (n = a,
                            e.apply(i, r))
                    }
                }
                ,
                e._log = function(e) {
                    e instanceof Object ? window.console.dir(e) : window.console.log("%c" + e, "color:#2980b9")
                }
                ,
                e.isChrome = function() {
                    var e = navigator.userAgent;
                    return -1 === e.indexOf("Edge") && e.indexOf("Chrome") > -1 && e.indexOf("Safari") > -1
                }
                ,
                e.log = function() {
                    for (var t = this, n = [], i = 0; i < arguments.length; i++)
                        n[i] = arguments[i];
                    "development" === e.BUNDLE_TYPE && n.forEach((function(e) {
                            t._log(e)
                        }
                    ))
                }
                ,
                e.time = function(t, n) {
                    void 0 === n && (n = !1),
                    "development" === e.BUNDLE_TYPE && (n ? console.timeEnd("[Player] " + t) : console.time("[Player] " + t))
                }
                ,
                e.ajax = function(t, n, i, r) {
                    var a = this
                        , s = $.extend({
                        type: "get",
                        dataType: "json",
                        url: "",
                        xhrFields: {
                            withCredentials: !0
                        }
                    }, t);
                    if ("post" === s.type.toLowerCase()) {
                        var l = e.getCookie("bili_jct");
                        s.data.csrf_token = l,
                            s.data.csrf = l
                    }
                    var c = function() {
                        $.ajax(s).done((function(e) {
                                e ? "function" == typeof n && n(e) : a.log(s.url + " ajax return null.")
                            }
                        )).fail((function(e) {
                                e && i && i(e)
                            }
                        )).always((function(e) {
                                e && r && r(e)
                            }
                        ))
                    };
                    s.delay ? (o.default.log("ajax delay url: " + s.url + ", delay: " + s.delay),
                        setTimeout((function() {
                                c()
                            }
                        ), s.delay)) : c()
                }
                ,
                e.convertNumber = function(e) {
                    return ("0" + e).slice(-2)
                }
                ,
                e.getRelativePos = function(e, t, n) {
                    var i = t.offset()
                        , r = e.pageX - i.left
                        , o = e.pageY - i.top;
                    return n ? {
                        x: r / t.width(),
                        y: o / t.height()
                    } : {
                        x: r,
                        y: o
                    }
                }
                ,
                e.getTimeNow = function(e) {
                    return void 0 === e && (e = !1),
                        performance && performance.now && e ? Math.floor(performance.now()) : Date.now()
                }
                ,
                e.getRandomString = function(e) {
                    void 0 === e && (e = 36);
                    for (var t = "ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789", n = t.length, i = [], r = 0; r < e; r++)
                        i[r] = t.charAt(Math.floor(Math.random() * n));
                    return 36 === e && (i[8] = i[13] = i[18] = i[23] = "-",
                        i[14] = "4"),
                        i.join("")
                }
                ,
                e.mergeArrayBuffer = function(e, t) {
                    var n = new Uint8Array(e)
                        , i = new Uint8Array(t)
                        , r = new Uint8Array(n.byteLength + i.byteLength);
                    return r.set(n, 0),
                        r.set(i, n.byteLength),
                        r.buffer
                }
                ,
                e.getDecoder = function() {
                    return window.TextDecoder ? new window.TextDecoder : {
                        decode: function(e) {
                            return decodeURIComponent(window.escape(String.fromCharCode.apply(String, new Uint8Array(e))))
                        }
                    }
                }
                ,
                e.getEncoder = function() {
                    return window.TextEncoder ? new window.TextEncoder : {
                        encode: function(e) {
                            for (var t = new ArrayBuffer(e.length), n = new Uint8Array(t), i = 0, r = e.length; i < r; i++)
                                n[i] = e.charCodeAt(i);
                            return t
                        }
                    }
                }
                ,
                e.getPropertyNameByValue = function(e, t) {
                    for (var n in e)
                        if (e[n] === t)
                            return n
                }
                ,
                e.callFunctionAsynchronously = function(e) {
                    for (var t = [], n = 1; n < arguments.length; n++)
                        t[n - 1] = arguments[n];
                    "function" == typeof e && window.setTimeout((function() {
                            e.apply(void 0, t)
                        }
                    ), 0)
                }
                ,
                e.callFunc = function(e) {
                    for (var t = [], n = 1; n < arguments.length; n++)
                        t[n - 1] = arguments[n];
                    "function" == typeof e && e.apply(void 0, t)
                }
                ,
                e.fireEventCallback = function(e) {
                    for (var t = [], n = 1; n < arguments.length; n++)
                        t[n - 1] = arguments[n];
                    e instanceof Array && e.length && e.forEach((function(e) {
                            "function" == typeof e && e.apply(void 0, t)
                        }
                    ))
                }
                ,
                e.getSessionStorage = function(e) {
                    return window.sessionStorage && window.sessionStorage.getItem(e)
                }
                ,
                e.setSessionStorage = function(e, t) {
                    window.sessionStorage && window.sessionStorage.setItem(e, t)
                }
                ,
                e.getLocalStorage = function(e) {
                    return window.localStorage && window.localStorage.getItem(e)
                }
                ,
                e.setLocalStorage = function(e, t) {
                    window.localStorage && window.localStorage.setItem(e, t)
                }
                ,
                e.removeLocalStorage = function(e) {
                    window.localStorage && window.localStorage.removeItem(e)
                }
                ,
                e.getCookie = function(e) {
                    if (window.$ && window.$.cookie)
                        return window.$.cookie(e);
                    var t = document.cookie;
                    if (t) {
                        for (var n = t.split(";"), i = {}, r = n.length, o = 0; o < r; o++) {
                            var a = n[o].split("=");
                            i[a[0].replace(" ", "")] = a[1]
                        }
                        return i[e]
                    }
                    return ""
                }
                ,
                e.guid = function() {
                    var e = 0;
                    return function() {
                        return ++e
                    }
                }
                ,
                e.getURLParams = function() {
                    var e = {};
                    try {
                        if (window.location && window.location.search)
                            for (var t = window.location.search.substr(1).split("&"), n = 0; n < t.length; n++) {
                                var i = t[n].split("=");
                                2 === i.length && (e[i[0]] = i[1])
                            }
                    } catch (e) {
                        console.error(e)
                    }
                    return e
                }
                ,
                e.bindElemResize = function(e, t) {
                    if (!e || !e.getBoundingClientRect)
                        return function() {}
                            ;
                    var n = 0
                        , i = 0;
                    function r() {
                        var r = e.getBoundingClientRect()
                            , o = r.width
                            , a = r.height;
                        o === n && a === i || (n = o,
                            i = a,
                        "function" == typeof t && t(o, a))
                    }
                    return document.addEventListener("scroll", r),
                        window.addEventListener("resize", r),
                        r
                }
                ,
                e.curry = function(t, n, i) {
                    void 0 === n && (n = window),
                    void 0 === i && (i = []);
                    var r = t.length;
                    return function() {
                        var o = [].slice.call(arguments);
                        return [].push.apply(o, i),
                            o.length < r ? e.curry.call(n, t, o) : t.apply(n, o)
                    }
                }
                ,
                e.camelCase = function(e) {
                    return e.replace(/_([a-z])/g, (function(e, t) {
                            return t.toUpperCase()
                        }
                    ))
                }
                ,
                e.javascriptEncode = function(e) {
                    if (e) {
                        for (var t = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "a", "b", "c", "d", "e", "f"], n = e, i = "", r = 0; r < n.length; r++)
                            i += o(n.charAt(r));
                        return i
                    }
                    function o(e) {
                        var n = !0
                            , i = e.charAt(0)
                            , r = e.charCodeAt(0);
                        switch (i) {
                            case "\n":
                                return "\\n";
                            case "\r":
                                return "\\r";
                            case "'":
                                return "\\'";
                            case '"':
                                return '\\"';
                            case "&":
                                return "\\&";
                            case "\\":
                                return "\\\\";
                            case "\t":
                                return "\\t";
                            case "\b":
                                return "\\b";
                            case "\f":
                                return "\\f";
                            case "/":
                                return "\\x2F";
                            case "<":
                                return "\\x3C";
                            case ">":
                                return "\\x3E";
                            default:
                                n = !1
                        }
                        if (!n) {
                            if (r > 47 && r < 58)
                                return e;
                            if (r > 64 && r < 91)
                                return e;
                            if (r > 96 && r < 123)
                                return e;
                            if (r > 127) {
                                var o = r
                                    , a = o % 16
                                    , s = (o = Math.floor(o / 16)) % 16
                                    , l = (o = Math.floor(o / 16)) % 16;
                                return o = Math.floor(o / 16),
                                "\\u" + t[o % 16] + t[l] + t[s] + t[a]
                            }
                            return "\\x" + e.charCodeAt(0).toString(16)
                        }
                    }
                }
                ,
                e.htmlCode = function(e) {
                    if (!e || 0 === e.length)
                        return "";
                    for (var t = e, n = "", i = 0; i < t.length; i++) {
                        n += r(t.charAt(i))
                    }
                    return n;
                    function r(e) {
                        switch (e.charCodeAt(0)) {
                            case 10:
                                return "<br/>";
                            case 32:
                                return "&nbsp;";
                            case 34:
                                return "&quot;";
                            case 38:
                                return "&amp;";
                            case 39:
                                return "&#x27;";
                            case 47:
                                return "&#x2F;";
                            case 60:
                                return "&lt;";
                            case 62:
                                return "&gt;";
                            case 198:
                                return "&AElig;";
                            case 193:
                                return "&Aacute;";
                            case 194:
                                return "&Acirc;";
                            case 192:
                                return "&Agrave;";
                            case 197:
                                return "&Aring;";
                            case 195:
                                return "&Atilde;";
                            case 196:
                                return "&Auml;";
                            case 199:
                                return "&Ccedil;";
                            case 208:
                                return "&ETH;";
                            case 201:
                                return "&Eacute;";
                            case 202:
                                return "&Ecirc;";
                            case 200:
                                return "&Egrave;";
                            case 203:
                                return "&Euml;";
                            case 205:
                                return "&Iacute;";
                            case 206:
                                return "&Icirc;";
                            case 204:
                                return "&Igrave;";
                            case 207:
                                return "&Iuml;";
                            case 209:
                                return "&Ntilde;";
                            case 211:
                                return "&Oacute;";
                            case 212:
                                return "&Ocirc;";
                            case 210:
                                return "&Ograve;";
                            case 216:
                                return "&Oslash;";
                            case 213:
                                return "&Otilde;";
                            case 214:
                                return "&Ouml;";
                            case 222:
                                return "&THORN;";
                            case 218:
                                return "&Uacute;";
                            case 219:
                                return "&Ucirc;";
                            case 217:
                                return "&Ugrave;";
                            case 220:
                                return "&Uuml;";
                            case 221:
                                return "&Yacute;";
                            case 225:
                                return "&aacute;";
                            case 226:
                                return "&acirc;";
                            case 230:
                                return "&aelig;";
                            case 224:
                                return "&agrave;";
                            case 229:
                                return "&aring;";
                            case 227:
                                return "&atilde;";
                            case 228:
                                return "&auml;";
                            case 231:
                                return "&ccedil;";
                            case 233:
                                return "&eacute;";
                            case 234:
                                return "&ecirc;";
                            case 232:
                                return "&egrave;";
                            case 240:
                                return "&eth;";
                            case 235:
                                return "&euml;";
                            case 237:
                                return "&iacute;";
                            case 238:
                                return "&icirc;";
                            case 236:
                                return "&igrave;";
                            case 239:
                                return "&iuml;";
                            case 241:
                                return "&ntilde;";
                            case 243:
                                return "&oacute;";
                            case 244:
                                return "&ocirc;";
                            case 242:
                                return "&ograve;";
                            case 248:
                                return "&oslash;";
                            case 245:
                                return "&otilde;";
                            case 246:
                                return "&ouml;";
                            case 223:
                                return "&szlig;";
                            case 254:
                                return "&thorn;";
                            case 250:
                                return "&uacute;";
                            case 251:
                                return "&ucirc;";
                            case 249:
                                return "&ugrave;";
                            case 252:
                                return "&uuml;";
                            case 253:
                                return "&yacute;";
                            case 255:
                                return "&yuml;";
                            case 162:
                                return "&cent;";
                            default:
                                !1
                        }
                        return e
                    }
                }
                ,
                e.escapeMessyCode = function(e) {
                    for (var t = e, n = "", i = 0; i < t.length; i++) {
                        n += r(t.charAt(i))
                    }
                    return n;
                    function r(e) {
                        switch (e.charCodeAt(0)) {
                            case 0:
                                return "";
                            default:
                                return e
                        }
                    }
                }
                ,
                e.toFixed = function(e, t) {
                    return "number" != typeof e ? "" : e.toFixed(t).replace(/\.(\d*)0+$/, ".$1").replace(/\.$/, "")
                }
                ,
                e.canPlayVideoType = function(e, t) {
                    void 0 === t && (t = "video/mp4");
                    var n = document.createElement("video");
                    if ("function" != typeof n.canPlayType || !MediaSource || !MediaSource.isTypeSupported)
                        return !1;
                    var i = t + '; codecs="' + e + '"'
                        , r = n.canPlayType(i).toLowerCase();
                    return !("maybe" !== r && "probably" !== r || !MediaSource.isTypeSupported(i))
                }
                ,
                e.BUNDLE_TYPE = "release",
                e.browser = r.detect(),
                e.isWebPSupported = function() {
                    var e = !1;
                    try {
                        var t = document.createElement("canvas");
                        t.width = 1,
                            t.height = 1,
                            e = !!t.toDataURL && 5 === t.toDataURL("image/webp").indexOf("image/webp")
                    } catch (e) {}
                    return e
                }(),
                e
        }();
        t.default = a
    }
    , function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = "1"
            , r = "0"
            , o = /[?&]debug=/.test(location.search)
            , a = function() {
            function e(e, t) {
                var n = this;
                this._wrap = e,
                    this.storage = t,
                    this._cssPrefix = "bilibili-live-player-event-log";
                var i, r, o, a, s = this._cssPrefix;
                a = this.getLocalStorage(),
                    (i = $("<div>").addClass(s + "-container")).appendTo(this._wrap),
                    o = $("<div>").addClass(s + "-panel").appendTo(i),
                i.mCustomScrollbar && i.mCustomScrollbar({
                    axis: "y",
                    scrollInertia: 200,
                    autoHideScrollbar: !0
                }),
                    r = $('<a href="javascript:void(0);">').addClass(s + "-close").html("[x]").appendTo(i),
                    this._template = {
                        _container: i,
                        _close: r,
                        _panel: o
                    },
                    this._template._close.on("click", (function() {
                            n.hide()
                        }
                    )),
                a && this.activate(),
                    this.storage = t
            }
            return e.log = function(t, n, i) {
                void 0 === t && (t = ""),
                void 0 === n && (n = 0);
                var r = ["Info", "Warning", "Error", "Hide"]
                    , a = new Date
                    , s = performance && performance.now() || 0
                    , l = Math.round(s - i) || 0;
                if ((n < 0 || n >= r.length) && (n = 0),
                o && console[["info", "warn", "error"][n] || "log"](t),
                    e.eventLogText += "[" + ("Hide" === r[n] ? "Info" : r[n]) + "] > " + a.getHours() + ":" + a.getMinutes() + ":" + a.getSeconds() + ":" + a.getMilliseconds() + "  \t" + t + (i ? " " + l + " ms" : "") + "\r\n",
                t && t.indexOf("\n") > -1 && 3 !== n && (e.eventLogText += "\r\n"),
                    e.isActive) {
                    for (var c = [], u = ""; e.EVENT_LOG_QUEUE.length; ) {
                        var d = e.EVENT_LOG_QUEUE.shift();
                        (u = e._createLogs(d.log, d.type, d.loadTime)) && c.push(u)
                    }
                    (u = e._createLogs(t, n, l)) && c.push(u),
                        e._log(c),
                        e.EVENT_LOG_QUEUE = []
                } else
                    e.EVENT_LOG_QUEUE.push({
                        log: t,
                        type: n,
                        loadTime: i ? l : 0
                    });
                return performance && performance.now()
            }
                ,
                e._createLogs = function(e, t, n) {
                    if (e) {
                        var i = ["Info", "Warning", "Error", "Hide"][t]
                            , r = "bilibili-live-player-event-log-" + i.toLowerCase();
                        if (e.indexOf("\n") > -1 && 3 !== t)
                            return "<p>&nbsp;</p>";
                        if (3 !== t)
                            return '\n                    <p class="' + r + '">\n                        <span class="bilibili-live-player-event-log-content">\n                            [' + i[0] + "] > " + e + "\n                        </span>\n                        " + (n > 0 ? '<span class="bilibili-live-player-event-log-duration"> ' + n + " ms</span>" : "") + "\n                    </p>\n                "
                    }
                    return null
                }
                ,
                e._log = function(e) {
                    var t = "bilibili-live-player-event-log-panel"
                        , n = $("." + t);
                    $("." + t + "-container");
                    e && e.length && n && n.append(e)
                }
                ,
                e.prototype.show = function() {
                    this.activate().setLocalStorage(i),
                        e.log("")
                }
                ,
                e.prototype.hide = function() {
                    this.deactivate().setLocalStorage(r)
                }
                ,
                e.prototype.text = function() {
                    return e.eventLogText
                }
                ,
                e.prototype.getLocalStorage = function() {
                    return !(!this.storage || !this.storage.activateStorage) && (this.storage.storageKey || (this.storage.storageKey = "eventLogOpen"),
                        !!parseInt(localStorage.getItem(this.storage.storageKey), 10))
                }
                ,
                e.prototype.setLocalStorage = function(e) {
                    this.storage && this.storage.activateStorage && localStorage.setItem(this.storage.storageKey, e)
                }
                ,
                e.prototype.activate = function() {
                    return this._template._container.addClass("active"),
                        e.isActive = !0,
                        this
                }
                ,
                e.prototype.deactivate = function() {
                    return this._template._container.removeClass("active"),
                        e.isActive = !1,
                        this
                }
                ,
                e.eventLogText = "",
                e.EVENT_LOG_QUEUE = [{
                    log: "BILIBILI HTML5 PLAYER LOG",
                    type: 0
                }],
                e.isActive = !1,
                e
        }();
        t.default = a
    }
    , function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = "https://api.live.bilibili.com"
            , r = function() {
            function e() {}
            return e.PATH = {
                recommend: "/xlive/web-room/v1/index/getOffLiveList",
                roundPlayUrl: "/live/getRoundPlayVideo"
            },
                e.player = i + "/api/player",
                e.ackMessage = i + "/xlive/open-interface/v1/dm/message_ack",
                e.send = i + "/msg/send",
                e.getSpecialUser = i + "/msg/getSuser",
                e.recommend = i + e.PATH.recommend,
                e.roomSilent = i + "/liveact/room_silent",
                e.userSilent = i + "/liveact/user_silent",
                e.shieldKeyword = i + "/liveact/shield_keyword",
                e.shieldUser = i + "/liveact/shield_user",
                e.setRoomShield = i + "/liveact/set_room_shield",
                e.setUserShield = i + "/liveact/set_user_sheid",
                e.reportDanmaku = i + "/room_ex/v1/Danmu/danmuReport",
                e.reportReason = i + "/room_ex/v1/Danmu/forDanmuReason",
                e.roundPlayUrl = i + e.PATH.roundPlayUrl,
                e.getIPJson = i + "/xlive/web-room/v1/index/getIpInfo",
                e.trackUrl = "//data.bilibili.com/v/flashplay/live_h5_player",
                e.track = "https://data.bilibili.com/log/web",
                e.reclipHost = "https://www.bilibili.com",
                e.reclipUrl = e.reclipHost + "/blackboard/live/live_clip.html",
                e.roomInit = i + "/xlive/web-room/v2/index/getRoomPlayInfo",
                e.danmakuHosts = i + "/xlive/web-room/v1/index/getDanmuInfo",
                e.getRoomSilent = i + "/banned_service/v1/silent/get_room_silent",
                e.getShieldInfo = i + "/banned_service/v1/shield/get_shield_info",
                e.danmuConf = i + "/xlive/web-room/v1/dM/GetAll",
                e.replayTagsApi = i + "/xlive/web-room/v1/index/getPlayTagList",
                e.getTrackerConf = i + "/xlive/open-interface/v1/tracker/conf",
                e
        }();
        t.default = r
    }
    , function(e, t, n) {
        "use strict";
        var i = Object.prototype.hasOwnProperty;
        function r(e, t) {
            return Array.isArray(e) ? function(e, t) {
                for (var n, i = "", o = "", a = Array.isArray(t), s = 0; s < e.length; s++)
                    (n = r(e[s])) && (a && t[s] && (n = l(n)),
                        i = i + o + n,
                        o = " ");
                return i
            }(e, t) : e && "object" == typeof e ? function(e) {
                var t = ""
                    , n = "";
                for (var r in e)
                    r && e[r] && i.call(e, r) && (t = t + n + r,
                        n = " ");
                return t
            }(e) : e || ""
        }
        function o(e) {
            if (!e)
                return "";
            if ("object" == typeof e) {
                var t = "";
                for (var n in e)
                    i.call(e, n) && (t = t + n + ":" + e[n] + ";");
                return t
            }
            return e + ""
        }
        function a(e, t, n, i) {
            if (!1 === t || null == t || !t && ("class" === e || "style" === e))
                return "";
            if (!0 === t)
                return " " + (i ? e : e + '="' + e + '"');
            var r = typeof t;
            return "object" !== r && "function" !== r || "function" != typeof t.toJSON || (t = t.toJSON()),
                "string" == typeof t || (t = JSON.stringify(t),
                n || -1 === t.indexOf('"')) ? (n && (t = l(t)),
                " " + e + '="' + t + '"') : " " + e + "='" + t.replace(/'/g, "&#39;") + "'"
        }
        t.merge = function e(t, n) {
            if (1 === arguments.length) {
                for (var i = t[0], r = 1; r < t.length; r++)
                    i = e(i, t[r]);
                return i
            }
            for (var a in n)
                if ("class" === a) {
                    var s = t[a] || [];
                    t[a] = (Array.isArray(s) ? s : [s]).concat(n[a] || [])
                } else if ("style" === a) {
                    s = (s = o(t[a])) && ";" !== s[s.length - 1] ? s + ";" : s;
                    var l = o(n[a]);
                    l = l && ";" !== l[l.length - 1] ? l + ";" : l,
                        t[a] = s + l
                } else
                    t[a] = n[a];
            return t
        }
            ,
            t.classes = r,
            t.style = o,
            t.attr = a,
            t.attrs = function(e, t) {
                var n = "";
                for (var s in e)
                    if (i.call(e, s)) {
                        var l = e[s];
                        if ("class" === s) {
                            l = r(l),
                                n = a(s, l, !1, t) + n;
                            continue
                        }
                        "style" === s && (l = o(l)),
                            n += a(s, l, !1, t)
                    }
                return n
            }
        ;
        var s = /["&<>]/;
        function l(e) {
            var t = "" + e
                , n = s.exec(t);
            if (!n)
                return e;
            var i, r, o, a = "";
            for (i = n.index,
                     r = 0; i < t.length; i++) {
                switch (t.charCodeAt(i)) {
                    case 34:
                        o = "&quot;";
                        break;
                    case 38:
                        o = "&amp;";
                        break;
                    case 60:
                        o = "&lt;";
                        break;
                    case 62:
                        o = "&gt;";
                        break;
                    default:
                        continue
                }
                r !== i && (a += t.substring(r, i)),
                    r = i + 1,
                    a += o
            }
            return r !== i ? a + t.substring(r, i) : a
        }
        t.escape = l,
            t.rethrow = function e(t, i, r, o) {
                if (!(t instanceof Error))
                    throw t;
                if (!("undefined" == typeof window && i || o))
                    throw t.message += " on line " + r,
                        t;
                try {
                    o = o || n(41).readFileSync(i, "utf8")
                } catch (n) {
                    e(t, null, r)
                }
                var a = 3
                    , s = o.split("\n")
                    , l = Math.max(r - a, 0)
                    , c = Math.min(s.length, r + a);
                a = s.slice(l, c).map((function(e, t) {
                        var n = t + l + 1;
                        return (n == r ? "  > " : "    ") + n + "| " + e
                    }
                )).join("\n");
                throw t.path = i,
                    t.message = (i || "Pug") + ":" + r + "\n" + a + "\n\n" + t.message,
                    t
            }
    }
    , function(e, t, n) {
        "use strict";
        var i = this && this.__assign || function() {
                return (i = Object.assign || function(e) {
                        for (var t, n = 1, i = arguments.length; n < i; n++)
                            for (var r in t = arguments[n])
                                Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                        return e
                    }
                ).apply(this, arguments)
            }
            , r = this && this.__awaiter || function(e, t, n, i) {
                return new (n || (n = Promise))((function(r, o) {
                        function a(e) {
                            try {
                                l(i.next(e))
                            } catch (e) {
                                o(e)
                            }
                        }
                        function s(e) {
                            try {
                                l(i.throw(e))
                            } catch (e) {
                                o(e)
                            }
                        }
                        function l(e) {
                            e.done ? r(e.value) : new n((function(t) {
                                    t(e.value)
                                }
                            )).then(a, s)
                        }
                        l((i = i.apply(e, t || [])).next())
                    }
                ))
            }
            , o = this && this.__generator || function(e, t) {
                var n, i, r, o, a = {
                    label: 0,
                    sent: function() {
                        if (1 & r[0])
                            throw r[1];
                        return r[1]
                    },
                    trys: [],
                    ops: []
                };
                return o = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                },
                "function" == typeof Symbol && (o[Symbol.iterator] = function() {
                        return this
                    }
                ),
                    o;
                function s(o) {
                    return function(s) {
                        return function(o) {
                            if (n)
                                throw new TypeError("Generator is already executing.");
                            for (; a; )
                                try {
                                    if (n = 1,
                                    i && (r = 2 & o[0] ? i.return : o[0] ? i.throw || ((r = i.return) && r.call(i),
                                        0) : i.next) && !(r = r.call(i, o[1])).done)
                                        return r;
                                    switch (i = 0,
                                    r && (o = [2 & o[0], r.value]),
                                        o[0]) {
                                        case 0:
                                        case 1:
                                            r = o;
                                            break;
                                        case 4:
                                            return a.label++,
                                                {
                                                    value: o[1],
                                                    done: !1
                                                };
                                        case 5:
                                            a.label++,
                                                i = o[1],
                                                o = [0];
                                            continue;
                                        case 7:
                                            o = a.ops.pop(),
                                                a.trys.pop();
                                            continue;
                                        default:
                                            if (!(r = a.trys,
                                            (r = r.length > 0 && r[r.length - 1]) || 6 !== o[0] && 2 !== o[0])) {
                                                a = 0;
                                                continue
                                            }
                                            if (3 === o[0] && (!r || o[1] > r[0] && o[1] < r[3])) {
                                                a.label = o[1];
                                                break
                                            }
                                            if (6 === o[0] && a.label < r[1]) {
                                                a.label = r[1],
                                                    r = o;
                                                break
                                            }
                                            if (r && a.label < r[2]) {
                                                a.label = r[2],
                                                    a.ops.push(o);
                                                break
                                            }
                                            r[2] && a.ops.pop(),
                                                a.trys.pop();
                                            continue
                                    }
                                    o = t.call(e, a)
                                } catch (e) {
                                    o = [6, e],
                                        i = 0
                                } finally {
                                    n = r = 0
                                }
                            if (5 & o[0])
                                throw o[1];
                            return {
                                value: o[0] ? o[1] : void 0,
                                done: !0
                            }
                        }([o, s])
                    }
                }
            }
            , a = this && this.__importDefault || function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            , s = this && this.__importStar || function(e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        Object.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                return t.default = e,
                    t
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            n(20);
        var l = a(n(1))
            , c = s(n(0))
            , u = a(n(3))
            , d = a(n(40))
            , h = a(n(43))
            , f = a(n(46))
            , p = a(n(49))
            , v = a(n(11))
            , y = a(n(58))
            , g = a(n(60))
            , m = a(n(61))
            , _ = a(n(64))
            , b = a(n(66))
            , E = a(n(67))
            , S = a(n(69))
            , T = a(n(71))
            , w = a(n(74))
            , C = a(n(75))
            , A = a(n(76))
            , k = a(n(77))
            , x = a(n(79))
            , L = a(n(80))
            , R = a(n(81))
            , I = a(n(82))
            , P = a(n(2))
            , M = a(n(14))
            , D = a(n(15))
            , O = a(n(83))
            , N = n(84)
            , U = n(85)
            , B = a(n(86))
            , F = function() {
            function e(t, n) {
                this._container = t,
                    this._options = n,
                    this.config = {},
                    this.state = {
                        streamInfo: {}
                    },
                    this.components = {},
                    this.plugins = {},
                    this.window = window,
                    this.initializedMaxTime = 3e4,
                    this.errorRetryCount = 0,
                    this.errorRetryMaxCount = 10,
                    this.errorRetrying = !1,
                    this.errorInfo = {},
                    this.errorRetryIntervalArray = [0, 1, 3, 5, 10, 20, 30, 60, 90, 120],
                    this._trackBufferingCount = 0,
                    this._initializedCount = 0,
                    this._initialized = !1,
                    this._initializedCallbackQueue = [],
                    this._firstPlayingCallbackQueue = [],
                    this._trackIntervalMap = {},
                    this._trackFirstPlayurlLoadedTimeStatus = !1,
                    this._trackFirstPlayerLoadedTimeStatus = !1,
                    this._trackFirstLoadedTimeStatus = !0,
                    this._isFirstError = !0,
                    this._pause10SecNeedReload = !1,
                    this.controllerDisplayState = {
                        network: !1,
                        user: !1
                    },
                    this._roundApiPlayTime = null,
                "development" === l.default.BUNDLE_TYPE && window.console.clear();
                var i = "number" == typeof n.cid ? n.cid : parseInt(n.cid, 10)
                    , r = "number" == typeof n.type ? n.type : parseInt("" + n.type, 10);
                return P.default.log("Initialize Config Info: \n\n" + JSON.stringify(n) + "\n", 3),
                isNaN(i) && l.default.log("Create Player CID Error", n.cid),
                isNaN(r) && (r = c.default.PLAYER_ROOM),
                    n.mask = n.mask || {},
                    this.config = {
                        prefix: "bilibili-live-player",
                        namespace: ".BILIBILI_HTML5_LIVE_PLAYER",
                        cid: i,
                        playerId: l.default.getRandomString(),
                        uid: 0,
                        rid: i,
                        uname: "",
                        server: "",
                        startTime: Math.floor(Date.now() / 1e3),
                        useType: r,
                        fnPromiseMode: n.fnPromiseMode || !1,
                        initTime: n.initTime || l.default.getTimeNow(!0),
                        versionRnd: "" + (this._options.versionRnd || e.VERSION().version),
                        version: e.VERSION,
                        roomInitData: n.roomInitDataV2,
                        switchCount: n.switchCount || 0,
                        liveStatus: c.default.L_STATUS_PREPARING,
                        videoStatus: c.default.V_IDEL,
                        playerStatus: c.default.P_NORMAL,
                        visibilityStatus: !0,
                        checkChasingFrame: !0,
                        networkEarlyEOFCount: 0,
                        lastPlayURLRequestTime: 0,
                        rnd: n.rnd,
                        changeMode: n.changeMode,
                        user: {
                            id: 0,
                            name: "",
                            silentLevel: 0,
                            silentRank: 0,
                            silentVerify: !1,
                            isSuperUser: !1
                        },
                        authentication: {
                            needToVerify: !1,
                            countyRange: [],
                            isForbidden: !1
                        },
                        protocol: {
                            api: c.STATE_STRING.PROTOCOL_API_HTTP,
                            websocket: c.STATE_STRING.PROTOCOL_WEBSOCKET_DEFAULT,
                            port: 0
                        },
                        urlParams: l.default.getURLParams(),
                        playurlTimeout: 3e6,
                        IPJson: null,
                        trackLogId: "000516",
                        controllable: {
                            controller: {},
                            gift: !0,
                            send: !1
                        },
                        playurlData: n.playurlDataV2 || null,
                        downgrade: n.downgrade || 0,
                        mask: {
                            maxSelectTime: n.mask.maxSelectTime || 300,
                            deleteImageFps: n.mask.deleteImageFps || 100,
                            maskFps: n.mask.maskFps || 60,
                            shouldOpenMask: n.mask.shouldOpenMask || !1
                        },
                        backgroundFilter: n.backgroundFilter || !1
                    },
                    this.mixinControllableConfig(),
                    n.UI = n.UI || {},
                    this.state = {
                        onSwitching: !1,
                        onSwitchQuality: !1,
                        onError: !1,
                        onFixing: !1,
                        onMini: !1,
                        onStop: !1,
                        onPlayerAPIError: !1,
                        onExitPlayback: !1,
                        wasErrorRetried: !1,
                        switchNextLine: -1,
                        switchNextQuality: -1,
                        liveStatus: -1,
                        videoStatus: c.default.V_IDEL,
                        playerStatus: c.default.P_NORMAL,
                        visibilityStatus: !0,
                        playURLIndex: c.default.LIVE_URL,
                        playURLIndexBackup: c.default.LIVE_URL,
                        playURL: "",
                        streamInfo: {},
                        playURLList: [],
                        streamFormat: c.STREAM_FORMAT.HTTPSTREAM_FLV_AVC,
                        quality: c.default.QUALITY_DEFAULT,
                        qualityBackup: c.default.QUALITY_DEFAULT,
                        networkEarlyEOFCount: 0,
                        lastPlayURLRequestTime: 0,
                        firstPlayURLRequestTime: 0,
                        scriptLoadTime: l.default.getTimeNow(!0) - n.initTime || 0,
                        guid: l.default.getRandomString(),
                        playingTime: 0,
                        minBuffer: 1e3,
                        pausedTime: l.default.getTimeNow(!0),
                        backgroundTabStartTime: 0,
                        backgroundTabTime: 0,
                        switchState: !1,
                        switchInfo: {
                            type: "",
                            initText: "",
                            completedText: "",
                            failedText: ""
                        },
                        switchTipWrap: void 0,
                        danmakuDensity: 100,
                        reloadDoneCallback: void 0,
                        initializedDataMap: {
                            popularWords: [],
                            emojiList: [],
                            giftInfo: [],
                            admin: {
                                isAdmin: 0
                            }
                        },
                        logIPJsonStatus: !1,
                        logVideoInfoStatus: !1,
                        errorCode: 0,
                        autoResizeHandler: 0,
                        firstLoadedAPIPlayerStatus: !1,
                        firstLoadedAPIPlayurlStatus: !1,
                        firstLoadStart: !1,
                        firstLoadedMetaData: !1,
                        firstPlaying: !1,
                        lastOpState: "",
                        isInOperation: !1,
                        isInAnnouncement: !1,
                        forceBufferTimeout: 0,
                        trackLoadStreamErrorStatus: !1,
                        loadingPicture: n.loadingPicture || null,
                        reuseTime: 0,
                        danmukuShowSatatus: !0,
                        destroying: !1,
                        destroyId: Date.now(),
                        playerVideoQualityInfo: {},
                        isStopPlayback: !1,
                        UIState: {
                            logo: void 0 === n.UI.logo || n.UI.logo,
                            feedback: void 0 === n.UI.feedback || n.UI.feedback,
                            recommend: void 0 === n.UI.recommend || n.UI.recommend,
                            tipsText: void 0 === n.UI.tipsText || n.UI.tipsText
                        },
                        coreProtocol: isNaN(n.coreProtocol) ? 0 : n.coreProtocol,
                        coreType: isNaN(n.coreType) ? 0 : n.coreType,
                        ptype: n.ptype || 0,
                        errorCodeHistory: [],
                        p2pSdkPath: {
                            2: {
                                url: "//s1.hdslb.com/bfs/static/blive/web-player/p2p/ksp2ploader.2.0.9.9.min.js",
                                timeout: 6e3
                            },
                            8: {
                                url: "//s1.hdslb.com/bfs/static/blive/web-player/p2p/qvbp2p_bilibili_v1.8.16.min.js",
                                timeout: 6e3
                            }
                        },
                        delay: {
                            roundPlayUrl: {
                                time: 0,
                                expires: 0
                            },
                            recommend: {
                                time: 0,
                                expires: 0
                            }
                        },
                        enablePlayback: !1,
                        isPlaybacking: !1
                    },
                this.config.urlParams["core-type"] && (this.state.coreType = Number(this.config.urlParams["core-type"]) || c.CORE_TYPE.FMP4_MUXER),
                    this.INTERVAL = {
                        RELOAD_LIVE_MAX_TIME: 1e4,
                        AUTO_REMOVE_SWITCH_INFO_TIME: 3e3,
                        TOAST_INFO: 3e3,
                        RELOAD_LIVE: 0,
                        ERROR_RECOVER_CALLBACK: 0,
                        AUTO_REMOVE_SWITCH_INFO: 0,
                        TRY_TO_FIX_THE_PICTURE_IS_NOT_SYNC: 0,
                        FULLSCREEN_AUTO_HIDE_CURSOR: 0,
                        MULTI_AUDIO_RELOAD: 0,
                        TRACK_STREAM_LOAD_ERROR_TIMER: 0
                    },
                    this.callbackMap = {
                        initialized: [],
                        playerStateChange: [],
                        liveStateChange: [],
                        videoStateChange: [],
                        fullscreenChange: [],
                        playing: [],
                        paused: [],
                        switchLine: [],
                        switchQuality: [],
                        webFullscreen: [],
                        feedBackClick: [],
                        blockSettingClick: [],
                        set: [],
                        reload: [],
                        guidChange: [],
                        initDanmaku: [],
                        addDanmaku: [],
                        sendDanmaku: [],
                        receiveOnlineCount: [],
                        receiveMessage: [],
                        userLogin: [],
                        sendGift: [],
                        firstLoadedAPIPlayer: [],
                        firstLoadedAPIPlayurl: [],
                        firstLoadStart: [],
                        firstLoadedMetaData: [],
                        firstPlaying: [],
                        enterTheRoom: [],
                        operableElementsChange: [],
                        autoPlay: [],
                        switchQualityNotLogin: [],
                        recommend: [],
                        danmakuMaskChange: [],
                        danmakuMaskStatusChange: []
                    },
                    window.addEventListener("message", this.receiveMessage.bind(this), !1),
                    this._load()
            }
            return e.VERSION = function() {
                return {
                    version: "2.5.11",
                    gitHash: "21bf6ef8",
                    build: "350",
                    buildTime: "1609383539041",
                    bundleType: "release"
                }
            }
                ,
                e.verifyDocumentIsHidden = function() {
                    var e = ["webkit", "moz", "ms", "o"]
                        , t = document;
                    if ("hidden"in t)
                        return t.hidden;
                    for (var n = 0, i = e.length; n < i; n++)
                        if (e[n] + "Hidden"in t)
                            return t[e[n] + "Hidden"];
                    return !1
                }
                ,
                e.verifyHTML5PlayerSupport = function() {
                    return window.flvjs.getFeatureList().mseLiveFlvPlayback
                }
                ,
                e.getDanmakuColor = function(e) {
                    return Number(e || window.getDanmuColor && window.getDanmuColor()) || c.default.DANMAKU_DEFAULT_INT10_COLOR
                }
                ,
                e.getDanmakuMode = function(e) {
                    return e || ("function" == typeof window.getDanmuMode && window.getDanmuMode() || c.default.DANMAKU_MODE_SCROLL)
                }
                ,
                e.prototype._load = function() {
                    return this.state.destroying = !1,
                        P.default.log("HTML5 Player Version " + e.VERSION().version + ", Type: " + this.config.useType),
                        this.logTimeFirstPlay = P.default.log("Script Loaded.", 0, this._options.initTime),
                        P.default.log("href: " + window.location.href, 3),
                        P.default.log("ua: " + window.navigator.userAgent, 3),
                        this._logTimeInitialize = P.default.log("Initialize..."),
                        this.event = new M.default,
                        this.track(c.TRACK.EXPERIENCE_FIRST_INIT_TIME, {
                            time: this._options.initTime
                        }),
                        this.trackFirstLoaded(),
                        this._trackPlayerInitializedTime = this.trackTime(c.TRACK.STATISTICS_PLAYER_LOADED),
                    l.default.canPlayVideoType("hvc1.1.6.L123") && this.track(c.TRACK.STATISTICS_HEVC_SUPPORT, {
                        param: l.default.browser.name || ""
                    }),
                        this.userInit(),
                        this._preRenderedDom(),
                        this._checkRoomIsForbidden(),
                        this._getPlayerReturn()
                }
                ,
                e.prototype.addLoadingPicture = function(e) {
                    e ? (this.state.loadingPicture = e,
                    this.components.video && this.components.video.addLoadingPicture(e)) : (this.state.loadingPicture = null,
                    this.components.video && this.components.video.removeLoadingPicture())
                }
                ,
                e.prototype.clearPlayURL = function() {
                    this.state.lastPlayURLRequestTime = 0
                }
                ,
                e.prototype.play = function() {
                    var e = this;
                    P.default.log("Player Playing..");
                    var t = this.state
                        , n = this._playbackTmpState;
                    if (clearTimeout(this._pause10SecTimer),
                    t.videoStatus === c.default.V_PAUSE) {
                        if (this._pause10SecNeedReload)
                            return this._pause10SecNeedReload = !1,
                                this.playingStatusSync(),
                                this.reload(),
                                this;
                        if (t.isPlaybacking && n.pauseTime)
                            return this.playingStatusSync(),
                                this.components.playbackComp.setVideoTs(n.pauseTime),
                                this.enterPlaybackMode(n.pauseTime),
                                this
                    }
                    var i = this.components;
                    return !this.state.onFixing && this.refreshPausedTime(!0),
                        i.errorPanel.hide(),
                        i.endingPanel.hide(),
                    i.danmaku && i.danmaku.play(),
                        this.triggerFirstPlayCallback(),
                        this.loading(100, (function() {
                                e.playingStatusSync()
                            }
                        )),
                        this
                }
                ,
                e.prototype.openClip = function() {
                    var e = this.components;
                    if (!e.video)
                        return this.showOperationSuccessTips("请在播放状态下操作"),
                            this.track(c.TRACK.STATISTIC_OPEN_CLIP_PAGE_FAIL_NO_VIDEO),
                            !1;
                    var t = e.video.getClipCacheData()
                        , n = e.video.getConfig();
                    return e.video.canClip && t && n ? (window.open(u.default.reclipUrl, "reclipPage"),
                        this.track(c.TRACK.STATISTIC_OPEN_CLIP_PAGE_SUCCESS),
                        !0) : (this.track(c.TRACK.STATISTIC_OPEN_CLIP_PAGE_FAIL_NO_DATA),
                        this.showOperationSuccessTips("请在播放状态下操作"),
                        !1)
                }
                ,
                e.prototype.playingStatusSync = function() {
                    var e = this.components;
                    this._setVideoStatus(c.default.V_PLAY),
                        e.loadingPanel.hide(),
                    this.state.loadingPicture && this.addLoadingPicture(this.state.loadingPicture),
                    e.video && e.video.play(),
                        e.newCtrl.setPlayStatus(!0),
                        l.default.fireEventCallback(this.callbackMap.playing)
                }
                ,
                e.prototype.pause = function() {
                    var e = this;
                    P.default.log("Player Paused.");
                    var t = this.state
                        , n = this._playbackTmpState;
                    return !t.onFixing && this.refreshPlayingTime(),
                        this._setVideoStatus(c.default.V_PAUSE),
                        t.isPlaybacking ? (n.pauseTime = Math.ceil(Date.now() / 1e3) - n.timeShift,
                            this.components.video.unload()) : (this.components.video.pause(),
                            clearTimeout(this._pause10SecTimer),
                            this._pause10SecTimer = window.setTimeout((function() {
                                    e._pause10SecNeedReload = !0,
                                        e.components.video.unload()
                                }
                            ), 1e4)),
                        this.components.newCtrl.setPlayStatus(!1),
                    c.default.L_STATUS_LIVE !== this.getLiveStatus() && c.default.L_STATUS_ROUND !== this.getLiveStatus() || this.components.danmaku.pause(),
                    this.config.useType === c.default.PLAYER_HOME && this.components.video.destroy(),
                        l.default.fireEventCallback(this.callbackMap.paused),
                        this
                }
                ,
                e.prototype.reload = function(e, t, n) {
                    return void 0 === e && (e = c.default.LIVE_URL),
                    void 0 === n && (n = !1),
                        r(this, void 0, void 0, (function() {
                                var i = this;
                                return o(this, (function(r) {
                                        switch (r.label) {
                                            case 0:
                                                return this.state.onStop ? (P.default.log("Player reloading stop"),
                                                    [2, this]) : (P.default.log("Player reloading..."),
                                                    this.state.playURLIndex = e,
                                                    this.reset(n),
                                                n && this.resetSwitchInfo(),
                                                    this.components.video.handleReload(),
                                                this.state.onFixing || (this.components.video.showLoading(),
                                                this.state.loadingPicture && this.addLoadingPicture(this.state.loadingPicture)),
                                                    [4, this.shouldReusePlayUrl(e)]);
                                            case 1:
                                                return r.sent() ? [2] : (this.onPlayerLiveStatus({
                                                    onLive: function() {
                                                        i.event.emit(c.EVENT.ON_LIVE, e, t),
                                                        i.config.urlParams.fix && i.event.emit(c.EVENT.TRY_TO_FIX_THE_PICTURE_IS_NOT_SYNC)
                                                    },
                                                    onRound: function() {
                                                        i.state.streamInfo = {},
                                                            i.event.emit(c.EVENT.ON_ROUND)
                                                    },
                                                    onPreparing: function() {
                                                        i.event.emit(c.EVENT.ON_PREPARING).emit(c.EVENT.ON_ERROR_RETRY_CANCELED)
                                                    }
                                                }),
                                                    [2, this])
                                        }
                                    }
                                ))
                            }
                        ))
                }
                ,
                e.prototype.shouldReusePlayUrl = function(e) {
                    return void 0 === e && (e = c.default.LIVE_URL),
                        r(this, void 0, void 0, (function() {
                                var t, n, i, r, a = this;
                                return o(this, (function(o) {
                                        switch (o.label) {
                                            case 0:
                                                return (t = this.state).firstPlaying ? this.config.useType === c.default.PLAYER_HOME || c.default.L_STATUS_ROUND === this.getLiveStatus() ? [2, !1] : t.onSwitchQuality ? (t.onSwitchQuality = !1,
                                                    [2, !1]) : t.onExitPlayback ? (t.onExitPlayback = !1,
                                                    [2, !1]) : t.playURLList[e] ? (n = t.playURLList[e].url,
                                                    i = n.match(/[?&]wsTime=([^&#]+)/i) || n.match(/[?&]expires=([^&#]+)/i),
                                                    r = i && i[1] && 1e3 * i[1] > l.default.getTimeNow(),
                                                    t.reuseTime < c.STREAM_URL_MAX_REUSE_TIME && r ? (clearTimeout(this.INTERVAL.ERROR_RECOVER_CALLBACK),
                                                        this.changeUrlGuid(),
                                                        [4, this.loadP2PScript(t.coreProtocol)]) : [3, 2]) : [2, !1] : [2, !1];
                                            case 1:
                                                return o.sent(),
                                                    this.INTERVAL.ERROR_RECOVER_CALLBACK = window.setTimeout((function() {
                                                            t.reuseTime++,
                                                                a.components.video.clearDetectBufferSlowly(),
                                                            a.components.danmaku && a.components.danmaku.density(t.danmakuDensity),
                                                                a.event.emit(c.EVENT.RESOLVED_CURRENT_PLAY_URL_SUCCESSFULLY, n)
                                                        }
                                                    ), 1e3 * this.errorRetryIntervalArray[this.state.reuseTime - 1]),
                                                    [2, !0];
                                            case 2:
                                                return [2, !1]
                                        }
                                    }
                                ))
                            }
                        ))
                }
                ,
                e.prototype.changeUrlGuid = function() {
                    var e, t = this.state, n = t.playURLList.length;
                    if (n) {
                        var i = t.guid;
                        e = l.default.getRandomString(),
                            t.guid = e,
                            this._guidChange(e, i)
                    }
                    for (var r = 0; r < n; r++) {
                        var o = t.playURLList[r].url
                            , a = o.match(/[?&]pSession=([^&#]+)/i);
                        a && a[1] && (t.playURLList[r].url = o.replace(a[1], e))
                    }
                }
                ,
                e.prototype.loadVideo = function(e) {
                    var t = this;
                    this.addInitCallback((function() {
                            t._loadVideo(e)
                        }
                    ))
                }
                ,
                e.prototype.load = function() {
                    var e = this;
                    this.addInitCallback((function() {
                            e.destroy(),
                                e.state.onStop = !1,
                                e._load()
                        }
                    ))
                }
                ,
                e.prototype.volume = function(e) {
                    return this.components.newCtrl.setVolume(e),
                        this.components.video.volume(e),
                        this
                }
                ,
                e.prototype.showDanmaku = function(e) {
                    return void 0 === e && (e = !0),
                        this.components.newCtrl.setDanmaku("display", e),
                        this
                }
                ,
                e.prototype.setVolume = function(e) {
                    return this.components.video && this.components.video.volume(e),
                        this
                }
                ,
                e.prototype.getLocalStorageVolume = function() {
                    var e = this.config.useType === c.default.PLAYER_HOME ? c.STATE_STRING.LOCAL_STORAGE_VOLUME_HOME : c.STATE_STRING.LOCAL_STORAGE_VOLUME
                        , t = l.default.getLocalStorage(e)
                        , n = .9;
                    return null != t && (n = Number(t)),
                    ("number" != typeof n || n < 0 || n > 1) && (n = .9),
                        n
                }
                ,
                e.prototype.mute = function(e) {
                    return void 0 === e && (e = !0),
                        this.components.newCtrl.mute(e),
                        this
                }
                ,
                e.prototype.end = function(e) {
                    void 0 === e && (e = !0),
                        P.default.log("\nPlayer Ended.");
                    var t = this.components;
                    return !this.state.onFixing && this.refreshPlayingTime(!0),
                        t.newCtrl.end(),
                        t.danmaku.resize(),
                        t.video.end(),
                        t.errorPanel.hide(),
                        t.loadingPanel.hide(),
                    e && this.components.endingPanel.show(),
                        this.clearExpiredLivePlayurlInfo(),
                        window.clearTimeout(this.initializedTimeOut),
                        this
                }
                ,
                e.prototype.stop = function() {
                    P.default.log("Player Stop."),
                        this.state.onStop = !0,
                        this.end(!1),
                        this.components.socket.destroy(),
                        this.components.endingPanel.hide(),
                        this.event.emit(c.EVENT.ON_ERROR_RETRY_CANCELED)
                }
                ,
                e.prototype.freeze = function() {
                    P.default.log("Player Freezed."),
                        this.pause(),
                        this.components.video.unload()
                }
                ,
                e.prototype.refresh = function() {
                    P.default.log("Player Refresh."),
                    c.default.L_STATUS_PREPARING !== this.getLiveStatus() && this.reload()
                }
                ,
                e.prototype.discardFrame = function(e) {
                    this.components.video.discardFrame(e)
                }
                ,
                e.prototype.remainBufferLength = function() {
                    return this.components.video.remainBufferLength()
                }
                ,
                e.prototype.error = function(e, t, n, i, r) {
                    return void 0 === n && (n = !1),
                    void 0 === i && (i = -10),
                    void 0 === r && (r = c.CORE_TYPE.FMP4_MUXER),
                    !this.state.onError && (this.state.onSwitching && this.restoreReloadFailed(),
                        this.state.onError = !0,
                        this.state.errorCodeHistory.push({
                            type: e,
                            httpCode: i
                        }),
                        this.errorRetrying ? this.event.emit(c.EVENT.ON_ERROR_RETRYING_FAILED) : (P.default.log("\r\nPlayer Error.", 2),
                            P.default.log(e + ": " + t, 2),
                            window.clearTimeout(this.initializedTimeOut),
                            this.errorInfo = {
                                type: e,
                                msg: t,
                                isHardError: n,
                                coreType: r
                            },
                            this.event.emit(c.EVENT.ON_ERROR_RETRYING)),
                        !0)
                }
                ,
                e.prototype.errorRecover = function(e) {
                    if (this.errorRetrying) {
                        P.default.log("Error Recover Type : " + this.errorInfo.type);
                        var t = this.errorInfo.type;
                        this.errorInfo.coreType;
                        switch (this.state.lastOpState = c.default.LAST_OP_STATE_ERROR,
                            t) {
                            case c.ERROR_CODE.LIVE_PLAYER_RELOAD_ERROR:
                            case c.ERROR_CODE.PLAYURL_NETWORK_ERROR:
                            case c.ERROR_CODE.NETWORK_EXCEPTION:
                            case c.ERROR_CODE.NETWORK_UNRECOVERABLE_EARLY_EOF:
                            case c.ERROR_CODE.MEDIA_MSE_ERROR:
                            case c.ERROR_CODE.PLAYURL_ROUND_NETWORK_ERROR:
                            case c.ERROR_CODE.NETWORK_STATUS_CODE_INVALID:
                            case c.ERROR_CODE.PLAYURL_ROUND_RESOLVE_ERROR:
                            case c.ERROR_CODE.PLAYER_ERROR:
                                break;
                            default:
                                "function" == typeof e && e()
                        }
                        this.event.emit(c.EVENT.ON_PLAYER_RELOADING)
                    }
                }
                ,
                e.prototype.forbidden = function(e, t) {
                    void 0 === e && (e = !1),
                    void 0 === t && (t = ""),
                        P.default.log("The Current IP Is Forbidden.", 2),
                        this.config.roomInitData = {},
                    e || this.destroy(!1),
                        this._initialized = !0,
                        this.components.forbiddenPanel.initialize(t)
                }
                ,
                e.prototype.loading = function(e, t) {
                    return void 0 === e && (e = 100),
                        P.default.log("Loading.." + e + " %"),
                        this.components.loadingPanel.setPercent(e, t),
                        this
                }
                ,
                e.prototype.destroy = function(e) {
                    void 0 === e && (e = !0),
                        this.state.destroying = !0;
                    var t = this.config.namespace
                        , n = this.components;
                    for (var i in $(window).off("resize" + t),
                    this.components.template.wrap && this.components.template.wrap.off("mousemove" + t).off("mouseleave" + t),
                    this.components.template.video_wrap && this.components.template.video_wrap.off("dblclick" + t),
                        $(".chat-ctnr-hider-ctnr").off("click" + t),
                        $(document).off("visibilitychange"),
                        D.default.destroy(),
                    n.endingPanel && n.endingPanel.destroy(),
                    n.video && n.video.destroy(e),
                    n.socket && n.socket.destroy(),
                    n.giftManager && n.giftManager.destroy(),
                    n.mask && n.mask.destroy && n.mask.destroy(),
                        n.newCtrl.destroy(),
                    n.danmaku && (n.danmaku.destroy(),
                        n.danmaku = void 0),
                        this.clearPlayURL(),
                        window.clearTimeout(this.initializedTimeOut),
                        this.event.emit(c.EVENT.ON_ERROR_RETRY_CANCELED),
                        this._trackIntervalMap)
                        window.clearTimeout(this._trackIntervalMap[i]);
                    this.clearTrackPlayingTime(),
                    this.state.autoResizeHandler && document.removeEventListener("scroll", this.state.autoResizeHandler),
                    this.state.autoResizeHandler && window.removeEventListener("resize", this.state.autoResizeHandler),
                    e && (this.plugins.contextMenu.destroy(),
                    e && this.components.template.wrap.remove())
                }
                ,
                e.prototype.set = function(e) {
                    if (e && e.component && e.action) {
                        var t = e.component.toLowerCase()
                            , n = e.action
                            , i = e.data
                            , r = e.callback
                            , o = function(e, t, n) {};
                        switch (P.default.log("Set " + t + " - " + n + " : " + JSON.stringify(i)),
                            t) {
                            case c.STATE_STRING.SET_COMPONENT_DANMAKU:
                                o = this.components.newCtrl.setDanmaku.bind(this.components.newCtrl);
                                break;
                            case c.STATE_STRING.SET_COMPONENT_BLOCK:
                                o = this.components.block.set.bind(this.components.block);
                                break;
                            case c.STATE_STRING.SET_COMPONENT_GIFT:
                                break;
                            case c.STATE_STRING.SET_COMPONENT_MASK:
                                o = this.components.mask.set.bind(this.components.mask)
                        }
                        "blockDanmaku" !== n ? o(n, i, r) : this.components.danmaku.set({
                            action: n,
                            data: i
                        })
                    } else
                        P.default.log("Set options error: " + JSON.stringify(e), 1)
                }
                ,
                e.prototype.getPlaybackDelay = function() {
                    return this.components && this.components.video ? this.components.video.getPlaybackDelay() : 0
                }
                ,
                e.prototype.setProtectPlaybackRate = function(e, t) {
                    this.config.checkChasingFrame = e,
                    isNaN(t) || (this.state.minBuffer = t)
                }
                ,
                e.prototype.setPlaybackRate = function(e) {
                    return !!(e && this.components && this.components.video) && this.components.video.setPlaybackRate(e)
                }
                ,
                e.prototype.getPlaybackRate = function() {
                    return this.components && this.components.video ? this.components.video.getPlaybackRate() : 0
                }
                ,
                e.prototype.setChasingFrameThreshold = function(e) {
                    return this.components && this.components.video && "safari" !== l.default.browser.name ? this.components.video.setChasingFrameThreshold(e) : 0
                }
                ,
                e.prototype.showPlayerController = function(e) {
                    this.controllerDisplayState[e] = !0,
                        this.components.newCtrl.setVisibility(!0),
                    this.state.enablePlayback && this.components.playbackComp.moveInController()
                }
                ,
                e.prototype.hidePlayerController = function(e) {
                    this.controllerDisplayState[e] && (this.controllerDisplayState[e] = !1,
                    this.controllerDisplayState.network || this.controllerDisplayState.user || (this.components.newCtrl.setVisibility(!1),
                    this.state.enablePlayback && this.components.playbackComp.moveOutController()))
                }
                ,
                e.prototype.on = function(e, t) {
                    var n = this;
                    if (e && "function" == typeof t) {
                        var i = this.callbackMap;
                        switch (l.default.log("player on: ", e, t),
                            e) {
                            case c.STATE_STRING.CALLBACK_INITIALIZED:
                                i.initialized.push(t),
                                    this._firePlayerInitialized();
                                break;
                            case c.STATE_STRING.CALLBACK_PLAYER_STATE_CHANGE:
                                i.playerStateChange.push(t);
                                break;
                            case c.STATE_STRING.CALLBACK_LIVE_STATE_CHANGE:
                                i.liveStateChange.push(t);
                                break;
                            case c.STATE_STRING.CALLBACK_VIDEO_STATE_CHANGE:
                                i.videoStateChange.push(t);
                                break;
                            case c.STATE_STRING.CALLBACK_FULL_SCREEN_CHANGE:
                                i.fullscreenChange.push(t);
                                break;
                            case c.STATE_STRING.CALLBACK_PLAYING:
                                i.playing.push(t);
                                break;
                            case c.STATE_STRING.CALLBACK_PAUSED:
                                i.paused.push(t);
                                break;
                            case c.STATE_STRING.CALLBACK_SWITCH_LINE:
                                i.switchLine.push(t);
                                break;
                            case c.STATE_STRING.CALLBACK_SWITCH_QUALITY:
                                i.switchQuality.push(t);
                                break;
                            case c.STATE_STRING.CALLBACK_WEB_FULLSCREEN:
                                i.webFullscreen.push(t);
                                break;
                            case c.STATE_STRING.CALLBACK_FEED_BACK_CLICK:
                                i.feedBackClick.push(t);
                                break;
                            case c.STATE_STRING.CALLBACK_BLOCK_SETTING_CLICK:
                                i.blockSettingClick.push(t);
                                break;
                            case c.STATE_STRING.CALLBACK_SET:
                                i.set.push(t);
                                break;
                            case c.STATE_STRING.CALLBACK_INIT_DANMAKU:
                                i.initDanmaku.push(t),
                                this.user && this.user.initDanmaku((function(e) {
                                        e.ready && l.default.fireEventCallback(n.callbackMap.initDanmaku, e)
                                    }
                                ));
                                break;
                            case c.STATE_STRING.CALLBACK_ADD_DANMAKU:
                                i.addDanmaku.push(t);
                                break;
                            case c.STATE_STRING.CALLBACK_SEND_DANMAKU:
                                i.sendDanmaku.push(t);
                                break;
                            case c.STATE_STRING.CALLBACK_RECEIVE_ONLINE_COUNT:
                                i.receiveOnlineCount.push(t),
                                this.components.socket && this.components.socket.initHeartBeatReply();
                                break;
                            case c.STATE_STRING.CALLBACK_RECEIVE_MESSAGE:
                                i.receiveMessage.push(t);
                                break;
                            case c.STATE_STRING.CALLBACK_USER_LOGIN:
                                i.userLogin.push(t);
                                break;
                            case c.STATE_STRING.CALLBACK_SEND_GIFT:
                                i.sendGift.push(t);
                                break;
                            case c.STATE_STRING.CALLBACK_FIRST_LOADED_API_PLAYER:
                                i.firstLoadedAPIPlayer.push(t);
                                break;
                            case c.STATE_STRING.CALLBACK_FIRST_LOADED_API_PLAYURL:
                                i.firstLoadedAPIPlayurl.push(t);
                                break;
                            case c.STATE_STRING.CALLBACK_FIRST_LOAD_START:
                                i.firstLoadStart.push(t);
                                break;
                            case c.STATE_STRING.CALLBACK_FIRST_LOADED_META_DATA:
                                i.firstLoadedMetaData.push(t);
                                break;
                            case c.STATE_STRING.CALLBACK_FIRST_PLAYING:
                                i.firstPlaying.push(t);
                                break;
                            case c.STATE_STRING.ENTER_THE_ROOM:
                                i.enterTheRoom.push(t);
                                break;
                            case c.STATE_STRING.CALLBACK_RELOAD:
                                i.reload.push(t);
                                break;
                            case c.STATE_STRING.CALLBACK_GUID_CHANGE:
                                i.guidChange.push(t),
                                    this.state.lastOpState = c.default.LAST_OP_STATE_INIT_PLAYER,
                                    this._guidChange(this.state.guid);
                                break;
                            case c.STATE_STRING.CALLBACK_OPERABLE_ELEMENTS_CHANGE:
                                i.operableElementsChange.push(t);
                                break;
                            case c.STATE_STRING.AUTO_PLAY:
                                i.autoPlay.push(t);
                                break;
                            case c.STATE_STRING.SWITCH_QUALITY_NOT_LOGIN:
                                i.switchQualityNotLogin.push(t);
                                break;
                            case c.STATE_STRING.RECOMMEND:
                                i.recommend.push(t);
                            case c.STATE_STRING.CALLBACK_DANMAKU_MASK_CHANGE:
                                i.danmakuMaskChange.push(t);
                                break;
                            case c.STATE_STRING.CALLBACK_DANMAKU_MASK_STATUS_CHANGE:
                                i.danmakuMaskStatusChange.push(t)
                        }
                    } else
                        P.default.log("Add event listener error, " + e + ", " + JSON.stringify(t), 1);
                    return this
                }
                ,
                e.prototype.init = function(e, t) {
                    if (e && t && "object" == typeof t) {
                        l.default.log("player init: ", e, t);
                        c.default.INIT_ACTION_TYPE_WORDS;
                        switch (e) {
                            case "popularWords":
                                this.state.initializedDataMap.popularWords = t;
                                break;
                            case "emojiList":
                                this.state.initializedDataMap.emojiList = t;
                                break;
                            case "giftInfo":
                                this.state.initializedDataMap.giftInfo = t,
                                    c.default.INIT_ACTION_TYPE_GIFTS;
                                break;
                            case "config":
                                this.state.initializedDataMap.admin = t
                        }
                        this.addInitCallback((function() {}
                        ))
                    } else
                        P.default.log("Player init data error, " + e + ": " + JSON.stringify(t), 1);
                    return this
                }
                ,
                e.prototype.getConfig = function() {
                    return this.config
                }
                ,
                e.prototype.getState = function() {
                    return this.state
                }
                ,
                e.prototype.getVideoStatus = function() {
                    return this.state.videoStatus
                }
                ,
                e.prototype.getVisibilityStatus = function() {
                    return this.config.visibilityStatus
                }
                ,
                e.prototype.setLiveStatus = function(e) {
                    var t = this.components.template.wrap
                        , n = this.components
                        , i = c.STATE_STRING.L_PREPARING;
                    if (P.default.log("Set Live Status : " + e),
                    e !== this.state.liveStatus) {
                        switch (this.state.liveStatus = e,
                            e) {
                            case c.default.L_STATUS_LIVE:
                                n.video.reset(),
                                    i = c.STATE_STRING.L_LIVE;
                                break;
                            case c.default.L_STATUS_ROUND:
                                n.newCtrl.end(),
                                    n.video.destroy(),
                                    n.errorPanel.hide(),
                                    n.endingPanel.hide(),
                                    i = c.STATE_STRING.L_ROUND;
                                break;
                            case c.default.L_CLOSE:
                                i = c.STATE_STRING.L_CLOSE;
                                break;
                            case c.default.L_STATUS_PREPARING:
                                i = c.STATE_STRING.L_PREPARING;
                                break;
                            case c.default.L_BLOCK:
                                i = c.STATE_STRING.L_BLOCK;
                                break;
                            case c.default.L_ERROR:
                                this.event.emit(c.EVENT.ON_ERROR_RETRY_FAILED)
                        }
                        t.attr("data-live-state", i),
                            this.components.danmaku.resize(),
                            this.triggerInitCallback(),
                            l.default.fireEventCallback(this.callbackMap.liveStateChange)
                    }
                    return this
                }
                ,
                e.prototype.getLiveStatus = function() {
                    return this.state.liveStatus
                }
                ,
                e.prototype.setPlayerStatus = function(e, t) {
                    void 0 === t && (t = c.SCREEN_CHANGE.OTHER);
                    var n = this.state
                        , i = this.components.template.wrap
                        , r = n.playerStatus
                        , o = this.components;
                    if (r !== e) {
                        P.default.log("Set Player Status : " + e);
                        try {
                            window.top.__LIVEPLAYER_MODE__ = e
                        } catch (e) {}
                        switch (e) {
                            case c.default.P_NORMAL:
                                n.playerStatus = c.default.P_NORMAL,
                                    i.attr("data-player-state", "normal"),
                                    c.default.P_FULLSCREEN === r ? (D.default.exit(),
                                        this.screenChange(c.SCREEN_TYPE.FULL, !1, t)) : c.default.P_WEB_FULLSCREEN === r && this.screenChange(c.SCREEN_TYPE.WEB_FULL, !1, t);
                                break;
                            case c.default.P_WEB_FULLSCREEN:
                                n.playerStatus = c.default.P_WEB_FULLSCREEN,
                                    i.attr("data-player-state", "web-fullscreen"),
                                c.default.P_FULLSCREEN === r && (D.default.exit(),
                                    this.screenChange(c.SCREEN_TYPE.FULL, !1, c.SCREEN_CHANGE.OTHER)),
                                    this.screenChange(c.SCREEN_TYPE.WEB_FULL, !0, t);
                                break;
                            case c.default.P_FULLSCREEN:
                                n.playerStatus === c.default.P_WEB_FULLSCREEN && this.screenChange(c.SCREEN_TYPE.WEB_FULL, !1, c.SCREEN_CHANGE.OTHER),
                                    this.screenChange(c.SCREEN_TYPE.FULL, !0, t),
                                    n.playerStatus = c.default.P_FULLSCREEN,
                                    i.attr("data-player-state", "fullscreen");
                                var a = this.components.template.wrap[0];
                                try {
                                    var s = this._options.fnElementId;
                                    s && (a = document.getElementById(s) || window.top.document.getElementById(s))
                                } catch (e) {}
                                D.default.request(a || this.components.template.wrap[0])
                        }
                        o.giftFullscreen && o.giftFullscreen.setPlayerState(e),
                            o.newCtrl.syncFullscreenStatus(e),
                            setTimeout((function() {
                                    o.danmaku.resize()
                                }
                            ), 500),
                        r === c.default.P_NORMAL && this.components.endingPanel && this.components.endingPanel.handleResize(),
                            l.default.fireEventCallback(this.callbackMap.playerStateChange, e)
                    }
                    return this
                }
                ,
                e.prototype.getPlayerStatus = function() {
                    return this.state.playerStatus
                }
                ,
                e.prototype.getRoundURL = function() {
                    var e = this
                        , t = this.config
                        , n = ""
                        , i = 0
                        , r = ""
                        , o = this.state.delay.roundPlayUrl
                        , a = Date.now() < o.expires ? o.time : null;
                    l.default.ajax({
                        url: u.default.roundPlayUrl,
                        data: {
                            room_id: t.rid,
                            a: Date.now(),
                            type: "flv"
                        },
                        delay: a,
                        beforeSend: function() {
                            l.default.time("Load RoundPlayUrl"),
                                P.default.log("Loading Round Player URL... (delay: " + a + ")")
                        }
                    }, (function(t) {
                            l.default.time("Load RoundPlayUrl", !0),
                                P.default.log("Loaded Round Player URL.");
                            var o = t.data;
                            if (0 === t.code && o)
                                if (i = parseInt(o.play_time, 10) || 0,
                                o.cid > 0) {
                                    if (e._roundApiPlayTime === i)
                                        return void setTimeout((function() {
                                                e.getRoundURL()
                                            }
                                        ), 3e3);
                                    e._roundApiPlayTime = i,
                                        n = o.title,
                                        r = o.play_url,
                                    e.config.protocol.api === c.STATE_STRING.PROTOCOL_API_HTTPS && (r = r.replace(/http:\/\//, "https://")),
                                        e.resolveRoundPlayURL(n, i, r)
                                } else
                                    -1 === o.cid && o && (e.event.emit(c.EVENT.ON_PRE_ROUND, i),
                                        window.clearTimeout(e.initializedTimeOut),
                                        e.components.loadingPanel.hide());
                            else
                                P.default.log("GetRoundPlayVideo ajax error.", 2),
                                    e.event.emit(c.EVENT.RESOLVED_ROUND_PLAY_URL_FAILED, t.status)
                        }
                    ), (function(t) {
                            P.default.log("Loaded Round PlayURL Error.", 2),
                                e.event.emit(c.EVENT.FAILED_TO_GET_THE_ROUND_PLAYURL, t.status)
                        }
                    ))
                }
                ,
                e.prototype.resolveRoundPlayURL = function(e, t, n) {
                    var i = this;
                    O.default.resolve(n, (function(n) {
                            window.clearTimeout(i.initializedTimeOut),
                                i.event.emit(c.EVENT.RESOLVED_ROUND_PLAY_URL_SUCCESSFULLY, {
                                    title: e,
                                    time: t,
                                    roundData: n
                                })
                        }
                    ), (function(e, t, n) {
                            P.default.log("Resolve round interface playurl failed. " + [e] + ": " + t + ", " + n, 2),
                                i.event.emit(c.EVENT.FAILED_TO_GET_THE_ROUND_PLAYURL, 200)
                        }
                    ))
                }
                ,
                e.prototype.getCurrentLiveLine = function(e, t) {
                    return void 0 === e && (e = 0),
                        r(this, void 0, void 0, (function() {
                                var n, i, r;
                                return o(this, (function(o) {
                                        switch (o.label) {
                                            case 0:
                                                return t = t || this.state.quality,
                                                    this._verifyPlayerURLIsExpired(t) ? (this._loadLivePlayurlAPI(t),
                                                        [3, 3]) : [3, 1];
                                            case 1:
                                                return P.default.log("Switch To Line: " + e + ", quality: " + t + ", codec: " + this.state.codec),
                                                    n = this.state,
                                                    i = n.playURLList[e],
                                                    r = i.url,
                                                    n.playURL = r,
                                                    n.streamFormat = i.streamFormat,
                                                    n.quality = t || c.default.QUALITY_DEFAULT,
                                                    n.lastOpState = "",
                                                    [4, this.loadP2PScript(this.state.coreProtocol)];
                                            case 2:
                                                o.sent(),
                                                    this.components.video.clearDetectBufferSlowly(),
                                                    this.event.emit(c.EVENT.RESOLVED_CURRENT_PLAY_URL_SUCCESSFULLY, n.playURL),
                                                    this.components.newCtrl.initContextMenuUrl(),
                                                    o.label = 3;
                                            case 3:
                                                return [2]
                                        }
                                    }
                                ))
                            }
                        ))
                }
                ,
                e.prototype.addInitCallback = function(e) {
                    this._initialized ? e() : this._initializedCallbackQueue.push(e)
                }
                ,
                e.prototype.triggerInitCallback = function() {
                    var e = this;
                    this._initialized || (this._initializedCount++,
                    c.default.PLAYER_INITIALIZED_COUNT === this._initializedCount && (this._initialized = !0,
                        P.default.log("Initialized.", 0, this._logTimeInitialize),
                        this._trackInitializedToLoadPlayURLTime = this.trackTime(c.TRACK.STATISTICS_INITIALIZED_TO_LOAD_PLAYURL),
                        this.loading(100),
                        this._initializedCallbackQueue.forEach((function(t) {
                                t.call(e)
                            }
                        )),
                        this._trackPlayerInitializedTime()))
                }
                ,
                e.prototype.addFirstPlayCallback = function(e) {
                    "function" == typeof e && (this.state.firstPlayingStatus ? e() : this._firstPlayingCallbackQueue.push(e))
                }
                ,
                e.prototype.triggerFirstPlayCallback = function() {
                    this._firstPlayingCallbackQueue.length && (this._firstPlayingCallbackQueue.forEach((function(e) {
                            e()
                        }
                    )),
                        this._firstPlayingCallbackQueue = []),
                        this.state.firstPlayingStatus = !0
                }
                ,
                e.prototype.sendDanmaku = function(e) {
                    return this.sendMsg(e)
                }
                ,
                e.prototype.sendGift = function(e, t) {
                    void 0 === t && (t = 1),
                        e ? (P.default.log("Send gift id: " + e + " - " + t),
                            this.addDanmaku({
                                stime: -1,
                                mode: 1,
                                size: 25,
                                color: 16777215,
                                date: l.default.getTimeNow(!0),
                                uid: "110",
                                html: v.default.getSendGiftHtml(e, t)
                            })) : P.default.log("Send gift id missing: " + e, 1)
                }
                ,
                e.prototype.noticeGift = function(e) {
                    e ? (P.default.log("Notice gift: " + e),
                    this.components.giftManager && this.components.giftManager.add({
                        type: c.default.GIFT_SYS_GIFT,
                        msg: e.toString()
                    })) : P.default.log("Notice gift msg missing: " + e, 1)
                }
                ,
                e.prototype.noticeGuard = function(e) {
                    c.STATE_STRING.WS_MESSAGE_GUARD_MSG === e.cmd && e.msg ? (P.default.log("Notice guard : " + e.msg),
                    this.components.giftManager && this.components.giftManager.add({
                        type: c.default.GIFT_SYS_GUARD,
                        msg: e.msg,
                        buyType: e.buyType || 0
                    })) : P.default.log("Notice guard info error, " + JSON.stringify(e), 1)
                }
                ,
                e.prototype.sendGiftStatus = function(e, t) {
                    this.components.giftFullscreen && this.components.giftFullscreen.handleMessage(parseInt(e.toString(), 10), t)
                }
                ,
                e.prototype.switchLine = function(e, t) {
                    this.state.isStopPlayback || (this.event.emit(c.EVENT.SWITCH_LINE, e),
                    "function" == typeof t && (this.state.reloadDoneCallback = t))
                }
                ,
                e.prototype.switchQuality = function(e, t) {}
                ,
                e.prototype.resize = function() {
                    this.event.emit(c.EVENT.PLAYER_RESIZE, this.components.template && this.components.template.wrap.width())
                }
                ,
                e.prototype.sendMsg = function(t, n) {
                    var r = this;
                    if (t && "[object Object]" === Object.prototype.toString.call(t)) {
                        P.default.log("Send Danmaku " + t);
                        var o = this.config
                            , a = o.rnd
                            , s = e.getDanmakuColor(t.color)
                            , d = e.getDanmakuMode(t.mode)
                            , h = t.fontsize || c.default.DANMAKU_DEFAULT_FONT_SIZE
                            , f = (o.rid,
                        t.uniqueID || 0)
                            , p = t.isIgnore
                            , v = {
                            stime: -1,
                            mode: d,
                            size: h,
                            color: s,
                            date: l.default.getTimeNow(!0),
                            uid: o.uid,
                            dmid: a,
                            text: "" + t.msg,
                            border: !0,
                            borderColor: c.STATE_STRING.DANMAKU_BORDER_COLOR,
                            uname: o.uname
                        };
                        t.hasOwnProperty("isIgnore") && delete t.isIgnore,
                        t.hasOwnProperty("uniqueID") && delete t.uniqueID;
                        var y = i({
                            color: s,
                            fontsize: h,
                            mode: d,
                            msg: t.msg,
                            rnd: a,
                            roomid: o.rid
                        }, t)
                            , g = new Promise((function(e, t) {
                                l.default.ajax({
                                    url: u.default.send,
                                    data: y,
                                    type: "post",
                                    withCredentials: !0
                                }, (function(i) {
                                        0 === i.code ? (!p && r.state.danmukuShowSatatus && (r.components.danmaku.add(v, !0),
                                            r.components.danmaku.addLocalMessage(v)),
                                            e({
                                                uniqueID: f,
                                                response: i
                                            }),
                                            l.default.callFunctionAsynchronously(n)) : (r.track(c.TRACK.ERROR_SENDING_DANMAKU),
                                            t({
                                                uniqueID: f,
                                                response: i
                                            })),
                                            l.default.fireEventCallback(r.callbackMap.sendDanmaku, {
                                                uniqueID: f,
                                                response: i
                                            })
                                    }
                                ), (function(e) {
                                        t({
                                            uniqueID: f,
                                            response: i({}, e, {
                                                errMsg: "ajax faild"
                                            })
                                        })
                                    }
                                ))
                            }
                        ));
                        if (this.config.fnPromiseMode)
                            return g
                    } else {
                        if (this.config.fnPromiseMode)
                            return Promise.reject({
                                response: {
                                    errMsg: "Send Danmaku Text Null Error."
                                }
                            });
                        P.default.log("Send Danmaku Text Null Error.", 2)
                    }
                }
                ,
                e.prototype.addGift = function(e) {
                    var t = this;
                    this.addInitCallback((function() {
                            t.components.giftManager && t.components.giftManager.add(e)
                        }
                    ))
                }
                ,
                e.prototype.addDanmaku = function(e) {
                    var t = this;
                    this.addInitCallback((function() {
                            t.getVisibilityStatus() && t.components.danmaku.add(e)
                        }
                    ))
                }
                ,
                e.prototype.checkDanmakuBlockStatus = function(e) {
                    return e && this.components.danmaku.checkDanmakuBlockStatus(e)
                }
                ,
                e.prototype.attendAnchor = function(e) {
                    this.components.endingPanel.attentionHandler(!!e)
                }
                ,
                e.prototype.verifyLogin = function(e) {
                    this.user.getFullUserConfig().login ? "function" == typeof e && e() : l.default.fireEventCallback(this.callbackMap.userLogin)
                }
                ,
                e.prototype.track = function(e, t) {
                    var n = this;
                    this.addFirstPlayCallback((function() {
                            n.components.track && n.components.track.send(e, t)
                        }
                    ))
                }
                ,
                e.prototype.trackTime = function(e) {
                    var t = this
                        , n = l.default.getTimeNow(!0);
                    return function() {
                        var i = l.default.getTimeNow(!0) - n - t.state.backgroundTabTime;
                        t.track(e, {
                            time: i
                        }),
                            n = void 0
                    }
                }
                ,
                e.prototype.trackBuffering = function(e) {
                    this._trackBufferingCount++,
                        P.default.log("Track Video Buffer Slowly: " + this._trackBufferingCount + ", buffered: " + e.time + "ms, " + e.param),
                        this.track(c.TRACK.STATISTICS_VIDEO_BUFFERING, e)
                }
                ,
                e.prototype.trackFirstLoaded = function() {
                    this._trackFirstLoadedTime ? this._trackFirstLoadedTimeStatus && (this._trackFirstLoadedTimeStatus = !1,
                        this._trackFirstLoadedTime()) : this._trackFirstLoadedTime = this.trackTime(c.TRACK.EXPERIENCE_FIRST_LOADED)
                }
                ,
                e.prototype.getPlayerNetworkEarlyEOFCount = function() {
                    return this.state.networkEarlyEOFCount
                }
                ,
                e.prototype.addPlayerNetworkEarlyEOFCount = function() {
                    return this.state.networkEarlyEOFCount++
                }
                ,
                e.prototype.refreshPausedTime = function(e) {
                    this.state.pausedTime = l.default.getTimeNow(!0),
                    e && this.trackPlayingTime()
                }
                ,
                e.prototype.refreshPlayingTime = function(e) {
                    void 0 === e && (e = !1);
                    var t = l.default.getTimeNow(!0);
                    P.default.log("Reset playing time (" + e + "), latest time: " + (this.state.playingTime + t - this.state.pausedTime)),
                        this.state.playingTime = e ? 0 : this.state.playingTime + t - this.state.pausedTime,
                        this.clearTrackPlayingTime()
                }
                ,
                e.prototype.destoryVideoMaskImgae = function() {
                    this.components && this.components.video && this.components.video.destoryVideoMaskImgae()
                }
                ,
                e.prototype.getPlayingTime = function() {
                    return Math.round((this.state.playingTime + l.default.getTimeNow(!0) - this.state.pausedTime) / 1e3)
                }
                ,
                e.prototype.trackPlayingTime = function() {
                    var e = this;
                    if (this.clearTrackPlayingTime(),
                    c.default.L_STATUS_LIVE === this.getLiveStatus() && c.default.V_PLAY === this.getVideoStatus()) {
                        var t = this.getPlayingTime();
                        t && this.track(c.TRACK.STATISTICS_PLAYING_TIME, {
                            time: t
                        })
                    }
                    this._trackPlayingTime = window.setTimeout((function() {
                            e.trackPlayingTime()
                        }
                    ), 1e4)
                }
                ,
                e.prototype.clearTrackPlayingTime = function() {
                    clearTimeout(this._trackPlayingTime)
                }
                ,
                e.prototype.getDanmakuBlockList = function() {
                    return this.components.block.getBlockList()
                }
                ,
                e.prototype.resetSwitchInfo = function(e, t) {
                    if (e)
                        switch (e) {
                            case c.default.SWITCH_TYPE_LINE:
                                t = t || c.CONFIG_STRING.LINE_MAIN,
                                    this.state.switchState = !0,
                                    this.state.switchInfo = {
                                        type: c.default.SWITCH_TYPE_LINE,
                                        initText: "线路即将切换至" + t,
                                        completedText: "线路已经切换至" + t,
                                        failedText: "线路切换失败"
                                    };
                                break;
                            case c.default.SWITCH_TYPE_QUALITY:
                                t = t || c.CONFIG_STRING.QUALITY_SOURCE,
                                    this.state.switchState = !0,
                                    this.state.switchInfo = {
                                        type: c.default.SWITCH_TYPE_QUALITY,
                                        initText: "清晰度即将切换至" + t,
                                        completedText: "清晰度已经切换至" + t,
                                        failedText: "清晰度切换失败"
                                    }
                        }
                    else
                        this.state.switchState = !1,
                            this.state.switchInfo = {}
                }
                ,
                e.prototype.mock = function(e, t) {
                    if ("https" !== window.location.protocol)
                        switch (e) {
                            case c.STATE_STRING.MOCK_SOCKET:
                                this.components && this.components.socket && this.components.socket._messageReply(t)
                        }
                }
                ,
                e.prototype.showSwitchTip = function(e) {
                    var t = this;
                    if (this.state.switchState) {
                        var n = this.components.template.wrap
                            , i = this.state
                            , r = i.switchInfo
                            , o = "切换提示"
                            , a = !0;
                        switch (clearTimeout(this.INTERVAL.AUTO_REMOVE_SWITCH_INFO),
                        !i.switchTipWrap && this.state.onSwitching && (i.switchTipWrap = $('<div class="bilibili-live-player-video-controller-switch-quality-info no-select" style="display:none;"></div>').appendTo(n)),
                            e) {
                            case c.default.SWITCH_INFO_TYPE_INIT:
                                o = r.initText,
                                    a = !1;
                                break;
                            case c.default.SWITCH_INFO_TYPE_COMPLETED:
                                o = r.completedText;
                                break;
                            case c.default.SWITCH_INFO_TYPE_FAILED:
                                o = r.failedText
                        }
                        P.default.log("Switch Tips: " + o),
                        i.switchTipWrap && i.switchTipWrap.fadeIn(100).html(o),
                            n.attr("data-video-loading-state", "hide"),
                        a && (this.INTERVAL.AUTO_REMOVE_SWITCH_INFO = setTimeout((function() {
                                i.switchTipWrap && i.switchTipWrap.fadeOut(300, (function() {
                                        t.clearSwitchTip(),
                                            n.attr("data-video-loading-state", "show")
                                    }
                                ))
                            }
                        ), this.INTERVAL.AUTO_REMOVE_SWITCH_INFO_TIME))
                    }
                }
                ,
                e.prototype.clearSwitchTip = function() {
                    var e = this.state;
                    clearTimeout(this.INTERVAL.AUTO_REMOVE_SWITCH_INFO),
                    e.switchTipWrap && e.switchTipWrap.remove(),
                        e.switchTipWrap = void 0
                }
                ,
                e.prototype.toast = function(e, t) {
                    var n = this;
                    t = t || this.INTERVAL.TOAST_INFO;
                    var i = this.components.template.wrap;
                    clearTimeout(this.INTERVAL.TOAST_INFO),
                        this.state.toastEl ? this.state.toastEl.text(e) : this.state.toastEl = $('<div class="bilibili-live-player-video-controller-toast-info no-select"\n                >' + e + "</div>").appendTo(i),
                        this.INTERVAL.TOAST_INFO = setTimeout((function() {
                                n.state.toastEl && n.state.toastEl.fadeOut(300, (function() {
                                        n.state.toastEl && n.state.toastEl.remove(),
                                            n.state.toastEl = null
                                    }
                                ))
                            }
                        ), t)
                }
                ,
                e.prototype.onPlayerLiveStatus = function(e) {
                    switch (this.state.liveStatus) {
                        case c.default.L_STATUS_LIVE:
                            l.default.callFunc(e && e.onLive);
                            break;
                        case c.default.L_STATUS_ROUND:
                            l.default.callFunc(e && e.onRound);
                            break;
                        case c.default.L_CLOSE:
                        case c.default.L_STATUS_PREPARING:
                        case c.default.L_BLOCK:
                        case c.default.L_ERROR:
                            l.default.callFunc(e && e.onPreparing)
                    }
                }
                ,
                e.prototype.changeUIStatus = function(e) {
                    var t = this.components.template.wrap;
                    P.default.log("change UIStatus " + JSON.stringify(e));
                    var n = ""
                        , i = !1;
                    for (var r in e.tipsText && (this.state.UIState.tipsText = e.tipsText),
                        e) {
                        switch (r) {
                            case "logo":
                                n = "data-video-logo-state",
                                    i = e.logo,
                                    this.state.UIState.logo = i;
                                break;
                            case "feedback":
                                n = "data-video-feedback-state",
                                    i = e.feedback,
                                    this.state.UIState.feedback = i;
                                break;
                            case "recommend":
                                i = e.recommend,
                                    this.state.UIState.recommend = i,
                                    n = "data-video-recommend-state",
                                this.components.endingPanel && this.components.endingPanel.setTipsValue(this.state.UIState.tipsText, i)
                        }
                        0 !== n.length && (t.attr(n, i),
                            n = "")
                    }
                }
                ,
                e.prototype.reset = function(e) {
                    var t = this.components;
                    return this.state.lastPlayURLRequestTime = 0,
                        t.errorPanel.hide(),
                        t.endingPanel.hide(),
                    !this.state.onFixing && this.refreshPlayingTime(!0),
                        this.state.backgroundTabTime = 0,
                    e && (t.loadingPanel.show(),
                        t.newCtrl.end(),
                    t.video && t.video.reset(),
                        this.state.playURLIndex = c.default.LIVE_URL,
                        this.state.onSwitching = !1,
                        this.clearSwitchTip(),
                        this.components.template.wrap.attr("data-video-loading-state", "show")),
                        this
                }
                ,
                e.prototype.resetStartTime = function() {
                    return this.config.startTime = Math.floor(Date.now() / 1e3),
                        this
                }
                ,
                e.prototype.reloadLive = function(e) {
                    if (this.state.onStop)
                        return this;
                    this.components.video.recoverReload(),
                        this.components.video.reloadLive(e)
                }
                ,
                e.prototype.reloadRound = function(e) {
                    this.components.video.reloadRound(e)
                }
                ,
                e.prototype.preRound = function(e) {
                    void 0 === e && (e = 300),
                        this.components.video.counterRoundPlay(e)
                }
                ,
                e.prototype.trackPlayingError = function() {
                    this.track(c.TRACK.ERROR_PLAYING, {
                        isFirstError: this._isFirstError,
                        errorCode: this.state.errorCode
                    }),
                        this._isFirstError = !1
                }
                ,
                e.prototype.toggleMiniType = function(e) {
                    void 0 === e && (e = !0);
                    this.components.template.wrap.attr("data-mini-type", e ? "true" : "false")
                }
                ,
                e.prototype.toggleDanmakuVisibility = function(e) {
                    void 0 === e && (e = !0);
                    this.state.danmukuShowSatatus = !!e,
                        this.components.danmaku.visible(!!e),
                        this.components.template.wrap.attr("data-danmaku-visibility", e ? "true" : "false")
                }
                ,
                e.prototype.restoreReloadFailed = function() {
                    this.components.video.restoreReloadFailed()
                }
                ,
                e.prototype.multiAudioTagDetected = function() {
                    var e = this;
                    clearTimeout(this.INTERVAL.MULTI_AUDIO_RELOAD),
                        this.INTERVAL.MULTI_AUDIO_RELOAD = setTimeout((function() {
                                P.default.log("Multi-audio tag detected. Ready to reload", 1),
                                    e.reload()
                            }
                        ), 8e3)
                }
                ,
                e.prototype.logVideoInfo = function(e) {
                    if (e && !this.state.logVideoInfoStatus) {
                        this.state.logVideoInfoStatus = !0;
                        try {
                            P.default.log("Video Info: \n" + JSON.stringify(e) + "\n", 3)
                        } catch (e) {}
                    }
                    try {
                        var t = e && e.filter((function(e) {
                                return "droppedFrames" === e.name
                            }
                        ));
                        if (t && t.length) {
                            var n = t[0].data.split("/");
                            this.state.playerVideoQualityInfo = {
                                droppedFrames: parseInt(n[0], 10),
                                totalFrames: parseInt(n[1], 10)
                            }
                        }
                    } catch (e) {}
                    return this
                }
                ,
                e.prototype.getPlayerInfo = function() {
                    return {
                        type: this.config.useType,
                        version: e.VERSION().version,
                        playerType: "HTML5",
                        liveStatus: this.state.liveStatus,
                        playerStatus: this.state.playerStatus,
                        playingStatus: this.state.videoStatus === c.default.V_PLAY,
                        playurl: this.state.playURL,
                        guid: this.state.guid,
                        line: this.state.playURLIndex,
                        quality: this.state.quality + "_" + this.state.codec,
                        qualityCandidates: this.state.qualityList,
                        playerVideoQualityInfo: this.state.playerVideoQualityInfo,
                        mask: {
                            isShowMask: this.components.mask.isShowMask
                        }
                    }
                }
                ,
                e.prototype.getOperableElements = function() {
                    return {
                        mainElement: this.components && this.components.template && this.components.template.operable_wrap[0]
                    }
                }
                ,
                e.prototype.notifyInOperation = function(e) {
                    void 0 === e && (e = !0);
                    var t = !!e;
                    this.state.isInOperation !== t && (P.default.log("Player operable container " + (t ? "is in" : "exit") + " operation."),
                        this.state.isInOperation = t,
                    this.components.template && this.components.template.wrap.attr("data-in-operation", t))
                }
                ,
                e.prototype.notifyAnnouncement = function(e, t) {
                    void 0 === e && (e = !0),
                    void 0 === t && (t = 100);
                    var n = !!e;
                    if (this.state.isInAnnouncement !== n) {
                        P.default.log("Announcement is " + (n ? "beginning" : "ending")),
                            this.state.isInAnnouncement = n;
                        try {
                            this.components.danmaku.option("offsetTop", e ? t : 0)
                        } catch (e) {}
                    }
                }
                ,
                e.prototype.getVideoMutedState = function() {
                    return this.components.video.state.playingMuted
                }
                ,
                e.prototype.changeVideoMutedState = function(e) {
                    void 0 === e && (e = !1),
                    e || this.components.video.changeMutedState()
                }
                ,
                e.prototype.getUserId = function() {
                    return this.user.getRoomInitData().uid
                }
                ,
                e.prototype.blockSyncUserData = function() {
                    this.components.block.canInject() && this.components.block.injectUserData()
                }
                ,
                e.prototype.requestRoomInit = function(e) {
                    var t = this
                        , n = l.default.getTimeNow(!0);
                    l.default.ajax({
                        data: this.getPlayurlRequestParam(this.state.quality),
                        url: u.default.roomInit,
                        beforeSend: function() {
                            n = l.default.getTimeNow(!0)
                        }
                    }, (function(i) {
                            P.default.log("Loaded room init API:\n\n " + JSON.stringify(i) + " \n", 3);
                            var r = l.default.getTimeNow(!0) - n;
                            t.addInitCallback((function() {
                                    t.track(c.TRACK.STATISTICS_ROOM_INIT_API_LOAD_TIME, {
                                        time: r
                                    })
                                }
                            ));
                            var o = i.code;
                            i.code = "number" == typeof o ? o : parseInt(o, 10),
                                t.loadedRoomInitAPI(i),
                            "function" == typeof e && e(i)
                        }
                    ), (function(t) {
                            P.default.log("Request roomInitData Error! Info: \n\n" + JSON.stringify(t) + "\n", 2),
                                e(null)
                        }
                    ))
                }
                ,
                e.prototype.getDanmuKuInfo = function() {
                    return r(this, void 0, void 0, (function() {
                            return o(this, (function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return this.user ? [4, this.user.requestDanmuServerApi(!1)] : [3, 2];
                                        case 1:
                                            e.sent(),
                                                this.config.server = this.user.getHostServer().host,
                                                this.config.hostList = this.user.getHostServer().hostServerList.map((function(e) {
                                                        return e.host
                                                    }
                                                )),
                                                this.config.socketToken = this.user.getHostServer().token,
                                                this.config.protocol.port = this.user.getHostServer().hostServerList[0].wsPort || c.default.WEBSOCKET_PORT,
                                                e.label = 2;
                                        case 2:
                                            return [2]
                                    }
                                }
                            ))
                        }
                    ))
                }
                ,
                e.prototype.injectInitAPIData = function(e) {
                    return !(!this.user || !e) && (this.user.setInitData(e),
                        !0)
                }
                ,
                e.prototype.stopPlayback = function(e) {
                    P.default.log("stopPlayback, op: " + JSON.stringify(e));
                    var t = this.getLiveStatus();
                    if (e && t !== c.default.L_STATUS_PREPARING && t !== c.default.L_ERROR) {
                        var n = this.components;
                        this.state.onStop = !0,
                            this.state.isStopPlayback = !0,
                            this.event.emit(c.EVENT.ON_ERROR_RETRY_CANCELED),
                        n.danmaku && n.danmaku.play(),
                            n.video.destroy(!0),
                            n.newCtrl.destroy();
                        var i = e.url || "//s1.hdslb.com/bfs/static/player/live/html5/images/error@1x.png";
                        this.setDanmakuBgurl(i, !!e.url),
                            this._setVideoStatus(c.default.V_PLAY),
                            this.state.liveStatus = c.default.L_STATUS_PREPARING,
                            this.clearSwitchTip()
                    }
                }
                ,
                e.prototype.setDanmakuBgurl = function(e, t) {
                    this.components.danmaku.setBgurl(e, t)
                }
                ,
                e.prototype.getMaskStatus = function() {
                    return this.components.mask && this.components.mask.getMaskStatus
                }
                ,
                e.prototype.screenChange = function(e, t, n) {
                    e === c.SCREEN_TYPE.FULL ? l.default.fireEventCallback(this.callbackMap.fullscreenChange, t, n) : l.default.fireEventCallback(this.callbackMap.webFullscreen, t, n)
                }
                ,
                e.prototype.enterPlaybackMode = function(e) {
                    var t = this.state
                        , n = Math.ceil(Date.now() / 1e3 - e);
                    P.default.log("Player enterPlaybackMode, timeshift=" + n);
                    var i = c.STREAM_FORMAT.HLS_FMP4_AVC
                        , r = c.STREAM_FORMAT.HLS_FMP4_HEVC;
                    if (!t.streamCandidates[i] && !t.streamCandidates[r])
                        return P.default.log("Player enterPlaybackMode failed, not have HLS stream"),
                            void this.exitPlaybackMode();
                    n > c.MAX_PLAYBACK_TIME_SHIFT && (P.default.log("Player enterPlaybackMode not allow greater than MAX_PLAYBACK_TIME_SHIFT"),
                        n = c.MAX_PLAYBACK_TIME_SHIFT,
                        this.components.playbackComp.redrawOrigin()),
                        t.isPlaybacking ? this._playbackTmpState.timeShift = n : (this.saveStateBeforePlaybackMode({
                            timeShift: n
                        }),
                        t.danmukuShowSatatus && this.toggleDanmakuVisibility(!1)),
                        t.isPlaybacking = !0,
                        this._playbackTmpState.pauseTime = null,
                        this.components.newCtrl.enterPlaybackUI();
                    var o = "";
                    if (t.streamFormat === i || t.streamFormat === r)
                        o = t.playURL + "&tmshift=" + n;
                    else {
                        var a = t.streamCandidates[r] ? r : i
                            , s = t.streamCandidates[a] && t.streamCandidates[a].urls[0] && t.streamCandidates[a].urls[0].url;
                        s && (t.playURL = s + "&platform=web&pSession=" + t.guid,
                            o = t.playURL + "&tmshift=" + n),
                            t.streamFormat = a
                    }
                    t.coreProtocol && (t.coreProtocol = c.P2P_TYPE.HLS_BILI),
                    o && this.reloadLive(o)
                }
                ,
                e.prototype.resetPlaybackController = function() {
                    this.components.newCtrl.exitPlaybackUI()
                }
                ,
                e.prototype.resetControllerAndState = function() {
                    var e = this._playbackTmpState
                        , t = this.state;
                    this.resetPlaybackController(),
                        t.isPlaybacking = !1,
                        t.onExitPlayback = !0,
                    e.danmukuShowSatatus && this.toggleDanmakuVisibility(!0),
                        this.resetStateAfterPlaybackMode()
                }
                ,
                e.prototype.exitPlaybackMode = function() {
                    P.default.log("Player exitPlaybackMode.");
                    var e = this._playbackTmpState
                        , t = this.state;
                    if (t.isPlaybacking) {
                        if (e.liveEndTime && e.liveEndTime < Math.floor(Date.now() / 1e3))
                            return this.resetPlaybackController(),
                            e.liveEndCallback && e.liveEndCallback(),
                                this.resetStateAfterPlaybackMode(),
                                void (t.isPlaybacking = !1);
                        this.resetControllerAndState(),
                            this.reload(t.playURLIndex)
                    }
                }
                ,
                e.prototype.enablePlayback = function() {
                    this.state.enablePlayback = !0,
                        this.components.template.controller_wrap[0].classList.add("enable-playback")
                }
                ,
                e.prototype.disablePlayback = function() {
                    this.state.enablePlayback = !1
                }
                ,
                e.prototype.removePlayback = function() {
                    this.state.isPlaybacking ? this.components.playbackComp.setDestroyFlag() : (this.disablePlayback(),
                        this.components.playbackComp.destroy())
                }
                ,
                e.prototype.saveStateBeforePlaybackMode = function(e) {
                    var t = this.state
                        , n = t.danmukuShowSatatus
                        , r = t.coreProtocol
                        , o = t.playURL
                        , a = t.streamFormat;
                    this._playbackTmpState = i({
                        liveEndTime: null,
                        pauseTime: null,
                        liveEndCallback: null,
                        coreProtocol: r,
                        playURL: o,
                        streamFormat: a,
                        danmukuShowSatatus: n
                    }, e)
                }
                ,
                e.prototype.resetStateAfterPlaybackMode = function() {
                    if (this._playbackTmpState) {
                        var e = this.state
                            , t = this._playbackTmpState;
                        e.coreProtocol = t.coreProtocol,
                            e.playURL = t.playURL,
                            e.streamFormat = t.streamFormat,
                            this._playbackTmpState = null
                    } else
                        P.default.log("Player resetStateAfterPlaybackMode, but _playbackTmpState is " + JSON.stringify(this._playbackTmpState), 2)
                }
                ,
                e.prototype.receiveMessage = function(e) {
                    if (e.origin === u.default.reclipHost && "getClipCacheData" === e.data) {
                        var t = this.components;
                        if (!t.video)
                            return this.track(c.TRACK.STATISTIC_GET_CLIP_DATA_FAIL_NO_VIDEO),
                                !1;
                        var n = t.video.getClipCacheData()
                            , i = t.video.getConfig();
                        if (!t.video.canClip || !n || !i)
                            return this.track(c.TRACK.STATISTIC_GET_CLIP_DATA_FAIL_NO_DATA),
                                !1;
                        var r = e.source;
                        r instanceof MessagePort || r instanceof ServiceWorker || (r.postMessage({
                            type: "clipCacheData",
                            clipCacheData: n,
                            clipConfig: i
                        }, e.origin),
                            this.track(c.TRACK.STATISTIC_GET_CLIP_DATA_SUCCESS))
                    }
                }
                ,
                e.prototype.handleZzmaskChange = function(e) {
                    e ? (this.set({
                        component: "mask",
                        action: "danmakuMaskStatusChange",
                        data: {
                            type: "mask",
                            status: !1
                        }
                    }),
                    this.plugins.zzmask && this.plugins.zzmask.open()) : (this.components.danmaku && this.components.danmaku.deleteMask(),
                    this.plugins.zzmask && this.plugins.zzmask.close())
                }
                ,
                e.prototype.clearErrorHistory = function() {
                    this.state.errorCodeHistory.length = 0
                }
                ,
                e.prototype.getErrorResult = function() {
                    var e = this.state.errorCodeHistory;
                    P.default.log("errorCodeHistroy: " + JSON.stringify(e));
                    for (var t = "0", n = -1, i = 0; i < e.length; i++) {
                        var r = e[i]
                            , o = r.type
                            , a = r.httpCode
                            , s = "";
                        switch (-1 !== a && -10 !== a && (s = " status: " + a),
                            o.toString()[0]) {
                            case "1":
                                n <= 10 && (t = o + s,
                                    n = 10);
                                break;
                            case "2":
                                n <= 20 && (t = o + s,
                                    n = 20);
                                break;
                            case "3":
                                n <= 30 && (t = o + s,
                                    n = 30);
                                break;
                            case "4":
                                n <= 0 && (t = o + s,
                                    n = 0);
                                break;
                            case "5":
                                n <= 0 && (t = o + s,
                                    n = 10);
                                break;
                            case "6":
                                n <= 100 && (t = o + s,
                                    n = 100)
                        }
                    }
                    return t
                }
                ,
                e.prototype.userInit = function() {
                    var e = this
                        , t = new m.default({
                        config: {
                            cid: this.config.cid,
                            switchCount: this.config.switchCount,
                            onInitDanmaku: function(n) {
                                var i = t.getUserConfig();
                                e.config.user = i,
                                    e.blockSyncUserData(),
                                    l.default.fireEventCallback(e.callbackMap.initDanmaku, n)
                            },
                            onTrack: function(t, n) {
                                e.track(t, {
                                    time: n
                                })
                            },
                            scriptLoadTime: this.state.scriptLoadTime,
                            downgrade: this.config.downgrade,
                            useType: this.config.useType
                        }
                    });
                    this.user = t
                }
                ,
                e.prototype.loadedRoomInitAPI = function(t) {
                    var n = this
                        , i = this._options
                        , r = this.user
                        , o = t.data.live_status;
                    if (this.config.useType === c.default.PLAYER_HOME && t.data.live_status === c.default.L_STATUS_ROUND && (o = c.default.L_ERROR,
                        this.errorRetrying = !0),
                        r.setRoomInitData({
                            liveStatus: o,
                            roomShield: t.data.room_shield,
                            startTime: t.data.live_time
                        }),
                    t && 0 === t.code) {
                        if (t.data && 0 !== Object.keys(t.data).length) {
                            this.config.playurlData = t,
                            (t.data.all_special_types || []).includes(N.SpecialType.REAL_TIME_PLAYBACK) && this.enablePlayback(),
                                this.reload(),
                                this.addFirstPlayCallback((function() {
                                        r.initialize().then((function() {
                                                var t = r.getUserConfig();
                                                n.config.cid = i.cid,
                                                    n.config.uid = r.getRoomInitData().uid,
                                                    n.config.rid = i.cid,
                                                    n.config.server = r.getHostServer().host,
                                                    n.config.hostList = r.getHostServer().hostServerList.map((function(e) {
                                                            return e.host
                                                        }
                                                    )),
                                                    n.config.protover = i.protover || 0,
                                                    n.config.user = t,
                                                    n.config.socketToken = r.getHostServer().token,
                                                    n.config.version = e.VERSION,
                                                    n.config.protocol.port = r.getHostServer().hostServerList[0].wsPort || c.default.WEBSOCKET_PORT,
                                                    n.track(c.TRACK.UV),
                                                c.STATE_STRING.PROTOCOL_API_HTTPS === location.protocol && (n.config.protocol = {
                                                    api: c.STATE_STRING.PROTOCOL_API_HTTPS,
                                                    websocket: c.STATE_STRING.PROTOCOL_WEBSOCKET_SECURITY,
                                                    port: r.getHostServer().hostServerList[0].wssPort || c.default.WEBSOCKET_SECURITY_PORT
                                                });
                                                var o = r.getFullUserConfig();
                                                n.components.send && n.components.send.refreshConfig(o),
                                                    n.event.emit(c.EVENT.RESOLVED_USER_INFO_API_SUCCESSFULLY),
                                                    n.components.socket.init(),
                                                    n.components.block.initialize(),
                                                    n.components.playbackComp.initial()
                                            }
                                        )).catch((function(e) {
                                                P.default.log("Request User Info Apis Error!! Info: \\n\\n" + JSON.stringify(e) + "\\n`", 2)
                                            }
                                        ))
                                    }
                                )),
                                this.config.startTime = r.getRoomInitData().startTime;
                            var a = r.getRoomInitData().liveStatus;
                            a || (P.default.log("Unresolved Player API Error.", 2),
                                P.default.log("Set To The Default State:", 2));
                            var s = a;
                            this.setLiveStatus(s),
                            s !== c.default.L_STATUS_LIVE && (this.state.firstLoadStart = !0,
                                this.state.firstLoadedMetaData = !0,
                                this.state.firstPlaying = !0,
                                l.default.fireEventCallback(this.callbackMap.firstLoadStart),
                                l.default.fireEventCallback(this.callbackMap.firstLoadedMetaData),
                                l.default.fireEventCallback(this.callbackMap.firstPlaying),
                                this.triggerFirstPlayCallback()),
                            s === c.default.L_STATUS_PREPARING && this.event.emit(c.EVENT.ON_PREPARING).emit(c.EVENT.ON_ERROR_RETRY_CANCELED),
                            s === c.default.L_STATUS_LIVE && setTimeout((function() {
                                    n.triggerFirstPlayCallback()
                                }
                            ), 5e3),
                                this.triggerInitCallback()
                        }
                    } else
                        P.default.log("Data Of roomInitData API is empty!", 2)
                }
                ,
                e.prototype._preRenderedDom = function() {
                    var e = "bilibili-live-player";
                    if (!this._container.find("." + e).length) {
                        var t = n(9);
                        this._container.html(t({
                            prefix: e,
                            isPreRendered: !0
                        }))
                    }
                    this._initialize()
                }
                ,
                e.prototype._initialize = function() {
                    var t = this;
                    "development" === l.default.BUNDLE_TYPE && console.warn("%cBILIBILI HTML5 PLAYER VERSION: " + e.VERSION().version + ".", "font-size:20px;color:#00b498;"),
                        console.info("%c构建时间：%c" + new Date(Number(e.VERSION().buildTime)), "font-weight: bold;", "color: #00b498;");
                    var n = new d.default(this._container)
                        , i = n.getTemplate();
                    this.htmlTemplate = n;
                    var r = P.default.log("Components Initializing...");
                    return l.default.time("Initialize Components"),
                        this.components = {
                            template: i,
                            playbackComp: new B.default(this,i.controller_wrap,i.wrap),
                            newCtrl: new h.default(this,i.controller_wrap[0],{
                                playerWrap: i.wrap[0],
                                videoWrap: i.video_wrap[0]
                            }),
                            video: new p.default(this,i.video),
                            socket: new f.default(this),
                            block: new g.default(this),
                            report: new _.default(i.wrap),
                            danmaku: new v.default(this,i.danmaku_wrap),
                            endingPanel: new T.default(this,i.ending_wrap),
                            errorPanel: new w.default(this,i.wrap),
                            forbiddenPanel: new E.default({
                                container: i.wrap,
                                config: {
                                    prefix: this.config.prefix
                                }
                            }),
                            track: new b.default(this.config,this.state),
                            mask: new y.default(this)
                        },
                        this.config.controllable.gift,
                    this.config.controllable.send && (i.wrap.attr("data-send-activity", this.config.controllable.send ? "true" : "false"),
                        this.components.send = new k.default(this,i.send_wrap)),
                        this.plugins = {
                            clipboard: new R.default(i.wrap),
                            videoInfo: new I.default(i.video_wrap),
                            eventLog: new P.default(i.video_wrap,{
                                activateStorage: !0,
                                storageKey: "BILIBILI_LIVE_PLAYER_EVENT_LOG"
                            }),
                            contextMenu: new L.default(i.wrap,{
                                appendTo: i.wrap,
                                outerWrap: i.wrap,
                                changeMode: !0,
                                autoRemove: !0,
                                changeType: 2,
                                onChange: this._contextMenuOnChange.bind(this)
                            })
                        },
                        this.config.useType === c.default.PLAYER_HOME ? (this.components.loadingPanel = new A.default(i.loading_wrap),
                            this.components.enterTips = new C.default(this,i.enter_wrap)) : (this.components.loadingPanel = new S.default(i.loading_wrap),
                        this.config.useType === c.default.PLAYER_ACTIVITY && (void 0 !== this._options.compsCustomConfig.enterTheRoom && 2 === this._options.compsCustomConfig.enterTheRoom && (this.components.enterTips = new C.default(this,i.enter_wrap),
                            this.components.template.wrap.attr("data-enter-the-room", "2")),
                        !this.components.enterTips && i.enter_wrap.remove())),
                        this.checkPlayerType(),
                        this.plugins.contextMenu.unshift([{
                            type: "function",
                            text: c.CONFIG_STRING.VIDEO_INFO,
                            click: function() {
                                t.plugins.videoInfo && t.plugins.videoInfo.show()
                            }
                        }]),
                        this.plugins.contextMenu.unshift([{
                            type: "submenu",
                            text: c.CONFIG_STRING.PLAYER_INFO,
                            submenu: [{
                                type: "function",
                                text: c.CONFIG_STRING.PLAYER_INFO_SHOW,
                                icon: "blp-icon-show",
                                click: function() {
                                    try {
                                        t.plugins.eventLog && t.plugins.eventLog.show()
                                    } catch (e) {
                                        P.default.log("Show player info error, " + JSON.stringify(e), 2)
                                    }
                                }
                            }, {
                                type: "function",
                                text: c.CONFIG_STRING.PLAYER_INFO_COPY,
                                icon: "blp-icon-copy",
                                click: function() {
                                    try {
                                        var e = t.plugins.eventLog.text();
                                        t.plugins.clipboard && t.plugins.clipboard.copy(e, (function() {
                                                t.showOperationSuccessTips("复制成功")
                                            }
                                        ))
                                    } catch (e) {
                                        t.showOperationSuccessTips("复制失败"),
                                            P.default.log("Copy player info error, " + JSON.stringify(e), 2)
                                    }
                                }
                            }, {
                                type: "function",
                                text: c.CONFIG_STRING.PLAYER_INFO_DOWNLOAD,
                                icon: "blp-icon-download",
                                click: function() {
                                    try {
                                        var e = t.plugins.eventLog.text();
                                        t.downloadFile(e, "Bilibili-Live-HTML5-Player-EventLog-" + Date.now() + ".txt"),
                                            t.showOperationSuccessTips("下载成功")
                                    } catch (e) {
                                        t.showOperationSuccessTips("下载失败"),
                                            P.default.log("Download player info error, " + JSON.stringify(e), 2)
                                    }
                                }
                            }]
                        }]),
                        this.addInitCallback((function() {
                                t.components.danmaku.resize().play(),
                                    t._trackBufferingSlowly(),
                                    t._firePlayerInitialized(),
                                    t._container.removeAttr("data-pre-rendered")
                            }
                        )),
                    !this.config.downgrade && this.addFirstPlayCallback((function() {
                            t.getIPJsonData()
                        }
                    )),
                        this.track(c.TRACK.STATISTICS_PAGE_INIT_TIME, {
                            time: this.config.initTime
                        }),
                        l.default.time("Initialize Components", !0),
                        this.setPlayerStatus(c.default.P_NORMAL),
                        P.default.log("Components Initialized.", 0, r),
                        this.loading(100),
                        this.initializedTimeOut = window.setTimeout((function() {
                                t.error(c.ERROR_CODE.LIVE_PLAYER_INITIALIZED_TIME_OUT, "Initialized Time out.", !0)
                            }
                        ), this.initializedMaxTime),
                        this.triggerInitCallback(),
                        this._bindCustomEvents()._bindEvents(),
                        this.initWrapAttr(),
                        this.state.liveStatus = c.default.L_STATUS_LIVE,
                        this
                }
                ,
                e.prototype.getPlayurlRequestParam = function(e) {
                    var t = this.config
                        , n = this.state.ptype
                        , i = {
                        room_id: t.cid,
                        protocol: "0,1",
                        format: "0,2",
                        codec: "0,1",
                        qn: e,
                        platform: "web",
                        ptype: n
                    };
                    return 3 === this.state.reuseTime && (delete i.ptype,
                        this.state.ptype = 0),
                        i
                }
                ,
                e.prototype._loadLivePlayurlAPI = function(e) {
                    var t = this
                        , n = this.config
                        , i = this.state;
                    if (this._trackInitializedToLoadPlayURLTime && this._trackInitializedToLoadPlayURLTime(),
                        this._trackInitializedToLoadPlayURLTime = void 0,
                        i.playURLList.length) {
                        var r = i.guid
                            , o = l.default.getRandomString();
                        i.guid = o,
                            this._guidChange(o, r)
                    }
                    e = e || i.quality;
                    var a = i.destroyId;
                    n.playurlData ? (this._trackPlayURLLoadedTime = this.trackTime(c.TRACK.STATISTICS_PLAYURL_LOADED),
                        P.default.log("Load SSR playurl data", 0, this._logTimeInitialize),
                        P.default.log("Live SSR Play URL data: \n\n" + JSON.stringify(n.playurlData) + "\n", 3),
                        this._logTimeInitialize = 0,
                        this._loadedLivePlayurl(n.playurlData),
                        n.playurlData = null) : l.default.ajax({
                        data: this.getPlayurlRequestParam(e),
                        url: u.default.roomInit,
                        beforeSend: function() {
                            t._trackPlayURLLoadedTime = t.trackTime(c.TRACK.STATISTICS_PLAYURL_LOADED),
                            t._trackFirstPlayurlLoadedTimeStatus || (t._trackFirstPlayurlLoadedTime = t.trackTime(c.TRACK.EXPERIENCE_FIRST_PLAYURL)),
                                t._logTimePlayUrl = P.default.log("Loading live playurl", 0, t._logTimeInitialize),
                                t._logTimeInitialize = 0
                        }
                    }, (function(e) {
                            P.default.log("Live Play URL data: \n\n" + JSON.stringify(e) + "\n", 3),
                            a === t.state.destroyId && t._loadedLivePlayurl(e)
                        }
                    ), (function(e) {
                            t.event.emit(c.EVENT.FAILED_TO_GET_THE_PLAYURL, e.status)
                        }
                    ))
                }
                ,
                e.prototype._guidChange = function(e, t) {
                    void 0 === t && (t = ""),
                    "" !== this.state.lastOpState && t !== e && (l.default.fireEventCallback(this.callbackMap.guidChange, {
                        guid: e,
                        oldGuid: t,
                        playerType: "HTML5",
                        type: this.state.lastOpState,
                        timestamp: Date.now()
                    }),
                        this.state.lastOpState = "")
                }
                ,
                e.prototype._loadedLivePlayurl = function(e) {
                    var t = this;
                    !this.config.playurlData && P.default.log("Loaded Live Play URL.", 0, this._logTimePlayUrl);
                    var n = this.state;
                    if (this._trackPlayURLLoadedTime(),
                    this._trackFirstPlayurlLoadedTimeStatus || (this._trackFirstPlayurlLoadedTimeStatus = !0,
                    "function" == typeof this._trackFirstPlayurlLoadedTime && this._trackFirstPlayurlLoadedTime()),
                    !e && 0 !== e.code)
                        return P.default.log("Get playurl [code] error: \n\n" + JSON.stringify(e) + "\n", 2),
                            void this.event.emit(c.EVENT.FAILED_TO_GET_THE_PLAYURL, 200);
                    n.lastPlayURLRequestTime = l.default.getTimeNow(),
                        this.state.firstPlayURLRequestTime = l.default.getTimeNow(!0);
                    var r = e.data;
                    if (!r || !r.playurl_info)
                        return P.default.log("Get playurl [playurl_info] error: \n\n" + JSON.stringify(e) + "\n", 2),
                            void (this.state.liveStatus === c.default.L_STATUS_PREPARING ? this.event.emit(c.EVENT.ON_PREPARING).emit(c.EVENT.ON_ERROR_RETRY_CANCELED) : this.event.emit(c.EVENT.RESOLVED_PLAY_URL_FAILED, 200));
                    try {
                        var o = U.parseStreamUrl(r.playurl_info, {
                            forceP2PType: this.config.urlParams["p2p-type"],
                            forceAvc: this.state.codec === c.CODEC_NAME.AVC
                        })
                            , a = o.p2pType
                            , s = o.urlList
                            , u = o.acceptQns
                            , d = o.currentQn
                            , h = o.currentCodec
                            , f = o.streamInfo
                            , p = o.streamCandidates;
                        if (u) {
                            n.checkQn || (n.checkQn = d,
                                n.checkCodec = h);
                            var v = d + "_" + h;
                            n.qualityList = u,
                                this.components.newCtrl.setQuality(v, u)
                        } else
                            P.default.log("Get quality list error", 2);
                        if (!s || 0 === s.length)
                            throw new Error("没有可播放的流地址");
                        n.streamCandidates = p,
                            n.playURLList = s.map((function(e) {
                                    return i({}, e, {
                                        url: e.url + "&platform=web&pSession=" + n.guid
                                    })
                                }
                            )),
                            n.coreProtocol = a,
                            n.quality = d,
                            n.codec = h,
                            n.streamInfo = Object.assign(n.streamInfo, f),
                            n.trackLoadStreamErrorStatus = !0,
                            this.components.newCtrl.setLine(n.playURLIndex, n.playURLList.length),
                            clearTimeout(this.INTERVAL.TRACK_STREAM_LOAD_ERROR_TIMER),
                            this.INTERVAL.TRACK_STREAM_LOAD_ERROR_TIMER = setTimeout((function() {
                                    t.state.trackLoadStreamErrorStatus = !1
                                }
                            ), 5e3),
                            P.default.log("Resolved playurl successfully."),
                            this.getCurrentLiveLine(n.playURLIndex, d),
                            window.clearTimeout(this.initializedTimeOut)
                    } catch (e) {
                        P.default.log("解析playurl接口数据出错，" + e.toString(), 2),
                            console.error(e),
                            this.event.emit(c.EVENT.RESOLVED_PLAY_URL_FAILED, 200)
                    }
                }
                ,
                e.prototype.loadP2PScript = function(e) {
                    var t = this;
                    return new Promise((function(n) {
                            return r(t, void 0, void 0, (function() {
                                    var t;
                                    return o(this, (function(i) {
                                            switch (i.label) {
                                                case 0:
                                                    return P.default.log("set core p2ptype: " + e),
                                                        e === c.P2P_TYPE.NONE ? (n(),
                                                            [2]) : (t = this.state.p2pSdkPath)[e] ? [4, this.loadScript(t[e].url, t[e].timeout).catch((function(e) {
                                                                P.default.log(e, 2)
                                                            }
                                                        ))] : (n(),
                                                            [2]);
                                                case 1:
                                                    return i.sent(),
                                                        n(),
                                                        [2]
                                            }
                                        }
                                    ))
                                }
                            ))
                        }
                    ))
                }
                ,
                e.prototype.sortDurl = function(e) {
                    if (e && 0 !== e.length) {
                        var t = e[0].stream_type;
                        e = e.sort((function(e, t) {
                                return e.stream_type - t.stream_type
                            }
                        ));
                        for (var n = void 0, i = void 0, r = 0; r < e.length; r++) {
                            if (n && e[r].stream_type !== t) {
                                i = r;
                                break
                            }
                            e[r].stream_type === t && (n = r)
                        }
                        if (0 !== n || i) {
                            var o = (i = i || e.length - 1) - n
                                , a = e.splice(n, o);
                            e = a.concat(e)
                        }
                    }
                    return e
                }
                ,
                e.prototype.checkPlayerType = function() {
                    var e = this.components.template.wrap
                        , t = "player-room";
                    switch (this.config.useType) {
                        case c.default.PLAYER_ROOM:
                            t = "player-room";
                            break;
                        case c.default.PLAYER_HOME:
                            t = "player-home";
                            break;
                        case c.default.PLAYER_ACTIVITY:
                            t = "player-activity"
                    }
                    e.attr("data-player-type", t)
                }
                ,
                e.prototype.initWrapAttr = function() {
                    if (this.components.template && this.components.template.wrap) {
                        var e = this.components.template.wrap;
                        e.attr("data-video-logo-state", this.state.UIState.logo),
                            e.attr("data-video-feedback-state", this.state.UIState.feedback),
                            e.attr("data-video-recommend-state", this.state.UIState.recommend)
                    }
                }
                ,
                e.prototype._bindEvents = function() {
                    var e = this
                        , t = this.components.template.wrap
                        , n = this.components.template.controller_wrap
                        , i = this.config.namespace;
                    t.off("mousemove" + i).on("mousemove" + i, (function(i) {
                            var r = e.getLiveStatus();
                            (clearTimeout(e.INTERVAL.FULLSCREEN_AUTO_HIDE_CURSOR),
                                t.attr("data-cursor-state", "show"),
                            c.default.L_STATUS_LIVE === r || c.default.L_STATUS_ROUND === r) && (l.default.getRelativePos(i, t, !0).y > .67 || $.contains(n[0], i.target) ? e.showPlayerController("user") : (e.INTERVAL.FULLSCREEN_AUTO_HIDE_CURSOR = setTimeout((function() {
                                    e.hidePlayerController("user")
                                }
                            ), 2e3),
                                e.hidePlayerController("user")))
                        }
                    )).off("mouseleave" + i).on("mouseleave" + i, (function() {
                            e.hidePlayerController("user")
                        }
                    )),
                        this.components.template.video_wrap.off("dblclick" + i).on("dblclick" + i, (function(t) {
                                var n = e.getPlayerStatus();
                                if (e.config.useType !== c.default.PLAYER_HOME)
                                    switch (n) {
                                        case c.default.P_NORMAL:
                                            e.setPlayerStatus(c.default.P_WEB_FULLSCREEN, c.SCREEN_CHANGE.DBCLICK).track(c.TRACK.STATISTICS_WEB_FULLSCREEN);
                                            break;
                                        default:
                                            e.setPlayerStatus(c.default.P_NORMAL, c.SCREEN_CHANGE.DBCLICK).track(c.default.P_FULLSCREEN === n ? c.TRACK.STATISTICS_EXIT_FULLSCREEN_BY_ESC : c.TRACK.STATISTICS_EXIT_WEB_FULLSCREEN_BY_ESC)
                                    }
                            }
                        )),
                        $(window).off("resize" + i).on("resize" + i, (function() {
                                c.default.P_NORMAL !== e.getPlayerStatus() && e.plugins.zzmask && e.plugins.zzmask.resize()
                            }
                        )).off("unload" + i).on("unload" + i, (function() {}
                        )),
                        document.addEventListener("visibilitychange", (function() {
                                var t = "visible" === document.visibilityState;
                                e.config.visibilityStatus = t,
                                t && e.state.backgroundTabStartTime && (P.default.log("Background Tab Time ", 0, e.state.backgroundTabStartTime),
                                    e.state.backgroundTabTime = Math.floor(l.default.getTimeNow(!0) - e.state.backgroundTabStartTime),
                                    e.state.backgroundTabStartTime = 0),
                                e.components.danmaku && (e.components.danmaku.clearWaitingQueue(),
                                t && e.components.danmaku.renderAfterHalfTime())
                            }
                        )),
                        D.default.addFullscreenChange((function() {
                                D.default.isFullscreen && (c.default.P_FULLSCREEN,
                                    e.state.playerStatus),
                                D.default.isFullscreen || c.default.P_WEB_FULLSCREEN !== e.state.playerStatus && e.setPlayerStatus(c.default.P_NORMAL, c.SCREEN_CHANGE.ESC)
                            }
                        )),
                        $(".chat-ctnr-hider-ctnr").on("click" + this.config.namespace, (function() {
                                e.components.danmaku.resize()
                            }
                        )),
                        this.state.autoResizeHandler = l.default.bindElemResize(t[0], (function(t, n) {
                                e.event.emit(c.EVENT.PLAYER_RESIZE, t, n)
                            }
                        )),
                        this.state.autoResizeHandler()
                }
                ,
                e.prototype._bindCustomEvents = function() {
                    return x.default(this, this.event),
                        this
                }
                ,
                e.prototype._contextMenuOnChange = function(e, t, n, i) {
                    var r = this;
                    if (this.config.useType !== c.default.PLAYER_HOME && this.components.danmaku) {
                        var o = l.default.getRelativePos(t, this.components.template.wrap)
                            , a = this.components.danmaku.search(o.x, o.y);
                        if (a.length) {
                            var s = [];
                            return s.push({
                                type: "division"
                            }),
                                a.forEach((function(e) {
                                        var t = e.textData.text
                                            , n = e.textData.uname
                                            , i = e.textData.uid
                                            , o = e.textData.checkInfo
                                            , a = i === r.config.uid;
                                        s.push({
                                            type: "submenu",
                                            text: t,
                                            submenu: [{
                                                type: "function",
                                                disabled: a,
                                                text: c.CONFIG_STRING.DANMAKU_REPORT,
                                                click: function() {
                                                    r.components.report.show({
                                                        uid: i,
                                                        roomid: r.config.rid,
                                                        uname: n,
                                                        msg: t,
                                                        checkInfo: o
                                                    })
                                                }
                                            }, {
                                                type: "function",
                                                disabled: a,
                                                text: c.CONFIG_STRING.DANMAKU_BLOCK,
                                                click: function() {
                                                    r.components.block.shieldUser(c.default.BLOCK_ADD_SHIELD, i)
                                                }
                                            }, {
                                                type: "function",
                                                text: c.CONFIG_STRING.DANMAKU_COPY,
                                                click: function() {
                                                    r.plugins.clipboard.copy(t, (function() {
                                                            l.default.log(t + " Copied.")
                                                        }
                                                    ))
                                                }
                                            }, {
                                                type: "function",
                                                text: c.CONFIG_STRING.DANMAKU_LINK_SPACE,
                                                link: "http://space.bilibili.com/" + i
                                            }]
                                        }),
                                        r.state.initializedDataMap.admin.isAdmin && s[s.length - 1].submenu.splice(2, 0, {
                                            type: "function",
                                            text: c.CONFIG_STRING.DANMAKU_ADD_TO_BLOCK_LIST,
                                            disabled: a,
                                            click: function() {
                                                l.default.fireEventCallback(r.callbackMap.set, {
                                                    component: "block",
                                                    action: "addBlackList",
                                                    data: n
                                                })
                                            }
                                        })
                                    }
                                )),
                                this.track(c.TRACK.STATISTICS_SHOW_CONTEXT_MENU),
                                s
                        }
                    }
                    return []
                }
                ,
                e.prototype._setVideoStatus = function(e) {
                    var t = this.components.template.wrap;
                    switch (P.default.log("Set Video Status: " + e),
                        e) {
                        case c.default.V_PLAY:
                            t.attr("data-video-state", "playing");
                            break;
                        case c.default.V_PAUSE:
                            t.attr("data-video-state", "paused")
                    }
                    this.state.videoStatus = e
                }
                ,
                e.prototype._verifyPlayerURLIsExpired = function(e) {
                    var t = this.config
                        , n = this.state
                        , i = !1;
                    return (l.default.getTimeNow() - n.lastPlayURLRequestTime >= this.config.playurlTimeout || 0 === n.lastPlayURLRequestTime || e !== n.quality || 0 === t.startTime) && (i = !0),
                        i
                }
                ,
                e.prototype._getTrackBufferingCount = function() {
                    return this._trackBufferingCount
                }
                ,
                e.prototype._trackBufferingSlowly = function() {
                    var e = this
                        , t = [1, 4, 25];
                    t.forEach((function(n, i) {
                            e._trackIntervalMap[i] = window.setTimeout((function() {
                                    P.default.log("Buffering Count at " + t[i] + " min(s): " + e._getTrackBufferingCount()),
                                        e.track(c.TRACK.EXPERIENCE_BUFFERING_SLOWLY, {
                                            optype: i + 2,
                                            counts: e._getTrackBufferingCount()
                                        })
                                }
                            ), 1e3 * n * 60)
                        }
                    ))
                }
                ,
                e.prototype._getReturnFnBindThis = function(e) {
                    var t = this;
                    return function() {
                        for (var n = [], i = 0; i < arguments.length; i++)
                            n[i] = arguments[i];
                        var r = e.apply(t, n);
                        return r
                    }
                }
                ,
                e.prototype._getPlayerReturn = function() {
                    var t = this;
                    if ("development" === l.default.BUNDLE_TYPE)
                        return this;
                    var n = {
                        NAME: "BILIBILI HTML5 LIVE PLAYER",
                        VERSION: e.VERSION
                    };
                    return [{
                        key: "play",
                        fn: this.play
                    }, {
                        key: "pause",
                        fn: this.pause
                    }, {
                        key: "reload",
                        fn: this.reload
                    }, {
                        key: "end",
                        fn: this.end
                    }, {
                        key: "destroy",
                        fn: this.destroy
                    }, {
                        key: "error",
                        fn: this.error
                    }, {
                        key: "stop",
                        fn: this.stop
                    }, {
                        key: "freeze",
                        fn: this.freeze
                    }, {
                        key: "refresh",
                        fn: this.refresh
                    }, {
                        key: "discardFrame",
                        fn: this.discardFrame
                    }, {
                        key: "remainBufferLength",
                        fn: this.remainBufferLength
                    }, {
                        key: "loadVideo",
                        fn: this.loadVideo
                    }, {
                        key: "set",
                        fn: this.set
                    }, {
                        key: "sendMsg",
                        fn: this.sendMsg
                    }, {
                        key: "sendDanmaku",
                        fn: this.sendDanmaku
                    }, {
                        key: "sendGift",
                        fn: this.sendGift
                    }, {
                        key: "sendGiftStatus",
                        fn: this.sendGiftStatus
                    }, {
                        key: "attendAnchor",
                        fn: this.attendAnchor
                    }, {
                        key: "noticeGuard",
                        fn: this.noticeGuard
                    }, {
                        key: "noticeGift",
                        fn: this.noticeGift
                    }, {
                        key: "switchLine",
                        fn: this.switchLine
                    }, {
                        key: "switchQuality",
                        fn: this.switchQuality
                    }, {
                        key: "on",
                        fn: this.on
                    }, {
                        key: "init",
                        fn: this.init
                    }, {
                        key: "resize",
                        fn: this.resize
                    }, {
                        key: "volume",
                        fn: this.volume
                    }, {
                        key: "mute",
                        fn: this.mute
                    }, {
                        key: "showDanmaku",
                        fn: this.showDanmaku
                    }, {
                        key: "notifyInOperation",
                        fn: this.notifyInOperation
                    }, {
                        key: "notifyAnnouncement",
                        fn: this.notifyAnnouncement
                    }, {
                        key: "addLoadingPicture",
                        fn: this.addLoadingPicture
                    }, {
                        key: "injectInitAPIData",
                        fn: this.injectInitAPIData
                    }, {
                        key: "getPlaybackDelay",
                        fn: this.getPlaybackDelay
                    }, {
                        key: "setProtectPlaybackRate",
                        fn: this.setProtectPlaybackRate
                    }, {
                        key: "setPlaybackRate",
                        fn: this.setPlaybackRate
                    }, {
                        key: "getPlaybackRate",
                        fn: this.getPlaybackRate
                    }, {
                        key: "setChasingFrameThreshold",
                        fn: this.setChasingFrameThreshold
                    }, {
                        key: "changeUIStatus",
                        fn: this.changeUIStatus
                    }, {
                        key: "mock",
                        fn: this.mock
                    }].forEach((function(e) {
                            n[e.key] = t._getReturnFnBindThis(e.fn)
                        }
                    )),
                        n.getPlayerInfo = function() {
                            return t.getPlayerInfo.apply(t)
                        }
                        ,
                        n.stopPlayback = function(e) {
                            return t.stopPlayback(e)
                        }
                        ,
                        n.getOperableElements = function() {
                            return t.getOperableElements.apply(t)
                        }
                        ,
                        n
                }
                ,
                e.prototype._checkRoomInitExist = function(e) {
                    var t = this.config.roomInitData
                        , n = t && t.code;
                    (n = "number" == typeof n ? n : parseInt(n, 10)) >= 0 ? (this.loadedRoomInitAPI(t),
                    "function" == typeof e && e({
                        code: n
                    })) : this.requestRoomInit(e || null)
                }
                ,
                e.prototype._checkRoomIsForbidden = function() {
                    var e = this;
                    this._checkRoomInitExist((function(t) {
                            t && t.code === c.ERROR_CODE.ROOM_AREA_LIMIT_CODE && e.addInitCallback((function() {
                                    e.pause(),
                                        e.destroy(!1),
                                        e.forbidden(!0, t.msg)
                                }
                            ))
                        }
                    ))
                }
                ,
                e.prototype._loadVideo = function(e) {
                    if (this._options.cid !== e.cid) {
                        var t = parseInt(e.cid.toString(), 10);
                        return this._options.cid = t,
                            this.config.cid = t,
                            this.config.rid = t,
                            this.state.onStop = !1,
                            this.destroy(!0),
                            this.state.destroyId = Date.now(),
                            this._load(),
                            this.setVolume(this.getLocalStorageVolume()),
                            this
                    }
                }
                ,
                e.prototype._firePlayerInitialized = function() {
                    var t = e.VERSION();
                    l.default.fireEventCallback(this.callbackMap.initialized, {
                        type: "html5",
                        version: t.version,
                        build: t.build,
                        operableElements: {
                            mainElement: this.components.template && this.components.template.operable_wrap[0]
                        }
                    }),
                        this.callbackMap.initialized = []
                }
                ,
                e.prototype.showOperationSuccessTips = function(e) {
                    var t = this.components.template.wrap
                        , n = c.PREFIX + "-copy-log-success";
                    t && t.find("." + n).remove(),
                        $('<div class="' + n + '">' + e + "</div>").appendTo(t).addClass(c.PREFIX + "-active"),
                        setTimeout((function() {
                                t && t.find("." + n).remove()
                            }
                        ), 2e3)
                }
                ,
                e.prototype.getIPJsonData = function() {
                    var e = this;
                    try {
                        this.config.IPJson || l.default.ajax({
                            url: u.default.getIPJson
                        }, (function(t) {
                                0 === t.code && (e.config.IPJson = t.data,
                                e.state.logIPJsonStatus || (P.default.log("IP JSON:\n\n " + JSON.stringify(e.config.IPJson) + "\n", 3),
                                    e.state.logIPJsonStatus = !0))
                            }
                        ))
                    } catch (e) {}
                    return this
                }
                ,
                e.prototype.downloadFile = function(e, t) {
                    try {
                        var n = document.createElement("a");
                        n.download = t,
                            n.style.display = "none";
                        var i = new Blob([e]);
                        n.href = window.URL.createObjectURL(i),
                            document.body.appendChild(n),
                            n.click(),
                            document.body.removeChild(n)
                    } catch (e) {
                        P.default.log("Failed to download file, " + e, 2)
                    }
                }
                ,
                e.prototype.mixinControllableConfig = function() {
                    if (this.config.useType === c.default.PLAYER_ACTIVITY) {
                        var e = this._options.compsCustomConfig
                            , t = {
                            controller: {},
                            send: !1,
                            gift: !1,
                            logo: ""
                        }
                            , n = {};
                        try {
                            var i = e.enterTheRoom;
                            if (void 0 !== i)
                                switch (i) {
                                    case 0:
                                    case 1:
                                        n.enterTheRoom = !!i;
                                        break;
                                    case 2:
                                        n.enterTheRoom = !1
                                }
                            void 0 !== e.switchQuality && (n.switchQuality = !!e.switchQuality),
                            void 0 !== e.setting && (n.setting = !!e.setting),
                            void 0 !== e.reload && (n.reload = !!e.reload),
                            void 0 !== e.danmaku && (n.danmaku = !!e.danmaku),
                            void 0 !== e.fullscreen && (n.fullscreen = !!e.fullscreen),
                            void 0 !== e.send && (t.send = !!e.send),
                            void 0 !== e.gift && (t.gift = !!e.gift),
                                t.controller = n
                        } catch (t) {
                            P.default.log("Mixin controllable config error", 1),
                                P.default.log(JSON.stringify(e), 3)
                        }
                        this.config.controllable = $.extend(!0, {}, {
                            controller: {
                                enterTheRoom: !0,
                                switchQuality: !0,
                                switchPlayer: !0,
                                switchLine: !0,
                                reload: !0,
                                danmaku: !0,
                                fullscreen: !0
                            },
                            send: !1,
                            gift: !1,
                            logo: ""
                        }, t)
                    }
                }
                ,
                e.prototype.clearExpiredLivePlayurlInfo = function() {
                    var e = this.state;
                    e.qualityList = [],
                        e.playURLList = [],
                        e.playURL = "",
                        e.quality = c.default.QUALITY_DEFAULT,
                        e.lastOpState = "",
                        this.state.lastPlayURLRequestTime = 0
                }
                ,
                e.prototype.loadScript = function(e, t) {
                    return void 0 === t && (t = 3e3),
                        new Promise((function(n, i) {
                                P.default.log("load script " + e),
                                    $.ajax({
                                        cache: !0,
                                        url: e,
                                        dataType: "script"
                                    }).done((function() {
                                            n(!0)
                                        }
                                    )).fail((function() {
                                            i("load script: " + e + ", fail")
                                        }
                                    )),
                                    setTimeout((function() {
                                            i("load " + e + ", timeout: " + t)
                                        }
                                    ), t)
                            }
                        ))
                }
                ,
                e
        }();
        t.default = F
    }
    , function(e, t, n) {
        "use strict";
        var i = this && this.__assign || function() {
                return (i = Object.assign || function(e) {
                        for (var t, n = 1, i = arguments.length; n < i; n++)
                            for (var r in t = arguments[n])
                                Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                        return e
                    }
                ).apply(this, arguments)
            }
            , r = this && this.__awaiter || function(e, t, n, i) {
                return new (n || (n = Promise))((function(r, o) {
                        function a(e) {
                            try {
                                l(i.next(e))
                            } catch (e) {
                                o(e)
                            }
                        }
                        function s(e) {
                            try {
                                l(i.throw(e))
                            } catch (e) {
                                o(e)
                            }
                        }
                        function l(e) {
                            e.done ? r(e.value) : new n((function(t) {
                                    t(e.value)
                                }
                            )).then(a, s)
                        }
                        l((i = i.apply(e, t || [])).next())
                    }
                ))
            }
            , o = this && this.__generator || function(e, t) {
                var n, i, r, o, a = {
                    label: 0,
                    sent: function() {
                        if (1 & r[0])
                            throw r[1];
                        return r[1]
                    },
                    trys: [],
                    ops: []
                };
                return o = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                },
                "function" == typeof Symbol && (o[Symbol.iterator] = function() {
                        return this
                    }
                ),
                    o;
                function s(o) {
                    return function(s) {
                        return function(o) {
                            if (n)
                                throw new TypeError("Generator is already executing.");
                            for (; a; )
                                try {
                                    if (n = 1,
                                    i && (r = 2 & o[0] ? i.return : o[0] ? i.throw || ((r = i.return) && r.call(i),
                                        0) : i.next) && !(r = r.call(i, o[1])).done)
                                        return r;
                                    switch (i = 0,
                                    r && (o = [2 & o[0], r.value]),
                                        o[0]) {
                                        case 0:
                                        case 1:
                                            r = o;
                                            break;
                                        case 4:
                                            return a.label++,
                                                {
                                                    value: o[1],
                                                    done: !1
                                                };
                                        case 5:
                                            a.label++,
                                                i = o[1],
                                                o = [0];
                                            continue;
                                        case 7:
                                            o = a.ops.pop(),
                                                a.trys.pop();
                                            continue;
                                        default:
                                            if (!(r = a.trys,
                                            (r = r.length > 0 && r[r.length - 1]) || 6 !== o[0] && 2 !== o[0])) {
                                                a = 0;
                                                continue
                                            }
                                            if (3 === o[0] && (!r || o[1] > r[0] && o[1] < r[3])) {
                                                a.label = o[1];
                                                break
                                            }
                                            if (6 === o[0] && a.label < r[1]) {
                                                a.label = r[1],
                                                    r = o;
                                                break
                                            }
                                            if (r && a.label < r[2]) {
                                                a.label = r[2],
                                                    a.ops.push(o);
                                                break
                                            }
                                            r[2] && a.ops.pop(),
                                                a.trys.pop();
                                            continue
                                    }
                                    o = t.call(e, a)
                                } catch (e) {
                                    o = [6, e],
                                        i = 0
                                } finally {
                                    n = r = 0
                                }
                            if (5 & o[0])
                                throw o[1];
                            return {
                                value: o[0] ? o[1] : void 0,
                                done: !0
                            }
                        }([o, s])
                    }
                }
            }
            , a = this && this.__importDefault || function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            , s = this && this.__importStar || function(e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        Object.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                return t.default = e,
                    t
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var l, c = a(n(51)), u = s(n(52)), d = n(0), h = a(n(53)), f = a(n(54)), p = a(n(55)), v = n(56), y = a(n(1)), g = u.SistersPlayerContext, m = u.WastedDataType, _ = u.FetchErrorType;
        function b(e) {
            return "string" == typeof e ? e : e instanceof Error ? e.toString() : JSON.stringify(e)
        }
        function E(e, t) {
            for (var n = t, i = 0, r = e; i < r.length; i++) {
                var o = r[i];
                if (n < o.duration / 1e3)
                    return {
                        segment: o,
                        segStartTime: n
                    };
                n -= o.duration / 1e3
            }
            return {
                segment: null,
                segStartTime: 0
            }
        }
        !function(e) {
            e[e.Info = 0] = "Info",
                e[e.Warning = 1] = "Warning",
                e[e.Error = 2] = "Error"
        }(l || (l = {})),
            t.fMp4Player = c.default.fMp4Player,
            t.Events = {
                INITIALIZED: "initialized",
                VIDEO_INFO: "videoInfo",
                RECEIVED_SEI: "receivedSEI",
                WARNING: "warning",
                ERROR: "error",
                FIRST_PACKET_COST: "first_packet_cost",
                FIRST_FRAME_COST: "first_frame_cost",
                BILI_P2P_TRACK: "bili_p2p_track",
                LOADEDMETADATA_COST: "loadedmetadata_cost",
                NETWORK_RESPONSE: "network_response"
            };
        var S = !1
            , T = 0
            , w = function() {
            function e(n) {
                var r = this;
                if (this.listeners = {},
                    this.videoInfoState = null,
                    this.loaderType = "Fetch",
                    this.currentPlayURL = "",
                    this.skipTime = 0,
                    this.errFlag = null,
                    this.onInitChanged = function(e) {
                        r.log("player onInitChanged event log: " + JSON.stringify(e))
                    }
                    ,
                    this.onMetaData = function(e) {
                        try {
                            r.log("onMetaData fired"),
                                r.videoInfoState = {
                                    mediaInfo: {
                                        width: (n = i({}, e, {
                                            mimeType: r.mediaPlayer.mimeType,
                                            videoURL: r.currentPlayURL,
                                            loaderType: r.loaderType,
                                            playerType: r.playerType
                                        })).width,
                                        height: n.height,
                                        mimeType: n.mimeType,
                                        fps: Number(y.default.toFixed(n.fps, 3)),
                                        encoder: n.encoder,
                                        videoDataRate: n.videodatarate,
                                        audioDataRate: n.audiodatarate,
                                        audioSampleRate: n.audiosamplerate,
                                        audioChannelCount: n.audiochannel
                                    },
                                    statisticsInfo: {
                                        playerType: n.playerType,
                                        loaderType: n.loaderType,
                                        videoURL: n.videoURL,
                                        audioURL: "",
                                        droppedFrames: 0,
                                        decodedFrames: 0,
                                        videoBufferLength: 0,
                                        videoNetworkActivity: 0,
                                        audioNetworkActivity: 0,
                                        audioBufferLength: 0
                                    }
                                },
                                r.trigger(t.Events.VIDEO_INFO, {
                                    flag: "meta",
                                    data: r.videoInfoState
                                })
                        } catch (e) {
                            console.error(e),
                                r.log("onMetaData error: " + e.message, l.Error)
                        }
                        var n
                    }
                    ,
                    this.onSeiData = function(e, n, i, o) {
                        r.trigger(t.Events.RECEIVED_SEI, {
                            dts: e,
                            pts: n,
                            uuid: i,
                            data: o
                        })
                    }
                    ,
                    this.onNetworkError = function(e, n) {
                        r.errFlag = "netwrokError",
                            r.trigger(t.Events.ERROR, {
                                code: e,
                                errInfo: n
                            }),
                            r.destroy()
                    }
                    ,
                    this.onParserError = function(e, n) {
                        r.errFlag = "parserError",
                            r.trigger(t.Events.ERROR, {
                                code: e,
                                errInfo: n
                            }),
                            r.destroy()
                    }
                    ,
                    this.onFileFetched = function(e, t) {
                        t > 2e3 && r.log("fetch slowly: " + e + ", cost " + t + "ms", l.Warning)
                    }
                    ,
                    this.onFirstResponse = function(e) {
                        r.trigger(t.Events.NETWORK_RESPONSE, e)
                    }
                    ,
                    this.createP2PFetcher = function(e) {
                        if (S)
                            r.log("p2pError, type: " + e);
                        else {
                            var t;
                            switch (e) {
                                case d.P2P_TYPE.FLV_KS:
                                    t = f.default,
                                        r.loaderType = "KSFetcher";
                                    break;
                                case d.P2P_TYPE.FLV_QVB:
                                    t = h.default,
                                        r.loaderType = "QVBFetcher";
                                    break;
                                case d.P2P_TYPE.FLV_ALI:
                                    t = p.default,
                                        r.loaderType = "AliFetcher"
                            }
                            t ? t.isSupported() ? (r.log("mediaPlayer.createFetcher, loaderType: " + r.loaderType),
                                    r.mediaPlayer.createFetcher = function(e, n, i) {
                                        var o = new t((function(t) {
                                                e(new v.CustomResponse(t))
                                            }
                                        ),n,(function() {
                                                for (var e = [], t = 0; t < arguments.length; t++)
                                                    e[t] = arguments[t];
                                                S = !0,
                                                    r.log("third fetcher Error: " + e.map(b).join(", "), l.Error),
                                                    i.apply(void 0, e)
                                            }
                                        ));
                                        return o.videoElement = r.videoEl,
                                            o
                                    }
                            ) : r.log("p2p loaed failed, or not support in browser, type: " + e, l.Error) : r.log("not need start-up sisters, type: " + e)
                        }
                    }
                    ,
                    this.trigger = function(e, t) {
                        var n = r.listeners[e];
                        n && n.forEach((function(e) {
                                try {
                                    e(t)
                                } catch (e) {
                                    console.error(e),
                                        r.log("event handler error: " + e.toString())
                                }
                            }
                        ))
                    }
                    ,
                    T += 1,
                    this._id = T,
                    !e.isSupported())
                    throw new Error("Browser doesn't support MediaSource");
                if (!n.url && !n.segments)
                    throw new Error("url and segments cannot be empty at the same time");
                this.opts = n,
                    this.initialize()
            }
            return Object.defineProperty(e.prototype, "status", {
                get: function() {
                    return this._status
                },
                set: function(e) {
                    this._status = e,
                        this.log("status changed: " + e)
                },
                enumerable: !0,
                configurable: !0
            }),
                e.isSupported = function() {
                    return !!window.MediaSource
                }
                ,
                e.prototype.initialize = function() {
                    var e = this
                        , t = this.opts;
                    this.status = d.ILivePlayerWrapStatus.Initialize,
                        this.log("Player initialize: " + JSON.stringify(t));
                    var n, i = this.videoEl = t.videoElement, r = new window.MediaSource, o = this.getPlayUrlAndStartTime(t), a = o.url, s = o.segStartTime, u = o.skipTime;
                    switch (t.streamFormat) {
                        case d.STREAM_FORMAT.HLS_FMP4_AVC:
                        case d.STREAM_FORMAT.HLS_FMP4_HEVC:
                            n = new c.default.Hls7Player(r,t.videoElement),
                                this.mediaPlayer = n,
                                this.createSisterP2P(a, (function(e) {
                                        n.setP2PContext(e)
                                    }
                                )),
                                this.playerType = "Hls7Player";
                            break;
                        case d.STREAM_FORMAT.HTTPSTREAM_FLV_AVC:
                        case d.STREAM_FORMAT.HTTPSTREAM_FLV_HEVC:
                        default:
                            n = new c.default.fMp4Player(r,t.videoElement),
                                this.mediaPlayer = n,
                                this.playerType = "fMp4Player"
                    }
                    if (this.log("Player core created. type: " + this.playerType + ", version: " + n.version),
                        n.keepUsedBuffer = 10,
                        n.timeout = 7e3,
                        n.onInitChanged = this.onInitChanged,
                        n.onMetaData = this.onMetaData,
                        n.onSeiData = this.onSeiData,
                        n.onNetworkError = this.onNetworkError,
                        n.onParserError = this.onParserError,
                        n.onFileFetched = this.onFileFetched,
                        n.onFirstResponse = this.onFirstResponse,
                        n.onEndOfStream = function() {
                            var t = C(i);
                            e.log("Event:onEndOfStream, remain buffer length: " + t),
                            t <= .5 && i.dispatchEvent(new Event("ended"))
                        }
                        ,
                    n instanceof c.default.fMp4Player && this.createP2PFetcher(t.p2pType),
                        this.currentPlayURL = t.url,
                        !t.url) {
                        var h = E(t.segments, t.startTime)
                            , f = h.segment
                            , p = h.segStartTime;
                        if (!f) {
                            var v = "[LivePlayer error] can't find segment";
                            throw this.log(v, l.Error),
                                new Error(v)
                        }
                        this.currentPlayURL = f.url,
                            n.startTime = p,
                            this.skipTime = t.startTime
                    }
                    this.currentPlayURL = a,
                    s && (n.startTime = s),
                    u && (this.skipTime = u),
                        document.hidden ? (this.status = d.ILivePlayerWrapStatus.Wating,
                            this.log("page hidden"),
                            this.onVisibilityChange = function() {
                                document.removeEventListener("visibilitychange", e.onVisibilityChange);
                                try {
                                    e.start(e.currentPlayURL)
                                } catch (t) {
                                    console.error(t),
                                        e.log(b(t), l.Error)
                                }
                            }
                            ,
                            document.addEventListener("visibilitychange", this.onVisibilityChange)) : this.start(this.currentPlayURL)
                }
                ,
                e.prototype.start = function(e) {
                    var n = this
                        , i = this.mediaPlayer
                        , r = this.videoEl;
                    this.status = d.ILivePlayerWrapStatus.Start;
                    var o = Date.now();
                    i.onFirstPacket = function() {
                        n.trigger(t.Events.FIRST_PACKET_COST, Date.now() - o)
                    }
                        ,
                        this.offVideoListener = this.bindVideoElEvts(r),
                        i.src = e,
                        this.log("stream URL: " + e),
                        this.trigger(t.Events.INITIALIZED),
                        this.updateVideoInfo()
                }
                ,
                e.prototype.bindVideoElEvts = function(e) {
                    var n = this
                        , i = Date.now()
                        , r = function() {
                        n.status = d.ILivePlayerWrapStatus.Playing,
                            n.trigger(t.Events.FIRST_FRAME_COST, Date.now() - i)
                    }
                        , o = function() {
                        n.trigger(t.Events.LOADEDMETADATA_COST, Date.now() - i)
                    };
                    return e.addEventListener("loadeddata", r),
                        e.addEventListener("loadedmetadata", o),
                        function() {
                            e.removeEventListener("loadeddata", r),
                                e.removeEventListener("loadedmetadata", o)
                        }
                }
                ,
                e.prototype.getPlayUrlAndStartTime = function(e) {
                    if (e.url)
                        return {
                            url: e.url,
                            segStartTime: 0,
                            skipTime: 0
                        };
                    var t = E(e.segments, e.startTime)
                        , n = t.segment
                        , i = t.segStartTime;
                    if (!n) {
                        throw this.log("can't find segment", l.Error),
                            new Error("can't find segment")
                    }
                    return {
                        url: n.url,
                        segStartTime: i,
                        skipTime: e.startTime
                    }
                }
                ,
                e.prototype.updateVideoInfo = function() {
                    var e = this
                        , n = this.mediaPlayer
                        , i = 0;
                    this.updateVideoInfoTimer = window.setInterval((function() {
                            if (e.videoInfoState) {
                                var r = e.videoEl
                                    , o = e.videoInfoState.statisticsInfo
                                    , a = {
                                    droppedVideoFrames: 0,
                                    totalVideoFrames: 0
                                };
                                r.getVideoPlaybackQuality && (a = r.getVideoPlaybackQuality());
                                var s = n.receivedBytes - i;
                                i = n.receivedBytes,
                                    Object.assign(o, {
                                        droppedFrames: a.droppedVideoFrames || 0,
                                        decodedFrames: a.totalVideoFrames || 0,
                                        videoBufferLength: y.default.toFixed(C(r), 3),
                                        videoNetworkActivity: s
                                    }),
                                    e.trigger(t.Events.VIDEO_INFO, {
                                        flag: "update",
                                        data: e.videoInfoState
                                    })
                            }
                        }
                    ), 1e3)
                }
                ,
                e.prototype.startReportHLSPlayerData = function(e) {
                    var n, r = this, o = this.mediaPlayer, a = this.parseHLSStreamNameFormUrl(e), s = a.streamName, l = a.timeshift, c = Date.now(), u = 0, d = 0, h = 0, f = function(e) {
                        void 0 === e && (e = {});
                        var n = Date.now()
                            , a = Math.min(Math.max(0, n - c), 35e3);
                        "netwrokError" === r.errFlag && (h = 1),
                            r.trigger(t.Events.BILI_P2P_TRACK, i({}, e, {
                                duration: a,
                                cdnDownloadValidSize: o.receivedBytes - u,
                                cdnDownloadInvalidSize: 0,
                                fetchErrorNum: h,
                                p2pDownloadValidSize: 0,
                                p2pDownloadInvalidSize: 0,
                                p2pErrorSize: 0,
                                p2pUploadSize: 0,
                                fragNum: o._m4sFetchedCount - d,
                                queryNum: o._m4sFetchedCount - d,
                                timeshift: l,
                                streamName: s,
                                support: 0
                            })),
                            c = n,
                            u = o.receivedBytes,
                            d = o._m4sFetchedCount,
                            h = 0
                    };
                    this.log("start HLS reporter."),
                        n = window.setInterval(f, 3e4);
                    return function() {
                        r.log("destroy HLS reporter."),
                            clearInterval(n),
                            f({
                                _send_beacon_: !0
                            })
                    }
                }
                ,
                e.prototype.startReportSistersP2PData = function(e) {
                    var n, r = this, o = Date.now(), a = function(a) {
                        if (void 0 === a && (a = {}),
                            r.biliP2PInstance) {
                            var s = r.biliP2PInstance.getP2PDataCollectionStatus();
                            if (s) {
                                var l = s.getQueryServerInfo() || {}
                                    , c = l.fragNum
                                    , u = void 0 === c ? 0 : c
                                    , d = l.queryNum
                                    , h = void 0 === d ? 0 : d
                                    , f = Date.now()
                                    , p = Math.min(Math.max(0, f - o), 35e3);
                                r.trigger(t.Events.BILI_P2P_TRACK, i({}, a, {
                                    duration: p,
                                    cdnDownloadValidSize: s.getServerDownload(),
                                    cdnDownloadInvalidSize: s.getWastedDataSize(m.CDN_REPEAT),
                                    fetchErrorNum: s.getFetchErrorNum(_.ERROR_TO_RELOAD),
                                    p2pDownloadValidSize: s.getP2PDownload(),
                                    p2pDownloadInvalidSize: s.getWastedDataSize(m.P2P_LATE),
                                    p2pErrorSize: s.getWastedDataSize(m.ERROR_DATA),
                                    p2pUploadSize: s.getP2PSend(),
                                    fragNum: u,
                                    queryNum: h,
                                    timeshift: e.timeshift,
                                    streamName: e.name,
                                    support: 1
                                })),
                                    o = f,
                                    s.clearP2PDataInfo()
                            } else
                                clearInterval(n)
                        }
                    };
                    this.log("start sisters reporter."),
                        n = window.setInterval(a, 3e4);
                    return function() {
                        r.log("destroy sisters reporter."),
                            clearInterval(n),
                            a({
                                _send_beacon_: !0
                            })
                    }
                }
                ,
                e.prototype.parseHLSStreamNameFormUrl = function(e) {
                    var t = /\/live-bvc\/\d{3,9}\/(live_.+?)[/.]/.exec(e);
                    if (!t)
                        return null;
                    var n = Number(new URL(e).searchParams.get("tmshift"))
                        , i = t[1]
                        , r = null;
                    return n > 10 && (r = i + "_tmshift_" + Math.floor(n / 10)),
                        {
                            streamName: i,
                            timeshift: n,
                            fullStreamName: r
                        }
                }
                ,
                e.prototype.createSisterP2P = function(e, t) {
                    return r(this, void 0, void 0, (function() {
                            var n, i, r, a, s, c, u, h, f, p, v = this;
                            return o(this, (function(o) {
                                    switch (o.label) {
                                        case 0:
                                            return i = (n = this).opts,
                                                r = n.videoEl,
                                                i.p2pType !== d.P2P_TYPE.HLS_BILI || i.streamFormat !== d.STREAM_FORMAT.HLS_FMP4_AVC && i.streamFormat !== d.STREAM_FORMAT.HLS_FMP4_HEVC ? [2] : (a = this.parseHLSStreamNameFormUrl(e),
                                                    s = a.streamName,
                                                    c = a.timeshift,
                                                    s ? g.checkP2PSupport() ? (this.loaderType = "SistersFetcher",
                                                        [4, this.opts.getP2PInitParams()]) : (this.destroyReporter = this.startReportHLSPlayerData(e),
                                                        [2]) : (this.log("can't parse stream name, don't start-up sisters, url: " + e, l.Error),
                                                        [2]));
                                        case 1:
                                            return u = o.sent(),
                                                h = u.roomid,
                                                f = u.trackerServer,
                                                p = this.biliP2PInstance = new g(3,(function(e, t) {
                                                        v.log(t)
                                                    }
                                                ),{
                                                    trackerParams: {
                                                        stream: s,
                                                        roomid: h,
                                                        timeshift: c
                                                    },
                                                    sdkParams: {
                                                        trackerServer: f
                                                    }
                                                }),
                                                this.destroyReporter = this.startReportSistersP2PData({
                                                    name: s,
                                                    timeshift: c
                                                }),
                                                t({
                                                    P2PBufferLength: 3,
                                                    P2PFetchAsStream: function(e, t) {
                                                        void 0 === t && (t = !1),
                                                            p.p2pFetchAsBuffer(this._onError, this._onResult, (function() {
                                                                    return 1e3 * C(r)
                                                                }
                                                            ), e, t)
                                                    },
                                                    onPlaylistUpdate: function(e, t) {
                                                        p.updatePlaylist(e, t)
                                                    }
                                                }),
                                                [2]
                                    }
                                }
                            ))
                        }
                    ))
                }
                ,
                e.prototype.play = function() {
                    var e = this;
                    this.log("Player play"),
                        this.videoEl.autoplay = !0;
                    var t = this.videoEl.play();
                    t && "undefined" != typeof Promise && t instanceof Promise && t.catch((function(t) {
                            e.log("Caught pending play exception - continuing (" + t + ")", l.Error)
                        }
                    ))
                }
                ,
                e.prototype.pause = function() {
                    this.videoEl.pause()
                }
                ,
                e.prototype.unload = function() {
                    this.log("Player unload"),
                        this.destroy()
                }
                ,
                e.prototype.reload = function() {
                    this.log("Player reload"),
                        this.destroy(),
                        this.initialize()
                }
                ,
                e.prototype.destroy = function() {
                    clearInterval(this.updateVideoInfoTimer),
                    this.offVideoListener && this.offVideoListener(),
                        document.removeEventListener("visibilitychange", this.onVisibilityChange),
                    this.destroyReporter && this.destroyReporter(),
                    this.biliP2PInstance && this.biliP2PInstance.destroy(),
                        this.listeners = {},
                        this.mediaPlayer.destroy(),
                        this.status = d.ILivePlayerWrapStatus.Destroyed
                }
                ,
                e.prototype.on = function(e, t) {
                    var n = this.listeners[e] || new Set;
                    return n.add(t),
                    this.listeners[e] || (this.listeners[e] = n),
                        function() {
                            n.delete(t)
                        }
                }
                ,
                e.prototype.log = function(e, t, n) {
                    var i = "[LivePlayer id:" + this._id + "] ";
                    this.opts.log(i + e, t, n)
                }
                ,
                e
        }();
        function C(e) {
            var t = e.buffered;
            return t && 0 !== t.length ? t.end(t.length - 1) - e.currentTime : 0
        }
        t.LivePlayerWrap = w
    }
    , function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        t.default = {
            DANMAKU_BORDER_COLOR: "66FFFF",
            WS_MESSAGE_DANMAKU: "DANMU_MSG",
            WS_MESSAGE_SYS_MSG: "SYS_MSG",
            WS_MESSAGE_SYS_GIFT: "SYS_GIFT",
            WS_MESSAGE_GUARD_MSG: "GUARD_MSG",
            WS_MESSAGE_SEND_GIFT: "SEND_GIFT",
            WS_MESSAGE_LIVE: "LIVE",
            WS_MESSAGE_PREPARING: "PREPARING",
            WS_MESSAGE_END: "END",
            WS_MESSAGE_CLOSE: "CLOSE",
            WS_MESSAGE_BLOCK: "BLOCK",
            WS_MESSAGE_ROUND: "ROUND",
            WS_MESSAGE_WELCOME: "WELCOME",
            WS_MESSAGE_REFRESH: "REFRESH",
            WS_ACTIVITY_RED_PACKET: "ACTIVITY_RED_PACKET",
            WS_ROOM_LIMIT: "ROOM_LIMIT",
            WS_PK_PRE: "PK_PRE",
            WS_PK_END: "PK_END",
            WS_PK_SETTLE: "PK_SETTLE",
            WS_PK_MIC_END: "PK_MIC_END",
            HOT_ROOM_NOTIFY: "HOT_ROOM_NOTIFY",
            L_LIVE: "live",
            L_PREPARING: "preparing",
            L_END: "end",
            L_CLOSE: "close",
            L_BLOCK: "block",
            L_PRE_ROUND: "pre-round",
            L_ROUND: "round",
            L_ERROR: "error",
            V_PLAY: "player-state-play",
            V_PAUSE: "player-state-pause",
            PROTOCOL_API_HTTP: "http:",
            PROTOCOL_API_HTTPS: "https:",
            PROTOCOL_WEBSOCKET_DEFAULT: "ws:",
            PROTOCOL_WEBSOCKET_SECURITY: "wss:",
            LOCAL_STORAGE_VOLUME: "videoVolume",
            LOCAL_STORAGE_VOLUME_HOME: "homeVideoVolume",
            DANMAKU_TYPE_CSS: "div",
            DANMAKU_TYPE_CANVAS: "canvas",
            CALLBACK_INITIALIZED: "initialized",
            CALLBACK_PLAYER_STATE_CHANGE: "playerStateChange",
            CALLBACK_LIVE_STATE_CHANGE: "liveStateChange",
            CALLBACK_VIDEO_STATE_CHANGE: "videoStateChange",
            CALLBACK_FULL_SCREEN_CHANGE: "fullscreenChange",
            CALLBACK_PLAYING: "playing",
            CALLBACK_PAUSED: "paused",
            CALLBACK_SWITCH_LINE: "switchLine",
            CALLBACK_SWITCH_QUALITY: "switchQuality",
            SWITCH_QUALITY_NOT_LOGIN: "switchQualityNotLogin",
            CALLBACK_WEB_FULLSCREEN: "webFullscreen",
            CALLBACK_FEED_BACK_CLICK: "feedBackClick",
            CALLBACK_BLOCK_SETTING_CLICK: "blockSettingClick",
            CALLBACK_SET: "set",
            CALLBACK_INIT_DANMAKU: "initDanmaku",
            CALLBACK_ADD_DANMAKU: "addDanmaku",
            CALLBACK_SEND_DANMAKU: "sendDanmaku",
            CALLBACK_RECEIVE_ONLINE_COUNT: "receiveOnlineCount",
            CALLBACK_RECEIVE_MESSAGE: "receiveMessage",
            CALLBACK_USER_LOGIN: "userLogin",
            CALLBACK_GIFT_PACKAGE_CLICK: "giftPackageClick",
            CALLBACK_SEND_GIFT: "sendGift",
            CALLBACK_GUID_CHANGE: "guidChange",
            CALLBACK_RELOAD: "reload",
            SET_COMPONENT_DANMAKU: "danmaku",
            SET_COMPONENT_BLOCK: "block",
            SET_COMPONENT_GIFT: "gift",
            SET_COMPONENT_MASK: "mask",
            CALLBACK_FIRST_LOADED_API_PLAYER: "firstLoadedAPIPlayer",
            CALLBACK_FIRST_LOADED_API_PLAYURL: "firstLoadedAPIPlayurl",
            CALLBACK_FIRST_LOAD_START: "firstLoadStart",
            CALLBACK_FIRST_LOADED_META_DATA: "firstLoadedMetaData",
            CALLBACK_FIRST_PLAYING: "firstPlaying",
            ENTER_THE_ROOM: "enterTheRoom",
            CALLBACK_OPERABLE_ELEMENTS_CHANGE: "operableElementsChange",
            AUTO_PLAY: "autoPlay",
            BILIBILI_PLAYER_SHOW_TIP_BASE_TIME: "bilibiliPlayerShowTipBaseTime",
            RECOMMEND: "recommend",
            RECOMMEND_MOVE: "move",
            RECOMMEND_CLICK: "click",
            RECOMMEND_NOLIVE: "nolive",
            RECOMMEND_SHOW: "show",
            MOCK_SOCKET: "mockSocket",
            CALLBACK_DANMAKU_MASK_CHANGE: "danmakuMaskChange",
            CALLBACK_DANMAKU_MASK_STATUS_CHANGE: "danmakuMaskStatusChange",
            PLAY_TAG: "PLAY_TAG",
            PLAY_PROGRESS_BAR: "PLAY_PROGRESS_BAR"
        }
    }
    , function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        t.default = {
            PLAYER_ERROR: 1,
            PLAYER_NETWORK_ERROR: 1101,
            PLAYER_FORM_ERROR: 1103,
            PLAYER_ANALYZE_ERROR: 1104,
            MEDIA_ERROR: 2e3,
            MEDIA_ABORTED_ERROR: 2001,
            MEDIA_NETWORK_ERROR: 2002,
            MEDIA_DECODE_ERROR: 2003,
            MEDIA_SUPPORTED_ERROR: 2004,
            PLAYURL_ERROR: 2,
            PLAYURL_NETWORK_ERROR: 2101,
            PLAYURL_FORM_ERROR: 2103,
            PLAYURL_RESOLVE_ERROR: 2104,
            PLAYURL_ROUND_NETWORK_ERROR: 2108,
            PLAYURL_ROUND_FORM_ERROR: 2110,
            PLAYURL_ROUND_RESOLVE_ERROR: 2111,
            PLAYURL_ROUND_INTERFACE_NETWORK_ERROR: 2118,
            PLAYURL_ROUND_INTERFACE_FORM_ERROR: 2120,
            PLAYURL_ROUND_INTERFACE_RESOLVE_ERROR: 2121,
            VIDEO_ERROR: 3,
            VIDEO_URL_ERROR: 3001,
            VIDEO_ANALYZE_ERROR: 3002,
            VIDEO_PLAY_ERROR: 3104,
            NETWORK_EXCEPTION: 3111,
            NETWORK_STATUS_CODE_INVALID: 3112,
            NETWORK_UNRECOVERABLE_EARLY_EOF: 3113,
            NETWORK_RECOVERED_EARLY_EOF: 3114,
            MEDIA_MSE_ERROR: 3121,
            MEDIA_FORMAT_ERROR: 3122,
            MEDIA_FORMAT_UNSUPPORTED: 3123,
            MEDIA_CODEC_UNSUPPORTED: 3124,
            UNEXPECT_ENDED_EVENT: 3125,
            LIVE_PLAYER_ERROR: 4,
            LIVE_PLAYER_INITIALIZED_ERROR: 4001,
            LIVE_PLAYER_INITIALIZED_TIME_OUT: 4002,
            LIVE_PLAYER_RELOAD_ERROR: 4003,
            RECOMMEND_ERROR: 5,
            RECOMMEND_NETWORK_ERROR: 5001,
            RECOMMEND_FORM_ERROR: 5003,
            RECOMMEND_RESOLVE_ERROR: 5004,
            ROOM_AREA_LIMIT_CODE: 60005
        }
    }
    , function(e, t, n) {
        var i = n(4);
        e.exports = function(e) {
            var t, r = "", o = e || {};
            return function(o, a) {
                var s = o || !1;
                r = (r += "\x3c!-- Bilibili HTML5 Live Player - Face your destiny.--\x3e") + "<div" + (i.attr("class", i.classes(["".concat(a)], [!0]), !1, !0) + i.attr("data-pre-rendered", "".concat(s), !0, !0)) + "><div" + i.attr("class", i.classes(["".concat(a, "-loading-panel")], [!0]), !1, !0) + "></div><div" + i.attr("class", i.classes(["".concat(a, "-video-logo")], [!0]), !1, !0) + "></div><div" + i.attr("class", i.classes(["".concat(a, "-video-area")], [!0]), !1, !0) + "><div" + i.attr("class", i.classes(["".concat(a, "-video-operable-container")], [!0]), !1, !0) + "></div><div" + i.attr("class", i.classes(["".concat(a, "-video-danmaku")], [!0]), !1, !0) + "></div><div" + i.attr("class", i.classes(["".concat(a, "-video-pause")], [!0]), !1, !0) + "></div><div" + i.attr("class", i.classes(["".concat(a, "-video")], [!0]), !1, !0) + "><div" + i.attr("class", i.classes(["".concat(a, "-video-loading")], [!0]), !1, !0) + '><div class="video-loading"></div></div></div></div><div' + i.attr("class", i.classes(["".concat(a, "-video-controller")], [!0]), !1, !0) + "></div>" + (null == (t = n(42).call(this, e)) ? "" : t) + "<div" + i.attr("class", i.classes(["".concat(a, "-video-send")], [!0]), !1, !0) + "></div><div" + i.attr("class", i.classes(["".concat(a, "-ending-panel")], [!0]), !1, !0) + "></div><div" + i.attr("class", i.classes(["".concat(a, "-enter-tips")], [!0]), !1, !0) + "></div></div>"
            }
                .call(this, "isPreRendered"in o ? o.isPreRendered : "undefined" != typeof isPreRendered ? isPreRendered : void 0, "prefix"in o ? o.prefix : "undefined" != typeof prefix ? prefix : void 0),
                r
        }
    }
    , function(e, t) {
        var n;
        n = function() {
            return this
        }();
        try {
            n = n || new Function("return this")()
        } catch (e) {
            "object" == typeof window && (n = window)
        }
        e.exports = n
    }
    , function(e, t, n) {
        "use strict";
        var i = this && this.__importDefault || function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            , r = this && this.__importStar || function(e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        Object.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                return t.default = e,
                    t
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = i(n(1))
            , a = i(n(2))
            , s = r(n(0))
            , l = n(47)
            , c = function() {
            function e(e, t) {
                this._player = e,
                    this._container = t,
                    this._WAITING_QUEUE = [],
                    this._RENDER_INTERVAL_TIME = 300,
                    this._RENDER_INTERVAL_INIT_TIME = 300,
                    this._RENDER_INTERVAL_INCREASE_TIME = 300,
                    this._RENDER_INTERVAL_MAX_TIME = 3e3,
                    this.state = {},
                    this.state = {
                        danmakuNumber: 150,
                        danmakuAreaHeight: 100,
                        blockTypeList: []
                    },
                    this._initialize()
            }
            return e.getSendGiftHtml = function(e, t) {
                void 0 === t && (t = 1);
                var n = "";
                switch (e) {
                    case s.default.DANMAKU_GIFT_233:
                        n = '<span class="gift-danmaku-2"></span>';
                        for (var i = 0; i < 3 * t - 1; i++)
                            n += '<span class="gift-danmaku-3"></span>';
                        break;
                    case s.default.DANMAKU_GIFT_666:
                        for (i = 0; i < 3 * t + 3; i++)
                            n += '<span class="gift-danmaku-6"></span>';
                        break;
                    default:
                        return null
                }
                return '<div class="bilibili-live-player-danmaku-gift clearfix no-select">' + n + "</div>"
            }
                ,
                e.prototype.play = function() {
                    a.default.log("Danmaku Playing.."),
                    this._danmaku && this._danmaku.play()
                }
                ,
                e.prototype.pause = function() {
                    a.default.log("Danmaku Paused."),
                    this._danmaku && this._danmaku.pause()
                }
                ,
                e.prototype.add = function(e, t) {
                    void 0 === t && (t = !1);
                    var n = this._player.config.user;
                    if (e.text && e.text.length > 30 && s.default.DANMAKU_MODE_TOP === e.mode) {
                        for (var i = e.text.split(""), r = Math.floor(i.length / 30) + 1, o = 1; o < r; o++)
                            i.splice(30 * o, 0, "\n");
                        e.text = i.join(""),
                            e.textAlign = "center"
                    }
                    n.isSuperUser && (e.color = n.superUserForceColor),
                    n.isSuperUser && (e.mode = s.default.DANMAKU_MODE_REVERSE),
                        t ? this._danmaku && this._danmaku.add(e) : this._WAITING_QUEUE.push(e)
                }
                ,
                e.prototype.option = function(e, t) {
                    return this._danmaku && this._danmaku.option(e, t),
                        this
                }
                ,
                e.prototype.resize = function() {
                    return a.default.log("Danmaku Resize."),
                    this._danmaku && this._danmaku.resize(),
                        this
                }
                ,
                e.prototype.visible = function(e) {
                    a.default.log("Danmaku Visible: " + !!e),
                    this._danmaku && this._danmaku.visible(e),
                        this._player.event.emit(s.EVENT.DANMAKU_STATUS_CHANGE, e)
                }
                ,
                e.prototype.opacity = function(e) {
                    this._danmaku && this._danmaku.option("opacity", e)
                }
                ,
                e.prototype.fontSize = function(e) {
                    return this._danmaku && this._danmaku.option("fontSize", e),
                        this
                }
                ,
                e.prototype.mapNewDensity = function(e) {
                    return e <= 80 ? Math.round(e / 150 * 100) : 81 === e ? Math.ceil(100 / 150 * 100) : 100
                }
                ,
                e.prototype.density = function(e) {
                    var t = Math.ceil(e / 100 * 150 * (this.state.danmakuAreaHeight / 100));
                    this.state.danmakuNumber = t,
                    this._danmaku && this._danmaku.option("danmakuNumber", t)
                }
                ,
                e.prototype.setAreaHeight = function(e) {
                    if (e < 1 || e > 100)
                        throw new Error("Height must be between 1 and 100.");
                    this._danmaku && this._danmaku.option("danmakuArea", e),
                        this.state.danmakuAreaHeight = e
                }
                ,
                e.prototype.search = function(e, t) {
                    return this._danmaku && this._danmaku.searchAreaDanmaku(e, t)
                }
                ,
                e.prototype.checkDanmakuBlockStatus = function(e) {
                    var t, n, i, r = this._player, o = r.config.user;
                    if (!e.user)
                        return !1;
                    if (this.state.blockTypeList.indexOf(e.type) > -1)
                        return !0;
                    if (o.silentLevel && o.silentLevel > e.user.level)
                        return !0;
                    if (o.silentRank && 1e4 > e.user.rank)
                        return !0;
                    if (o.silentVerify && !e.user.verify)
                        return !0;
                    for (var a = 0, s = (t = r.getDanmakuBlockList()).length; a < s; a++)
                        if (n = t[a])
                            if (n.mode) {
                                if ((i = n.keyword && n.keyword.split("_")[0]) === e.uid.toString())
                                    return !0
                            } else if (i = n.keyword,
                            e.text.indexOf(i) > -1)
                                return !0;
                    return !1
                }
                ,
                e.prototype.addLocalMessage = function(e) {
                    var t = {
                        cmd: "DANMU_MSG",
                        info: [],
                        roomid: this._player.config.rid
                    };
                    t.info[0] = [e.stime, e.mode, e.fontsize, e.color, e.date],
                        t.info[1] = e.text,
                        t.info[2] = [e.uid, e.uname, 0],
                        o.default.fireEventCallback(this._player.callbackMap.addDanmaku, t)
                }
                ,
                e.prototype.destroy = function() {
                    this._danmaku.destroy && this._danmaku.destroy(),
                        window.clearTimeout(this._TIMEOUT_RENDER),
                        window.clearTimeout(this._TIMEOUT_ADD_DANMAKU),
                        this._danmaku = void 0
                }
                ,
                e.prototype.clear = function() {
                    a.default.log("Danmaku Clear."),
                    this._danmaku && this._danmaku.clear()
                }
                ,
                e.prototype.clearWaitingQueue = function() {
                    this._WAITING_QUEUE = []
                }
                ,
                e.prototype.getRestDensity = function() {
                    return this._danmaku.option("danmakuNumber") - this._danmaku.count()
                }
                ,
                e.prototype.setType = function(e) {
                    void 0 === e && (e = s.STATE_STRING.DANMAKU_TYPE_CSS),
                    this._danmaku && this._danmaku.setType(e);
                    s.STATE_STRING.DANMAKU_TYPE_CSS
                }
                ,
                e.prototype.set = function(e) {
                    try {
                        if (e && e.data)
                            switch (e.action) {
                                case "blockDanmaku":
                                    e.data && Array.isArray(e.data.type) && (this.state.blockTypeList = e.data.type)
                            }
                    } catch (e) {
                        throw new Error("Set Danmaku Info Error, " + e)
                    }
                }
                ,
                e.prototype.setBgurl = function(e, t) {
                    var n = {
                        "background-image": "url(" + e + ")",
                        "background-repeat": "no-repeat",
                        "background-position": "center",
                        "background-size": t ? "contain" : "unset"
                    };
                    this._container.css(n)
                }
                ,
                e.prototype.showMask = function(e) {
                    this._container[0].style.webkitMaskImage = e
                }
                ,
                e.prototype.deleteMask = function() {
                    this._container[0].style.webkitMaskImage = ""
                }
                ,
                e.prototype.addMask = function(e) {
                    var t = {
                        "-webkit-mask-image": "url(" + e + ")",
                        "mask-image": "url(" + e + ")"
                    };
                    this._container.css(t)
                }
                ,
                e.prototype.renderAfterHalfTime = function() {
                    var e = this;
                    this._RENDER_INTERVAL_TIME = this._RENDER_INTERVAL_INIT_TIME,
                        clearTimeout(this._TIMEOUT_RENDER),
                        setTimeout((function() {
                                e._render()
                            }
                        ), this._RENDER_INTERVAL_TIME)
                }
                ,
                e.prototype._render = function() {
                    var e = this
                        , t = this._getCurrentQueue();
                    if (t.length) {
                        var n = this.getRestDensity();
                        t.length > n && (t = t.splice(n, t.length - n));
                        var i = this._RENDER_INTERVAL_TIME / t.length;
                        this._add(t, i),
                        this._RENDER_INTERVAL_TIME < this._RENDER_INTERVAL_MAX_TIME && (this._RENDER_INTERVAL_TIME += this._RENDER_INTERVAL_INCREASE_TIME)
                    }
                    this._TIMEOUT_RENDER = window.setTimeout((function() {
                            e._render()
                        }
                    ), this._RENDER_INTERVAL_TIME)
                }
                ,
                e.prototype._getCurrentQueue = function() {
                    var e = [];
                    return this._WAITING_QUEUE.forEach((function(t, n) {
                            for (var i in e[n] = {
                                stime: -1,
                                mode: t.mode || s.default.DANMAKU_MODE_SCROLL,
                                size: s.default.DANMAKU_DEFAULT_FONT_SIZE,
                                color: s.default.DANMAKU_DEFAULT_INT10_COLOR,
                                date: 0,
                                uid: "123"
                            },
                                t)
                                t.hasOwnProperty(i) && (e[n][i] = t[i])
                        }
                    )),
                        this._WAITING_QUEUE = [],
                        e
                }
                ,
                e.prototype._add = function(e, t) {
                    var n = this;
                    if (void 0 === t && (t = this._RENDER_INTERVAL_TIME),
                        e.length) {
                        var i = e.splice(0, 1)[0];
                        this._checkVideoIsPaused() && this._danmaku && this._danmaku.add(i),
                            i = null,
                            window.clearTimeout(this._TIMEOUT_ADD_DANMAKU),
                            this._TIMEOUT_ADD_DANMAKU = window.setTimeout((function() {
                                    n._add(e, t)
                                }
                            ), t)
                    }
                }
                ,
                e.prototype._checkVideoIsPaused = function() {
                    var e = this._player;
                    return !(s.default.V_PAUSE === e.getVideoStatus() && (s.default.L_STATUS_LIVE === e.getLiveStatus() || s.default.L_STATUS_ROUND === e.getLiveStatus()))
                }
                ,
                e.prototype._createSwitchTypeContextMenu = function() {
                    var e = this
                        , t = this._player
                        , n = [{
                        key: "CSS3",
                        value: s.STATE_STRING.DANMAKU_TYPE_CSS
                    }, {
                        key: "Canvas",
                        value: s.STATE_STRING.DANMAKU_TYPE_CANVAS
                    }]
                        , i = [{
                        type: "submenu",
                        text: "切换弹幕类型",
                        submenu: []
                    }];
                    n.forEach((function(t, n) {
                            i[0].submenu.push({
                                type: "function",
                                className: "bilibili-live-player-switch-danmaku-item",
                                icon: "blp-icon-check",
                                text: t.key,
                                click: function() {
                                    e.setType(t.value)
                                }
                            })
                        }
                    )),
                    t.plugins.contextMenu && (this._danmakuTypeItemID = t.plugins.contextMenu.unshift(i).id,
                        t.plugins.contextMenu.active(this._danmakuTypeItemID, 0))
                }
                ,
                e.prototype._initialize = function() {
                    var e = s.STATE_STRING.DANMAKU_TYPE_CSS
                        , t = this._player.config.initTime;
                    this._danmaku = new l({
                        duration: 6,
                        danmakuNumber: 150,
                        danmakuArea: 100,
                        type: e,
                        container: this._container[0],
                        timeSyncFunc: function() {
                            return Date.now() - t
                        },
                        isRecycling: !0,
                        isLive: !0
                    }),
                        this._player.addInitCallback((function() {}
                        )),
                        this._render(),
                        a.default.log("Danmaku Initialized.")
                }
                ,
                e
        }();
        t.default = c
    }
    , function(e, t) {
        var n, i, r = e.exports = {};
        function o() {
            throw new Error("setTimeout has not been defined")
        }
        function a() {
            throw new Error("clearTimeout has not been defined")
        }
        function s(e) {
            if (n === setTimeout)
                return setTimeout(e, 0);
            if ((n === o || !n) && setTimeout)
                return n = setTimeout,
                    setTimeout(e, 0);
            try {
                return n(e, 0)
            } catch (t) {
                try {
                    return n.call(null, e, 0)
                } catch (t) {
                    return n.call(this, e, 0)
                }
            }
        }
        !function() {
            try {
                n = "function" == typeof setTimeout ? setTimeout : o
            } catch (e) {
                n = o
            }
            try {
                i = "function" == typeof clearTimeout ? clearTimeout : a
            } catch (e) {
                i = a
            }
        }();
        var l, c = [], u = !1, d = -1;
        function h() {
            u && l && (u = !1,
                l.length ? c = l.concat(c) : d = -1,
            c.length && f())
        }
        function f() {
            if (!u) {
                var e = s(h);
                u = !0;
                for (var t = c.length; t; ) {
                    for (l = c,
                             c = []; ++d < t; )
                        l && l[d].run();
                    d = -1,
                        t = c.length
                }
                l = null,
                    u = !1,
                    function(e) {
                        if (i === clearTimeout)
                            return clearTimeout(e);
                        if ((i === a || !i) && clearTimeout)
                            return i = clearTimeout,
                                clearTimeout(e);
                        try {
                            i(e)
                        } catch (t) {
                            try {
                                return i.call(null, e)
                            } catch (t) {
                                return i.call(this, e)
                            }
                        }
                    }(e)
            }
        }
        function p(e, t) {
            this.fun = e,
                this.array = t
        }
        function v() {}
        r.nextTick = function(e) {
            var t = new Array(arguments.length - 1);
            if (arguments.length > 1)
                for (var n = 1; n < arguments.length; n++)
                    t[n - 1] = arguments[n];
            c.push(new p(e,t)),
            1 !== c.length || u || s(f)
        }
            ,
            p.prototype.run = function() {
                this.fun.apply(null, this.array)
            }
            ,
            r.title = "browser",
            r.browser = !0,
            r.env = {},
            r.argv = [],
            r.version = "",
            r.versions = {},
            r.on = v,
            r.addListener = v,
            r.once = v,
            r.off = v,
            r.removeListener = v,
            r.removeAllListeners = v,
            r.emit = v,
            r.prependListener = v,
            r.prependOnceListener = v,
            r.listeners = function(e) {
                return []
            }
            ,
            r.binding = function(e) {
                throw new Error("process.binding is not supported")
            }
            ,
            r.cwd = function() {
                return "/"
            }
            ,
            r.chdir = function(e) {
                throw new Error("process.chdir is not supported")
            }
            ,
            r.umask = function() {
                return 0
            }
    }
    , function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            t.UNSUPPORTED_HEVC_STREAM = "UNSUPPORTED_HEVC_STREAM"
    }
    , function(e, t, n) {
        "use strict";
        var i = this && this.__importDefault || function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = i(n(1))
            , o = i(n(2))
            , a = n(0)
            , s = function() {
            function e(e) {
                this.config = {},
                    this.eventMap = {},
                    this.config = {
                        namespace: "bilibili_live_custom_event"
                    },
                    this.eventMap = {},
                    window.eventMap = this.eventMap
            }
            return e.prototype.on = function(e, t) {
                return e ? (this.eventMap[e] || (this.eventMap[e] = []),
                "function" == typeof t && this.eventMap[e].push(t),
                    this) : this
            }
                ,
                e.prototype.off = function(e) {
                    return e ? this.eventMap[e] = [] : this.eventMap = {},
                        this
                }
                ,
                e.prototype.emit = function(e) {
                    for (var t = [], n = 1; n < arguments.length; n++)
                        t[n - 1] = arguments[n];
                    return e && this.eventMap[e] ? (e !== a.EVENT.GET_MASK_DATA && (o.default.log("[Event] > " + e + " emitted."),
                        r.default.log("[Event] > " + e + " emitted.")),
                        this.eventMap[e].forEach((function(e) {
                                "function" == typeof e && e.apply(void 0, t)
                            }
                        ))) : (o.default.log("[Event] > " + e + " missing.", 2),
                        r.default.log("[Event] > " + e + " missing.")),
                        this
                }
                ,
                e
        }();
        t.default = s
    }
    , function(e, t, n) {
        "use strict";
        var i = this && this.__importDefault || function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = i(n(2))
            , o = function() {
            for (var e, t, n = [["requestFullscreen", "exitFullscreen", "fullscreenElement", "fullscreenEnabled", "fullscreenchange", "fullscreenerror"], ["webkitRequestFullscreen", "webkitExitFullscreen", "webkitFullscreenElement", "webkitFullscreenEnabled", "webkitfullscreenchange", "webkitfullscreenerror"], ["webkitRequestFullScreen", "webkitCancelFullScreen", "webkitCurrentFullScreenElement", "webkitCancelFullScreen", "webkitfullscreenchange", "webkitfullscreenerror"], ["mozRequestFullScreen", "mozCancelFullScreen", "mozFullScreenElement", "mozFullScreenEnabled", "mozfullscreenchange", "mozfullscreenerror"], ["msRequestFullscreen", "msExitFullscreen", "msFullscreenElement", "msFullscreenEnabled", "MSFullscreenChange", "MSFullscreenError"]], i = 0, r = n.length, o = {}; i < r; i++)
                if ((e = n[i]) && e[1]in document) {
                    for (i = 0,
                             t = e.length; i < t; i++)
                        o[n[0][i]] = e[i];
                    return o
                }
            return !1
        }()
            , a = function() {
            function e() {}
            return e.request = function(e) {
                var t = o.requestFullscreen;
                if (e = e || document.documentElement,
                    / Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent))
                    e[t]();
                else {
                    var n = Element;
                    n && "ALLOW_KEYBOARD_INPUT"in n && n.ALLOW_KEYBOARD_INPUT ? e[t](n.ALLOW_KEYBOARD_INPUT) : e[t]({})
                }
            }
                ,
                e.exit = function() {
                    var t, n = document;
                    try {
                        t = window.top.document
                    } catch (e) {}
                    e.isFullscreen && (e.isTop ? t && t[o.exitFullscreen]() : n[o.exitFullscreen]())
                }
                ,
                e.toggle = function(t) {
                    e.isFullscreen ? e.exit() : e.request(t)
                }
                ,
                e.addFullscreenChange = function(t) {
                    t && "function" == typeof t && (e.fullscreenChangeList.length || e.bindFullscreenChange(),
                        e.fullscreenChangeList.push(t))
                }
                ,
                e.bindFullscreenChange = function() {
                    $(document).off(o.fullscreenchange).on(o.fullscreenchange + ".BILIBILI_HTML5_LIVE_PLAYER", (function() {
                            e.fullscreenChangeHandler()
                        }
                    ));
                    try {
                        $(window.top.document).off(o.fullscreenchange).on(o.fullscreenchange + ".BILIBILI_HTML5_LIVE_PLAYER", (function() {
                                e.fullscreenChangeHandler(!0)
                            }
                        ))
                    } catch (e) {}
                }
                ,
                e.fullscreenChangeHandler = function(t) {
                    void 0 === t && (t = !1);
                    var n;
                    document;
                    try {
                        n = window.top.document
                    } catch (e) {}
                    e.isFullscreen = n && !!n[o.fullscreenElement] || !!n[o.fullscreenElement],
                        e.isTop = t,
                        r.default.log("Full Screen Change: " + e.isFullscreen),
                    e.fullscreenChangeList.length && e.fullscreenChangeList.forEach((function(e) {
                            e()
                        }
                    ))
                }
                ,
                e.destroy = function() {
                    e.fullscreenChangeList = [],
                        $(document).off(o.fullscreenchange),
                        $(window.top.document).off(o.fullscreenchange)
                }
                ,
                e.fullscreenChangeList = [],
                e.isFullscreen = !1,
                e.isTop = !1,
                e
        }();
        t.default = a
    }
    , , , , function(e, t, n) {
        "use strict";
        n.r(t);
        var i = n(5)
            , r = n.n(i)
            , o = n(6);
        r.a.fMp4Player = o.fMp4Player,
            window.Player = r.a
    }
    , function(e, t, n) {
        var i = n(21);
        "string" == typeof i && (i = [[e.i, i, ""]]);
        var r = {
            hmr: !0,
            transform: void 0,
            insertInto: void 0
        };
        n(34)(i, r);
        i.locals && (e.exports = i.locals)
    }
    , function(e, t, n) {
        t = e.exports = n(22)(!1);
        var i = n(23)
            , r = i(n(24))
            , o = i(n(25))
            , a = i(n(26))
            , s = i(n(27))
            , l = i(n(28))
            , c = i(n(29))
            , u = i(n(30))
            , d = i(n(31))
            , h = i(n(32))
            , f = i(n(33));
        t.push([e.i, ".clearfix {\n  *zoom: 1;\n}\n.clearfix:before,\n.clearfix:after {\n  content: '';\n  display: table;\n  overflow: hidden;\n}\n.clearfix:after {\n  clear: both;\n}\n.no-select {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n@keyframes giftPrefixAnimation {\n  0% {\n    background-position: left;\n  }\n  100% {\n    background-position: right;\n  }\n}\n@-webkit-keyframes move-in-left {\n  from {\n    opacity: 0;\n    -webkit-transform: translate(5em, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: translate(0, 0);\n  }\n}\n@keyframes move-in-left {\n  from {\n    opacity: 0;\n    transform: translate(5em, 0);\n  }\n  to {\n    opacity: 1;\n    transform: translate(0, 0);\n  }\n}\n@-webkit-keyframes splashing {\n  0% {\n    opacity: 0;\n  }\n  50% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n@keyframes splashing {\n  0% {\n    opacity: 0;\n  }\n  50% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n@-webkit-keyframes move-in-bottom {\n  from {\n    opacity: 0;\n    -webkit-transform: translate(0, 5em);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: translate(0, 0);\n  }\n}\n@keyframes move-in-bottom {\n  from {\n    opacity: 0;\n    transform: translate(0, 5em);\n  }\n  to {\n    opacity: 1;\n    transform: translate(0, 0);\n  }\n}\n@-webkit-keyframes scale-out {\n  from {\n    opacity: 1;\n    -webkit-transform: scale(1);\n  }\n  to {\n    opacity: 0;\n    -webkit-transform: scale(0.8);\n  }\n}\n@keyframes scale-out {\n  from {\n    opacity: 1;\n    transform: scale(1);\n  }\n  to {\n    opacity: 0;\n    transform: scale(0.8);\n  }\n}\n@keyframes copy-success-show {\n  100% {\n    opacity: 1;\n    margin-top: 0;\n  }\n}\n.bilibili-live-player {\n  line-height: 1;\n  font-family: \"Microsoft YaHei\", Arial, Helvetica, sans-serif;\n  /* HTML5 display-role reset for older browsers */\n}\n.bilibili-live-player article,\n.bilibili-live-player aside,\n.bilibili-live-player details,\n.bilibili-live-player figcaption,\n.bilibili-live-player figure,\n.bilibili-live-player footer,\n.bilibili-live-player header,\n.bilibili-live-player hgroup,\n.bilibili-live-player menu,\n.bilibili-live-player nav,\n.bilibili-live-player section {\n  display: block;\n}\n.bilibili-live-player ol,\n.bilibili-live-player ul {\n  list-style: none;\n  outline: none;\n  margin: 0;\n  padding: 0;\n}\n.bilibili-live-player blockquote,\n.bilibili-live-player q {\n  quotes: none;\n}\n.bilibili-live-player blockquote:before,\n.bilibili-live-player blockquote:after,\n.bilibili-live-player q:before,\n.bilibili-live-player q:after {\n  content: '';\n  content: none;\n}\n.bilibili-live-player table {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n.bilibili-live-player input,\n.bilibili-live-player a {\n  font-family: \"Microsoft YaHei\", Arial, Helvetica, sans-serif;\n  text-decoration: none;\n  outline: none;\n}\n.blp-red-tip:after {\n  content: '';\n  position: absolute;\n  width: 6px;\n  height: 6px;\n  border-radius: 100%;\n  background: #f66;\n  top: -3px;\n  right: -6px;\n  -webkit-box-shadow: 0 0 1px #333;\n  -moz-box-shadow: 0 0 1px #333;\n  box-shadow: 0 0 1px #333;\n  z-index: 30;\n}\n.bilibili-live-player {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n}\n.bilibili-live-player-enter-tips {\n  display: none;\n  opacity: 0;\n  -webkit-transition: opacity 0.3s ease-in-out;\n  -moz-transition: opacity 0.3s ease-in-out;\n  -ms-transition: opacity 0.3s ease-in-out;\n  -o-transition: opacity 0.3s ease-in-out;\n  transition: opacity 0.3s ease-in-out;\n}\n.bilibili-live-player:hover .bilibili-live-player-enter-tips {\n  opacity: 0.9;\n}\n.bilibili-live-player-enter-tips {\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  cursor: pointer;\n  text-align: center;\n  color: #fff;\n  font-size: 14px;\n  line-height: 30px;\n  background: #555555;\n  padding: 5px 0px;\n  width: 140px;\n  height: 30px;\n  position: absolute;\n  margin: auto;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: 16;\n}\n.bilibili-live-player-video-logo {\n  width: 122px;\n  height: 43px;\n  position: absolute;\n  left: auto;\n  right: 10px;\n  top: 10px;\n  background: url(" + r + ") no-repeat 0 0;\n  z-index: 18;\n  pointer-events: none;\n  opacity: 0.4;\n}\n.bilibili-live-player-video-pause {\n  width: 80px;\n  height: 80px;\n  position: absolute;\n  bottom: -5px;\n  right: 10px;\n  pointer-events: none;\n  z-index: 8;\n  background: url(" + o + ") no-repeat 0 0;\n  background-size: 80px 80px;\n  display: none;\n  opacity: 0.5;\n}\n.bilibili-live-player-video-area {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  z-index: 15;\n}\n.bilibili-live-player-video {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  background: #000;\n  z-index: 1;\n}\n.bilibili-live-player-video-operable-container {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: -1;\n}\n.bilibili-live-player-video video {\n  width: 100%;\n  height: 100%;\n}\n.bilibili-live-player-video-controller {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  z-index: 16;\n}\n.bilibili-live-player-loading-panel {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 19;\n  background: #fff;\n}\n.bilibili-live-player-ending-panel {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: -1;\n  background: #000;\n}\n.bilibili-live-player-video-danmaku {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: 6;\n  overflow: hidden;\n  left: 0;\n  top: 0;\n  -webkit-mask-size: contain;\n  mask-size: contain;\n  -webkit-mask-repeat: no-repeat;\n  mask-repeat: no-repeat;\n  -webkit-mask-position: center center;\n  mask-position: center center;\n}\n.bilibili-live-player-video-gift {\n  position: absolute;\n  width: 100%;\n  height: 100px;\n  z-index: 17;\n  overflow: hidden;\n}\n.bilibili-live-player.player-state-pause .bilibili-live-player-video-pause {\n  display: block;\n}\n.bilibili-live-player-copy-log-success {\n  background: rgba(0, 0, 0, 0.5);\n  color: #fff;\n  padding: 8px 14px 10px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  z-index: 20;\n  font-size: 13px;\n  display: inline-block;\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  letter-spacing: 2px;\n  opacity: 0;\n  margin-top: 10px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.bilibili-live-player-copy-log-success.bilibili-live-player-active {\n  -webkit-animation: copy-success-show 0.3s ease-in-out forwards;\n  -moz-animation: copy-success-show 0.3s ease-in-out forwards;\n  -ms-animation: copy-success-show 0.3s ease-in-out forwards;\n  -o-animation: copy-success-show 0.3s ease-in-out forwards;\n  animation: copy-success-show 0.3s ease-in-out forwards;\n}\n.bilibili-live-player-video-stream {\n  width: 100%;\n  height: 100%;\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  opacity: 1;\n  transform: none;\n  outline: 0;\n}\n.bilibili-live-player-video-loading-picture {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  z-index: 16;\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n.bilibili-live-player-video-loading {\n  position: absolute;\n  top: 0;\n  z-index: 15;\n  bottom: 0;\n  right: 0;\n  left: 0;\n}\n.bilibili-live-player-video-loading .video-loading {\n  width: 40px;\n  height: 40px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  margin-left: -20px;\n  margin-top: -20px;\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  background: url(" + a + ") no-repeat 4px 4px;\n  background-color: rgba(0, 0, 0, 0.7);\n}\n.bilibili-live-player-text-msg {\n  position: absolute;\n  top: 50%;\n  z-index: 15;\n  left: 50%;\n  transform: translate(-50%, calc(100% + 14px));\n  font-size: 16px;\n  color: #fff;\n  text-shadow: 0 0 3px #000;\n}\n.bilibili-live-player-video-round-title {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  padding: 0 20px 20px 0;\n  pointer-events: none;\n  z-index: 1;\n  color: #aaa;\n  font-size: 14px;\n  -webkit-transition: all 0.3s ease-in-out;\n  -moz-transition: all 0.3s ease-in-out;\n  -ms-transition: all 0.3s ease-in-out;\n  -o-transition: all 0.3s ease-in-out;\n  transition: all 0.3s ease-in-out;\n  -webkit-transform: translate(0, 0);\n  -moz-transform: translate(0, 0);\n  -ms-transform: translate(0, 0);\n  -o-transform: translate(0, 0);\n  transform: translate(0, 0);\n}\n.bilibili-live-player-video-round-counter {\n  width: 400px;\n  position: absolute;\n  z-index: 10;\n  pointer-events: none;\n  left: 50%;\n  top: 50%;\n  margin-left: -200px;\n  margin-top: -66px;\n  color: #aaa;\n}\n.bilibili-live-player-video-round-counter p {\n  text-align: center;\n  line-height: 50px;\n  letter-spacing: 3px;\n  font-weight: normal;\n  font-size: 20px;\n}\n.bilibili-live-player-video-round-counter p span.bilibili-live-player-video-round-counter-span {\n  font-size: 50px;\n}\n.bilibili-live-player-video-round-counter p + p {\n  font-size: 30px;\n}\n.bilibili-live-player-video-controller.enable-playback .panel {\n  top: -14px;\n}\n.bilibili-live-player-video-controller-back-live-btn {\n  padding: 4px 8px;\n  margin: 0 9px;\n  color: #fff;\n  background-color: rgba(51, 51, 51, 0.8);\n  border-radius: 12px;\n  font-size: 12px;\n  cursor: pointer;\n}\n.bilibili-live-player-video-controller-back-live-dot {\n  display: inline-block;\n  margin-right: 6px;\n  width: 6px;\n  height: 6px;\n  font-size: 0;\n  border-radius: 50%;\n  background: #ff5243;\n  vertical-align: middle;\n}\n.bilibili-live-player-video-controller-toast-info,\n.bilibili-live-player-video-controller-switch-quality-info {\n  color: #fff;\n  background: rgba(0, 0, 0, 0.7);\n  font-size: 13px;\n  width: 180px;\n  height: 40px;\n  line-height: 40px;\n  text-align: center;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -20px 0 0 -90px;\n  -webkit-border-radius: 6px;\n  -moz-border-radius: 6px;\n  border-radius: 6px;\n  z-index: 18;\n  cursor: default;\n}\n.bilibili-live-player-video-controller-real-time-replay-container {\n  display: none;\n  position: absolute;\n  bottom: 40px;\n  left: 7px;\n  right: 7px;\n}\n.bilibili-live-player-video-controller-replay-progress {\n  position: relative;\n  width: 100%;\n  height: 4px;\n  background: rgba(255, 255, 255, 0.3);\n  cursor: pointer;\n  opacity: 0.9;\n  padding: 2px 0;\n  background-clip: content-box;\n}\n.bilibili-live-player-video-controller-replay-bar-current-point {\n  position: absolute;\n  left: 100%;\n  margin-left: -7px;\n  margin-top: -6px;\n  width: 14px;\n  height: 14px;\n  background-image: url(" + s + ");\n  background-size: 100%;\n  z-index: 1;\n}\n.bilibili-live-player-video-controller-replay-bar {\n  width: 100%;\n  height: 100%;\n  background: #00A1D6;\n}\n.highlight-item {\n  position: absolute;\n  top: 2px;\n}\n.highlight-item .highlight-pot {\n  position: absolute;\n  left: 0;\n  top: 0;\n  margin-left: -4px;\n  width: 4px;\n  height: 4px;\n  border-radius: 50%;\n  background-color: #fff;\n  cursor: pointer;\n}\n.highlight-item .highlight-icon {\n  position: absolute;\n  width: 36px;\n  height: 36px;\n  top: -50px;\n  left: -20px;\n  border-radius: 50%;\n  background: #00A1D6;\n  cursor: pointer;\n}\n.highlight-item .highlight-icon:after {\n  content: '';\n  position: absolute;\n  left: 13px;\n  bottom: -3px;\n  width: 10px;\n  height: 10px;\n  transform: rotate(45deg);\n  background: #00A1D6;\n}\n.highlight-item .highlight-icon .highlight-img {\n  position: absolute;\n  left: 2px;\n  top: 2px;\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  overflow: hidden;\n  background-size: cover;\n  z-index: 1;\n}\n.bilibili-live-player-video-controller-replay-outer-container {\n  position: relative;\n  z-index: 16;\n}\n.bilibili-live-player-video-controller-replay-outer-container .bilibili-live-player-video-controller-real-time-replay-container {\n  opacity: 0.8;\n  bottom: 0;\n}\n.bilibili-live-player-video-controller-replay-outer-container .bilibili-live-player-video-controller-replay-progress {\n  height: 3px;\n  padding: 0;\n}\n.bilibili-live-player-video-controller-replay-outer-container .bilibili-live-player-video-controller-replay-bar-current-point {\n  display: none;\n}\n.bilibili-live-player-video-controller-replay-outer-container .highlight-item {\n  top: 0;\n}\n.bilibili-live-player-video-controller-replay-outer-container .highlight-item .highlight-pot {\n  margin-left: -1.5px;\n  width: 3px;\n  height: 3px;\n}\n.bilibili-live-player-video-controller-replay-outer-container .highlight-item .highlight-icon {\n  display: none;\n}\n.bilibili-live-player-loading-panel-container {\n  position: absolute;\n  width: 220px;\n  height: 90px;\n  top: 50%;\n  left: 50%;\n  margin-top: -45px;\n  margin-left: -110px;\n}\n.bilibili-live-player-loading-panel-img {\n  width: 40px;\n  height: 40px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  margin-left: -20px;\n  margin-top: -20px;\n  background: url(" + a + ') no-repeat 4px 4px;\n}\n.bilibili-live-player-loading-panel-percent {\n  font-size: 26px;\n  line-height: 30px;\n  width: 100%;\n  top: 90px;\n  text-align: center;\n  position: relative;\n  color: #222;\n}\n.bilibili-live-player-loading-panel-sprite {\n  width: 301px;\n  height: 301px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: -150px;\n  margin-left: -150px;\n  overflow: hidden;\n  background-repeat: no-repeat;\n  background-image: url("https://player.bilibili.com/live/html5/images/loading.png");\n  animation: run 1s steps(1, end) infinite;\n  -webkit-animation: run 1s steps(1, end) infinite;\n}\n@keyframes run {\n  0% {\n    width: 301px;\n    height: 301px;\n    background-position: -305px -608px;\n  }\n  17% {\n    width: 301px;\n    height: 301px;\n    background-position: -305px -305px;\n  }\n  34% {\n    width: 301px;\n    height: 301px;\n    background-position: -608px -2px;\n  }\n  51% {\n    width: 301px;\n    height: 301px;\n    background-position: -305px -2px;\n  }\n  68% {\n    width: 301px;\n    height: 301px;\n    background-position: -2px -608px;\n  }\n  85% {\n    width: 301px;\n    height: 301px;\n    background-position: -2px -305px;\n  }\n  100% {\n    width: 301px;\n    height: 301px;\n    background-position: -2px -2px;\n  }\n}\n@-webkit-keyframes run {\n  0% {\n    width: 301px;\n    height: 301px;\n    background-position: -305px -608px;\n  }\n  17% {\n    width: 301px;\n    height: 301px;\n    background-position: -305px -305px;\n  }\n  34% {\n    width: 301px;\n    height: 301px;\n    background-position: -608px -2px;\n  }\n  51% {\n    width: 301px;\n    height: 301px;\n    background-position: -305px -2px;\n  }\n  68% {\n    width: 301px;\n    height: 301px;\n    background-position: -2px -608px;\n  }\n  85% {\n    width: 301px;\n    height: 301px;\n    background-position: -2px -305px;\n  }\n  100% {\n    width: 301px;\n    height: 301px;\n    background-position: -2px -2px;\n  }\n}\n.bilibili-live-player-ending-panel {\n  color: #fff;\n}\n.bilibili-live-player-ending-panel-container {\n  width: 606px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate3d(-50%, -50%, 0);\n  -moz-transform: translate3d(-50%, -50%, 0);\n  -ms-transform: translate3d(-50%, -50%, 0);\n  -o-transform: translate3d(-50%, -50%, 0);\n  transform: translate3d(-50%, -50%, 0);\n}\n.bilibili-live-player-ending-panel-tips {\n  font-size: 28px;\n  color: #aaa;\n  text-align: center;\n  line-height: 50px;\n  height: 50px;\n  margin-bottom: 20px;\n}\n.bilibili-live-player-ending-panel-func {\n  height: 30px;\n  margin: 10px 0 30px;\n  text-align: center;\n}\n.bilibili-live-player-ending-panel-func-btn {\n  width: 120px;\n  height: 100%;\n  display: inline-block;\n  margin: 0 10px;\n}\n.bilibili-live-player-ending-panel-recommend {\n  height: 236px;\n  overflow: hidden;\n}\n.bilibili-live-player-ending-panel-recommend-card {\n  width: 192px;\n  height: 108px;\n  -webkit-border-radius: 2px;\n  -moz-border-radius: 2px;\n  border-radius: 2px;\n  float: left;\n  overflow: hidden;\n  display: inline-block;\n  position: relative;\n  margin: 5px;\n}\n.bilibili-live-player-ending-panel-recommend-card:hover .bilibili-live-player-ending-panel-recommend-card-content {\n  bottom: 0;\n}\n.bilibili-live-player-ending-panel-recommend-card:link,\n.bilibili-live-player-ending-panel-recommend-card:visited,\n.bilibili-live-player-ending-panel-recommend-card:hover,\n.bilibili-live-player-ending-panel-recommend-card:active,\n.bilibili-live-player-ending-panel-recommend-card:focus {\n  color: #444;\n  font-size: 12px;\n}\n.bilibili-live-player-ending-panel-recommend-card-pic {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n}\n.bilibili-live-player-ending-panel-recommend-card-pic-label {\n  position: absolute;\n  top: 4px;\n  right: 5px;\n  height: 16px;\n  line-height: 16px;\n  width: 48px;\n  padding: 1px 4px;\n  color: #fff;\n  -webkit-border-radius: 2px;\n  -moz-border-radius: 2px;\n  border-radius: 2px;\n}\n.bilibili-live-player-ending-panel-recommend-card-pic-recommend {\n  background: #FB7272;\n}\n.bilibili-live-player-ending-panel-recommend-card-pic-record {\n  background: #4fc1e9;\n}\n.bilibili-live-player-ending-panel-recommend-card-pic img {\n  width: 100%;\n  height: 100%;\n  border: none;\n}\n.bilibili-live-player-ending-panel-recommend-card-mask {\n  background-repeat: no-repeat;\n  background-position: 50px 50px;\n  position: absolute;\n  z-index: 2;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  -webkit-border-radius: 6px;\n  -moz-border-radius: 6px;\n  border-radius: 6px;\n  -webkit-transition: background 0.1s ease-in-out;\n  -moz-transition: background 0.1s ease-in-out;\n  -ms-transition: background 0.1s ease-in-out;\n  -o-transition: background 0.1s ease-in-out;\n  transition: background 0.1s ease-in-out;\n}\n.bilibili-live-player-ending-panel-recommend-card-content {\n  width: 100%;\n  position: absolute;\n  height: 50px;\n  bottom: -20px;\n  z-index: 3;\n  background-image: linear-gradient(-180deg, rgba(0, 0, 0, 0) 0%, #000000 100%);\n  color: #fff;\n  -webkit-transition: bottom 0.3s ease-in-out;\n  -moz-transition: bottom 0.3s ease-in-out;\n  -ms-transition: bottom 0.3s ease-in-out;\n  -o-transition: bottom 0.3s ease-in-out;\n  transition: bottom 0.3s ease-in-out;\n}\n.bilibili-live-player-ending-panel-recommend-card-user,\n.bilibili-live-player-ending-panel-recommend-card-info {\n  height: 16px;\n  position: relative;\n  line-height: 16px;\n}\n.bilibili-live-player-ending-panel-recommend-card-user {\n  margin-top: 8px;\n}\n.bilibili-live-player-ending-panel-recommend-card-face {\n  width: 40px;\n  height: 40px;\n  position: absolute;\n  left: 6px;\n  border: 1px solid #fff;\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  top: -20px;\n  overflow: hidden;\n}\n.bilibili-live-player-ending-panel-recommend-card-face img {\n  width: 100%;\n}\n.bilibili-live-player-ending-panel-recommend-card-title {\n  padding: 0 8px ;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.bilibili-live-player-ending-panel-recommend-card-info {\n  padding: 6px 8px;\n  color: #969696;\n}\n.bilibili-live-player-ending-panel-recommend-card-uname,\n.bilibili-live-player-ending-panel-recommend-card-online {\n  float: left;\n}\n.bilibili-live-player-ending-panel-recommend-card-uname .bilibili-live-player-ending-panel-recommend-card-icon,\n.bilibili-live-player-ending-panel-recommend-card-online .bilibili-live-player-ending-panel-recommend-card-icon {\n  display: inline-block;\n  height: 12px;\n  margin-right: 5px;\n  top: 0;\n  position: relative;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  width: 100%;\n}\n.bilibili-live-player-ending-panel-recommend-card-uname .bilibili-live-player-ending-panel-recommend-card-icon:before,\n.bilibili-live-player-ending-panel-recommend-card-online .bilibili-live-player-ending-panel-recommend-card-icon:before {\n  margin-right: 4px;\n}\n.bilibili-live-player-ending-panel-recommend-card-uname {\n  width: 60%;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.bilibili-live-player-ending-panel-recommend-card-online {\n  float: right;\n}\n.bilibili-live-player-ending-panel-info {\n  display: none;\n}\n@media (min-width: 1200px) {\n  .bilibili-live-player[data-player-state="web-fullscreen"] .bilibili-live-player-ending-panel-container,\n  .bilibili-live-player[data-player-state="fullscreen"] .bilibili-live-player-ending-panel-container {\n    width: 808px;\n  }\n}\n.bilibili-live-player-error-panel {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  z-index: 18;\n  background: #000;\n  cursor: default;\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  align-items: center;\n}\n.bilibili-live-player-error-panel .bilibili-live-player-error-message {\n  max-width: 80%;\n  display: inline-block;\n  font-size: 16px;\n  color: #eee;\n  line-height: 24px;\n  padding: 10px;\n  cursor: default;\n}\n.bilibili-live-player-error-panel .bilibili-live-player-error-tips,\n.bilibili-live-player-error-panel .bilibili-live-player-error-code {\n  font-size: 24px;\n  margin-top: 12px;\n  color: #999999;\n  height: 33px;\n  line-height: 33px;\n}\n.bilibili-live-player-error-panel .bilibili-live-player-error-operation {\n  display: block;\n  font-size: 13px;\n  color: #fff;\n}\n.bilibili-live-player-error-panel .bilibili-live-player-error-reload,\n.bilibili-live-player-error-panel .bilibili-live-player-error-redirect {\n  display: inline-block;\n  position: relative;\n  margin: 0 3px;\n}\n.bilibili-live-player-error-panel .bilibili-live-player-error-reload:link,\n.bilibili-live-player-error-panel .bilibili-live-player-error-redirect:link,\n.bilibili-live-player-error-panel .bilibili-live-player-error-reload:visited,\n.bilibili-live-player-error-panel .bilibili-live-player-error-redirect:visited,\n.bilibili-live-player-error-panel .bilibili-live-player-error-reload:active,\n.bilibili-live-player-error-panel .bilibili-live-player-error-redirect:active,\n.bilibili-live-player-error-panel .bilibili-live-player-error-reload:focus,\n.bilibili-live-player-error-panel .bilibili-live-player-error-redirect:focus {\n  color: #fd9ccc;\n}\n.bilibili-live-player-error-panel .bilibili-live-player-error-reload:hover,\n.bilibili-live-player-error-panel .bilibili-live-player-error-redirect:hover {\n  color: #fda6d2;\n}\n.bilibili-live-player-error-panel[data-error-type="message"] .bilibili-live-player-error-message {\n  display: block;\n}\n.bilibili-live-player-error-panel[data-error-type="message"] .bilibili-live-player-error-tips,\n.bilibili-live-player-error-panel[data-error-type="message"] .bilibili-live-player-error-code,\n.bilibili-live-player-error-panel[data-error-type="message"] .bilibili-live-player-error-image {\n  display: none;\n}\n.bilibili-live-player-error-panel[data-error-type="image"] .bilibili-live-player-error-message {\n  display: none;\n}\n.bilibili-live-player-error-panel[data-error-type="image"] .bilibili-live-player-error-image {\n  display: block;\n  width: 300px;\n  height: 225px;\n  background: url(\'//s1.hdslb.com/bfs/static/player/live/html5/images/error.png\') no-repeat 0 0;\n  background-size: contain;\n}\n.bilibili-live-player-forbidden-panel {\n  position: absolute;\n  z-index: 30;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background: #f5f5f5;\n}\n.bilibili-live-player-forbidden-panel-content {\n  width: 480px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n}\n.bilibili-live-player-forbidden-panel-image {\n  width: 300px;\n  height: 270px;\n  margin: 0 auto 20px;\n  background: url(\'https://static.hdslb.com/live-static/swf/resource/shieldIP.png\') no-repeat 0 0;\n  background-size: 300px 270px;\n}\n.bilibili-live-player-forbidden-panel-text {\n  margin: 0;\n  line-height: 30px;\n  text-align: center;\n  color: #666;\n  font-size: 14px;\n}\n.bilibili-live-player-forbidden-panel-mail:link,\n.bilibili-live-player-forbidden-panel-mail:visited,\n.bilibili-live-player-forbidden-panel-mail:active,\n.bilibili-live-player-forbidden-panel-mail:hover {\n  color: #23ADE5;\n  text-decoration: underline;\n}\n.bilibili-live-player-gfs-staple {\n  position: relative;\n  text-align: right;\n  background-color: #191919;\n  padding-right: 20px;\n}\n.bilibili-live-player-gfs-staple a {\n  display: inline-block;\n  vertical-align: middle;\n  cursor: pointer;\n}\n.bilibili-live-player-gfs-group {\n  display: inline-block;\n  vertical-align: middle;\n  margin-left: 10px;\n  font-size: 12px;\n}\n.bilibili-live-player-gfs-gossip {\n  position: relative;\n  margin-right: 16px;\n}\n.bilibili-live-player-gfs-gossip a,\n.bilibili-live-player-gfs-gift a {\n  margin: 3px;\n  width: 34px;\n  height: 34px;\n  border-radius: 50%;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: contain;\n  overflow: visible;\n}\n.bilibili-live-player-gfs-package {\n  position: relative;\n  margin-left: 24px;\n  margin-right: 24px;\n  color: #fff;\n}\n.bilibili-live-player-gfs-package > a {\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n.bilibili-live-player-gfs-package i {\n  display: inline-block;\n  vertical-align: middle;\n  width: 22px;\n  height: 20px;\n}\n.bilibili-live-player-gfs-package span {\n  display: inline-block;\n  vertical-align: middle;\n  margin-left: 6px;\n}\n.bilibili-live-player-gfs-package div {\n  position: absolute;\n  top: 10px;\n  right: -10px;\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  background: #f25d8e;\n  -webkit-animation: splashing cubic-bezier(0.22, 0.58, 0.12, 0.98) 3s infinite;\n  -moz-animation: splashing cubic-bezier(0.22, 0.58, 0.12, 0.98) 3s infinite;\n  -ms-animation: splashing cubic-bezier(0.22, 0.58, 0.12, 0.98) 3s infinite;\n  -o-animation: splashing cubic-bezier(0.22, 0.58, 0.12, 0.98) 3s infinite;\n  animation: splashing cubic-bezier(0.22, 0.58, 0.12, 0.98) 3s infinite;\n}\n.bilibili-live-player-gfs-pword {\n  position: relative;\n  background: url(' + l + ") no-repeat center;\n  background-size: contain;\n}\n.bilibili-live-player-gfs-emoji {\n  position: relative;\n  background: url(" + c + ') no-repeat center;\n  background-size: contain;\n}\n.bilibili-live-player-gfs-float {\n  position: absolute;\n}\n.bilibili-live-player-gfs-pword-panel,\n.bilibili-live-player-gfs-emoji-panel {\n  position: absolute;\n  bottom: 44px;\n  font-size: 13px;\n  text-align: left;\n  border-radius: 5px;\n  box-shadow: 0 0 2em 0.1em rgba(0, 0, 0, 0.15);\n  background-color: #fff;\n  z-index: 99;\n  -webkit-animation: move-in-left cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s;\n  -moz-animation: move-in-left cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s;\n  -ms-animation: move-in-left cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s;\n  -o-animation: move-in-left cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s;\n  animation: move-in-left cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s;\n}\n.bilibili-live-player-gfs-pword-panel a,\n.bilibili-live-player-gfs-emoji-panel a {\n  margin: 0;\n  width: auto;\n  height: auto;\n  line-height: 17px;\n  -webkit-transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.2s;\n  -moz-transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.2s;\n  -ms-transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.2s;\n  -o-transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.2s;\n  transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.2s;\n}\n.bilibili-live-player-gfs-pword-panel a:hover,\n.bilibili-live-player-gfs-emoji-panel a:hover {\n  color: #4fc1e9;\n}\n.bilibili-live-player-gfs-pword-panel a:active,\n.bilibili-live-player-gfs-emoji-panel a:active {\n  border-radius: 5px;\n  color: #fff;\n  background-color: #4fc1e9;\n  -webkit-transition: none;\n  -moz-transition: none;\n  -ms-transition: none;\n  -o-transition: none;\n  transition: none;\n}\n.bilibili-live-player-gfs-pword-panel {\n  left: -77px;\n  width: 176px;\n  height: 200px;\n  padding: 10px;\n  overflow: hidden;\n}\n.bilibili-live-player-gfs-pword-wrap {\n  width: 170px;\n  height: auto;\n}\n.bilibili-live-player-gfs-pword-wrap a {\n  display: block;\n  padding: 4px 5px;\n  border-bottom: 1px solid #ddd;\n  border-radius: 0;\n}\n.bilibili-live-player-gfs-emoji-panel {\n  left: -24px;\n  padding: 10px;\n  width: 340px;\n}\n.bilibili-live-player-gfs-emoji-panel a {\n  padding: 3px 5px;\n  border-radius: 5px;\n}\n.bilibili-live-player-gfs-give-float {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.4);\n  z-index: 5000;\n}\n.bilibili-live-player-gfs-give-wrap {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  padding: 20px;\n  width: 240px;\n  height: 255px;\n  font-size: 12px;\n  border-radius: 5px;\n  background-color: #fff;\n  box-shadow: 0 0 5em 0.5em rgba(0, 0, 0, 0.2);\n  -webkit-animation: move-in-bottom cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s;\n  -moz-animation: move-in-bottom cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s;\n  -ms-animation: move-in-bottom cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s;\n  -o-animation: move-in-bottom cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s;\n  animation: move-in-bottom cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s;\n}\n.bilibili-live-player-gfs-give-wrap.animate_scale-out {\n  -webkit-animation: scale-out cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s forwards;\n  -moz-animation: scale-out cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s forwards;\n  -ms-animation: scale-out cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s forwards;\n  -o-animation: scale-out cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s forwards;\n  animation: scale-out cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.4s forwards;\n}\n.bilibili-live-player-gfs-give-wrap h2 {\n  margin-top: 0;\n  margin-bottom: 20px;\n  font-size: 20px;\n  font-weight: normal;\n  color: #4fc1e9;\n}\n.bilibili-live-player-gfs-give-close {\n  position: absolute;\n  right: -20px;\n  top: -20px;\n  width: 30px;\n  height: 30px;\n  border: 5px solid #fff;\n  border-radius: 50%;\n  cursor: pointer;\n  background: #4fc1e9 url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAIAAAC0tAIdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjM1MDg4N0Q5QjhERDExRTU5MUQyRjM4MDgzOThGRUI4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjM1MDg4N0RBQjhERDExRTU5MUQyRjM4MDgzOThGRUI4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzUwODg3RDdCOEREMTFFNTkxRDJGMzgwODM5OEZFQjgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzUwODg3RDhCOEREMTFFNTkxRDJGMzgwODM5OEZFQjgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz60gZGeAAABx0lEQVR42mySSy8DURzFZ27nUZ2Z1qMijXhXsLBh08TCRtjZICTCSmLFgk/hAyC2oguRiCDCRuKRsKqIsCjxVtKiZDrTTjudcSbTNEonmcW998w5//ObS8+GPmZaPR6ObD6rqw8K9e+ZaJJ6fM6zz/Tc1TdRdVMzTMFB91e7+nwlf6Sj9UKvr4QndMYwsSSRZHYxLD8ousDQQ7VCeymblwYqeEg5QuF07dGKJXjDcgYLWTcreDJYKzgdNDZrXI6ResHDknfNWL5NPKnZnBrPcUzbjagZg2ov5Sb9EnaG68Q6gUkZ5sazEoqnbRmTzw3eK17e0V3l7Kp0ulmCzzDpSUzbfknmNeR3p6Ub+eIrzRKqs5zDuI+Kvv5UQKlAncqa+2+phG7VRw2Uscctru4o48YaRImxWooMDSB24yJqQBhvFL08gethFDFUm5sbqHEVUUM61eIBBEU3V+4SC9fy5bdVAPagXqBG3IRfapYYENyJqHuvSTgH7xQEgDeowyunhnS6xQ1eiD6IJsHRPsAv23pRwRuB8LILEFyagNfKOoqm5sPy7ylBGrwBCF7jDaKlxkI3qNN3DbD/X0BsnsfTuFEssbx/BBgAyyDFMrTdG4YAAAAASUVORK5CYII=") center no-repeat;\n  -webkit-transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.3s;\n  -moz-transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.3s;\n  -ms-transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.3s;\n  -o-transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.3s;\n  transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.3s;\n  z-index: 200;\n}\n.bilibili-live-player-gfs-give-close:hover {\n  -webkit-transform: rotate(180deg) scale(1.1);\n  -moz-transform: rotate(180deg) scale(1.1);\n  -ms-transform: rotate(180deg) scale(1.1);\n  -o-transform: rotate(180deg) scale(1.1);\n}\n.bilibili-live-player-gfs-give-gif {\n  float: left;\n  margin-right: 15px;\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  background-size: cover;\n}\n.bilibili-live-player-gfs-give-info {\n  float: left;\n}\n.bilibili-live-player-gfs-give-name {\n  margin-bottom: 15px;\n  font-size: 15px;\n}\n.bilibili-live-player-gfs-give-cost > div {\n  float: left;\n  margin-right: 10px;\n}\n.bilibili-live-player-gfs-give-cost i {\n  display: inline-block;\n  vertical-align: middle;\n  margin-right: 5px;\n  width: 20px;\n  height: 20px;\n  background: url("https://static.hdslb.com/live-static/common/images/live-icon/live-icon.png") no-repeat;\n}\n.bilibili-live-player-gfs-give-cost span {\n  display: inline-block;\n  vertical-align: middle;\n}\n.bilibili-live-player-gfs-give-cost-gold i {\n  background-position: -80px 0;\n}\n.bilibili-live-player-gfs-give-cost-silver i {\n  background-position: -100px 0;\n}\n.bilibili-live-player-gfs-give-type {\n  display: inline-block;\n  margin-top: 20px;\n  margin-bottom: 10px;\n}\n.bilibili-live-player-gfs-give-type input {\n  margin: 0 5px;\n  display: inline-block;\n  vertical-align: middle;\n}\n.bilibili-live-player-gfs-give-number {\n  margin-bottom: 10px;\n  text-align: center;\n}\n.bilibili-live-player-gfs-give-number span {\n  display: inline-block;\n  margin: 5px 10px;\n  padding: 4px 10px;\n  width: 35px;\n  border: 1px solid #aaa;\n  border-radius: 5px;\n  cursor: pointer;\n}\n.bilibili-live-player-gfs-give-number span:hover {\n  border-color: #4fc1e9;\n}\n.bilibili-live-player-gfs-give-number span:active {\n  color: #fff;\n  border-color: #4fc1e9;\n  background-color: #4fc1e9;\n}\n.bilibili-live-player-gfs-give-counter {\n  display: inline-block;\n  vertical-align: middle;\n  margin-right: 12px;\n  padding: 2px 8px;\n  width: 130px;\n  height: 25px;\n  border: 1px solid #aaa;\n  border-radius: 5px;\n  background-color: #fff;\n}\n.bilibili-live-player-gfs-give-counter:focus {\n  border-color: #4fc1e9;\n}\n.bilibili-live-player-gfs-give-confirm {\n  display: inline-block;\n  vertical-align: middle;\n  padding: 0 20px;\n  height: 30px;\n  line-height: 30px;\n  font-size: 12px;\n  font-family: "微软雅黑", sans-serif;\n  border: none;\n  border-radius: 5px;\n  overflow: visible;\n  color: #fff;\n  background-color: #4fc1e9;\n  box-sizing: border-box;\n  cursor: pointer;\n  -webkit-transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.2s;\n  -moz-transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.2s;\n  -ms-transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.2s;\n  -o-transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.2s;\n  transition: all cubic-bezier(0.22, 0.58, 0.12, 0.98) 0.2s;\n}\n.bilibili-live-player-gfs-give-confirm:hover {\n  background-color: #61c7eb;\n}\n.bilibili-live-player-gfs-message-panel {\n  position: absolute;\n  right: 0;\n  bottom: 20%;\n  max-height: 50%;\n  overflow: hidden;\n  z-index: 5100;\n}\n.bilibili-live-player-gfs-message-panel span {\n  display: block;\n  position: relative;\n  right: 0;\n  margin-top: 3px;\n  padding: 1em 1.5em;\n  border-radius: 3px 0 0 3px;\n  color: #fff;\n  background-color: rgba(0, 0, 0, 0.5);\n  -webkit-transition: right 0.5s ease-in-out;\n  -moz-transition: right 0.5s ease-in-out;\n  -ms-transition: right 0.5s ease-in-out;\n  -o-transition: right 0.5s ease-in-out;\n  transition: right 0.5s ease-in-out;\n}\n.bilibili-live-player-gfs-message-panel span.animate_move-out {\n  right: -100%;\n}\n.bilibili-live-player-danmaku-gift {\n  display: inline-block;\n}\n.bilibili-live-player-danmaku-gift > span {\n  display: inline-block;\n  background: no-repeat 0 0;\n  background-size: 100% 100%;\n}\n.bilibili-live-player-danmaku-gift .gift-danmaku-2 {\n  height: 35px;\n  width: 23px;\n  background-image: url(' + u + ");\n}\n.bilibili-live-player-danmaku-gift .gift-danmaku-3 {\n  height: 35px;\n  width: 23px;\n  background-image: url(" + d + ");\n}\n.bilibili-live-player-danmaku-gift .gift-danmaku-6 {\n  height: 35px;\n  width: 23px;\n  background-image: url(" + h + ');\n}\n.bilibili-live-player-report-msg {\n  color: #4fc1e9;\n  font-size: 12px;\n  line-height: 2;\n}\n.bilibili-live-player-report-uname {\n  font-size: 12px;\n  color: #666;\n  line-height: 2;\n}\n.bilibili-live-player-report-select-input {\n  height: 32px;\n  position: relative;\n  border: 1px solid #e3e8ec;\n  font-size: 12px;\n  background: #fff;\n  cursor: pointer;\n  border-radius: 4px;\n  margin: 10px 0 25px;\n}\n.bilibili-live-player-report-select-wrap {\n  position: absolute;\n  height: 34px;\n  width: 360px;\n}\n.bilibili-live-player-report-select-wrap:hover .bilibili-live-player-report-icon::after {\n  transform-origin: center;\n  transform: rotate(-135deg);\n  transition: transform 0.3s;\n}\n.bilibili-live-player-report-icon {\n  display: inline-block;\n  width: 40px;\n  height: 30px;\n  margin-right: 20px;\n}\n.bilibili-live-player-report-icon::after {\n  display: inline-block;\n  content: " ";\n  height: 6px;\n  width: 6px;\n  border-width: 0 2px 2px 0;\n  border-color: #999999;\n  border-style: solid;\n  transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\n  transform-origin: center;\n  transition: transform 0.3s;\n  position: absolute;\n  top: 50%;\n  right: 10px;\n  margin-top: -4px;\n}\n.bilibili-live-player-report-curt {\n  padding-left: 8px;\n  height: 32px;\n  line-height: 32px;\n  color: #646c7a;\n}\n.bilibili-live-player-report-ul {\n  display: none;\n  position: relative;\n  top: -27px;\n  width: 358px;\n  height: 160px;\n  padding: 0;\n  margin: 0;\n  font-size: inherit;\n  border: 1px solid #ddd;\n  border-top: 0;\n  background: #fff;\n  overflow-y: auto;\n  -webkit-box-shadow: 0 1px 2px 0 rgba(105, 115, 133, 0.22);\n  box-shadow: 0 1px 2px 0 rgba(105, 115, 133, 0.22);\n  border-radius: 0 0 4px 4px;\n  z-index: 1;\n  cursor: pointer;\n}\n.bilibili-live-player-report-ul li {\n  padding: 10px 0 10px 8px;\n  color: #999;\n  font-size: 12px;\n  height: 24px;\n  line-height: 24px;\n}\n.bilibili-live-player-report-ul li:hover {\n  background: #eef9fd;\n}\n@media (max-width: 620px) {\n  .bilibili-live-player[data-player-state="fullscreen"] .bilibili-live-player-video-controller-right {\n    display: none;\n  }\n}\n.bilibili-live-player[data-in-operation="true"] .bilibili-live-player-video-operable-container {\n  z-index: 7;\n}\n.bilibili-live-player[data-live-state="block"] .bilibili-live-player-ending-panel,\n.bilibili-live-player[data-live-state="preparing"] .bilibili-live-player-ending-panel,\n.bilibili-live-player[data-live-state="close"] .bilibili-live-player-ending-panel,\n.bilibili-live-player[data-live-state="end"] .bilibili-live-player-ending-panel {\n  z-index: 17;\n}\n.bilibili-live-player[data-live-state="block"] .bilibili-live-player-video-area,\n.bilibili-live-player[data-live-state="preparing"] .bilibili-live-player-video-area,\n.bilibili-live-player[data-live-state="close"] .bilibili-live-player-video-area,\n.bilibili-live-player[data-live-state="end"] .bilibili-live-player-video-area {\n  z-index: auto;\n}\n.bilibili-live-player[data-live-state="block"] .bilibili-live-player-video-operable-container,\n.bilibili-live-player[data-live-state="preparing"] .bilibili-live-player-video-operable-container,\n.bilibili-live-player[data-live-state="close"] .bilibili-live-player-video-operable-container,\n.bilibili-live-player[data-live-state="end"] .bilibili-live-player-video-operable-container {\n  z-index: 21;\n  height: 100px;\n}\n.bilibili-live-player[data-live-state="block"] .bilibili-live-player-video-danmaku,\n.bilibili-live-player[data-live-state="preparing"] .bilibili-live-player-video-danmaku,\n.bilibili-live-player[data-live-state="close"] .bilibili-live-player-video-danmaku,\n.bilibili-live-player[data-live-state="end"] .bilibili-live-player-video-danmaku {\n  z-index: 20;\n  height: 120px;\n}\n.bilibili-live-player[data-live-state="block"] .bilibili-live-player-video-logo,\n.bilibili-live-player[data-live-state="preparing"] .bilibili-live-player-video-logo,\n.bilibili-live-player[data-live-state="close"] .bilibili-live-player-video-logo,\n.bilibili-live-player[data-live-state="end"] .bilibili-live-player-video-logo {\n  z-index: 22;\n}\n.bilibili-live-player[data-live-state="block"][data-mini-type="true"] .bilibili-live-player-video-danmaku,\n.bilibili-live-player[data-live-state="preparing"][data-mini-type="true"] .bilibili-live-player-video-danmaku,\n.bilibili-live-player[data-live-state="close"][data-mini-type="true"] .bilibili-live-player-video-danmaku,\n.bilibili-live-player[data-live-state="end"][data-mini-type="true"] .bilibili-live-player-video-danmaku {\n  display: none;\n}\n.bilibili-live-player[data-live-state="pre-round"] .bilibili-live-player-video-logo,\n.bilibili-live-player[data-live-state="round"] .bilibili-live-player-video-logo {\n  background-image: url(' + f + ');\n  background-size: 78px 50px;\n  opacity: 0.8;\n  width: 78px;\n  height: 50px;\n}\n.bilibili-live-player[data-live-state="error"] .bilibili-live-player-video-logo {\n  display: none;\n}\n.bilibili-live-player[data-controller-state="hide"] .bilibili-live-player-video-round-title {\n  opacity: 1;\n  -webkit-transform: translate(0, 0);\n  -moz-transform: translate(0, 0);\n  -ms-transform: translate(0, 0);\n  -o-transform: translate(0, 0);\n  transform: translate(0, 0);\n}\n.bilibili-live-player[data-controller-state="hide"] .blp-plugin-tip {\n  display: none;\n}\n.bilibili-live-player[data-controller-state="show"] .bilibili-live-player-video-round-title {\n  opacity: 0;\n  -webkit-transform: translate(0, 5px);\n  -moz-transform: translate(0, 5px);\n  -ms-transform: translate(0, 5px);\n  -o-transform: translate(0, 5px);\n  transform: translate(0, 5px);\n}\n.bilibili-live-player[data-cursor-state="hide"][data-player-state="fullscreen"],\n.bilibili-live-player[data-cursor-state="hide"][data-player-state="web-fullscreen"] {\n  cursor: none;\n}\n.bilibili-live-player[data-video-state="playing"] .bilibili-live-player-video-pause {\n  display: none;\n}\n.bilibili-live-player[data-video-state="playing"] .bilibili-live-player-video-loading {\n  display: block;\n}\n.bilibili-live-player[data-video-state="paused"] .bilibili-live-player-video-pause {\n  display: block;\n}\n.bilibili-live-player[data-video-state="paused"] .bilibili-live-player-video-loading {\n  display: none;\n}\n.bilibili-live-player[data-video-loading-state="show"] .bilibili-live-player-video-loading {\n  display: block;\n}\n.bilibili-live-player[data-video-loading-state="hide"] .bilibili-live-player-video-loading {\n  display: none;\n}\n.bilibili-live-player[data-video-logo-state="false"] .bilibili-live-player-video-logo {\n  display: none;\n}\n.bilibili-live-player[data-video-logo-state="true"] .bilibili-live-player-video-logo {\n  display: block;\n}\n.bilibili-live-player[data-video-feedback-state="false"] .bilibili-live-player-video-controller-feedback-btn {\n  display: none;\n}\n.bilibili-live-player[data-video-feedback-state="true"] .bilibili-live-player-video-controller-feedback-btn {\n  display: block;\n}\n.bilibili-live-player[data-video-recommend-state="false"] .bilibili-live-player-ending-panel-recommend {\n  display: none;\n}\n.bilibili-live-player[data-video-recommend-state="true"] .bilibili-live-player-ending-panel-recommend {\n  display: block;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-duration-btn,\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-feedback-btn,\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-web-fullscreen-btn,\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-fullscreen-btn,\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-hide-danmaku-container,\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-block-btn,\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-quality-btn {\n  display: none;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-hide-danmaku-container {\n  width: 0;\n  height: 0;\n  padding: 0;\n  margin: 0;\n  overflow: hidden;\n}\n.bilibili-live-player[data-player-type="player-home"][data-controller-state="show"] .bilibili-live-player-video-round-title {\n  opacity: 1;\n  -webkit-transform: translate(0, 0);\n  -moz-transform: translate(0, 0);\n  -ms-transform: translate(0, 0);\n  -o-transform: translate(0, 0);\n  transform: translate(0, 0);\n}\n.bilibili-live-player[data-danmaku-visibility="false"] .bilibili-live-player-video-gift {\n  visibility: hidden;\n}\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-video-logo,\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-video-pause,\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-video-gift,\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-event-log-container,\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-video-info-container,\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-ending-panel-tips,\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-video-round-title,\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-ending-panel-recommend {\n  display: none;\n}\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-ending-panel-container {\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  -webkit-transform: translate(0, 0);\n  -moz-transform: translate(0, 0);\n  -ms-transform: translate(0, 0);\n  -o-transform: translate(0, 0);\n  transform: translate(0, 0);\n}\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-ending-panel-info {\n  display: block;\n  text-align: center;\n  font-size: 14px;\n  line-height: 16px;\n  top: 50%;\n  -webkit-transform: translate(0, -50%);\n  -moz-transform: translate(0, -50%);\n  -ms-transform: translate(0, -50%);\n  -o-transform: translate(0, -50%);\n  transform: translate(0, -50%);\n  position: relative;\n  letter-spacing: 1px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-video-round-counter {\n  width: 100%;\n  position: absolute;\n  top: 50%;\n  left: 0;\n  -webkit-transform: translate(0, -50%);\n  -moz-transform: translate(0, -50%);\n  -ms-transform: translate(0, -50%);\n  -o-transform: translate(0, -50%);\n  transform: translate(0, -50%);\n  margin: 0;\n}\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-video-round-counter p {\n  font-size: 16px;\n  line-height: 36px;\n}\n.bilibili-live-player[data-mini-type="true"] .bilibili-live-player-video-round-counter p span.bilibili-live-player-video-round-counter-span {\n  font-size: 30px;\n}\n.bilibili-live-player[data-player-type="player-activity"] .bilibili-live-player-video-controller-feedback-btn,\n.bilibili-live-player[data-player-type="player-activity"] .bilibili-live-player-video-controller-block-btn,\n.bilibili-live-player[data-player-type="player-activity"] .bilibili-live-player-video-controller-web-fullscreen-btn {\n  display: none;\n}\n.bilibili-live-player[data-player-type="player-activity"] .bilibili-live-player-video-controller-enter-the-room-btn {\n  display: inline-block;\n}\n.bilibili-live-player[data-pre-rendered="true"] .bilibili-live-player-loading-panel {\n  display: none;\n}\n.bilibili-live-player[data-auto-play-state="false"] {\n  cursor: pointer;\n}\n.bilibili-live-player[data-auto-play-state="false"]:after {\n  content: \'\';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: transparent;\n  z-index: 99;\n  cursor: pointer;\n}\n.bilibili-live-player[data-auto-play-state="false"] .bilibili-live-player-video-loading {\n  display: none;\n}\n.bilibili-live-player[data-auto-play-state="false"] .bilibili-live-player-video-danmaku {\n  background: #000;\n  background: rgba(0, 0, 0, 0.2);\n}\n.bilibili-live-player[data-auto-play-state="false"] .bilibili-live-player-video-pause {\n  position: absolute;\n  z-index: 9999;\n  top: 50%;\n  left: 50%;\n  display: block;\n  opacity: 1;\n  -webkit-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n}\n.bilibili-live-player[data-enter-the-room="2"] .bilibili-live-player-enter-tips {\n  display: block;\n  opacity: 0;\n  background: rgba(0, 0, 0, 0.4);\n  border: 1px solid #23ADE5;\n  color: #23ADE5;\n  -webkit-transition: all 0.3s ease-in-out;\n  -moz-transition: all 0.3s ease-in-out;\n  -ms-transition: all 0.3s ease-in-out;\n  -o-transition: all 0.3s ease-in-out;\n  transition: all 0.3s ease-in-out;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.bilibili-live-player[data-enter-the-room="2"]:hover .bilibili-live-player-enter-tips {\n  opacity: 1;\n}\n.bilibili-live-player[data-enter-the-room="2"]:hover .bilibili-live-player-enter-tips:hover {\n  color: #FFF;\n  background: #23ADE5;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-enter-tips {\n  background: rgba(0, 0, 0, 0.4);\n  border: 1px solid #23ADE5;\n  color: #23ADE5;\n  -webkit-transition: all 0.3s ease-in-out;\n  -moz-transition: all 0.3s ease-in-out;\n  -ms-transition: all 0.3s ease-in-out;\n  -o-transition: all 0.3s ease-in-out;\n  transition: all 0.3s ease-in-out;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-area {\n  padding-bottom: 48px;\n  box-sizing: border-box;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-danmaku {\n  position: relative;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video {\n  top: -100%;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-pause {\n  bottom: 35px;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-enter-tips {\n  display: block;\n  bottom: 40px;\n  width: 144px;\n  border-radius: 8px;\n  font-size: 16px;\n  height: 56px;\n  line-height: 56px;\n  box-sizing: border-box;\n  padding: 0;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-enter-tips:hover {\n  color: #FFF;\n  background: #23ADE5;\n  opacity: 1;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller {\n  opacity: 1;\n  -webkit-transform: translate(0, 0);\n  -moz-transform: translate(0, 0);\n  -ms-transform: translate(0, 0);\n  -o-transform: translate(0, 0);\n  transform: translate(0, 0);\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-container {\n  height: 48px;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-content {\n  padding: 0 2px 0 10px;\n  top: 15px;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-switch-line-btn,\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-switch-quality-btn,\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-reload-btn,\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-hide-danmaku-btn {\n  display: none;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-enter-the-room-btn {\n  display: inline-block;\n  line-height: normal;\n  position: absolute;\n  right: 0;\n  margin: 0 12px;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-enter-the-room-btn > .blpui-btn {\n  padding: 0 8px;\n  height: 24px;\n  line-height: 24px;\n  margin-top: -3px;\n  background-color: #23ADE5;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-left {\n  position: absolute;\n  z-index: 11;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-right {\n  float: none;\n  padding-left: 116px;\n}\n.bilibili-live-player[data-player-type="player-home"] .bilibili-live-player-video-controller-switch-player-btn {\n  display: inline-block;\n}\n.bilibili-live-player[data-player-type="player-home"] .blpui-btn.icon-btn:hover > i {\n  color: #23ADE5;\n}\n.bilibili-live-player[data-player-type="player-home"] .blpui-btn.text-btn:hover,\n.bilibili-live-player[data-player-type="player-home"] .blpui-btn.text-btn.active {\n  color: #23ADE5;\n}\n.bilibili-live-player[data-player-type="player-home"] .blpui-slider-span.slider-span-active:after {\n  right: 0;\n  background: #23ADE5;\n}\n.bilibili-live-player[data-player-type="player-home"] .blpui-slider-span > span {\n  background: #23ADE5;\n}\n.bilibili-live-player[data-player-type="player-activity"][data-send-activity="true"] .bilibili-live-player-send-container {\n  z-index: 16;\n  height: 44px;\n  bottom: 0;\n  position: absolute;\n  width: 100%;\n}\n.bilibili-live-player[data-player-type="player-activity"][data-send-activity="true"] .bilibili-live-player-video-danmaku {\n  width: auto;\n  height: auto;\n  right: 0;\n  bottom: 44px;\n}\n.bilibili-live-player[data-player-type="player-activity"][data-send-activity="true"] .bilibili-live-player-video-area {\n  padding-bottom: 44px;\n  box-sizing: border-box;\n}\n.bilibili-live-player[data-player-type="player-activity"][data-send-activity="true"] .bilibili-live-player-video-controller {\n  bottom: 44px;\n}\n.bilibili-live-player-send-container {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  height: 44px;\n  background-color: #191919;\n  text-align: center;\n  z-index: 13;\n}\n.bilibili-live-player-send-container-wrapper {\n  width: 100%;\n  box-sizing: border-box;\n  padding: 0 10px;\n  height: 72%;\n  margin-top: 6px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n}\n.bilibili-live-player-send-container-input-not-log-in {\n  width: 100%;\n}\n.bilibili-live-player-send-container-input-not-log-in > span {\n  color: #aaa;\n}\n.bilibili-live-player-send-container-input-not-log-in > a {\n  color: #f25d8e;\n}\n.bilibili-live-player-send-container-input-wrapper {\n  display: flex;\n  flex: 1;\n  height: 100%;\n  align-items: center;\n  padding: 0 5px;\n  background-color: #fff;\n}\n.bilibili-live-player-send-container-input {\n  display: none;\n  width: 100%;\n  border: none;\n  background-color: transparent;\n  font-size: inherit;\n  box-sizing: border-box;\n}\n.bilibili-live-player-send-container-button-wrapper {\n  flex: 0 0 70px;\n  width: 100%;\n  height: 100%;\n  line-height: 35px;\n  color: #fff;\n  background: #4fc1e9;\n  cursor: pointer;\n}\n.blp-plugin-tip {\n  position: absolute;\n  background: #333;\n  border-color: #333;\n  color: #fff;\n  padding: 6px;\n  z-index: 19;\n  font-size: 12px;\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  cursor: default;\n}\n.blp-plugin-tip.text-tip {\n  top: -999px;\n  left: -999px;\n  pointer-events: none;\n}\n.blp-plugin-tip.html-tip {\n  bottom: 100%;\n  left: 50%;\n  -webkit-transform: translate3d(-50%, -4px, 0);\n  -moz-transform: translate3d(-50%, -4px, 0);\n  -ms-transform: translate3d(-50%, -4px, 0);\n  -o-transform: translate3d(-50%, -4px, 0);\n  transform: translate3d(-50%, -4px, 0);\n  min-width: 60px;\n  background: rgba(0, 0, 0, 0.7);\n  border-color: rgba(0, 0, 0, 0.7);\n  display: none;\n  line-height: 1.4;\n  -webkit-box-shadow: 0 0 4px #484849;\n  -moz-box-shadow: 0 0 4px #484849;\n  box-shadow: 0 0 4px #484849;\n}\n.blp-plugin-tip.html-tip:after {\n  content: \'\';\n  position: absolute;\n  top: 100%;\n  width: 100%;\n  height: 4px;\n  background: transparent;\n  left: 0;\n}\n.blp-plugin-tip-arrow {\n  width: 6px;\n  height: 3px;\n  background: inherit;\n  -webkit-border-radius: 0 0 8px 8px;\n  -moz-border-radius: 0 0 8px 8px;\n  border-radius: 0 0 8px 8px;\n  position: absolute;\n  bottom: -3px;\n  left: 50%;\n  margin-left: -4px;\n}\n.html-tip-parent:hover .blp-plugin-tip.html-tip {\n  display: block;\n}\n.bilibili-live-player {\n  /*\n  ------------------------------------------------------------------------------------------------------------------------\n  1. BASIC STYLE\n  ------------------------------------------------------------------------------------------------------------------------\n  */\n  /*\n  ------------------------------------------------------------------------------------------------------------------------\n  2. VERTICAL SCROLLBAR\n  y-axis\n  ------------------------------------------------------------------------------------------------------------------------\n  */\n  /* non-visible scrollbar */\n  /* RTL direction/left-side scrollbar */\n  /* scrollbar position: outside */\n  /* RTL direction/left-side scrollbar (scrollbar position: outside) */\n  /*\n  ------------------------------------------------------------------------------------------------------------------------\n  5. TRANSITIONS\n  ------------------------------------------------------------------------------------------------------------------------\n  */\n  /*\n  ------------------------------------------------------------------------------------------------------------------------\n  6. SCROLLBAR COLORS, OPACITY AND BACKGROUNDS\n  ------------------------------------------------------------------------------------------------------------------------\n  */\n  /*\n  ----------------------------------------\n  6.1 THEMES\n  ----------------------------------------\n  */\n  /* default theme ("light") */\n}\n.bilibili-live-player .mCustomScrollbar {\n  -ms-touch-action: pinch-zoom;\n  touch-action: pinch-zoom;\n  /* direct pointer events to js */\n}\n.bilibili-live-player .mCustomScrollbar.mCS_no_scrollbar,\n.bilibili-live-player .mCustomScrollbar.mCS_touch_action {\n  -ms-touch-action: auto;\n  touch-action: auto;\n}\n.bilibili-live-player .mCustomScrollBox {\n  /* contains plugin\'s markup */\n  position: relative;\n  overflow: hidden;\n  height: 100%;\n  max-width: 100%;\n  outline: none;\n  direction: ltr;\n}\n.bilibili-live-player .mCSB_container {\n  /* contains the original content */\n  overflow: hidden;\n  width: auto;\n  height: auto;\n}\n.bilibili-live-player .mCSB_inside > .mCSB_container {\n  margin-right: 30px;\n}\n.bilibili-live-player .mCSB_container.mCS_no_scrollbar_y.mCS_y_hidden {\n  margin-right: 0;\n}\n.bilibili-live-player .mCS-dir-rtl > .mCSB_inside > .mCSB_container {\n  /* RTL direction/left-side scrollbar */\n  margin-right: 0;\n  margin-left: 30px;\n}\n.bilibili-live-player .mCS-dir-rtl > .mCSB_inside > .mCSB_container.mCS_no_scrollbar_y.mCS_y_hidden {\n  margin-left: 0;\n}\n.bilibili-live-player .mCSB_scrollTools {\n  /* contains scrollbar markup (draggable element, dragger rail, buttons etc.) */\n  position: absolute;\n  width: 16px;\n  height: auto;\n  left: auto;\n  top: 0;\n  right: 0;\n  bottom: 0;\n}\n.bilibili-live-player .mCSB_outside + .mCSB_scrollTools {\n  right: -26px;\n}\n.bilibili-live-player .mCS-dir-rtl > .mCSB_inside > .mCSB_scrollTools,\n.bilibili-live-player .mCS-dir-rtl > .mCSB_outside + .mCSB_scrollTools {\n  /* RTL direction/left-side scrollbar */\n  right: auto;\n  left: 0;\n}\n.bilibili-live-player .mCS-dir-rtl > .mCSB_outside + .mCSB_scrollTools {\n  left: -26px;\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_draggerContainer {\n  /* contains the draggable element and dragger rail markup */\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  height: auto;\n}\n.bilibili-live-player .mCSB_scrollTools a + .mCSB_draggerContainer {\n  margin: 20px 0;\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_draggerRail {\n  width: 2px;\n  height: 100%;\n  margin: 0 auto;\n  -webkit-border-radius: 16px;\n  -moz-border-radius: 16px;\n  border-radius: 16px;\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_dragger {\n  /* the draggable element */\n  cursor: pointer;\n  width: 100%;\n  height: 30px;\n  /* minimum dragger height */\n  z-index: 1;\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar {\n  /* the dragger element */\n  position: relative;\n  width: 4px;\n  height: 100%;\n  margin: 0 auto;\n  -webkit-border-radius: 16px;\n  -moz-border-radius: 16px;\n  border-radius: 16px;\n  text-align: center;\n}\n.bilibili-live-player .mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_dragger.mCSB_dragger_onDrag_expanded .mCSB_dragger_bar,\n.bilibili-live-player .mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_draggerContainer:hover .mCSB_dragger .mCSB_dragger_bar {\n  width: 12px;\n  /* auto-expanded scrollbar */\n}\n.bilibili-live-player .mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_dragger.mCSB_dragger_onDrag_expanded + .mCSB_draggerRail,\n.bilibili-live-player .mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_draggerContainer:hover .mCSB_draggerRail {\n  width: 8px;\n  /* auto-expanded scrollbar */\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonUp,\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonDown {\n  display: block;\n  position: absolute;\n  height: 20px;\n  width: 100%;\n  overflow: hidden;\n  margin: 0 auto;\n  cursor: pointer;\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonDown {\n  bottom: 0;\n}\n.bilibili-live-player .mCSB_scrollTools,\n.bilibili-live-player .mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonUp,\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonDown,\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonLeft,\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonRight {\n  -webkit-transition: opacity 0.2s ease-in-out, background-color 0.2s ease-in-out;\n  -moz-transition: opacity 0.2s ease-in-out, background-color 0.2s ease-in-out;\n  -o-transition: opacity 0.2s ease-in-out, background-color 0.2s ease-in-out;\n  transition: opacity 0.2s ease-in-out, background-color 0.2s ease-in-out;\n}\n.bilibili-live-player .mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_dragger_bar,\n.bilibili-live-player .mCSB_scrollTools_vertical.mCSB_scrollTools_onDrag_expand .mCSB_draggerRail,\n.bilibili-live-player .mCSB_scrollTools_horizontal.mCSB_scrollTools_onDrag_expand .mCSB_dragger_bar,\n.bilibili-live-player .mCSB_scrollTools_horizontal.mCSB_scrollTools_onDrag_expand .mCSB_draggerRail {\n  -webkit-transition: width 0.2s ease-out 0.2s, height 0.2s ease-out 0.2s, margin-left 0.2s ease-out 0.2s, margin-right 0.2s ease-out 0.2s, margin-top 0.2s ease-out 0.2s, margin-bottom 0.2s ease-out 0.2s, opacity 0.2s ease-in-out, background-color 0.2s ease-in-out;\n  -moz-transition: width 0.2s ease-out 0.2s, height 0.2s ease-out 0.2s, margin-left 0.2s ease-out 0.2s, margin-right 0.2s ease-out 0.2s, margin-top 0.2s ease-out 0.2s, margin-bottom 0.2s ease-out 0.2s, opacity 0.2s ease-in-out, background-color 0.2s ease-in-out;\n  -o-transition: width 0.2s ease-out 0.2s, height 0.2s ease-out 0.2s, margin-left 0.2s ease-out 0.2s, margin-right 0.2s ease-out 0.2s, margin-top 0.2s ease-out 0.2s, margin-bottom 0.2s ease-out 0.2s, opacity 0.2s ease-in-out, background-color 0.2s ease-in-out;\n  transition: width 0.2s ease-out 0.2s, height 0.2s ease-out 0.2s, margin-left 0.2s ease-out 0.2s, margin-right 0.2s ease-out 0.2s, margin-top 0.2s ease-out 0.2s, margin-bottom 0.2s ease-out 0.2s, opacity 0.2s ease-in-out, background-color 0.2s ease-in-out;\n}\n.bilibili-live-player .mCSB_scrollTools {\n  opacity: 0.75;\n  filter: "alpha(opacity=75)";\n  -ms-filter: "alpha(opacity=75)";\n}\n.bilibili-live-player .mCS-autoHide > .mCustomScrollBox > .mCSB_scrollTools,\n.bilibili-live-player .mCS-autoHide > .mCustomScrollBox ~ .mCSB_scrollTools {\n  opacity: 0;\n  filter: "alpha(opacity=0)";\n  -ms-filter: "alpha(opacity=0)";\n}\n.bilibili-live-player .mCustomScrollbar > .mCustomScrollBox > .mCSB_scrollTools.mCSB_scrollTools_onDrag,\n.bilibili-live-player .mCustomScrollbar > .mCustomScrollBox ~ .mCSB_scrollTools.mCSB_scrollTools_onDrag,\n.bilibili-live-player .mCustomScrollBox:hover > .mCSB_scrollTools,\n.bilibili-live-player .mCustomScrollBox:hover ~ .mCSB_scrollTools,\n.bilibili-live-player .mCS-autoHide:hover > .mCustomScrollBox > .mCSB_scrollTools,\n.bilibili-live-player .mCS-autoHide:hover > .mCustomScrollBox ~ .mCSB_scrollTools {\n  opacity: 1;\n  filter: "alpha(opacity=100)";\n  -ms-filter: "alpha(opacity=100)";\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar {\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, 0.75);\n  filter: "alpha(opacity=75)";\n  -ms-filter: "alpha(opacity=75)";\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_dragger:hover .mCSB_dragger_bar {\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, 0.85);\n  filter: "alpha(opacity=85)";\n  -ms-filter: "alpha(opacity=85)";\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,\n.bilibili-live-player .mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar {\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, 0.9);\n  filter: "alpha(opacity=90)";\n  -ms-filter: "alpha(opacity=90)";\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonUp {\n  background-position: 0 0;\n  /*\n    sprites locations\n    light: 0 0, -16px 0, -32px 0, -48px 0, 0 -72px, -16px -72px, -32px -72px\n    dark: -80px 0, -96px 0, -112px 0, -128px 0, -80px -72px, -96px -72px, -112px -72px\n    */\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonDown {\n  background-position: 0 -20px;\n  /*\n    sprites locations\n    light: 0 -20px, -16px -20px, -32px -20px, -48px -20px, 0 -92px, -16px -92px, -32px -92px\n    dark: -80px -20px, -96px -20px, -112px -20px, -128px -20px, -80px -92px, -96px -92px, -112 -92px\n    */\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonLeft {\n  background-position: 0 -40px;\n  /*\n    sprites locations\n    light: 0 -40px, -20px -40px, -40px -40px, -60px -40px, 0 -112px, -20px -112px, -40px -112px\n    dark: -80px -40px, -100px -40px, -120px -40px, -140px -40px, -80px -112px, -100px -112px, -120px -112px\n    */\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonRight {\n  background-position: 0 -56px;\n  /*\n    sprites locations\n    light: 0 -56px, -20px -56px, -40px -56px, -60px -56px, 0 -128px, -20px -128px, -40px -128px\n    dark: -80px -56px, -100px -56px, -120px -56px, -140px -56px, -80px -128px, -100px -128px, -120px -128px\n    */\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonUp:hover,\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonDown:hover,\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonLeft:hover,\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonRight:hover {\n  opacity: 0.75;\n  filter: "alpha(opacity=75)";\n  -ms-filter: "alpha(opacity=75)";\n}\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonUp:active,\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonDown:active,\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonLeft:active,\n.bilibili-live-player .mCSB_scrollTools .mCSB_buttonRight:active {\n  opacity: 0.9;\n  filter: "alpha(opacity=90)";\n  -ms-filter: "alpha(opacity=90)";\n}\n/* theme: "minimal", "minimal-dark" */\n.mCSB_outside + .mCS-minimal.mCSB_scrollTools_vertical,\n.mCSB_outside + .mCS-minimal-dark.mCSB_scrollTools_vertical {\n  right: 0;\n  margin: 12px 0;\n}\n.mCustomScrollBox.mCS-minimal + .mCSB_scrollTools.mCSB_scrollTools_horizontal,\n.mCustomScrollBox.mCS-minimal + .mCSB_scrollTools + .mCSB_scrollTools.mCSB_scrollTools_horizontal,\n.mCustomScrollBox.mCS-minimal-dark + .mCSB_scrollTools.mCSB_scrollTools_horizontal,\n.mCustomScrollBox.mCS-minimal-dark + .mCSB_scrollTools + .mCSB_scrollTools.mCSB_scrollTools_horizontal {\n  bottom: 0;\n  margin: 0 12px;\n}\n/* RTL direction/left-side scrollbar */\n.mCS-dir-rtl > .mCSB_outside + .mCS-minimal.mCSB_scrollTools_vertical,\n.mCS-dir-rtl > .mCSB_outside + .mCS-minimal-dark.mCSB_scrollTools_vertical {\n  left: 0;\n  right: auto;\n}\n.mCS-minimal.mCSB_scrollTools .mCSB_draggerRail,\n.mCS-minimal-dark.mCSB_scrollTools .mCSB_draggerRail {\n  background-color: transparent;\n}\n.mCS-minimal.mCSB_scrollTools_vertical .mCSB_dragger,\n.mCS-minimal-dark.mCSB_scrollTools_vertical .mCSB_dragger {\n  height: 50px;\n}\n.mCS-minimal.mCSB_scrollTools_horizontal .mCSB_dragger,\n.mCS-minimal-dark.mCSB_scrollTools_horizontal .mCSB_dragger {\n  width: 50px;\n}\n.mCS-minimal.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar {\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, 0.2);\n  filter: "alpha(opacity=20)";\n  -ms-filter: "alpha(opacity=20)";\n}\n.mCS-minimal.mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,\n.mCS-minimal.mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar {\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, 0.5);\n  filter: "alpha(opacity=50)";\n  -ms-filter: "alpha(opacity=50)";\n}\n/* theme: "minimal-dark" - Custom Defined */\n.mCS-minimal-dark.mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar {\n  background-color: #000;\n  background-color: rgba(0, 0, 0, 0.2);\n  filter: "alpha(opacity=20)";\n  -ms-filter: "alpha(opacity=20)";\n}\n.mCS-minimal-dark.mCSB_scrollTools .mCSB_dragger:hover .mCSB_dragger_bar {\n  background-color: #000;\n  background-color: rgba(0, 0, 0, 0.5);\n  filter: "alpha(opacity=50)";\n  -ms-filter: "alpha(opacity=50)";\n}\n.mCS-minimal-dark.mCSB_scrollTools .mCSB_dragger:active .mCSB_dragger_bar,\n.mCS-minimal-dark.mCSB_scrollTools .mCSB_dragger.mCSB_dragger_onDrag .mCSB_dragger_bar {\n  background-color: #000;\n  background-color: rgba(0, 0, 0, 0.5);\n  filter: "alpha(opacity=50)";\n  -ms-filter: "alpha(opacity=50)";\n}\n/* ---------------------------------------- */\n.relative {\n  position: relative;\n}\n.bilibili-live-player-context-menu-container {\n  position: absolute;\n  z-index: 99999;\n  min-width: 80px;\n  border: 1px solid #e2e2e2;\n  background: #fff;\n  border-radius: 3px;\n  -webkit-box-shadow: 0 0 5px #e2e2e2;\n  -moz-box-shadow: 0 0 5px #e2e2e2;\n  box-shadow: 0 0 5px #e2e2e2;\n  opacity: 0;\n  text-shadow: 0 0 #e2e2e2;\n  -moz-transition: opacity 0.1s cubic-bezier(0, 0, 0.2, 1);\n  -webkit-transition: opacity 0.1s cubic-bezier(0, 0, 0.2, 1);\n  transition: opacity 0.1s cubic-bezier(0, 0, 0.2, 1);\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -webkit-user-select: none;\n  left: -9999px;\n  top: -9999px;\n  padding: 3px;\n}\n.bilibili-live-player-context-menu-container > ul {\n  display: block;\n  padding: 0;\n}\n.bilibili-live-player-context-menu-container > ul > li {\n  position: relative;\n}\n.bilibili-live-player-context-menu-container > ul > li a {\n  padding: 3px 20px;\n  display: block;\n  width: 200px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  text-align: left;\n  height: 22px;\n  line-height: 22px;\n  -webkit-transition: all 0.3s ease-in-out;\n  -moz-transition: all 0.3s ease-in-out;\n  -ms-transition: all 0.3s ease-in-out;\n  -o-transition: all 0.3s ease-in-out;\n  transition: all 0.3s ease-in-out;\n  font-size: 12px;\n  white-space: nowrap;\n  color: #444;\n}\n.bilibili-live-player-context-menu-container > ul > li a:hover,\n.bilibili-live-player-context-menu-container > ul > li a.hover {\n  background: #ddd;\n}\n.bilibili-live-player-context-menu-container > ul > li a[data-disabled=\'1\'],\n.bilibili-live-player-context-menu-container > ul > li a.disabled {\n  color: #aaa;\n  cursor: default;\n}\n.bilibili-live-player-context-menu-container > ul > li a[data-disabled=\'1\']:hover,\n.bilibili-live-player-context-menu-container > ul > li a.disabled:hover {\n  background: transparent;\n}\n.bilibili-live-player-context-menu-container > ul > li a.hidden {\n  display: none;\n}\n.bilibili-live-player-context-menu-container > ul > li.context-menu-division a {\n  height: 1px;\n  width: 210px;\n  background: #e2e2e2;\n  margin: 1px auto;\n  padding: 0 6px;\n}\n.bilibili-live-player-context-menu-container > ul > li.context-menu-title a {\n  cursor: default;\n  font-size: 12px;\n}\n.bilibili-live-player-context-menu-container > ul > li.context-menu-title a:hover {\n  background: transparent;\n}\n.bilibili-live-player-context-menu-container > ul > li > ul {\n  position: absolute;\n  left: 100%;\n  margin-left: -11px;\n  top: -1px;\n  min-width: 80px;\n  z-index: 10;\n  background: #fff;\n  border-radius: 3px;\n  width: 0;\n  height: 0;\n  opacity: 0;\n  color: transparent;\n  overflow: hidden;\n}\n.bilibili-live-player-context-menu-container > ul > li > ul a {\n  width: 120px;\n}\n.bilibili-live-player-context-menu-container > ul > li > ul a .color {\n  display: none;\n  width: 14px;\n  height: 14px;\n  margin-left: 20px;\n  vertical-align: top;\n  margin-top: 4px;\n  border: 1px solid #fff;\n}\n.bilibili-live-player-context-menu-container > ul > li > ul a:hover .color,\n.bilibili-live-player-context-menu-container > ul > li > ul a.hover .color {\n  display: inline-block;\n}\n.bilibili-live-player-context-menu-container > ul > li.context-menu-submenu:hover > a {\n  background: #ddd;\n}\n.bilibili-live-player-context-menu-container > ul > li.context-menu-submenu:hover > ul {\n  -webkit-transition: margin-left 0.3s ease-in-out;\n  -moz-transition: margin-left 0.3s ease-in-out;\n  -ms-transition: margin-left 0.3s ease-in-out;\n  -o-transition: margin-left 0.3s ease-in-out;\n  transition: margin-left 0.3s ease-in-out;\n  width: auto;\n  height: auto;\n  opacity: 1;\n  left: 100%;\n  margin-left: -1px;\n  color: #444;\n  z-index: 11;\n  -webkit-box-shadow: 0 0 5px #e2e2e2;\n  -moz-box-shadow: 0 0 5px #e2e2e2;\n  box-shadow: 0 0 5px #e2e2e2;\n  border: 1px solid #e2e2e2;\n}\n.bilibili-live-player-context-menu-container > ul > li .context-menu-right-arrow {\n  position: absolute;\n  display: inline-block;\n  width: 8px;\n  height: 8px;\n  right: 4px;\n  top: 10px;\n}\n.bilibili-live-player-context-menu-container > ul > li .context-menu-right-arrow:before {\n  content: \'\';\n  position: absolute;\n  top: 0;\n  left: 0;\n  border: 4px solid transparent;\n  border-left-color: #444;\n  opacity: 0.8;\n}\n.bilibili-live-player-context-menu-container.black {\n  background: rgba(28, 28, 28, 0.9);\n  border: none;\n  text-shadow: 0 0 2px rgba(0, 0, 0, 0.5);\n  -webkit-box-shadow: none;\n  -moz-box-shadow: none;\n  box-shadow: none;\n}\n.bilibili-live-player-context-menu-container.black > ul > li a {\n  color: #eee;\n}\n.bilibili-live-player-context-menu-container.black > ul > li a span {\n  color: #eee;\n}\n.bilibili-live-player-context-menu-container.black > ul > li a:hover,\n.bilibili-live-player-context-menu-container.black > ul > li a.hover {\n  background: rgba(255, 255, 255, 0.1);\n}\n.bilibili-live-player-context-menu-container.black > ul > li a[data-disabled=\'1\'],\n.bilibili-live-player-context-menu-container.black > ul > li a.disabled {\n  color: #777;\n  cursor: default;\n}\n.bilibili-live-player-context-menu-container.black > ul > li a[data-disabled=\'1\']:hover,\n.bilibili-live-player-context-menu-container.black > ul > li a.disabled:hover {\n  background: transparent;\n}\n.bilibili-live-player-context-menu-container.black > ul > li.context-menu-division a {\n  background: #aaa;\n}\n.bilibili-live-player-context-menu-container.black > ul > li.context-menu-title a:hover {\n  background: transparent;\n}\n.bilibili-live-player-context-menu-container.black > ul > li > ul {\n  background: rgba(28, 28, 28, 0.9);\n}\n.bilibili-live-player-context-menu-container.black > ul > li.context-menu-submenu:hover > a {\n  background: rgba(255, 255, 255, 0.1);\n}\n.bilibili-live-player-context-menu-container.black > ul > li.context-menu-submenu:hover > ul {\n  color: #eee;\n  -webkit-box-shadow: none;\n  -moz-box-shadow: none;\n  box-shadow: none;\n  border: none;\n}\n.bilibili-live-player-context-menu-container.black > ul > li .context-menu-right-arrow:before {\n  border-left-color: #eee;\n}\n.bilibili-live-player-context-menu-container.active {\n  opacity: 1;\n}\n.bilibili-live-player-context-menu-container.left-sub-menu > ul > li > ul {\n  -webkit-transform: translate(-100%, 0);\n  -moz-transform: translate(-100%, 0);\n  -ms-transform: translate(-100%, 0);\n  -o-transform: translate(-100%, 0);\n  transform: translate(-100%, 0);\n  margin-left: 11px;\n  left: 0;\n}\n.bilibili-live-player-context-menu-container.left-sub-menu > ul > li.context-menu-submenu:hover > ul {\n  margin-left: 1px;\n  left: 0;\n}\n.bilibili-live-player-context-menu-container .context-menu-a .blp-icon-show,\n.bilibili-live-player-context-menu-container .context-menu-a .blp-icon-copy,\n.bilibili-live-player-context-menu-container .context-menu-a .blp-icon-download {\n  width: 12px;\n  height: 12px;\n  margin-right: 6px;\n  display: inline-block;\n  position: relative;\n  top: 2px;\n  margin-left: 2px;\n  pointer-events: none;\n}\n.bilibili-live-player-context-menu-container .context-menu-a .blp-icon-show:before,\n.bilibili-live-player-context-menu-container .context-menu-a .blp-icon-copy:before,\n.bilibili-live-player-context-menu-container .context-menu-a .blp-icon-download:before,\n.bilibili-live-player-context-menu-container .context-menu-a .blp-icon-show:after,\n.bilibili-live-player-context-menu-container .context-menu-a .blp-icon-copy:after,\n.bilibili-live-player-context-menu-container .context-menu-a .blp-icon-download:after {\n  content: \'\';\n  position: absolute;\n}\n.bilibili-live-player-context-menu-container .context-menu-a .blp-icon-show:before {\n  width: 14px;\n  height: 10px;\n  -webkit-border-radius: 14px / 10px;\n  -moz-border-radius: 14px / 10px;\n  border-radius: 14px / 10px;\n  background: #aaa;\n  top: 1px;\n  left: -1px;\n}\n.bilibili-live-player-context-menu-container .context-menu-a .blp-icon-show:after {\n  width: 6px;\n  height: 10px;\n  -webkit-border-radius: 6px / 10px;\n  -moz-border-radius: 6px / 10px;\n  border-radius: 6px / 10px;\n  background: #777777;\n  left: 3px;\n  top: 1px;\n}\n.bilibili-live-player-context-menu-container .context-menu-a .blp-icon-copy:before,\n.bilibili-live-player-context-menu-container .context-menu-a .blp-icon-copy:after {\n  width: 5px;\n  height: 5px;\n  border: 2px solid #aaa;\n  top: 0;\n  left: 0;\n  -webkit-border-radius: 1px;\n  -moz-border-radius: 1px;\n  border-radius: 1px;\n}\n.bilibili-live-player-context-menu-container .context-menu-a .blp-icon-copy:after {\n  top: 4px;\n  left: 4px;\n  background: #1c1c1c;\n  background: rgba(28, 28, 28, 0.8);\n  -webkit-box-shadow: -1px 0 0 rgba(28, 28, 28, 0.8), 0 -1px 0 rgba(28, 28, 28, 0.8);\n  -moz-box-shadow: -1px 0 0 rgba(28, 28, 28, 0.8), 0 -1px 0 rgba(28, 28, 28, 0.8);\n  box-shadow: -1px 0 0 rgba(28, 28, 28, 0.8), 0 -1px 0 rgba(28, 28, 28, 0.8);\n}\n.bilibili-live-player-context-menu-container .context-menu-a .blp-icon-download:before {\n  width: 6px;\n  height: 8px;\n  background: #aaa;\n  top: 1px;\n  left: 3px;\n  -webkit-border-radius: 1px;\n  -moz-border-radius: 1px;\n  border-radius: 1px;\n}\n.bilibili-live-player-context-menu-container .context-menu-a .blp-icon-download:after {\n  border: 5px solid transparent;\n  border-top-color: #aaa;\n  top: 7px;\n  left: 1px;\n}\n.blp-plugin-modal {\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  position: absolute;\n  top: 100px;\n  left: 0;\n  padding: 15px;\n  z-index: 99;\n  display: none;\n  background: #ffffff;\n}\n.blp-plugin-modal.active {\n  display: block;\n}\n.blp-plugin-modal-header {\n  font-size: 16px;\n  color: #4fc1e9;\n  height: 26px;\n  line-height: 20px;\n}\n.blp-plugin-modal-body {\n  margin: 10px 0 ;\n  font-size: 14px;\n}\n.blp-plugin-modal-footer {\n  text-align: center;\n  position: relative;\n}\n.blp-plugin-modal-btn {\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n  border: none;\n  display: inline-block;\n  margin: 0 2px;\n  font-size: 14px;\n  padding: 6px 10px;\n  cursor: pointer;\n  outline: none;\n}\n.blp-plugin-modal-btn.submit-btn {\n  color: #fff;\n  background: #4fc1e9;\n}\n.blp-plugin-modal-btn.submit-btn:hover {\n  background: #61c7eb;\n}\n.blp-plugin-modal-btn.cancel-btn {\n  color: #4fc1e9;\n  background: #e0f4fb;\n}\n.blp-plugin-modal-btn.cancel-btn:hover {\n  background: #ceeef9;\n}\n.blp-plugin-modal-close {\n  position: absolute;\n  width: 30px;\n  height: 30px;\n  top: 9px;\n  right: 9px;\n  cursor: pointer;\n  -webkit-border-radius: 100%;\n  -moz-border-radius: 100%;\n  border-radius: 100%;\n  -webkit-transition: transform 0.3s ease-in-out;\n  -moz-transition: transform 0.3s ease-in-out;\n  -ms-transition: transform 0.3s ease-in-out;\n  -o-transition: transform 0.3s ease-in-out;\n  transition: transform 0.3s ease-in-out;\n  display: none;\n}\n.blp-plugin-modal-close:hover {\n  -webkit-transform: rotate(180deg);\n  -moz-transform: rotate(180deg);\n  -ms-transform: rotate(180deg);\n  -o-transform: rotate(180deg);\n  transform: rotate(180deg);\n}\n.blp-plugin-modal-close:before {\n  content: \'\';\n  position: absolute;\n  width: 22px;\n  height: 22px;\n  left: 4px;\n  top: 4px;\n  -webkit-border-radius: 100%;\n  -moz-border-radius: 100%;\n  border-radius: 100%;\n}\n.blp-plugin-modal-close i {\n  font-size: 14px;\n  color: #999;\n  position: absolute;\n  z-index: 10;\n  text-align: center;\n  top: 9px;\n  left: 9px;\n}\n.blp-plugin-modal-close.active {\n  display: block;\n}\n.bilibili-live-player-video-info-container {\n  background: rgba(28, 28, 28, 0.8);\n  border-radius: 4px;\n  color: #fff;\n  font-family: "Noto Sans CJK SC DemiLight", Roboto, "Segoe UI", Tahoma, Arial, Helvetica, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  left: 10px;\n  position: absolute;\n  top: 10px;\n  z-index: 99;\n  padding: 15px 36px 15px 15px;\n  display: none;\n}\n.bilibili-live-player-video-info-container .bilibili-live-player-video-info-close {\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  z-index: 49;\n}\n.bilibili-live-player-video-info-container .bilibili-live-player-video-info-close:link,\n.bilibili-live-player-video-info-container .bilibili-live-player-video-info-close:visited,\n.bilibili-live-player-video-info-container .bilibili-live-player-video-info-close:hover,\n.bilibili-live-player-video-info-container .bilibili-live-player-video-info-close:active {\n  color: #ddd;\n  font-size: 13px;\n}\n.bilibili-live-player-video-info-container .bilibili-live-player-video-info-panel {\n  position: relative;\n}\n.bilibili-live-player-video-info-container .bilibili-live-player-video-info-panel span {\n  display: inline-block;\n  font-weight: normal;\n}\n.bilibili-live-player-video-info-container .bilibili-live-player-video-info-panel .info-line {\n  height: 18px;\n  line-height: 18px;\n  min-width: 290px;\n}\n.bilibili-live-player-video-info-container .bilibili-live-player-video-info-panel .info-line .info-title {\n  width: 100px;\n  text-align: right;\n  font-size: 12px;\n  font-weight: 500;\n  margin-right: 10px;\n  text-indent: -99em;\n}\n.bilibili-live-player-video-info-container .bilibili-live-player-video-info-panel .info-line .info-graph {\n  margin-right: 10px;\n}\n.bilibili-live-player-video-info-container .bilibili-live-player-video-info-panel .info-line .info-graph svg {\n  position: relative;\n  top: 2px;\n}\n.bilibili-live-player-video-info-container .bilibili-live-player-video-info-panel .info-line .info-data {\n  font-size: 12px;\n  font-weight: normal;\n}\n.bilibili-live-player-video-info-container.active {\n  display: block;\n}\n.bilibili-live-player-event-log-container {\n  display: none;\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  z-index: 99;\n  background: rgba(28, 28, 28, 0.8);\n  border-radius: 4px;\n  font-family: "Noto Sans CJK SC DemiLight", Roboto, "Segoe UI", Tahoma, Arial, Helvetica, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  padding: 15px 0 15px 15px;\n  width: 240px;\n  height: 310px;\n}\n.bilibili-live-player-event-log-container.active {\n  display: block;\n}\n.bilibili-live-player-event-log-container .mCSB_inside > .mCSB_container {\n  margin-right: 10px;\n}\n.bilibili-live-player-event-log-container .mCSB_scrollTools {\n  transition: opacity 0.15s linear, background-color 0.15s linear;\n}\n.bilibili-live-player-event-log-container p {\n  color: #fff;\n  word-wrap: break-word;\n  font-size: 12px;\n  line-height: 18px;\n  margin: 0;\n}\n.bilibili-live-player-event-log-container p.bilibili-live-player-event-log-info {\n  color: #fff;\n}\n.bilibili-live-player-event-log-container p.bilibili-live-player-event-log-warning {\n  color: #f5b23d;\n}\n.bilibili-live-player-event-log-container p.bilibili-live-player-event-log-error {\n  color: #f25d8e;\n}\n.bilibili-live-player-event-log-container .bilibili-live-player-event-log-duration {\n  color: #00b498;\n  margin-left: 4px;\n}\n.bilibili-live-player-event-log-container .bilibili-live-player-event-log-panel {\n  width: 230px;\n  height: 100%;\n}\n.bilibili-live-player-event-log-container.active .bilibili-live-player-event-log-panel {\n  overflow-y: scroll;\n}\n.bilibili-live-player-event-log-container.active .bilibili-live-player-event-log-panel::-webkit-scrollbar {\n  background-color: rgba(0, 0, 0, 0);\n  width: 4px;\n}\n.bilibili-live-player-event-log-container.active .bilibili-live-player-event-log-panel::-webkit-scrollbar-thumb {\n  background-color: rgba(255, 255, 255, 0.5);\n  border-radius: 8px;\n}\n.bilibili-live-player-event-log-container .bilibili-live-player-event-log-close {\n  position: absolute;\n  right: 15px;\n  top: 10px;\n  z-index: 49;\n  color: #ddd;\n  font-size: 13px;\n}\n', ""])
    }
    , function(e, t, n) {
        "use strict";
        e.exports = function(e) {
            var t = [];
            return t.toString = function() {
                return this.map((function(t) {
                        var n = function(e, t) {
                            var n = e[1] || ""
                                , i = e[3];
                            if (!i)
                                return n;
                            if (t && "function" == typeof btoa) {
                                var r = (a = i,
                                "/*# sourceMappingURL=data:application/json;charset=utf-8;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(a)))) + " */")
                                    , o = i.sources.map((function(e) {
                                        return "/*# sourceURL=" + i.sourceRoot + e + " */"
                                    }
                                ));
                                return [n].concat(o).concat([r]).join("\n")
                            }
                            var a;
                            return [n].join("\n")
                        }(t, e);
                        return t[2] ? "@media " + t[2] + "{" + n + "}" : n
                    }
                )).join("")
            }
                ,
                t.i = function(e, n) {
                    "string" == typeof e && (e = [[null, e, ""]]);
                    for (var i = {}, r = 0; r < this.length; r++) {
                        var o = this[r][0];
                        null != o && (i[o] = !0)
                    }
                    for (r = 0; r < e.length; r++) {
                        var a = e[r];
                        null != a[0] && i[a[0]] || (n && !a[2] ? a[2] = n : n && (a[2] = "(" + a[2] + ") and (" + n + ")"),
                            t.push(a))
                    }
                }
                ,
                t
        }
    }
    , function(e, t, n) {
        "use strict";
        e.exports = function(e, t) {
            return "string" != typeof e ? e : (/^['"].*['"]$/.test(e) && (e = e.slice(1, -1)),
                /["'() \t\n]/.test(e) || t ? '"' + e.replace(/"/g, '\\"').replace(/\n/g, "\\n") + '"' : e)
        }
    }
    , function(e, t) {
        e.exports = "data:image/svg+xml;base64,PHN2ZyBpZD0i5Zu+5bGCXzEiIGRhdGEtbmFtZT0i5Zu+5bGCIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE1NyA0NSI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5jbHMtMSwKICAgICAgLmNscy0yIHsKICAgICAgICBmaWxsOiAjZmZmOwogICAgICAgIG9wYWNpdHk6IDAuNDsKICAgICAgICBmaWx0ZXI6IHVybCgjc2hhZG93KTsKICAgICAgfQoKICAgICAgLmNscy0yIHsKICAgICAgICBmaWxsLXJ1bGU6IGV2ZW5vZGQ7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgPC9kZWZzPgogIDxkZWZzPgogICAgPGZpbHRlciBpZD0ic2hhZG93Ij4KICAgICAgPGZlRHJvcFNoYWRvdyBkeD0iMSIgZHk9IjIiIHN0ZERldmlhdGlvbj0iMSIgLz4KICAgIDwvZmlsdGVyPgogIDwvZGVmcz4KICA8dGl0bGU+YmlsaWJpbGnnm7Tmkq1f5rC05Y2wPC90aXRsZT4KICA8cGF0aCBjbGFzcz0iY2xzLTEgeHh4IgogICAgZD0iTTEyNC45MiwxMC4wOGgtOS4yOGwuODYtMmEuMzEuMzEsMCwwLDAtLjI4LS40M2gtNGEuNjIuNjIsMCwwLDAtLjU2LjM4bC0uODgsMi4wN0g5OS44YS4zLjMsMCwwLDAtLjMuMzF2MS4yM2EuMjkuMjksMCwwLDAsLjMuM0gxMTBMMTA4LjY2LDE1SDEwMmEuMy4zLDAsMCwwLS4zMS4zdjIzSDk5LjhhLjI5LjI5LDAsMCwwLS4zLjNWMzkuOGEuMy4zLDAsMCwwLC4zLjMxaDI1LjEyYS4zMS4zMSwwLDAsMCwuMzEtLjMxVjM4LjU3YS4zLjMsMCwwLDAtLjMxLS4zaC0xLjg0VjE2LjIxQTEuMjEsMS4yMSwwLDAsMCwxMjEuODYsMTVoLTguM2wxLjMtMy4wN2gxMC4wNmEuMy4zLDAsMCwwLC4zMS0uM1YxMC4zOUEuMzEuMzEsMCwwLDAsMTI0LjkyLDEwLjA4Wm0tNi43NCwyOC4xOUgxMDYuNTRWMzQuNTloMTEuNjRabTAtNS41MkgxMDYuNTRWMjguNDZoMTEuNjRabTAtNi4xMkgxMDYuNTRWMjIuMzRoMTEuNjRabS0uNjEtOS44MWEuNjEuNjEsMCwwLDEsLjYxLjYyVjIwLjVIMTA2LjU0VjE2LjgyWiIgLz4KICA8cGF0aCBjbGFzcz0iY2xzLTEiCiAgICBkPSJNMTM3LjA2LDI2LjgzbC0xLjQyLjU5VjE1LjZoMS41NGEuMy4zLDAsMCwwLC4zLS4zMVYxNC4wN2EuMy4zLDAsMCwwLS4zLS4zMWgtMS41NFY3Ljk0YS4zLjMsMCwwLDAtLjMtLjMxaC00LjI5YS4zMS4zMSwwLDAsMC0uMzEuMzF2NS44MmgtMS41M2EuMzEuMzEsMCwwLDAtLjMxLjMxdjEuMjJhLjMxLjMxLDAsMCwwLC4zMS4zMWgxLjUzVjI5LjUxbC0xLjQ2LjYyYS42MS42MSwwLDAsMC0uMzguNTZ2MWEuMzEuMzEsMCwwLDAsLjQzLjI4bDEuNDEtLjZ2Ni45M2EuNjEuNjEsMCwwLDEtLjYxLjYxaC0uNzZhLjMuMywwLDAsMC0uMjguNDNsLjQ0LDFhLjYuNiwwLDAsMCwuNTYuMzdoNC4zM2ExLjIyLDEuMjIsMCwwLDAsMS4yMi0xLjIzVjI5LjI2bDEuNDctLjYyYS42MS42MSwwLDAsMCwuMzctLjU2di0xQS4zLjMsMCwwLDAsMTM3LjA2LDI2LjgzWiIgLz4KICA8cGF0aCBjbGFzcz0iY2xzLTEiCiAgICBkPSJNMTM4LjQ5LDE3LjQ0aDUuODJ2Ni4xMmEuMzEuMzEsMCwwLDAsLjMxLjMxaDMuNjhhLjMuMywwLDAsMCwuMy0uMzFWMTcuNDRoNS44MmEuMzEuMzEsMCwwLDAsLjMxLS4zMVYxNS45YS4zMS4zMSwwLDAsMC0uMzEtLjNIMTQ4LjZWMTAuN2g0YTEuMjUsMS4yNSwwLDAsMCwxLjEzLS43NWwuOC0xLjg5YS4zMS4zMSwwLDAsMC0uMjgtLjQzaC0zLjQyYS42Mi42MiwwLDAsMC0uNTcuMzhsLS4yLjQ4YS42Mi42MiwwLDAsMS0uNTYuMzdoLTExYS4zLjMsMCwwLDAtLjMuMzF2MS4yMmEuMy4zLDAsMCwwLC4zLjMxaDUuODJ2NC45aC01LjgyYS4zLjMsMCwwLDAtLjMuM3YxLjIzQS4zLjMsMCwwLDAsMTM4LjQ5LDE3LjQ0WiIgLz4KICA8cGF0aCBjbGFzcz0iY2xzLTEiCiAgICBkPSJNMTU0LjM2LDExLjYyaC0zLjQyYS41OS41OSwwLDAsMC0uNTYuMzdsLTEsMi4yNmEuMzEuMzEsMCwwLDAsLjI5LjQzaDMuNjJhLjMuMywwLDAsMCwuMjgtLjE5bDEtMi40NUEuMy4zLDAsMCwwLDE1NC4zNiwxMS42MloiIC8+CiAgPHBhdGggY2xhc3M9ImNscy0xIgogICAgZD0iTTE1NS42OCwyMy40NGwtMi4wOC00LjlhLjMxLjMxLDAsMCwwLS4yOC0uMThIMTQ5LjdhLjMxLjMxLDAsMCwwLS4yOS40MmwyLjE2LDUuMDloMy44M0EuMy4zLDAsMCwwLDE1NS42OCwyMy40NFoiIC8+CiAgPHBhdGggY2xhc3M9ImNscy0xIgogICAgZD0iTTEzOS4yNSwxNC4zMWEuNjMuNjMsMCwwLDAsLjU3LjM3aDMuNDJhLjMuMywwLDAsMCwuMjgtLjQzbC0xLTIuMjZhLjYxLjYxLDAsMCwwLS41Ni0uMzdoLTMuNDJhLjMxLjMxLDAsMCwwLS4yOS40MloiIC8+CiAgPHBhdGggY2xhc3M9ImNscy0xIgogICAgZD0iTTE0My41MiwxOC43OGEuMy4zLDAsMCwwLS4yOC0uNDJoLTMuNjJhLjMxLjMxLDAsMCwwLS4yOS4xOGwtMi4wOCw0LjlhLjMxLjMxLDAsMCwwLC4yOS40M2gzLjgyWiIgLz4KICA8cGF0aCBjbGFzcz0iY2xzLTEiCiAgICBkPSJNMTUzLjIsMjUuNEgxMzguOGEuMzEuMzEsMCwwLDAtLjMxLjMxVjM5LjhhLjMxLjMxLDAsMCwwLC4zMS4zMWgxNS4zMmEuMy4zLDAsMCwwLC4zLS4zMVYyNi42M0ExLjIyLDEuMjIsMCwwLDAsMTUzLjIsMjUuNFptLTguODksMTIuODdoLTEuNTN2LTQuOWgxLjUzWm0wLTYuNzRoLTEuNTNWMjcuMjRoMS41M1ptNS44Miw2Ljc0SDE0OC42di00LjloMS41M1ptMC02Ljc0SDE0OC42VjI3LjI0aC45MmEuNjEuNjEsMCwwLDEsLjYxLjYxWiIgLz4KICA8cGF0aCBjbGFzcz0iY2xzLTEiCiAgICBkPSJNMzIuNDcsNS4wOWw0LjE0LS41MWEuMjMuMjMsMCwwLDEsLjI1LjIxbDIuNjYsMzEuMzZhLjIyLjIyLDAsMCwxLS4yMi4yNGgtM2EuMjUuMjUsMCwwLDEtLjI0LS4yMUwzMi4yNyw1LjM1QS4yNC4yNCwwLDAsMSwzMi40Nyw1LjA5WiIgLz4KICA8cGF0aCBjbGFzcz0iY2xzLTIiCiAgICBkPSJNMjYuODQsMjEuNjlsNC42Mi0uNTdhLjI0LjI0LDAsMCwxLC4yNy4ybDIsMTYuNDJhLjIxLjIxLDAsMCwxLS4xOS4yNGwtMy40MS40M2EuMjEuMjEsMCwwLDEtLjIzLS4xN0wyNi42NCwyMkEuMjMuMjMsMCwwLDEsMjYuODQsMjEuNjlaIiAvPgogIDxwYXRoIGNsYXNzPSJjbHMtMiIKICAgIGQ9Ik00MS4yMSwyMS40NGg0LjU1YS4yMi4yMiwwLDAsMSwuMjIuMjJWMzguMjVhLjIxLjIxLDAsMCwxLS4yMS4yMUg0Mi40OGEuMjMuMjMsMCwwLDEtLjIzLS4yMUw0MSwyMS42OEEuMjIuMjIsMCwwLDEsNDEuMjEsMjEuNDRaIiAvPgogIDxwYXRoIGNsYXNzPSJjbHMtMiIKICAgIGQ9Ik0yNS4zNiwxMy4zMmwyLS4yNGEuMjIuMjIsMCwwLDEsLjI1LjE5bC43OSw1LjkyYS4yMi4yMiwwLDAsMS0uMTkuMjVsLTEuNTYuMTlhLjIyLjIyLDAsMCwxLS4yNS0uMThsLTEuMTgtNS44OUEuMTkuMTksMCwwLDEsMjUuMzYsMTMuMzJaIiAvPgogIDxwYXRoIGNsYXNzPSJjbHMtMiIKICAgIGQ9Ik0yOC40NCwxMy4xNmwuNzMsNS45NGEuMjIuMjIsMCwwLDAsLjI0LjE5bDEuODItLjIzYS4yMi4yMiwwLDAsMCwuMTktLjI0bC0uNzMtNmEuMjEuMjEsMCwwLDAtLjIzLS4xOGwtMS44My4yM0EuMjEuMjEsMCwwLDAsMjguNDQsMTMuMTZaIiAvPgogIDxwYXRoIGNsYXNzPSJjbHMtMiIKICAgIGQ9Ik00MC4zNSwxMy4yMWwuNDYsNmEuMjEuMjEsMCwwLDAsLjIuMTloMS42MWEuMjEuMjEsMCwwLDAsLjIxLS4yMWwtLjEzLTZhLjIyLjIyLDAsMCwwLS4yMi0uMjFINDAuNTZBLjIuMiwwLDAsMCw0MC4zNSwxMy4yMVoiIC8+CiAgPHBhdGggY2xhc3M9ImNscy0yIgogICAgZD0iTTQzLjUsMTMuMjFsLjEzLDZhLjIyLjIyLDAsMCwwLC4yMi4yMmgxLjcxYS4yMi4yMiwwLDAsMCwuMjItLjIydi02YS4yMS4yMSwwLDAsMC0uMjEtLjIxSDQzLjcxQS4yMS4yMSwwLDAsMCw0My41LDEzLjIxWiIgLz4KICA8cGF0aCBjbGFzcz0iY2xzLTIiCiAgICBkPSJNNTIuMjEsNDAuM2EuMjUuMjUsMCwwLDAsLjIyLjIzLDI2LjQ3LDI2LjQ3LDAsMCwwLDE3LjEzLTMuNzJjMi42NS0xLjYzLDYuMy01LjU4LDEtOC41OWEyNC4xNSwyNC4xNSwwLDAsMC0xNC43Mi0zLjA2LjI1LjI1LDAsMCwxLS4yOC0uMjJBMTM4LjI1LDEzOC4yNSwwLDAsMSw1NC42Ny41OGEuMi4yLDAsMCwwLS4yNy0uMkw0Ny41MSwyLjg5YS4yMy4yMywwLDAsMC0uMTUuMjZBMzU0Ljg5LDM1NC44OSwwLDAsMSw1Mi4yMSw0MC4zWm0xMy41MS04LjExYTI3LjE0LDI3LjE0LDAsMCwxLTYsNC4yMy4yMi4yMiwwLDAsMS0uMzItLjE0Yy0uMTEtLjU1LS41OS00LS44Ny02LjYzYS4yMi4yMiwwLDAsMSwuMjUtLjI0LDIyLjUzLDIyLjUzLDAsMCwxLDYuODUsMi40MUM2NS44MywzMS45Miw2NS44MywzMi4wOSw2NS43MiwzMi4xOVoiIC8+CiAgPHBhdGggY2xhc3M9ImNscy0yIgogICAgZD0iTTYuMTQsNDAuM2EuMjYuMjYsMCwwLDAsLjIzLjIzLDI2LjQ0LDI2LjQ0LDAsMCwwLDE3LjEyLTMuNzJjMi42NS0xLjYzLDYuMy01LjU4LDEtOC41OUEyNC4xNCwyNC4xNCwwLDAsMCw5LjgxLDI1LjE2YS4yNi4yNiwwLDAsMS0uMjgtLjIyQTEzOC42OCwxMzguNjgsMCwwLDEsOC42MS41LjIxLjIxLDAsMCwwLDguMzQuMjlMMS40NSwyLjhhLjIzLjIzLDAsMCwwLS4xNS4yNkEzNjIuOCwzNjIuOCwwLDAsMSw2LjE0LDQwLjNabTEzLjUyLTguMTFhMjcuMzksMjcuMzksMCwwLDEtNiw0LjIzLjIyLjIyLDAsMCwxLS4zMi0uMTRjLS4xMi0uNTUtLjYtNC0uODgtNi42M2EuMjIuMjIsMCwwLDEsLjI2LS4yNCwyMi43OSwyMi43OSwwLDAsMSw2Ljg1LDIuNDFBLjIyLjIyLDAsMCwxLDE5LjY2LDMyLjE5WiIgLz4KICA8cGF0aCBjbGFzcz0iY2xzLTEiCiAgICBkPSJNNzguNjMsNS4wOWw0LjE0LS41MWEuMjMuMjMsMCwwLDEsLjI1LjIxbDIuNjYsMzEuMzZhLjIyLjIyLDAsMCwxLS4yMi4yNGgtM2EuMjUuMjUsMCwwLDEtLjI0LS4yMUw3OC40Myw1LjM1QS4yNC4yNCwwLDAsMSw3OC42Myw1LjA5WiIgLz4KICA8cGF0aCBjbGFzcz0iY2xzLTIiCiAgICBkPSJNNzMsMjEuNjlsNC42Mi0uNTdhLjI0LjI0LDAsMCwxLC4yNy4ybDIsMTYuNDJhLjIxLjIxLDAsMCwxLS4xOS4yNGwtMy40MS40M2EuMjEuMjEsMCwwLDEtLjIzLS4xN0w3Mi44LDIyQS4yMy4yMywwLDAsMSw3MywyMS42OVoiIC8+CiAgPHBhdGggY2xhc3M9ImNscy0yIgogICAgZD0iTTg3LjM3LDIxLjQ0aDQuNTVhLjIyLjIyLDAsMCwxLC4yMi4yMlYzOC4yNWEuMjEuMjEsMCwwLDEtLjIxLjIxSDg4LjY0YS4yMy4yMywwLDAsMS0uMjMtLjIxTDg3LjE1LDIxLjY4QS4yMi4yMiwwLDAsMSw4Ny4zNywyMS40NFoiIC8+CiAgPHBhdGggY2xhc3M9ImNscy0yIgogICAgZD0iTTcxLjUyLDEzLjMybDItLjI0YS4yMi4yMiwwLDAsMSwuMjUuMTlsLjc5LDUuOTJhLjIyLjIyLDAsMCwxLS4xOS4yNWwtMS41Ni4xOWEuMjIuMjIsMCwwLDEtLjI1LS4xOGwtMS4xOC01Ljg5QS4yLjIsMCwwLDEsNzEuNTIsMTMuMzJaIiAvPgogIDxwYXRoIGNsYXNzPSJjbHMtMiIKICAgIGQ9Ik03NC42LDEzLjE2bC43Myw1Ljk0YS4yMi4yMiwwLDAsMCwuMjQuMTlsMS44Mi0uMjNhLjIyLjIyLDAsMCwwLC4xOS0uMjRsLS43My02YS4yMS4yMSwwLDAsMC0uMjMtLjE4bC0xLjgzLjIzQS4yMi4yMiwwLDAsMCw3NC42LDEzLjE2WiIgLz4KICA8cGF0aCBjbGFzcz0iY2xzLTIiCiAgICBkPSJNODYuNTEsMTMuMjFsLjQ2LDZhLjIxLjIxLDAsMCwwLC4yLjE5aDEuNjFhLjIxLjIxLDAsMCwwLC4yMS0uMjFsLS4xMy02YS4yMi4yMiwwLDAsMC0uMjItLjIxSDg2LjcyQS4yLjIsMCwwLDAsODYuNTEsMTMuMjFaIiAvPgogIDxwYXRoIGNsYXNzPSJjbHMtMiIKICAgIGQ9Ik04OS42NiwxMy4yMWwuMTMsNmEuMjIuMjIsMCwwLDAsLjIyLjIyaDEuNzFhLjIyLjIyLDAsMCwwLC4yMi0uMjJ2LTZhLjIxLjIxLDAsMCwwLS4yMS0uMjFIODkuODdBLjIxLjIxLDAsMCwwLDg5LjY2LDEzLjIxWiIgLz4KPC9zdmc+"
    }
    , function(e, t) {
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACfVJREFUeNrsXX1MVFcWv++9GcYZGLAptmraSCBa8QPEYDauW7pxbdA1Ikpi/EOauDGhGpv4h00s0r9Kms262ZhtQoqmmxjNJpog2MTWhkQp2m5riKKBARsQ1FUSPoIIDGW+Xu+d3ouHy5sR5r2ZeTNzf8nJe/Pxzn3v/O75eG+4B4QEBAQEBAQEBAQEBAQEBAQEBAQEBCKAlEDnoibIGAlPiDSP81F1Gi0WYxgCi0nIgFuJM5oKZKGzeSH64WspXqRIJiGDiEyF7fNkBKhAA6oR6oekBCLUn7QeQkShxrLQrQJmKTOUH4uPM1yomQzJkIFuhSNGpXoDVLdEX8ctbJmBEEYAORcrFWY4FRjLS9/zASMGNEhhZMicbqbfAghhRHvpax8YM6UIkTQISaNiA6QgYDAPlmmNvBDQCL0yINUK9KaF0C1zHqmCMWJKjByH8KQV2xVqKNvU1NQ3qqr+8vTp03/g11lUnFgysDiwLKKGVYDRJQ19jORF9LgMqieok+gn4wwODv6LmwRyiPNM2KQuzfMzFlLY7CVGc2AjdbMvPHz48Lu8vLxT1DN+xTKJxY1lir7nBXlFBYSw8ET02qnudEqOrbe39+Pc3NzSmZOSpNVUr5vq9YCQ+KqqTjWrh0hhKhteFG4mszif1t/f/y1TSIzW3d39Cd5dzHkL9BQryBEWEKKYZzjBsYuJPkjGgwcPLtHvW7jzkbkiQNao1Az3ICkKOUFLQhHGQhU0XmZXV9enq1ev3sqUd3Z2fr9u3bov8O4ElnG6nQSe4gceogDPSAehKqOjo+OjtWvXvsf0YnKu5+fnf4Z3X1C9buqJXqBT1SiF1TCfxZ0QPn5LGt7AeyP8DpvRzHiZRO7evXtsw4YNW9gB9+/fv1lYWFhHDTfOGZCFLRauIMFBuXfv3pGCgoJ3mb729vYfioqKTlMyXgCSPZSQAJfgA6AQCHCfB8LcwMaUECnEvYTChQBIDE8IS75sRjspKRmNjY0V5eXl7wMj/oiN+CUghHmJFxBi5XQ5MbkfYnL/yPQ0NTU179mzp4GS8ILT5eGMrnJE+ME9Ebw38htBimIgGTCRLgLJlCVUtm/ntg7uezPfvXjx4rP09PTJLVu2vEMGXLp06du7du1adubMmW6NfAFJyKJ5Z3FbW1vVxo0bN7OTPnXq1NeHDh36gZvZsBiwcddgZ8UAl7NkjRysO2QpOj0L3njBRApjtxOUrRngswxAQDp4H752NDc3P7dYLO6SkpI8MuDy5cvf2rlz59KzZ8/2aFRSLOQFCbl9+/bfiouL/8BOura2trm6urpTo9pTQlRlcGvnCglYIiONHCPFMmTxnsHX+8ELwTE/u6amZvN6jKysrDfJMbisnaOLvBcIBGS8lcjW7/fLeKuQffZ+Tk5Ott1ut7GDBgYGnk1PT08qihLAZeuMUvJdcrzNZktftmzZcvb+48ePh1taWvpkWfbjY/yYZK/Vag0K3veR96guIkFVZEt0M8HFRV9VVdWPNLSxEnwC5DIPCGUqitFNJSODuTeZ/W9gycFSgOVPWHZcvXr1K2ywCTXJMD4+PlhXV/d3co30Wgvotb9BbWGjtomoHJYM8I5F1K0zadx+Dc+k42vWrPkzSmK4XK4WXEL/E++OYnlOi4NJUPVF5CWyASELxt4MHLePJDsZBOQar1y5so+GaDv3+CXim0U9hPAJ3X706NG1mzZt+itKEZSVlX2Ay/IcSkga94g/poQgraSOE145SjGcOHFiD6i+LMBDUDwImeUlq1atKk41QnDoKjbKOyIhRApzU2hJS0tzpBohTqczGzzYVEI8w4uqh0ghnmHJKHUR6vf6BXuKEb8YQlKiiqGhITQ8PIyys7PRkiVLzEaIIY/hjfoJN+q/qLW2tqL6+vqZ1yUlJWjv3r1mIkYyitmEwPnz5+cQVF1djS5fvpx0sc+IcBV1L3G73ZrvNTQ0oGPHjqGuri4zeIfusJUUiZjkltra2qCQ/VT2EFOBeAnxFhLGtDxKEBInkDBG8gvJM4IQE4UxUpWRMPbo0SNBiJnCGPEWUqUlQhhLmbvra9euBb3F7KSk1OMOErpcLpcgxEwQHmIiOBwOlJ+fb+pztKQKGeSZV1VVldkeSqYeIcQrduzYEXwQmQhIakKKi4vRgQMHTO8VSU/IihUrUGVlpenzRdITQsJTRUUF2r59e8JeQ9IQQkggZBBSEhl6CYnrmm4CEpZIeCJhKhlgSSQPII8/YBlLKifyU64JoGpM0LgSEnXvYF5A/siBhCVCRKKHp2gRAltfRBUm8YaoTkrZAPeE7S9SFfzyNzVWhGiRwdbZ+cbHx4dTjYmhoaEnaHYPloAer5F1uihsCuNxuVxtqUbIrVu3yO/EWiunIvKWSNYY8sueZxZf4oQ7giufvyiKYk0FMjwej3v//v3/xl4ygl4ubYPLqmPmIXO8A8tUU1NT/6VLl86linfU1dXVd3Z2kr87mkIGrS+M1EPYll9vLjc2Nj7Jy8sbKyws3JTMZJw7d67+8OHDzehl0wHYBcIXKSlGEAL/0Dr4GSalX5blX1auXPmm0+lckkxE9Pb2tp08efJ0TU0NWY07hl42HWCNa3xIR7+tqC6LxmLfvXv329u2bctdv379Cr/fr/h8PguTsrKy0lADjI6OPr958+bPZMkyW7aMSQ6wJcrzjq2qKoHl1spCxmZLpom0tLR0NTQ09OAQNYpeLoueRLM7FMGwFREpeghBaO46Q9YBAQprTGblvmPv6+s7npOTs1JrgBs3bny/devW/9ILhWvAAwsIB9CD4cSxj42NfZ6Zmfm61kEXLlxorKysvIZmt4JibZtYqygo0+D8fEhHiw29rTX4exNWh7OWfB5w0lPg5IO9rtxu9/9LS0s381XZyMjIo4qKijpctZGE+ZyGBtaTZIKbneHEDQSOT2b+U0z4nFt/MvbBgwf/M0ye0fw+7hgITROcbp4M3U1oFINCq8rdscLqy8vNLrbvvXPnznBHR8f/ioqKHDiMuCcmJgZ7enp+Ki8v/wLf0wwAY8DECUPEfGWaM563tbV1AIemttzcXCsbu729/fq+ffu+5MaGRLg5j4UhypDuDbFqz8R3/oHNXeAKVgSI5L3KG+FFa62pX+jYvOHDtWfS9egkVg3MtLqPMmJYKwpoFB/vTRHkj1B5JJKxvUi7BZNWeIq7h2jpkl5xzwJbtrLuB7BTqB+Q4EVz+/XqeboQydh+NPuJtpYnqEYbMRrEaBEEw5fChTQ+D/EhQtV5XnrHVsPkT2RWQubjPXyekbiqTdWI00b9dwS9Y6uxMlQsiQnXHB+FeWKqJujYpiUkXL4JFwrUJBnbtITMd3w1SccWEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEEhs/CbAAJnMIz6vCjfZAAAAAElFTkSuQmCC"
    }
    , function(e, t) {
        e.exports = "data:image/gif;base64,R0lGODlhIAAgALMIADc3N5eXl3l5eVdXV9PT0+3t7bS0tCcnJ////wAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2Q0ZCQUZCNUYyQjQxMUUzOTM2QUNDMkEwQjMwNkZENiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2Q0ZCQUZCNkYyQjQxMUUzOTM2QUNDMkEwQjMwNkZENiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjZDRkJBRkIzRjJCNDExRTM5MzZBQ0MyQTBCMzA2RkQ2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjZDRkJBRkI0RjJCNDExRTM5MzZBQ0MyQTBCMzA2RkQ2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEBQgACAAsAAAAACAAIAAABHcQyUnrqThrevr+X3eBpOWVGZCJWgECMMZiRf3BMXdStX3jFlqvhFNtei5U7uNDOZ/QqHRKlRKuWMlgy4VivwSueOAFa8fVtHrN3ggEJIPB+X5/5PJSHQ7Czz97GQEYfoB2GAGJhHmAGomDhFSPbRKTlJZtmJlOEQAh+QQFCAAIACwAAAAAIAAgAAAEdxDJSWupOGta+v5fd4Gk5ZXZkYkaAR4wxmJE/cExd1K1feMWWq+EU216LlTu40M5n9CodEqVGq5YCWDLhWK/Bq4Y4AVrx9W0es3eDAakQMD5fn/k8lIdDsLPP3sZAhh+gHYYAomEeYAaiYOEVI9tEpOUlm2YmU4RACH5BAUIAAgALAAAAAAgACAAAAR3EMlJK6k4a0r6/l93gaTllVmRiZoBFjDGYkb9wTF3UrV94xZar4RTbXouVO7jQzmf0Kh0SpUGrljJYcuFYr8BrvjgBWvH1bR6zd4AACSBwPl+f+TyUh0Ows8/exkDGH6AdhgDiYR5gBqJg4RUj20Sk5SWbZiZThEAIfkEBQgACAAsAAAAACAAIAAABHcQyUmrqThravr+X3eBpOWVGZGJWgASMMZiQf3BMXdStX3jFlqvhFNtei5U7uNDOZ/QqHRKlQquWElhy4VivwKuuOAFa8fVtHrN3hwOpMHA+X5/5PJSHQ7Czz97GQAYfoB2GACJhHmAGomDhFSPbRKTlJZtmJlOEQAh+QQFCAAIACwAAAAAIAAgAAAEdxDJSWuoOGsa+v5fd4Gk5ZWZkYmaABowxmJC/cExd1K1feMWWq+EU216LlTu40M5n9CodEqVDq5YCWHLhWK/A66Y4AVrx9W0es3eFAokAMD5fn/k8lIdDsLPP3sZBxh+gHYYB4mEeYAaiYOEVI9tEpOUlm2YmU4RACH5BAUIAAgALAAAAAAgACAAAAR3EMlJq6g4ayr6/l93gaTllVmQidoABjDGYkP9wTF3UrV94xZar4RTbXouVO7jQzmf0Kh0SpUCrliJYcuFYr8ArtjgBWvH1bR6zd4QCKTDwfl+f+TyUh0Ows8/exkFGH6AdhgFiYR5gBqJg4RUj20Sk5SWbZiZThEAIfkEBQgACAAsAAAAACAAIAAABHcQyUnrqDhrOvr+X3eBpOWVmZCJGgAKMMZiQP3BMXdStX3jFlqvhFNtei5U7uNDOZ/QqHRKlR6uWElgy4VivweuOOAFa8fVtHrN3hgMpELB+X5/5PJSHQ7Czz97GQQYfoB2GASJhHmAGomDhFSPbRKTlJZtmJlOEQAh+QQFCAAIACwAAAAAIAAgAAAEdxDJSSuoOGsK+v5fd4Gk5ZXZkInaAQ4wxmJH/cExd1K1feMWWq+EU216LlTu40M5n9CodEqVFq5YiWDLhWK/Ba5Y4AVrx9W0es3eBAIkAsH5fn/k8lIdDsLPP3sZBhh+gHYYBomEeYAaiYOEVI9tEpOUlm2YmU4RADs="
    }
    , function(e, t) {
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAY1BMVEUAAAAzMzMzMzM0NDQ2NjYzMzM0NDRAQEAzMzM0NDQzMzM0NDQ0NDQ0NDQ0NDQ0NDQzMzMzMzMzMzP///8zMzONjY1JSUmgoKBqamo+Pj729vbq6urV1dW/v7+1tbV1dXVYWFhYP14VAAAAE3RSTlMAV6pIF+UyENC5kOLYxJ2ACu/u5kk6/gAAAK1JREFUKM+9kscWgjAUBYmA9KIMvf7/V+pBnwbMydLZ3cwirzk7gfIcDU8FWorwPc35RJq8Qf5NOdw1WQBXCVeg0GSZQCYhg6T8qEDFKRBddiIgjaUk18eA776/6Nf6xNq/igjZxuqHcSN8NgVTZWACz3HpKyM9rqNozLJBiVzaQV6HdjnKGWqRNcwH2UInsoP2D9JckL0V6xCs47MO3rYy67KtZyIHdjkhB2bhAQffK4AoQul8AAAAAElFTkSuQmCC"
    }
    , function(e, t) {
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAkCAYAAADo6zjiAAAD3ElEQVRYha2YW4hWVRTHf9/JptTRacZb2jRBKGGNTBfLMLKsrKwHRymCIihIujARMRVF9RAZ1LwU9ZoQFCEZ1kRagV0kX9LpIaLEnJoazdBKh4nQlPj1sM/XnM6c2zfTHzacvfa67ctae+2DyiTabPVh9RP1kHpSva0RHRETx3rgG2AJ0Ad0AW8DUxpR0hBzAn3ADcAKYG+C/hvQ+n870AYcSfTXAzfGxkdSvL8D8xpxoGwLHgJ6Ev0OYAPQnWEc4GvCVlRHwQG5Vj2hvp+gbVSfKZCZrx5RT80Ym5klk6domjqk3qGOxP1W9Vf1jJKTvVNdl0HvVTdUdaBX3RJ/b1YfU+9U36oQWreou9QoRX9HPZ4O0zwl36uXxd/nqgfUH9R7KzgQqV+ojyZotXj1utXD6oIiBy5Vv03RFqhPqIsrOIC6UP0l3kJiucH4+zn1zTpvTU2fyycJodfb0GkejyXAu8BOYD/QDtwFTCfkjpuBr+phWEsILgMGJmkcxkLyJ+A+4POY/ifwEvAI8O8WrE4s3161q+JS19tKw72QNz7V/4ZhqyFcZ0aEbPhswvO5wFCDs/0L2EF+FjwGjCb6R4HPgHURYa8uIaRXgJYUcxUcAM4HtgLTKsp8BKwijsshdVi9yIBGlh91jmOokivqkbEvAhYCmwmn/4PYu5k5Xnfm0JOH+Fbg7gorMAh0RMB84CDwOnBWbOREhsDVwKs5yi5I9fsIW1mEk8DBiDDbwzHxb0KRcTzFXANeJoTo9RnKHkz1ZxNu0jKM1h34o4RxDeGwAmwElsbfHXF/bYbM/ZTXG6NTCIlhRgljcjbtwG7CNjUVyJwJXAl8WsDTEhGqmLkFTLMI1U8aRcbrWFkyPicCvgPOK2C6nPLKKQ+LC8ZagOYI2AVcUcB4zgSNQ3F9uBwYiIAvCaF4dg5jLYdeBeOu2gRuArZHhNDbAtyew7hvEg4M5tCbCAlrUz0tXqj+rJ6WkTJPV486MazNScP3qB+aqoj61cdzBJ6egPHdjq8LMRS4P6rL0w4sMtRtizKEmtSPGzA+onbmTOZF9Y16Pz3Yow7EXqbHZhhWqQzDjhW06dYdz74tz4Fa7N1Ww95nKVmjbje8hJPYoz6lNufIrTCs8LIkPYuxSd1keHLPylGGOt1wp3ep8wr4MDxUDqnXpMfyBE5RX4iX67oS5UWtWX0l1rM0i6dMwWpDtdRveC80YrhH3a++ZmLP0y3rXZDGVMKT/AHCDdhPqPX3EP4HHCP8E2gHLgZWEWqGHcDzlJT4VRxIopNw919FuMDaYgdHgGFCMfMesI3yGgOAfwC5HdcOsKX4dAAAAABJRU5ErkJggg=="
    }
    , function(e, t) {
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAADw0lEQVRYhc2YT2hdVRCHv5ek/qnJa6OmglBt4kZtxU3SVQXRV6KS6E4tXbQiIoouu44LsRvBjVCKoC6CpaKrLFpd1baBEooRtU2gaKkUtG0MtYZiaeRzcecmNy/3vXdveUYHhnuY8zszc+ecOXPOqaiUpH5gGNgBPAI8CPRE35/ABWAGOAl8BZwvo7xS0KFO4EXgLeAh4ChwDDgTBq8FrhoObwWeBJ4BfgI+BD4H/m5pSW3FNXVGnVRfUNcVGJPyuhgzGTpqrcY067xDPaieV0dLONGIR0PXwdCdi+toELg+4DjQCzwOTBSZ1xY0Ebp6Q3df0SnrU2fVd9VKGyJTz5XQPRu2mk7ZevWUuv9fcKSe94et9Vl5fZZ9RJIpLwOl94OSVAE+AxaA1/KmrBaLrroG0Um5qv5sJvvSjg71rO3JplvJvhm100yWvQTM055sKksTwBzJxrsUoZMmG9haRyfl5002T1D71d/UroKDe9QdancTTHdgegrq7AofBjpI6s1RYLFAeF8HLgIngO+B7hxMNzAdmIvAmwX0LgJHgGHUcXVvgb/Y52p6Kgf3dA5uXwH9e9Rx1Gl1qAX4UfVmnZFf1d4cbG+EP0s3Q0czG4Pqt6hz6r0hrKhjJot8dwZ8oM7AuMvb/pB6Onh7yDYFJksHMvp2h40xl8vTPervqDfU20M4XPdX94X8XEZ+wZUJMJXpO5WRdwU2pXMhv9+V0R4O+W3qjXQfyisTlUz7gUz7G1YmwF2Zdk+mvRjYeh1ND2kdJMfOVNHXwDvAJLAHuBTy65kxvXU6NjZoA9ydaf8V30vA3rAxFjYJHxbSRT1o8wWXnZbr6uaQ11xNO6Nvc2BTmmphY1Cd7gDOAtuahZHkPJzSnfF3nwJf5mC/iL7JwObpyKOtwJmK+gawHXilCbgK/MDKtVSGfgEeY/kykEefAFOoAxYrHUPqfM4UaVKtZxr0zdt6n1sqHamgaHHdoh5SF8LYnPqBukHdqL6vXom+hcBuKaB3RXFF3RVOFSmEKbcqrmV0nQgflhzqjJCPlFTUDh4xc0DLdtRMjpP/xRE23SpWHfI/JknVXbeYTWXpEMmm++qSpM7jtbwGvWfONSgP+L+6KKa8yeQ4cbjNa6oaOk+HjVWYRnf7y8ATwFXgO2CkDetlJHRdJXlbupyLKvBXOyO8x03uUGWfY0Zj7KyZbGrEZR+s3gYGSA7kx4AfSV7M/gjcBpIXtW0kD1bPsfxgdZgCD1ZFHcpSP/AsSdgfJim41ei7RlJIZ0me9I5Q8knvH4+/Pgzvp3tFAAAAAElFTkSuQmCC"
    }
    , function(e, t) {
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAjCAYAAAB/wZEbAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUREMzhDNDZGRTJEMTFFNjg3QjFGNzM5NTkwODZEQ0IiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUREMzhDNDdGRTJEMTFFNjg3QjFGNzM5NTkwODZEQ0IiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1REQzOEM0NEZFMkQxMUU2ODdCMUY3Mzk1OTA4NkRDQiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1REQzOEM0NUZFMkQxMUU2ODdCMUY3Mzk1OTA4NkRDQiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjxgwxUAAAZHSURBVHjanFZrbBRVFD535u7sY/Zhd/vStjwKUiRiEQlqISK/eKgJGA0JhKAmgn/QqBD8o0ZM4xNMwEdQMCYqGBIkgQQCEqAUjNCWR6BFKK0oLbAt7Zbtbru7s3Ov587eltntUh83ezKzd+5899zvnPOdIe3fPAliEAWA45WnORiDpp+61fl6kVbjCmhj9BItRJ2qGx8baH1oNwFYIwd+QL1/dzvcZRALHFGJihfOJ6ViZq231LW45EG/SgMOANwUUrjAZPg861V55efAGHhVmbLvWC64MrTOZHy1MWBe8pY4nyt7PKjSkIagJvABtHQusAWKPyau1SRUWZe+9vJPuSsoegupNJtPgWxSqALBKh+ApgCPpeEfB8M1DidA8VRQgS8xr9z2qxN3Lhz2fMLKOkVVSC0zGOhFTnALjwdN+FdDoXhk3KC7BaC3FQlgC5Iti94aftywoWaeSsh0cWx3EDl2EOAm/3fghFiZwHvagXddxo1MPIH5+uEf5ngtcIXAE4IahRJweNRMyvzXQbVMunkKQC0cX1xd5V9ugSMlMwSgAFccuID9D3CREQypdLgAiqqAuj1zcVJF0qAwExsOpoG7oPfCiUzSy4xjeJNimeQgo/Af70VqkkD1wEM446B98XSnz02nCYBIW9wCEqcQmwkTYO6gBo4CB5Aks4os7waCf5E9eAJOFFFwGt3X1L1/1byKpyhSkowacP10X8bzoWxGb1VMzUJM0UClDoSLE+QJjLXQbR03Fon2ikioJy5GlHjCTEwo1cuTJhvs6k+FO3oSnbEU69c91KNpCjWTJvR3JsCJlDkxXSGdB5yhMuhBIE4dTh8/e+C7XX8eFJx3bTvUcRjtD8ETZEIqTBX/d6ytfnbmpILpRjwNkasD4L3PBQRp41kbECvfiScEkIjD3l/+qsdJU5ViNIAWQ+tB65TWhRbf9Wu49flZpVN9bjVAkFcfgitOfM1eCyZCOH1ACsrhTH3TqRVrG7aK94Xng2gdaLekt0zmiWBeRxt3/mp/Y/GUggqHWwWaC2yBp4CUTgEWv22++0njjzgjOE/Rti1zBFhCWlYmoDRE8ZIO6DQi0tiSBhdW5LA84GIDD+0rRQLdsH3rnj17j3Y1SVlOK6OVRtvXc4R6xSYWu6s0XbUosbzmNuFSNaSjAlpOnbm0fE3jdslCXJxegXwSbRt7335ksl+js7z3ukALalYxZdERHAtGNJJ6Zc3RbThzRcYtndFzIkHzACMtZGzI9RpFKgLl7kw6c1sQvcVW8WzefGRnfVOkQXo9KGMGo9Jy4qPHpuKhl2FnAqfgO2nzWlQaAv92rPn0mx9e2I0zIpVFjMzsTgT5vfa76ToFqzNQgV6jfGZVJspS5GZ336KVdVvw32WZbcbINpdnnNpQU+NgsNRbjA1EVGUqRy6Rn9qvfv8+fCt5Af9dt9NxB9zOuTThta4p76uoNwXjMdXVkQ3k4PFw3cZvWw/g7VVJBxvZoLlNXqWd2zR7qWLwub4yF7hK0OtkdtvrDA/emP9i/VaZHZGh7Mjf/W1j9ZYWzFxYr+kUghO9GQZs2EaapZa9cfJzvL2U+X6B5F0bVO7Epy9NXo9ZURmo0sGBGWJ9BZA7hdByJXrx5NneBuyToUerg5PdGsqhw9OlVO7oGCHxWIXDf/rixgM+qjZjLyUVs0Moz/jBkGS5cWSYgZnopFNY+kVAyqYDhFv2k9IvFualJRNE+jG+TALjdFC9dASwbDjKcMkpKGIGSlK0U1wXxM49sySbFpkE5zfNXozRfVrzU9Qh50jlyzdECzYGgXectT6ObicgJB1mw6k4YVWdolHlHZFuOuY1FRpifT/i+RVpggsCOYbHRO+JB9ufywGHjt68Zo+j5XnTxlmLqUqqTU5QixiwaNpq0tbhcYM75JG7NGYO5453n1+xrqHVvogKr4/Uziy8BzkWRRMLJyER6bGasmhnYk6cwPqusU4ixQsBGctEuLc7FXvhvcYvZZUyuyvIAVTsWDvts7Kg82EjzdOEcUXCEOk/4lp3+Eh8aaOSm8xkjJtdUSPywe72n5uvxepw3QXZKLgdvBxtBtoYWwaRUZR+qJ6Z7L9taM1oYbt4EQnmlxsU2QKSq/QkB5jLshe6ckM2iaRdvP4WYAABuogcqWf22QAAAABJRU5ErkJggg=="
    }
    , function(e, t) {
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAjCAYAAAB/wZEbAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUREMzhDNDJGRTJEMTFFNjg3QjFGNzM5NTkwODZEQ0IiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUREMzhDNDNGRTJEMTFFNjg3QjFGNzM5NTkwODZEQ0IiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGMjNBRjQ0OUZFMjUxMUU2ODdCMUY3Mzk1OTA4NkRDQiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGMjNBRjQ0QUZFMjUxMUU2ODdCMUY3Mzk1OTA4NkRDQiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvCaFn4AAAbJSURBVHjalFZbbBxFFj3Vj3HP9EzGY3vs2I4TYYNJ4iQQkaAoPMQHihQiULSskJAghEQiggA/u1oJ7Tf7sUJoV7sgEA8BgoiHRHgJdoNAZIENxME2jrGTOE974lf8GM+7p7uruNXTdsbOOIGSjmc81XXu7XtPnSrW82gN5BBQ6K8CM6ahebWJYFRf59jiNppYr6hYzbRAELpRgJ0/QTiJYr4bWuBb9eGzWGqwcnLXBqtvNfc3dYR3qQrbLLh8guasLFhtG1jTBvATh8CijUBsFcRo74CYGX5Z2zP6z6uSO7ZyixHRD7RvjbXrEQ284F5+SkZRAwQdyE2DVbeAXbcFqIpAXDoNcfb7U8LJ79V2J75bSL6nDgUbLapgQ6s2RBBfE4bIuRBiwWMUgIJxB9CqQCXxvrPaVrC22ymoBtH7MZzZid2BvYk3y1aBHX0o/kEoot1PWUMPq+AWx9WHH6yQAvUBytp7gGgTeNf7cNJT26v2DP3He+rdnbGm1pB6saHVxMpNyygrDn4t7vkYJAI7R2typQDVzRTgPT42U1zevP/cJSUeVHfK9IPLNBIL++3Ec73Qg1T7MHj/FwA1Xmm7XYkFrOe80BR741wSYKxUqN8zZHNkH7QAxJnDgFkLLdL44IHHGqIakS2XvUtPF1HnkiCrKIojvLfwBv0muFjU4AoBKHsxOwaWGYdS06Kvj13YoZyddY+ruoLkiIWJkxmvmdwW1CvHgyRmNM9U2cRrBFCotJkJKLqKQoFfr35+ppDduTZ0Z1hjtenJItKTNpJjFqYTBSRHLWRnHI/UCGnXDkCTzDApjoq+zgvfqZRY5O3juXN6QLHyjkh3D1mD7/Wkv+9MWAMBIgpZTn1m2kHAUBCq1q9OTmpgkQgKSRuHv00clIWtJbQTbiCEUVpuE1RC6IVt1X+8Na5vrVtpYOVNy+jNSVGOWEL9RL7MxHhfCk+8MrSNioRZwknClE8uxVj0yeMvdmWVLTtiWz0ZsatWBMzU4c5kMTgwM/zhYGFI6X+qkYqKJOGCH+QUQVrdacIvtzbok1Kv1Y1V1CiFNqaoSKwEFe9rYiCLNzqz0gJyGqeHf9nfyLnDLdcRlmw6k6KnDTIwYdde3xD4c0tHGNUtBoRTWZJKSPUkm+iZxVdHUz++1pf7hn7Oak6BU+DSCkabSO4jIXgrcf/1js3RB5avNsOqoZLt8lLWrCxbqj9MFdalIoZ6Uug8ke3feyj5b5od9jKXbKysnrYr1iiu6ApFNaPxRhOKSfabcS7b3FzzSJYypeRgFom+DI6dz/fs+XL2Jb+sE7JvSnndbn51nLkcD3IXRoB07WVW7utlpsiCKsaJuOfLSeudrvRnPnEf4RwhI4WhLRKuli2KWFRnoPp7klPIghV/15YnAspCmt0bQ8UDb/Xm5CEx4ItgRp49Xi8W5aQfGbF+Iu9HPmXjfHcK06dzcInc85yysvA8R3SFgWd2NW6gf3/ylTZPLIe6b6M5v+Dl7qz+9QXL/nnCHpnOiZSWd3XMFGvyKRehqA6dVDEvRe+8EIjXBZqe3laT+/snk5/J91lQve5H6+cf3vj6BB2UoNMXHYQWQuTFu6P3b4rrW+pbQ2hZH4FCjeSLtM7IQRNTxRUrHz91cYFEVarvHPxXukT4mXCE0Ptmf/5T2dj0VJFKRdMqq3BmkEEZ6j4s2sOKzMQDRR94ulFufTp9MU4YlORrarWLcuc4xZKvL2UBQogO3zIuq6N8x3FafOYvKwSdT042WXTWvzTmPtxu7HZJKfHrqhCKBUoHSYUxnXGz9BEob6i2WL8lCTqwC7z92K76Z8Mx7a5Ys4H4qiCYdESbV5I9zk3YicV8C/4RDvbpEXWLWaN31DJsDtLlyIyRhwfkKU9ap5tBpbII+u2F/079z3fUK8kdR/yNKJ6pXl6F6raQZ0SQNZZvInepwJXETB61DAd/mD34UWd6uLwkXkOlAR4bLYYZx5+kYjSZpTSpvEukvHQwiAqkWkkIx05l+/7w/PDb/rlgL8hcarbGYLdQMwNylUvbGrSQqSqYrK8ov5uxkh7kC9GV74vO9JH7/jH8uu8nycVlkUuUJzeF1z3SYf5fU2FG6nTUNAe9q7RGW17xrxgyCYdqbhHp0RO5/n99PXP4495sD00d950wecUO9bXZvLFBv3d7m7F9VVhtqA+rdRFTqTKC9Aoacx0unMmMmzo+Uhz6dCB3smu0KJUx5hvVXNZOJRVJ86ojrCO0yUNZGpgflPkeyP165n2iER+Tvr26S1xXPdB9DDH/JhCRV0c/wBy5zKpASPmNk585P+CSl41fBRgAYbcF2utn0DQAAAAASUVORK5CYII="
    }
    , function(e, t) {
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAjCAYAAACQA/olAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUREMzhDNEFGRTJEMTFFNjg3QjFGNzM5NTkwODZEQ0IiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUREMzhDNEJGRTJEMTFFNjg3QjFGNzM5NTkwODZEQ0IiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1REQzOEM0OEZFMkQxMUU2ODdCMUY3Mzk1OTA4NkRDQiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1REQzOEM0OUZFMkQxMUU2ODdCMUY3Mzk1OTA4NkRDQiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsMLxy0AAAZGSURBVHjanFZrbBRVFD7z3Fe3bJ9rSxVQFERoNKISSYyhkBBJMMZHCD+ImPAHDUooISEY+KNgokETE0GUBBJIxFhAniWUYAGriG2gpfQJ28d22Xa3u9ud3dnZ3ZnrubOz7ez2QfAmZ9uZe+8353znO+deBv7H2O0hyy0srF1SDPP9MeLrDqr7vlokDJrXMI8D+LWXvPucE3ZoBF65GwFYUgQwlgJoD2rSiGf0tUOrytofC3h3H3m62kV+nG1jagIJgCEZIJgEkBDUyqNx+BxQgpFAaP4PNRVhuod9FOienuTbNRXQ5rYyNTcDANcDGWC60SkACOgagw/OQrGEt1q3ZJ2dEXhXa+Kjt54SToUVsJ3zZrwsEjIeEtM6VQMQLQxoaW01PnKQ/ZlqbLs5tn7Vs7YjfQkG/g0CFCIgJiwH0Mwni3NSjLhtZXMOea6flab0eHNj4NVlc+zHgoSBdmTMJeJGZhpQfC/gRzGhkEwS0VFSWkVf8/kLN9Tdsz5f4bzI2Di4O5rhcarB404W49VUAEUhMOSVISGn1a4Lx0JTAhe7K48LdqHoQSwTer5sOATjcJciEwhHUhBFvcXjKqhpDSIdV050N9Qpk4A/bvC/4Si0vhPFuJMoJT4vfBEpUdFD35CCRj1UQWTlsUjnjdsd54829zaev4LLMMVAzMAsJ4rfWB2Z2Lk8UIsF0DMCfZ4YBIYTwJNoaLTlzJ83vv/8L0Uao9r1o91Hi+UAbzrTvUy0W5fabAyGlRs+BY1GNejujOqhpwab/q6rXXsSpyifD9F8aMNomBWQzcAMIzret2AZMezk8GMxDe5hDUcj8ZTcXnehYe+WepzqN2wETULDmgTqEjGXtPjJtdBtd9WshVYUOuURDG3SdT3dMZAxQeWlRBa1kQ5n2ROOdAo6NU07d6/+5JFftm5MTKVtWHeo4YWKF19vq6i0AsHvETIBjNqEeCwNLiw56r2COde0jH6NNR78yLadc5k6MzD1ibGVVq3kUAlUm8TEAwUQsBmUlGYSmkhk5hmTBvF5Lsrvt9rm+Gf5wBzhLC9zwtSNjgKlUpmPTDfP6k3Isn9jvX+lGVhAcZdwqC9CZu501FMKwjCTwa02FgoLHYezjY3+8Kqq2oHAjMC04nh+gnuOy6WMx2e7U3xy3YneNVlgVlU1nszQ9ikIVcpAf0LXsndQ1vuDGZw65XDwINhsGygm9YEhGmE1lUzoxOQ5a/S/B70SBIMK8AILgRFFL+c58wr0vkEbUTbRFgu3gNKrb6OgqZSmYzJTdLFwKA3hQFhq+e7DA427Vn/LjHV1BLHrx6Q0cGxuDjiedUGmf2G5pJISBZ6O42RShfbje472Np5tHrpzs7Vu0/KDHKPE02mSk0j6P9E0PW86cNTbcyepaDqP+RlPq7TLJaTWup8b8LEJ7TpaGwndb7Na2RwZUsfUtO6ezqDWff6nq/F4GmRZ0zkzD8qf3SHSxZ2UarQ+tK7iSjdvd3Dj5U8pSWJC5XhCzqoi1d90oS/s7esMh5LjyTIP0WZz7rw18J7RuZQPDpwurXhm3kt66AZ91CEJOY+Fo/rxT/3DuoLIYNPpU67Zn+5wu61gseHuxAQtdHOhu2rPlx61nOHYGJbSJpZhmHFvDTmOjioI1NNCA6X+0Wmp5fDu+jG/zzcwENeVwQuTC4bl2M24YTtiujRTo6KH6UNfEiKhpNZ27IvTFNN8/PNKaEhyVa9ZQRkqKeVzOt1Ug4LSjhcMpsHzQILh1j8u3v11P+1ygSwwzS0J93WkC4qLLVx59WJNY2CWiwdRyIif5BUN9ZL+Hfan9OKJBYa8l2pX7SWa2o1LwllgYlCieW9djhSUlAls6eKFcTw5ONxtQVmJeDwJfKZg6GJJ0mBwQAYvUieHh/2Xa2v2JWOROzg1RBNspkIzTtiU959Lodiwx2+rXFIVTVidETzm45KqH1HhcBp83gTeI+K6CoZbLl6r37riYEqWWnFvD9oYxcqvYP2uh/YU2iK0qur125e6q99cYHWVF3G2AjshDEsUSZJ83YOdvx+85W2+SvXdhdZhnH+p6foZjcKO5kabS8HRCmn9m+56aUPTI8aR32+c2KlH3Y/pe9HwvgQNr9jgMN7RQW87EZp9AzBm5Gh8/CfAAODt52PKcrvBAAAAAElFTkSuQmCC"
    }
    , function(e, t) {
        e.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAAAyCAYAAADySu2nAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjYzNjREOTRDNDdEQTExRTZCNDRDQjJDN0YyNDlFRjM4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjYzNjREOTRENDdEQTExRTZCNDRDQjJDN0YyNDlFRjM4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjM2NEQ5NEE0N0RBMTFFNkI0NENCMkM3RjI0OUVGMzgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjM2NEQ5NEI0N0RBMTFFNkI0NENCMkM3RjI0OUVGMzgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6d3mI0AAAOgUlEQVR42uxbeVRV1Ro/5w5crszIIKOmiQgqUk9eKIQoolH4LDRBDfU1ONByWqb1nk+tVvlHuRpWZTO5KtOWr6WCssREeZRCioZCjILIqAyCynQv9973+27n0OZwQa4i2sq91l6HM95v//Y3/L5vb3ju9hrfy9+GXv4erMb3cT4gsiluQyhe0llh2M7fJfBEGWW9AKeXPGu4nZnp7/MyiVAy5hm90A3ikdqgooXGyNWbjAaJrGaBpzATNFYgOSOYjPlhEkTHCGSggQwWeAxorJxyiWXoGTn5WwFPZiZooiAKoVvExsbaZmZmBly+fDmqra1tsV6vX1NSUhIgme270Yyy1tTUTNHpdKtaWlqeqa6unpmRkeEfHh5ujXtKoSskwPIDpXHSGTSCFhAQYLlv375gb2/v8TKZTH7jxo2G+vr6y1evXs175513Su8iYN1k/uijj36Li4vjbGxsnBwdHd1DQkL8jxw50lFYWHgmLCzsNGTWMu/pBtIvi4DR7KjRbZ599lkPALUS2rU5Ly8vZuHChWNx3RPdDd0Z3Q59CGmkOJtkqYPRBXnlwm+TDPaCTO4k45o1a8aXlZXF4dktmOR/Tp482YXGhG4pKMWAWQkriFVCQoIbTHK1RqPZuH379odxbcT48eNHp6SkRFRUVCy8fv36ivz8/DB69i4Dp0K3vnjxYtS1a9dWEFg//PBDuLu7+yiSedeuXZNhwv+GAiyD6TpJJ3qggKOZUEVGRtq1trYu12q1Gzds2OCHa94w1wic/wvat6W5uTmhqqoqFtfGkdCC8HcVuLS0tIch0wJM6Crc39rR0bHh888/DyHZd+zYEQjwNkHueGtra6s7AZxR4/bv3+8NTVu7c+dOAsYtKyvrMRIGmrYkPj6egPRAdxHMw+oeMFWSwQHdlWRbv379hLq6umU0yUlJSY/SGFJTU/+GiV+3adMmxzsFXJePI2HgYIPITxQUFDyFc68HH3xwxI8//hiKKDYf18LuFeBgqpHQuHmY9GAHBwdvBAkvnD8D8P6TmJjoLwAr+jhlf4FT9CON4iVczch14Cts4DfOw79lPffcc7bvv//+LLVabYuwX4d+laEuDL0aXCpCR6VSqQZgw2bPnu1fWlp6Zd68ealBQUHHs7OzQ8eMGWMjyXDY8Rr6Ss94MzIDtssZPieHj/gHBLTctm1b6uuvv16Pa51C70aEB5mKdOOcoCUemOAI0I9aTPoRQS5RRh1DintkPkx6ZjClcSzickmXmUhfuq6D/DbB0eaDv10X1F28rzf1o4PF4dhJXrlyZX17e3v6tGnTPIRx65mx6k2kYTqmc9LMgu9jlrqYta+vr2ro0KFK+AXyVTwd0WXU6byHnchkerlcrqdMi7pgq4MCnCgPHakjahrlNJGa6SGngWSlI8lHRwQ/3alTp9oEbdQKvYf1KHoJAirYvxWi50Pjxo0bbYXG/YUaeGprbm5uEfxhdnl5eSsudUgqPz3MkyKRCmzaLjk5ORpO1ZH7C7fGxsb6+fPnHwJbaBLA04hpGS9JqYg0DqmsrHzcw8PDk7vfOGBR4eXldQh/ippHpttl+6JvU4JVP3AftD+ap6en16effvoAw/FkLO0QTVWBqONzH67uLSIiYoy0/CSTRtRhw4a53oeqewMmzoy2GfFSSOkI2L+6n2HfAPuvsbS0tLC3t7cBAVZJnwExbm5oaGimv11cXByQSNtIn7mBduXKlcYhQ4ao7sSknT17trCpqakNMqoDAwPH3Mo3MEa1xDo5hQnS2K92Dc3b2zud/gYbjwTP6wYcuJP+xRdfzPjmm2+IFHMXLlyYYgo4pG01EyZMOP3qq686b9682bW6uroWPOoS3bt69apGiG5a8DEDiLYWubAG+ae2pKREe+7cuXBXV1eXvuSEz76ArKEZBNjuww8/vCXgJOV4vrfMoc+GAeiAWXNhYWENnSNpNibwGGQjnVN5hrQPuWCBCBq1tWvXnt27d68b7in7+n5ra2v7nDlzLvSSAslGjhxpAZ6liIqKssKxo59j1w9QRnJLizXGdh3N0dHxsDAQDU4Nzs7OyaIPKC4ungyzsMbAcgjnXbt2jXjjjTeqDxw40IqULGP9+vVTZUTX0WDJTdBWCvM6Agwm1QAtdj148KD3Cy+8UPLTTz89QhoFM94jENOFSJtaEcDSoqOjnUeMGOEpugS4jboeFQyFwgA3QJPXTkdMdnFnZ2cP5Rg+fLirKWvoCzxpmdka2rP0JsBdQ7KcjsE1t7S0dEA7LOCbVFBEXqvVyqBZvqtXr847fvx4x/Lly20/+OCDxyFwqb+/fza9/95777klJCSEdKAhITnAFAT0Ajjza2trKydOnPi/2bNnq7766qs4pG8f0z2AtnjdunVJ3333nRbmHDZq1KiRdP38+fPFZO6StQOxdzLVD4UkBzc2THYwlcVuYq6J5JIFPqcxW+NgmrYwwUhbW9vdNFgMbAZmywEfpgWb5kWLFh0BaO0wKeW2bdtCMWiFn5+fz+7duxtjY2PLAGpNfn5+6muvvTZJUpUwJtMnTpw4jQnQxsXFUdqn/OWXX46K906ePJkeEBCgwuTK4Qou/fzzz9Xx8fEhknSot/VSnrknrQKZ3W5lJZ+rqKi4jNnXAyR1EVpQUFAeHPVD6enptUlJSTecnJyUGRkZj8Jku1I25H1BAFYLba0EOK24Zw8AFkEbC319fTM++eSTYTDP2V988cV+PFPDDL5e/EZ4ePhFkajv2LGjneQn4DA5BjEVgtVGY1IdxHcQdP67devWBvShW7ZsiRGvI9pfgZyprOaZW/Azu505c8YYGJYtW+YtFCipusAtXbo0BCapfPnllx3hny4AkxLxHQDdjvuTDx065INB+0qDBNye8bhkyZIo+KEliMKP4FsK/IaVGLjgFixDQ0MtEFVDoZQLNBrNfOFdA6O9nCS6G98VjqaChmFQgIOW6N96661KEmb06NHeomAUWeGzhsKE5sKhWyI5vlheXt5A71RVVdWEhISk7Ny58+TMmTMDg4OD/aXfPX369HVo6TFoTPVnn312CP4rc/r06Wr4xKdEk4JbmAlHrkBQyHj77bcPA8BygKwVJ0/wRf2lGIbbKbCabaoQVAe/oxEYdarofOGcz+CYg+AxVzAdPdGF1NTULDj5UsQC7t1336194oknGhGFnWC217/88svsb7/9tpa+BVO9AT9YhD+LAJ4e192efvrpSERGK7iBcQLVcQUvi4FrOLpq1aq6nJwczddff93NqYMWNVHEFut/oE6UlBvoiF4v1urw3LWBWjPtV1Qlx21hYbFXqBR0MFHLmLIh0s5LTk4+BY2r4JiVf/gY55deemkyqIWVMMBGgdbQ+xpoGIcITGu0yKs9j8GfKQAUB4s2oOuFSeMxAXK8K0Ng0F+6dCnCy8treEFBQeHYsWMzewkS7Oq8nOu5GUc5KFEVGqCAtkSLFdOsrKxTU6dOLcRxHLRuokqlsmL21/Dgc+rt27c/hAg5kl2xAfgWCxYssEZgsEDGUA2a4Txr1qzpAIaE448dO6Ylwozv8eBsFBQ4nHviE8qNGzdeoYFjEtQCoOzCEBtV+V6URSZZTBoUH2fceIQBauGcOzD7ZAoyEMy2urq6asSAFtHvwfzcQXznAJxRBNr+/ftPIaLmQitb4A+tYY7RTz75JHExGRRZLHl3/VRkZOSkiIiIYKZK8TDAfQSmasE+KxyN3CwvLy8YPnUmUrNZkOmx559/niKsnI44j8L1x+g+AlwQdxvrp2ZrHOWoDg4OKcKpWNgjrSgnpgLzCScyLKRHdvB3XdETWUTt999/f+Pw4cNagBLIDprIs2RC9aAV+xhT48BgDjBrIioxUrq5uTmkpaXR/hUOJu8BLe0qVNjZ2dF6aQsd4VvdxesYgy18tZEf4rrD7QBndnQBu7eiqJabm9sBwmoNv+QA87GB1hlnn5Jzhhbojh49Sv6BQ1S0l3xKjncUzGKL0YQQNf8Oi5a7u7un0XlpaekUWoZcvHhxNoDqehl8zEnY/2Eq9zVuRxOOXU2tVg+ZNGmSnznGxvWyPNgv8KAFtjDRGAzAaC4UCKBtJTAFHwgfIAzeuEIGDlYF8I4DTAV84DWQTr1QYrKHhml+/fXXEvC6KoZviRpoXGKESbVZWlryQkmfaE0btEmH75i7TUHGDXBTSNDUMxHItAS/N4u+PgrORiZRiaTdsGLFihr2HpWPYDaUNZAPO0fP0HVERWuJXIopU6aUCDKRuXEgv6Vcz10Fd7yRVXGShXWFNL+j6gflo2YU+RSBgYEW0ISuCAUQRkE7aN9GHYKITjANBXyRHeiDOy808DovaI/Gx8fHBmTXXwj7MvA3a4HbhUKze/hh5MAnQCE64D9vGhWh3UqSj463ChxiWask/zWwuyyNK1zwV9OQ6ozh7reulp+fX+Tn53eUWenqlEmIYicowm/EvO/D9Qf9QqqXy0lW86V7e0nr1AjTUxBxJtyHDTlkTk4u2EMGlQqZTEkv3WZvTH9mzJiRWVRUVPxXB41KZmFhYSe431fwO9lqCi9JQ8S9I8atEImJiQ+AYowF8bRDpiWndAtBwJJVY/Cjlj8jKMTjZGIt6/ccvAM0ixaFdPX19U3gifmgWBe5P7Y+aKWmykkqouz/MSgZIJVvvvmm+yuvvDKdLaOD1h3keu7muRcbm6MqkOGEIcJ7iDf37NmTGRsbWywAJAKl5Xru9TPqjFzyYYMJXifW7Yn5N8fExFiAqDtSTgqnmZGSkkKlmnamWqK5R7uWMblOaFgDeKILMhNVWVlZydy5c7NBO9qYcWgl6yHd9vn1tiOTN1FFkG40ZIG917WNM+GS5FzPf6UytUPTwJn4dyW+H2uIpraz8syHdJKs414HTjoWaSlKun3VZCrK9/PH2B/lJcBJ+58BuJuN46Z5O2/GD5o6v9v/0Hur4HG9+PZ+j+X/AgwAJrQQda9H6o0AAAAASUVORK5CYII="
    }
    , function(e, t, n) {
        var i, r, o = {}, a = (i = function() {
                return window && document && document.all && !window.atob
            }
                ,
                function() {
                    return void 0 === r && (r = i.apply(this, arguments)),
                        r
                }
        ), s = function(e, t) {
            return t ? t.querySelector(e) : document.querySelector(e)
        }, l = function(e) {
            var t = {};
            return function(e, n) {
                if ("function" == typeof e)
                    return e();
                if (void 0 === t[e]) {
                    var i = s.call(this, e, n);
                    if (window.HTMLIFrameElement && i instanceof window.HTMLIFrameElement)
                        try {
                            i = i.contentDocument.head
                        } catch (e) {
                            i = null
                        }
                    t[e] = i
                }
                return t[e]
            }
        }(), c = null, u = 0, d = [], h = n(35);
        function f(e, t) {
            for (var n = 0; n < e.length; n++) {
                var i = e[n]
                    , r = o[i.id];
                if (r) {
                    r.refs++;
                    for (var a = 0; a < r.parts.length; a++)
                        r.parts[a](i.parts[a]);
                    for (; a < i.parts.length; a++)
                        r.parts.push(_(i.parts[a], t))
                } else {
                    var s = [];
                    for (a = 0; a < i.parts.length; a++)
                        s.push(_(i.parts[a], t));
                    o[i.id] = {
                        id: i.id,
                        refs: 1,
                        parts: s
                    }
                }
            }
        }
        function p(e, t) {
            for (var n = [], i = {}, r = 0; r < e.length; r++) {
                var o = e[r]
                    , a = t.base ? o[0] + t.base : o[0]
                    , s = {
                    css: o[1],
                    media: o[2],
                    sourceMap: o[3]
                };
                i[a] ? i[a].parts.push(s) : n.push(i[a] = {
                    id: a,
                    parts: [s]
                })
            }
            return n
        }
        function v(e, t) {
            var n = l(e.insertInto);
            if (!n)
                throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
            var i = d[d.length - 1];
            if ("top" === e.insertAt)
                i ? i.nextSibling ? n.insertBefore(t, i.nextSibling) : n.appendChild(t) : n.insertBefore(t, n.firstChild),
                    d.push(t);
            else if ("bottom" === e.insertAt)
                n.appendChild(t);
            else {
                if ("object" != typeof e.insertAt || !e.insertAt.before)
                    throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");
                var r = l(e.insertAt.before, n);
                n.insertBefore(t, r)
            }
        }
        function y(e) {
            if (null === e.parentNode)
                return !1;
            e.parentNode.removeChild(e);
            var t = d.indexOf(e);
            t >= 0 && d.splice(t, 1)
        }
        function g(e) {
            var t = document.createElement("style");
            if (void 0 === e.attrs.type && (e.attrs.type = "text/css"),
            void 0 === e.attrs.nonce) {
                var i = function() {
                    0;
                    return n.nc
                }();
                i && (e.attrs.nonce = i)
            }
            return m(t, e.attrs),
                v(e, t),
                t
        }
        function m(e, t) {
            Object.keys(t).forEach((function(n) {
                    e.setAttribute(n, t[n])
                }
            ))
        }
        function _(e, t) {
            var n, i, r, o;
            if (t.transform && e.css) {
                if (!(o = "function" == typeof t.transform ? t.transform(e.css) : t.transform.default(e.css)))
                    return function() {}
                        ;
                e.css = o
            }
            if (t.singleton) {
                var a = u++;
                n = c || (c = g(t)),
                    i = S.bind(null, n, a, !1),
                    r = S.bind(null, n, a, !0)
            } else
                e.sourceMap && "function" == typeof URL && "function" == typeof URL.createObjectURL && "function" == typeof URL.revokeObjectURL && "function" == typeof Blob && "function" == typeof btoa ? (n = function(e) {
                        var t = document.createElement("link");
                        return void 0 === e.attrs.type && (e.attrs.type = "text/css"),
                            e.attrs.rel = "stylesheet",
                            m(t, e.attrs),
                            v(e, t),
                            t
                    }(t),
                        i = w.bind(null, n, t),
                        r = function() {
                            y(n),
                            n.href && URL.revokeObjectURL(n.href)
                        }
                ) : (n = g(t),
                        i = T.bind(null, n),
                        r = function() {
                            y(n)
                        }
                );
            return i(e),
                function(t) {
                    if (t) {
                        if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap)
                            return;
                        i(e = t)
                    } else
                        r()
                }
        }
        e.exports = function(e, t) {
            if ("undefined" != typeof DEBUG && DEBUG && "object" != typeof document)
                throw new Error("The style-loader cannot be used in a non-browser environment");
            (t = t || {}).attrs = "object" == typeof t.attrs ? t.attrs : {},
            t.singleton || "boolean" == typeof t.singleton || (t.singleton = a()),
            t.insertInto || (t.insertInto = "head"),
            t.insertAt || (t.insertAt = "bottom");
            var n = p(e, t);
            return f(n, t),
                function(e) {
                    for (var i = [], r = 0; r < n.length; r++) {
                        var a = n[r];
                        (s = o[a.id]).refs--,
                            i.push(s)
                    }
                    e && f(p(e, t), t);
                    for (r = 0; r < i.length; r++) {
                        var s;
                        if (0 === (s = i[r]).refs) {
                            for (var l = 0; l < s.parts.length; l++)
                                s.parts[l]();
                            delete o[s.id]
                        }
                    }
                }
        }
        ;
        var b, E = (b = [],
                function(e, t) {
                    return b[e] = t,
                        b.filter(Boolean).join("\n")
                }
        );
        function S(e, t, n, i) {
            var r = n ? "" : i.css;
            if (e.styleSheet)
                e.styleSheet.cssText = E(t, r);
            else {
                var o = document.createTextNode(r)
                    , a = e.childNodes;
                a[t] && e.removeChild(a[t]),
                    a.length ? e.insertBefore(o, a[t]) : e.appendChild(o)
            }
        }
        function T(e, t) {
            var n = t.css
                , i = t.media;
            if (i && e.setAttribute("media", i),
                e.styleSheet)
                e.styleSheet.cssText = n;
            else {
                for (; e.firstChild; )
                    e.removeChild(e.firstChild);
                e.appendChild(document.createTextNode(n))
            }
        }
        function w(e, t, n) {
            var i = n.css
                , r = n.sourceMap
                , o = void 0 === t.convertToAbsoluteUrls && r;
            (t.convertToAbsoluteUrls || o) && (i = h(i)),
            r && (i += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(r)))) + " */");
            var a = new Blob([i],{
                type: "text/css"
            })
                , s = e.href;
            e.href = URL.createObjectURL(a),
            s && URL.revokeObjectURL(s)
        }
    }
    , function(e, t) {
        e.exports = function(e) {
            var t = "undefined" != typeof window && window.location;
            if (!t)
                throw new Error("fixUrls requires window.location");
            if (!e || "string" != typeof e)
                return e;
            var n = t.protocol + "//" + t.host
                , i = n + t.pathname.replace(/\/[^\/]*$/, "/");
            return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, (function(e, t) {
                    var r, o = t.trim().replace(/^"(.*)"$/, (function(e, t) {
                            return t
                        }
                    )).replace(/^'(.*)'$/, (function(e, t) {
                            return t
                        }
                    ));
                    return /^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o) ? e : (r = 0 === o.indexOf("//") ? o : 0 === o.indexOf("/") ? n + o : i + o.replace(/^\.\//, ""),
                    "url(" + JSON.stringify(r) + ")")
                }
            ))
        }
    }
    , function(e, t, n) {
        "use strict";
        function i(e) {
            var t = o([["iOS", /iP(hone|od|ad)/], ["Android OS", /Android/], ["BlackBerry OS", /BlackBerry|BB10/], ["Windows Mobile", /IEMobile/], ["Amazon OS", /Kindle/], ["Windows 3.11", /Win16/], ["Windows 95", /(Windows 95)|(Win95)|(Windows_95)/], ["Windows 98", /(Windows 98)|(Win98)/], ["Windows 2000", /(Windows NT 5.0)|(Windows 2000)/], ["Windows XP", /(Windows NT 5.1)|(Windows XP)/], ["Windows Server 2003", /(Windows NT 5.2)/], ["Windows Vista", /(Windows NT 6.0)/], ["Windows 7", /(Windows NT 6.1)/], ["Windows 8", /(Windows NT 6.2)/], ["Windows 8.1", /(Windows NT 6.3)/], ["Windows 10", /(Windows NT 10.0)/], ["Windows ME", /Windows ME/], ["Open BSD", /OpenBSD/], ["Sun OS", /SunOS/], ["Linux", /(Linux)|(X11)/], ["Mac OS", /(Mac_PowerPC)|(Macintosh)/], ["QNX", /QNX/], ["BeOS", /BeOS/], ["OS/2", /OS\/2/], ["Search Bot", /(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]]).filter((function(t) {
                    return t.rule && t.rule.test(e)
                }
            ))[0];
            return t ? t.name : null
        }
        function r(e) {
            if (!e)
                return null;
            var t = o([["edge", /Edge\/([0-9\._]+)/], ["edg", /Edg\/([0-9\._]+)/], ["yandexbrowser", /YaBrowser\/([0-9\._]+)/], ["vivaldi", /Vivaldi\/([0-9\.]+)/], ["kakaotalk", /KAKAOTALK\s([0-9\.]+)/], ["chrome", /(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)/], ["phantomjs", /PhantomJS\/([0-9\.]+)/], ["crios", /CriOS\/([0-9\.]+)/], ["firefox", /Firefox\/([0-9\.]+)/], ["fxios", /FxiOS\/([0-9\.]+)/], ["opera", /Opera\/([0-9\.]+)/], ["opera", /OPR\/([0-9\.]+)/], ["ie", /Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/], ["ie", /MSIE\s([0-9\.]+);.*Trident\/[4-7].0/], ["ie", /MSIE\s(7\.0)/], ["bb10", /BB10;\sTouch.*Version\/([0-9\.]+)/], ["android", /Android\s([0-9\.]+)/], ["ios", /Version\/([0-9\._]+).*Mobile.*Safari.*/], ["safari", /Version\/([0-9\._]+).*Safari/]]).map((function(t) {
                    var n = t.rule.exec(e)
                        , i = n && n[1].split(/[._]/).slice(0, 3);
                    return i && i.length < 3 && (i = i.concat(1 === i.length ? [0, 0] : [0])),
                    n && {
                        name: t.name,
                        version: i.join("."),
                        versionMajor: parseInt(i[0], 10)
                    }
                }
            )).filter(Boolean)[0] || null;
            return t && (t.os = i(e)),
                t
        }
        function o(e) {
            return e.map((function(e) {
                    return {
                        name: e[0],
                        rule: e[1]
                    }
                }
            ))
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            t.detect = function() {
                return "undefined" != typeof navigator && r(navigator.userAgent) || {}
            }
            ,
            t.detectOS = i,
            t.parseUserAgent = r
    }
    , function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        t.default = {
            UV: 0,
            ERROR_PLAYING: 101,
            ERROR_CONNECTING_WEBSOCKET: 102,
            ERROR_SENDING_DANMAKU: 103,
            ERROR_FIRST_PLAYING: 104,
            ERROR_PROTOCOL_DOWNGRADE: 105,
            EXPERIENCE_FIRST_LOADED: 201,
            EXPERIENCE_BUFFERING_SLOWLY: 202,
            STATISTICS_FIRST_FRAME_COST: 203,
            EXPERIENCE_FIRST_SCREEN_TIME: 204,
            EXPERIENCE_FIRST_INIT_TIME: 401,
            EXPERIENCE_FIRST_PLAYER: 402,
            EXPERIENCE_FIRST_PLAYURL: 403,
            EXPERIENCE_FIRST_LOAD: 404,
            EXPERIENCE_FIRST_AUDIO_FRAME_DECODED: 3104,
            EXPERIENCE_FIRST_VEDIO_FRAME_DECODED: 3105,
            STATISTICS_PLAYER_LOADED: 300,
            STATISTICS_PLAY: 301,
            STATISTICS_PAUSE: 302,
            STATISTICS_VOLUME: 303,
            STATISTICS_UNMUTE: 304,
            STATISTICS_MUTE: 305,
            STATISTICS_RELOAD: 306,
            STATISTICS_BLOCK: 307,
            STATISTICS_SETTING: 308,
            STATISTICS_SHOW_DANMAKU: 309,
            STATISTICS_HIDE_DANMAKU: 310,
            STATISTICS_FONT_SIZE: 311,
            STATISTICS_OPACITY: 312,
            STATISTICS_WEB_FULLSCREEN: 313,
            STATISTICS_EXIT_WEB_FULLSCREEN: 314,
            STATISTICS_FULLSCREEN: 315,
            STATISTICS_EXIT_FULLSCREEN: 316,
            STATISTICS_MAIN_LINE: 317,
            STATISTICS_BACKUP_LINE1: 318,
            STATISTICS_BACKUP_LINE2: 319,
            STATISTICS_BACKUP_LINE3: 320,
            STATISTICS_PLAYURL_FAILED: 321,
            STATISTICS_EXIT_WEB_FULLSCREEN_BY_ESC: 323,
            STATISTICS_EXIT_FULLSCREEN_BY_ESC: 324,
            STATISTICS_SYSTEM_ANNOUNCEMENT: 325,
            STATISTICS_LUCKY_MONEY: 326,
            STATISTICS_DANMAKU_DENSITY: 327,
            STATISTICS_ENDED_ATTENTION: 328,
            STATISTICS_ENDED_FEED: 329,
            STATISTICS_RECOMMEND_ROOM: 330,
            STATISTICS_SENT_GIFT: 331,
            STATISTICS_OPEN_GIFT_PACKAGE: 332,
            STATISTICS_SENDING_HOT_WORDS: 333,
            STATISTICS_SHOW_CONTEXT_MENU: 334,
            STATISTICS_DANMAKU_AREA: 335,
            STATISTICS_SCRIPT_LOADED_TIME: 340,
            STATISTICS_INITIALIZED_TO_LOAD_PLAYURL: 341,
            STATISTICS_PLAYURL_LOADED: 342,
            STATISTICS_FIST_PACKET_COST: 343,
            STATISTICS_VIDEO_BUFFERING: 344,
            STATISTICS_VIDEO_BUFFERING_TIME: 345,
            STATISTICS_PLAYING_TIME: 346,
            STATISTICS_PLAYING_ERROR_WITH_CODE: 347,
            STATISTICS_REUSE_PLAYURL_TIME: 348,
            STATISTICS_ROOM_INIT_API_LOAD_TIME: 349,
            STATISTICS_PAGE_INIT_TIME: 350,
            STATISTIC_HOST_SERVER_LOADED: 351,
            STATISTIC_DANMU_CONFIG_LOADED: 352,
            STATISTIC_ROOM_SILENT_LOADED: 353,
            STATISTIC_SHIELD_INFO_LOADED: 354,
            STATISTIC_PLAY_DELAY: 355,
            STATISTIC_CHASING_THRESHOLD: 356,
            STATISTIC_MSE_FOUND_GAP_AFTER_APPEND: 357,
            STATISTICS_DANMAKU_AREAHEIGHT: 358,
            STATISTICS_BILI_P2P: 359,
            STATISTICS_LOADEDMETADATA: 360,
            STATISTICS_CLICK_PLAYBACK_TIMELINE: 361,
            STATISTICS_BACK_LIVE: 362,
            STATISTICS_HEVC_SUPPORT: 363,
            STATISTICS_LIVE_PLAYER_INIT: 364,
            STATISTIC_PLAYER_RECEIVED_BYTES: 3101,
            STATISTIC_HTTP_RECEIVED_BYTES: 3102,
            STATISTIC_HTTP_CONNECTION_TIME: 3103,
            STATISTIC_CLICK_VIDEO_CLIP: 5001,
            STATISTIC_OPEN_CLIP_PAGE_FAIL_NO_VIDEO: 5002,
            STATISTIC_OPEN_CLIP_PAGE_FAIL_NO_DATA: 5003,
            STATISTIC_OPEN_CLIP_PAGE_SUCCESS: 5004,
            STATISTIC_GET_CLIP_DATA_FAIL_NO_VIDEO: 5005,
            STATISTIC_GET_CLIP_DATA_FAIL_NO_DATA: 5006,
            STATISTIC_GET_CLIP_DATA_SUCCESS: 5007,
            OPEN_MASK: 4001,
            CLOSE_MASK: 4002,
            SEI_TYPE_ERROR: 4003,
            MASK_VERSION_ERROR: 4004,
            GET_PATH_LINETO: 4005,
            GET_PATH_CURVETO: 4006,
            MASK_UNHANDLE_KEY: 4007,
            MASK_TYPE_ERROR: 4008,
            STATISTICS_BUFFERING_SLOW_NETWORK_SPEED: 6001,
            STATISTICS_BUFFERING_LACK_OF_PERFORMANCE: 6002,
            STATISTICS_BUFFERING_LACK_OF_OTHERS: 6003,
            STATISTICS_BUFFERING_BY_SEEKING: 6004,
            ERROR_BLW_PLAYER: 7001
        }
    }
    , function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        t.default = {
            PLAYER_INITIALIZED: "initialized",
            PLAYER_INITIALIZED_TIME_OUT: "initialized_time_out",
            RESOLVED_PLAYER_API_SUCCESSFULLY: "api_player_done",
            RESOLVED_PLAYER_API_FAILED: "api_player_error",
            FAILED_TO_GET_THE_PLAYER_API: "api_player_fail",
            RESOLVED_USER_INFO_API_SUCCESSFULLY: "apis_user_done",
            RESOLVED_USER_INFO_API_FAILED: "apis_user_error",
            FAILED_TO_GET_THE_USER_INFO_API: "apis_user_fail",
            RESOLVED_PLAY_URL_FAILED: "api_playurl_error",
            FAILED_TO_GET_THE_PLAYURL: "api_playurl_fail",
            RESOLVED_ROUND_PLAY_URL_SUCCESSFULLY: "api_round_playurl_done",
            RESOLVED_ROUND_PLAY_URL_FAILED: "api_round_playurl_error",
            FAILED_TO_GET_THE_ROUND_PLAYURL: "api_round_playurl_fail",
            RESOLVED_CURRENT_PLAY_URL_SUCCESSFULLY: "current_playurl_done",
            RESOLVED_CURRENT_PLAY_URL_FAILED: "current_playurl_error",
            ON_PLAYER_RELOADING: "reloading",
            PLAYER_RELOAD_SUCCESSFULLY: "reload_done",
            PLAYER_RELOAD_FAILED: "reload_fail",
            VIDEO_LOAD_START: "video_load_start",
            VIDEO_LOADED_META_DATA: "video_loaded_meta_data",
            FIRST_VIDEO_LOADED_META_DATA: "first_video_loaded_meta_data",
            VIDEO_TIME_UPDATE: "video_time_update",
            VIDEO_CAN_PLAY: "video_can_play",
            VIDEO_ENDED: "video_ended",
            SWITCH_LINE: "switch_line",
            SWITCH_QUALITY: "switch_quality",
            CONTROLLER_ACTIVATE_LINE: "controller_activate_line",
            ON_LIVE: "live",
            ON_PRE_ROUND: "pre_round",
            ON_ROUND: "round",
            ON_PREPARING: "preparing",
            ON_ERROR: "error",
            ON_ERROR_RETRYING: "error_retrying",
            ON_ERROR_RETRYING_FAILED: "error_retrying_failed",
            ON_ERROR_RETRY_FAILED: "error_retry_failed",
            ON_ERROR_RETRY_SUCCESSFULLY: "error_retry_done",
            ON_ERROR_RETRY_CANCELED: "error_retry_canceled",
            TRY_TO_FIX_THE_PICTURE_IS_NOT_SYNC: "try_to_fix_the_picture_is_not_sync",
            PLAYER_RESIZE: "player_resize",
            HOME_ENTER_THE_ROOM: "home_enter_the_room",
            CREATE_PLAYER_SUCCESS: "create_player_success",
            GET_MASK_DATA: "get_mask_data",
            DANMAKU_STATUS_CHANGE: "danmaku_status_change"
        }
    }
    , function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        t.default = {
            PLAY: "播放",
            PAUSE: "暂停",
            RELOAD: "重新载入",
            FEEDBACK: "问题反馈",
            LINE_MAIN: "主线",
            LINE_BACKUP: "备线",
            LINE_CONTEXT_MENU_INFO: "观看卡顿？切换备线试试",
            BLOCK_SETTING: "屏蔽设置",
            CONTROLLER_OPACITY: "透明度",
            CONTROLLER_SCALE: "字号缩放",
            CONTROLLER_DENSITY: "同屏密度",
            DURATION_LIVE: "直播持续时间",
            DURATION_ROUND: "视频时间",
            WEB_FULLSCREEN: "网页全屏",
            WEB_FULLSCREEN_EXIT: "退出网页全屏",
            FULLSCREEN: "全屏模式",
            FULLSCREEN_EXIT: "退出全屏",
            QUALITY_DEFAULT: "默认",
            QUALITY_SD: "低清",
            QUALITY_HD: "清晰",
            QUALITY_FHD: "高清",
            QUALITY_SOURCE: "原画",
            DANMAKU_SHOW: "显示弹幕",
            DANMAKU_HIDE: "隐藏弹幕",
            DANMAKU_REPORT: "举报选中弹幕",
            DANMAKU_BLOCK: "屏蔽此用户的弹幕",
            DANMAKU_ADD_TO_BLOCK_LIST: "添加进黑名单",
            DANMAKU_COPY: "复制弹幕",
            DANMAKU_LINK_SPACE: "去TA的个人空间",
            DANMAKU_AUTO_DENSITY: "自动调节密度",
            DANMAKU_ZZMASK: "zz 弹幕蒙版",
            VIDEO_INFO: "视频统计信息",
            PLAYER_INFO: "播放器日志信息",
            PLAYER_INFO_SHOW: "显示日志",
            PLAYER_INFO_COPY: "复制日志",
            PLAYER_INFO_DOWNLOAD: "下载日志",
            LAB: "实验室",
            VIDEO_CLIP: "视频剪辑（beta）",
            HTML5_PLAYER: "HTML5播放器",
            FLASH_PLAYER: "Flash播放器",
            FEEDBACK_PLAYER: "意见反馈",
            ENTER_THE_ROOM: "进入直播间",
            AUTO_PLAY_MUTED: "您正在使用静音播放",
            AUTO_PLAY_MUTED_PAUSE: "您观看的直播已暂停"
        }
    }
    , function(e, t, n) {
        "use strict";
        var i = this && this.__importDefault || function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = i(n(2))
            , o = function() {
            function e(e) {
                this.container = e,
                    this.templateBackup = {},
                    this.initialize()
            }
            return e.prototype.getTemplate = function() {
                return this.template
            }
                ,
                e.prototype.initialize = function() {
                    try {
                        var e = "bilibili-live-player"
                            , t = this.container;
                        if (t.find("." + e).length)
                            r.default.log("DOM pre-rendered detected.");
                        else {
                            var i = n(9);
                            t.html(i({
                                prefix: e
                            }))
                        }
                        this.template = {
                            wrap: t.find("." + e),
                            video_wrap: t.find("." + e + "-video-area"),
                            state_wrap: t.find("." + e + "-state-area"),
                            gift_wrap: t.find("." + e + "-video-gift"),
                            danmaku_wrap: t.find("." + e + "-video-danmaku"),
                            video: t.find("." + e + "-video"),
                            controller_wrap: t.find("." + e + "-video-controller"),
                            send_wrap: t.find("." + e + "-video-send"),
                            loading_wrap: t.find("." + e + "-loading-panel"),
                            ending_wrap: t.find("." + e + "-ending-panel"),
                            enter_wrap: t.find("." + e + "-enter-tips"),
                            operable_wrap: t.find("." + e + "-video-operable-container")
                        },
                            this.templateBackup = {
                                controller_wrap: this.template.controller_wrap.clone()
                            },
                            r.default.log("Template initialized.")
                    } catch (e) {
                        r.default.log("Template initialize error." + e, 2)
                    }
                }
                ,
                e.prototype.resetTemplate = function(e) {
                    this.template[e] && this.templateBackup[e] && this.template[e].empty().append(this.templateBackup[e].clone().children())
                }
                ,
                e
        }();
        t.default = o
    }
    , function(e, t) {}
    , function(e, t, n) {
        var i = n(4);
        e.exports = function(e) {
            var t = ""
                , n = e || {};
            return function(e) {
                var n = "".concat(e, "-video-controller");
                t = t + "<div" + i.attr("class", i.classes(["".concat(n, "-replay-outer-container")], [!0]), !1, !0) + "><div" + i.attr("class", i.classes(["".concat(n, "-real-time-replay-container")], [!0]), !1, !0) + "><div" + i.attr("class", i.classes(["".concat(n, "-replay-progress")], [!0]), !1, !0) + "><div" + i.attr("class", i.classes(["".concat(n, "-replay-bar-current-point")], [!0]), !1, !0) + "></div><div" + i.attr("class", i.classes(["".concat(n, "-replay-bar")], [!0]), !1, !0) + "></div></div><div" + i.attr("class", i.classes(["".concat(n, "-replay-highlights")], [!0]), !1, !0) + "></div></div></div>"
            }
                .call(this, "prefix"in n ? n.prefix : "undefined" != typeof prefix ? prefix : void 0),
                t
        }
    }
    , function(e, t, n) {
        "use strict";
        var i = this && this.__assign || function() {
                return (i = Object.assign || function(e) {
                        for (var t, n = 1, i = arguments.length; n < i; n++)
                            for (var r in t = arguments[n])
                                Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                        return e
                    }
                ).apply(this, arguments)
            }
            , r = this && this.__importDefault || function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            , o = this && this.__importStar || function(e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        Object.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                return t.default = e,
                    t
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var a = r(n(44))
            , s = o(n(0))
            , l = r(n(2))
            , c = r(n(1))
            , u = r(n(45));
        function d(e) {
            var t = Math.floor(e / 3600);
            return (t ? t + ":" : "") + c.default.convertNumber(Math.floor((e - 3600 * t) / 60)) + ":" + c.default.convertNumber(Math.floor(e % 60))
        }
        var h = "bilibili-live-player-video-controller"
            , f = function() {
            function e(e, t, n) {
                var i = this;
                this._player = e,
                    this.playerNode = n,
                    this.qualityList = [],
                    this.refreshTimeTimer = null,
                    this.isHomePage = !1,
                    this.isActivePage = !1,
                    this.isRoomPage = !1,
                    this.customElementCleaner = [],
                    this.ctrlItemVisibilityConfig = null,
                    this.contextMenuLineId = null,
                    this.updateTime = c.default.throttle((function(e) {
                            clearTimeout(i.refreshTimeTimer),
                                i.ui.time = {
                                    value: d(e),
                                    tips: "视频时间"
                                }
                        }
                    ), 1e3),
                    this.onChange = function(e, t) {
                        var n = i._player;
                        switch (e) {
                            case "quality":
                                return n.event.emit(s.EVENT.SWITCH_QUALITY, {
                                    value: t,
                                    text: i.qualityList.find((function(e) {
                                            return e.value === t
                                        }
                                    )).label
                                }),
                                    !1;
                            case "line":
                                n.event.emit(s.EVENT.SWITCH_LINE, t);
                                var r = null;
                                0 !== t && (r = s.TRACK["STATISTICS_BACKUP_LINE" + t]),
                                r || (r = s.TRACK.STATISTICS_MAIN_LINE),
                                    n.track(r);
                                break;
                            case "playStatus":
                                var o = n.getVideoStatus();
                                o === s.default.V_PLAY ? n.pause().track(s.TRACK.STATISTICS_PAUSE) : o === s.default.V_PAUSE && (n.play().track(s.TRACK.STATISTICS_PLAY),
                                i.isHomePage && n.load());
                                break;
                            case "volume":
                                var a = t
                                    , l = (a.disabled ? 0 : a.value) / 100;
                                if (n.setVolume(l),
                                0 !== l && n.getVideoMutedState() && n.changeVideoMutedState(),
                                    !n.getVideoMutedState()) {
                                    var u = i.isHomePage ? s.STATE_STRING.LOCAL_STORAGE_VOLUME_HOME : s.STATE_STRING.LOCAL_STORAGE_VOLUME;
                                    c.default.setLocalStorage(u, l.toString())
                                }
                                break;
                            case "webFullScreenStatus":
                                t ? (n.setPlayerStatus(s.default.P_WEB_FULLSCREEN, s.SCREEN_CHANGE.CLICK).track(s.TRACK.STATISTICS_WEB_FULLSCREEN),
                                    i.listenESCKeydown()) : (n.hidePlayerController("user"),
                                    n.setPlayerStatus(s.default.P_NORMAL, s.SCREEN_CHANGE.CLICK).track(s.TRACK.STATISTICS_EXIT_WEB_FULLSCREEN));
                                break;
                            case "fullScreenStatus":
                                t ? (n.setPlayerStatus(s.default.P_FULLSCREEN, s.SCREEN_CHANGE.CLICK).track(s.TRACK.STATISTICS_FULLSCREEN),
                                    i.listenESCKeydown()) : n.setPlayerStatus(s.default.P_NORMAL, s.SCREEN_CHANGE.CLICK).track(s.TRACK.STATISTICS_EXIT_WEB_FULLSCREEN);
                                break;
                            case "playerType":
                                n.setPlayerStatus(s.default.P_NORMAL),
                                    setTimeout((function() {
                                            c.default.fireEventCallback(i._player.callbackMap.fullscreenChange, !1),
                                                c.default.callFunctionAsynchronously(window.EmbedPlayer && window.EmbedPlayer.loader, t)
                                        }
                                    ), 300);
                                break;
                            case "danmaku":
                                i.onDanmakuChange(t)
                        }
                    }
                    ,
                    this.onRefresh = c.default.debounce((function() {
                            var e = i._player;
                            e.components.playbackComp.backLive(),
                                e.event.emit(s.EVENT.ON_PLAYER_RELOADING, !0),
                                c.default.fireEventCallback(e.callbackMap.reload),
                                c.default.fireEventCallback(e.callbackMap.switchLine, e.state.playURLIndex),
                                e.track(s.TRACK.STATISTICS_RELOAD)
                        }
                    ), 1e3, !0),
                    this.isHomePage = e.config.useType === s.default.PLAYER_HOME,
                    this.isActivePage = e.config.useType === s.default.PLAYER_ACTIVITY,
                    this.isRoomPage = e.config.useType === s.default.PLAYER_ROOM,
                    this.ctrlItemVisibilityConfig = this.visibilityConfigMapping(e.config.controllable.controller),
                    this.ui = new a.default({
                        target: t,
                        props: {
                            show: this.isHomePage,
                            quality: {
                                list: [],
                                value: null
                            },
                            line: {
                                list: [],
                                value: null
                            },
                            onRefresh: this.onRefresh,
                            onChange: this.onChange
                        }
                    }),
                    this.init()
            }
            return e.prototype.init = function() {
                var e = this
                    , t = this.ui
                    , n = this._player;
                this.isHomePage ? (t.ctrlItemVisibility = i({}, this.ui.ctrlItemVisibility, {
                    time: !1,
                    refresh: !1,
                    quality: !1,
                    danmaku: !1,
                    fullScreen: !1,
                    webFullScreen: !1,
                    leftSetting: !0,
                    rightSetting: !1
                }),
                    t.style = "transform: translateY(-3px); background-image: none;") : t.ctrlItemVisibility = i({}, this.ctrlItemVisibilityConfig),
                this.ctrlItemVisibilityConfig.enterTheRoom && this.customElementCleaner.push(this.insertEnterRoomItem()),
                this.isRoomPage && this.customElementCleaner.push(this.createFeedbackIcon());
                var r = n.getLocalStorageVolume();
                n.addInitCallback((function() {
                        n.setVolume(r),
                            e.setVolume(r)
                    }
                )),
                    n.event.on(s.EVENT.CONTROLLER_ACTIVATE_LINE, (function(t) {
                            var i = n.plugins.contextMenu;
                            i && e.contextMenuLineId && i.active(e.contextMenuLineId, t),
                                e.ui.line.value = t
                        }
                    ))
            }
                ,
                e.prototype.setVisibility = function(e) {
                    this.isHomePage || (this.ui.show = e)
                }
                ,
                e.prototype.setQuality = function(e, t) {
                    this.qualityList = t.map((function(e) {
                            return {
                                value: e.qn,
                                label: e.desc
                            }
                        }
                    )).sort((function(e, t) {
                            return parseInt(t.value, 10) - parseInt(e.value, 10)
                        }
                    )),
                        this.ui.quality = {
                            value: e,
                            list: this.qualityList
                        }
                }
                ,
                e.prototype.setLine = function(e, t) {
                    for (var n = [], i = 1; i < t; i += 1)
                        n.push({
                            value: i,
                            label: "备线" + i
                        });
                    this.ui.line = {
                        value: e,
                        list: [{
                            value: 0,
                            label: "主线"
                        }].concat(n)
                    }
                }
                ,
                e.prototype.autoRefreshTime = function() {
                    var e = this
                        , t = Number(this._player.config.startTime) || 0;
                    this.ui.time = {
                        value: d(Math.floor(Date.now() / 1e3 - t)),
                        tips: "直播持续时间"
                    },
                        clearTimeout(this.refreshTimeTimer),
                        this.refreshTimeTimer = window.setTimeout((function() {
                                e.autoRefreshTime()
                            }
                        ), 1e3)
                }
                ,
                e.prototype.setPlayStatus = function(e) {
                    this.ui.playStatus = e
                }
                ,
                e.prototype.setVolume = function(e) {
                    this.ui.volume = {
                        value: 100 * (e || 0),
                        disabled: !e
                    }
                }
                ,
                e.prototype.syncFullscreenStatus = function(e) {
                    switch (e) {
                        case s.default.P_NORMAL:
                            this.ui.webFullScreenStatus = !1,
                                this.ui.fullScreenStatus = !1;
                            break;
                        case s.default.P_WEB_FULLSCREEN:
                            this.ui.webFullScreenStatus = !0,
                                this.ui.fullScreenStatus = !1;
                            break;
                        case s.default.P_FULLSCREEN:
                            this.ui.webFullScreenStatus = !1,
                                this.ui.fullScreenStatus = !0
                    }
                }
                ,
                e.prototype.mute = function(e) {
                    void 0 === e && (e = !0),
                        this.ui.volume = i({}, this.ui.volume, {
                            disabled: e
                        })
                }
                ,
                e.prototype.setDanmaku = function(e, t) {
                    if (l.default.log("Danmaku set " + e + " - " + t),
                    null != t) {
                        var n = this._player
                            , i = n.components.danmaku
                            , r = this.ui;
                        switch (e) {
                            case "opacity":
                                r.danmaku.opacity = Math.min(Math.max(t, 10), 100),
                                    i.opacity(r.danmaku.opacity / 100);
                                break;
                            case "scale":
                                r.danmaku.fontScale = Math.min(Math.max(t, 10), 200),
                                    i.fontSize(r.danmaku.fontScale / 100);
                                break;
                            case "densityRate":
                                r.danmaku.density = Math.min(Math.max(t, 10), 100),
                                    i.density(r.danmaku.density),
                                    this._player.state.danmakuDensity = r.danmaku.density;
                                break;
                            case "areaHeight":
                                r.danmaku.area = t / 25,
                                    i.setAreaHeight(t),
                                    i.density(n.state.danmakuDensity);
                                break;
                            case "showMaskOption":
                                r.danmaku.showMaskOption = t;
                                break;
                            case "display":
                                r.danmaku.display = !!t
                        }
                    }
                }
                ,
                e.prototype.getDanmaku = function() {
                    return this.ui.danmaku
                }
                ,
                e.prototype.enterPlaybackUI = function() {
                    var e = this;
                    if (!this.removeBackLiveBtn) {
                        this.ui.ctrlItemVisibility = i({}, this.ui.ctrlItemVisibility, {
                            quality: !1,
                            rightSetting: !1,
                            danmaku: !1
                        });
                        var t = document.createElement("div");
                        t.classList.add(h + "-back-live-btn");
                        var n = document.createElement("div");
                        n.classList.add(h + "-back-live-dot"),
                            t.appendChild(n),
                            t.append("返回直播"),
                            t.onclick = function() {
                                e._player.track(s.TRACK.STATISTICS_BACK_LIVE),
                                    e._player.components.playbackComp.backLive()
                            }
                            ,
                            this.removeBackLiveBtn = this.ui.appendCtrlItem(t)
                    }
                }
                ,
                e.prototype.exitPlaybackUI = function() {
                    this.ui.ctrlItemVisibility = this.ctrlItemVisibilityConfig,
                    this.removeBackLiveBtn && (this.removeBackLiveBtn(),
                        this.removeBackLiveBtn = null)
                }
                ,
                e.prototype.initContextMenuUrl = function() {
                    var e = this._player
                        , t = e.state.playURLList
                        , n = e.plugins.contextMenu;
                    if (l.default.log("Init Context Menu URL."),
                        this.destroyContextMenuLine(),
                    t && t.length > 1) {
                        var i = [{
                            type: "submenu",
                            text: s.CONFIG_STRING.LINE_CONTEXT_MENU_INFO,
                            submenu: []
                        }];
                        t.forEach((function(t, n) {
                                i[0].submenu.push({
                                    type: "function",
                                    className: "bilibili-live-player-change-line-item",
                                    icon: "blp-icon-check",
                                    text: 0 === n ? s.CONFIG_STRING.LINE_MAIN : "" + s.CONFIG_STRING.LINE_BACKUP + n,
                                    click: function() {
                                        e.event.emit(s.EVENT.SWITCH_LINE, n)
                                    }
                                })
                            }
                        )),
                            this.contextMenuLineId = n && n.unshift(i).id,
                        n && n.active(this.contextMenuLineId, 0)
                    }
                }
                ,
                e.prototype.end = function() {
                    clearTimeout(this.refreshTimeTimer)
                }
                ,
                e.prototype.destroy = function() {
                    clearTimeout(this.refreshTimeTimer),
                    this.removeBackLiveBtn && this.removeBackLiveBtn(),
                        this.customElementCleaner.forEach((function(e) {
                                return e()
                            }
                        )),
                        this.destroyContextMenuLine(),
                        this.ui.$destroy()
                }
                ,
                e.prototype.onDanmakuChange = function(e) {
                    var t = this._player
                        , n = t.components.danmaku;
                    function i(e, n) {
                        c.default.fireEventCallback(t.callbackMap.set, {
                            component: "danmaku",
                            action: e,
                            data: n
                        })
                    }
                    Object.keys(e).forEach((function(r) {
                            var o = e[r];
                            switch (r) {
                                case "opacity":
                                    n.opacity(o / 100),
                                        i("opacity", o),
                                        t.track(s.TRACK.STATISTICS_OPACITY);
                                    break;
                                case "fontScale":
                                    n.fontSize(o / 100),
                                        i("scale", o),
                                        t.track(s.TRACK.STATISTICS_FONT_SIZE);
                                    break;
                                case "density":
                                    n.density(o),
                                        i("densityRate", o),
                                        t.track(s.TRACK.STATISTICS_DANMAKU_DENSITY);
                                    break;
                                case "area":
                                    n.setAreaHeight(25 * o),
                                        n.density(t.state.danmakuDensity),
                                        i("areaHeight", 25 * o),
                                        t.track(s.TRACK.STATISTICS_DANMAKU_AREA);
                                    break;
                                case "enableMask":
                                    t.components.mask.handleChange(o);
                                    break;
                                case "display":
                                    t.toggleDanmakuVisibility(o),
                                        t.track(o ? s.TRACK.STATISTICS_SHOW_DANMAKU : s.TRACK.STATISTICS_HIDE_DANMAKU),
                                        i("display", o)
                            }
                        }
                    ))
                }
                ,
                e.prototype.listenESCKeydown = function() {
                    var e = this
                        , t = function(n) {
                        if ("Escape" === n.key) {
                            var i = e._player.getPlayerStatus();
                            e._player.setPlayerStatus(s.default.P_NORMAL, s.SCREEN_CHANGE.ESC).track(s.default.P_FULLSCREEN === i ? s.TRACK.STATISTICS_EXIT_FULLSCREEN_BY_ESC : s.TRACK.STATISTICS_EXIT_WEB_FULLSCREEN_BY_ESC),
                                document.removeEventListener("keydown", t)
                        }
                    };
                    document.removeEventListener("keydown", t),
                        document.addEventListener("keydown", t)
                }
                ,
                e.prototype.visibilityConfigMapping = function(e) {
                    return {
                        playStatus: !1 !== e.play,
                        volume: !1 !== e.volume,
                        time: !1 !== e.duration,
                        quality: !1 !== e.switchQuality,
                        refresh: !1 !== e.reload,
                        leftSetting: !1,
                        rightSetting: !1 !== e.setting,
                        danmaku: !1 !== e.danmaku,
                        fullScreen: !1 !== e.fullscreen,
                        webFullScreen: !1 !== e.fullscreen,
                        enterTheRoom: !1 !== e.enterTheRoom
                    }
                }
                ,
                e.prototype.insertEnterRoomItem = function() {
                    var e = this;
                    if (this.isHomePage) {
                        var t = document.createElement("div");
                        return t.textContent = "进入直播间",
                            t.style.padding = "0 8px",
                            t.style.backgroundColor = "#23ADE5",
                            t.style.borderRadius = "4px",
                            t.style.lineHeight = "24px",
                            t.style.fontSize = "13px",
                            t.style.cursor = "pointer",
                            t.onmouseenter = function() {
                                t.style.backgroundColor = "#4fc1e9"
                            }
                            ,
                            t.onmouseleave = function() {
                                t.style.backgroundColor = "#23ADE5"
                            }
                            ,
                            t.onclick = function() {
                                e._player.event.emit(s.EVENT.HOME_ENTER_THE_ROOM, {
                                    cid: e._player.config.cid,
                                    type: s.default.ENTER_TIPS_TYPE_CONTROLLER
                                })
                            }
                            ,
                            this.ui.appendCtrlItem(t)
                    }
                    if (this.isActivePage) {
                        var n = document.createElement("div");
                        return n.textContent = "进入直播间",
                            n.style.cursor = "pointer",
                            n.onmouseenter = function() {
                                n.style.color = "#23ade5"
                            }
                            ,
                            n.onmouseleave = function() {
                                n.style.color = ""
                            }
                            ,
                            n.onclick = function() {
                                var t = "//live.bilibili.com/" + e._player.config.rid;
                                window.open(t),
                                    e._player.stop()
                            }
                            ,
                            this.ui.appendCtrlItem(n)
                    }
                    return function() {}
                }
                ,
                e.prototype.createFeedbackIcon = function() {
                    var e, t = this, n = document.createElement("img");
                    n.classList.add("feedback-icon"),
                        n.style.position = "absolute",
                        n.style.top = "0px",
                        n.style.right = "12px",
                        n.style.zIndex = "20",
                        n.style.width = "36px",
                        n.style.height = "36px",
                        n.style.cursor = "pointer",
                        n.style.transition = "opacity 0.5s",
                        n.style.opacity = "0",
                        n.src = u.default,
                        n.onclick = function() {
                            t._player.setPlayerStatus(s.default.P_NORMAL),
                                c.default.fireEventCallback(t._player.callbackMap.feedBackClick)
                        }
                        ,
                        n.onmouseenter = function() {
                            n.style.opacity = "1"
                        }
                        ,
                        n.onmouseleave = function() {
                            n.style.opacity = "0.8"
                        }
                        ,
                        n.onmousemove = function(t) {
                            clearTimeout(e),
                                t.stopPropagation(),
                                t.preventDefault()
                        }
                    ;
                    var i = function() {
                        clearTimeout(e),
                            n.style.opacity = "0.8",
                            e = window.setTimeout((function() {
                                    n.style.opacity = "0"
                                }
                            ), 1e3)
                    }
                        , r = this.playerNode
                        , o = r.playerWrap
                        , a = r.videoWrap;
                    return o.addEventListener("mousemove", i),
                        a.appendChild(n),
                        function() {
                            clearTimeout(e),
                                a.removeChild(n),
                                o.removeEventListener("mousemove", i)
                        }
                }
                ,
                e.prototype.destroyContextMenuLine = function() {
                    return this.contextMenuLineId && (this._player.plugins.contextMenu && this._player.plugins.contextMenu.delete(this.contextMenuLineId),
                        this.contextMenuLineId = ""),
                        this
                }
                ,
                e
        }();
        t.default = f
    }
    , function(e, t, n) {
        "use strict";
        n.r(t),
            function(e) {
                function n(e) {
                    return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                                return typeof e
                            }
                            : function(e) {
                                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                            }
                    )(e)
                }
                function i(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }
                function r(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var i = t[n];
                        i.enumerable = i.enumerable || !1,
                            i.configurable = !0,
                        "value"in i && (i.writable = !0),
                            Object.defineProperty(e, i.key, i)
                    }
                }
                function o(e, t, n) {
                    return t && r(e.prototype, t),
                    n && r(e, n),
                        e
                }
                function a(e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && function(e, t) {
                        (Object.setPrototypeOf || function(e, t) {
                                return e.__proto__ = t,
                                    e
                            }
                        )(e, t)
                    }(e, t)
                }
                function s(e) {
                    return (s = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
                            return e.__proto__ || Object.getPrototypeOf(e)
                        }
                    )(e)
                }
                function l(e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }
                function c(e, t) {
                    return !t || "object" != typeof t && "function" != typeof t ? l(e) : t
                }
                function u(e) {
                    var t = function() {
                        if ("undefined" == typeof Reflect || !Reflect.construct)
                            return !1;
                        if (Reflect.construct.sham)
                            return !1;
                        if ("function" == typeof Proxy)
                            return !0;
                        try {
                            return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
                            ))),
                                !0
                        } catch (e) {
                            return !1
                        }
                    }();
                    return function() {
                        var n, i = s(e);
                        if (t) {
                            var r = s(this).constructor;
                            n = Reflect.construct(i, arguments, r)
                        } else
                            n = i.apply(this, arguments);
                        return c(this, n)
                    }
                }
                function d(e, t) {
                    return function(e) {
                        if (Array.isArray(e))
                            return e
                    }(e) || function(e, t) {
                        if ("undefined" != typeof Symbol && Symbol.iterator in Object(e)) {
                            var n = []
                                , i = !0
                                , r = !1
                                , o = void 0;
                            try {
                                for (var a, s = e[Symbol.iterator](); !(i = (a = s.next()).done) && (n.push(a.value),
                                !t || n.length !== t); i = !0)
                                    ;
                            } catch (e) {
                                r = !0,
                                    o = e
                            } finally {
                                try {
                                    i || null == s.return || s.return()
                                } finally {
                                    if (r)
                                        throw o
                                }
                            }
                            return n
                        }
                    }(e, t) || h(e, t) || function() {
                        throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                    }()
                }
                function h(e, t) {
                    if (e) {
                        if ("string" == typeof e)
                            return f(e, t);
                        var n = Object.prototype.toString.call(e).slice(8, -1);
                        return "Object" === n && e.constructor && (n = e.constructor.name),
                            "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? f(e, t) : void 0
                    }
                }
                function f(e, t) {
                    (null == t || t > e.length) && (t = e.length);
                    for (var n = 0, i = new Array(t); n < t; n++)
                        i[n] = e[n];
                    return i
                }
                function p() {}
                var v = function(e) {
                    return e
                };
                function y(e) {
                    return e()
                }
                function g() {
                    return Object.create(null)
                }
                function m(e) {
                    e.forEach(y)
                }
                function _(e) {
                    return "function" == typeof e
                }
                function b(e, t) {
                    return e != e ? t == t : e !== t || e && "object" === n(e) || "function" == typeof e
                }
                function E(e, t, n, i) {
                    return e[1] && i ? function(e, t) {
                        for (var n in t)
                            e[n] = t[n];
                        return e
                    }(n.ctx.slice(), e[1](i(t))) : n.ctx
                }
                function S(e, t, i, r, o, a, s) {
                    var l = function(e, t, i, r) {
                        if (e[2] && r) {
                            var o = e[2](r(i));
                            if (void 0 === t.dirty)
                                return o;
                            if ("object" === n(o)) {
                                for (var a = [], s = Math.max(t.dirty.length, o.length), l = 0; l < s; l += 1)
                                    a[l] = t.dirty[l] | o[l];
                                return a
                            }
                            return t.dirty | o
                        }
                        return t.dirty
                    }(t, r, o, a);
                    if (l) {
                        var c = E(t, i, r, s);
                        e.p(c, l)
                    }
                }
                var T = "undefined" != typeof window
                    , w = T ? function() {
                        return window.performance.now()
                    }
                    : function() {
                        return Date.now()
                    }
                    , C = T ? function(e) {
                        return requestAnimationFrame(e)
                    }
                    : p
                    , A = new Set;
                function k(e) {
                    A.forEach((function(t) {
                            t.c(e) || (A.delete(t),
                                t.f())
                        }
                    )),
                    0 !== A.size && C(k)
                }
                function x(e, t) {
                    e.appendChild(t)
                }
                function L(e, t, n) {
                    e.insertBefore(t, n || null)
                }
                function R(e) {
                    e.parentNode.removeChild(e)
                }
                function I(e, t) {
                    for (var n = 0; n < e.length; n += 1)
                        e[n] && e[n].d(t)
                }
                function P(e) {
                    return document.createElement(e)
                }
                function M(e) {
                    return document.createTextNode(e)
                }
                function D() {
                    return M(" ")
                }
                function O() {
                    return M("")
                }
                function N(e, t, n, i) {
                    return e.addEventListener(t, n, i),
                        function() {
                            return e.removeEventListener(t, n, i)
                        }
                }
                function U(e) {
                    return function(t) {
                        return t.preventDefault(),
                            e.call(this, t)
                    }
                }
                function B(e) {
                    return function(t) {
                        return t.stopPropagation(),
                            e.call(this, t)
                    }
                }
                function F(e, t, n) {
                    null == n ? e.removeAttribute(t) : e.getAttribute(t) !== n && e.setAttribute(t, n)
                }
                function z(e) {
                    return Array.from(e.childNodes)
                }
                function j(e, t) {
                    t = "" + t,
                    e.wholeText !== t && (e.data = t)
                }
                function V(e, t, n, i) {
                    e.style.setProperty(t, n, i ? "important" : "")
                }
                function G(e, t, n) {
                    e.classList[n ? "add" : "remove"](t)
                }
                var Y, H = new Set, W = 0;
                function K(e) {
                    for (var t = 5381, n = e.length; n--; )
                        t = (t << 5) - t ^ e.charCodeAt(n);
                    return t >>> 0
                }
                function Q(e, t, n, i, r, o, a) {
                    for (var s = arguments.length > 7 && void 0 !== arguments[7] ? arguments[7] : 0, l = 16.666 / i, c = "{\n", u = 0; u <= 1; u += l) {
                        var d = t + (n - t) * o(u);
                        c += 100 * u + "%{".concat(a(d, 1 - d), "}\n")
                    }
                    var h = c + "100% {".concat(a(n, 1 - n), "}\n}")
                        , f = "__svelte_".concat(K(h), "_").concat(s)
                        , p = e.ownerDocument;
                    H.add(p);
                    var v = p.__svelte_stylesheet || (p.__svelte_stylesheet = p.head.appendChild(P("style")).sheet)
                        , y = p.__svelte_rules || (p.__svelte_rules = {});
                    y[f] || (y[f] = !0,
                        v.insertRule("@keyframes ".concat(f, " ").concat(h), v.cssRules.length));
                    var g = e.style.animation || "";
                    return e.style.animation = "".concat(g ? "".concat(g, ", ") : "").concat(f, " ").concat(i, "ms linear ").concat(r, "ms 1 both"),
                        W += 1,
                        f
                }
                function Z(e) {
                    Y = e
                }
                var q = []
                    , J = []
                    , X = []
                    , $ = []
                    , ee = Promise.resolve()
                    , te = !1;
                function ne(e) {
                    X.push(e)
                }
                var ie, re = !1, oe = new Set;
                function ae() {
                    if (!re) {
                        re = !0;
                        do {
                            for (var e = 0; e < q.length; e += 1) {
                                var t = q[e];
                                Z(t),
                                    se(t.$$)
                            }
                            for (Z(null),
                                     q.length = 0; J.length; )
                                J.pop()();
                            for (var n = 0; n < X.length; n += 1) {
                                var i = X[n];
                                oe.has(i) || (oe.add(i),
                                    i())
                            }
                            X.length = 0
                        } while (q.length);for (; $.length; )
                            $.pop()();
                        te = !1,
                            re = !1,
                            oe.clear()
                    }
                }
                function se(e) {
                    if (null !== e.fragment) {
                        e.update(),
                            m(e.before_update);
                        var t = e.dirty;
                        e.dirty = [-1],
                        e.fragment && e.fragment.p(e.ctx, t),
                            e.after_update.forEach(ne)
                    }
                }
                function le(e, t, n) {
                    var i, r;
                    e.dispatchEvent((i = "".concat(t ? "intro" : "outro").concat(n),
                        (r = document.createEvent("CustomEvent")).initCustomEvent(i, !1, !1, void 0),
                        r))
                }
                var ce, ue = new Set;
                function de() {
                    ce = {
                        r: 0,
                        c: [],
                        p: ce
                    }
                }
                function he() {
                    ce.r || m(ce.c),
                        ce = ce.p
                }
                function fe(e, t) {
                    e && e.i && (ue.delete(e),
                        e.i(t))
                }
                function pe(e, t, n, i) {
                    if (e && e.o) {
                        if (ue.has(e))
                            return;
                        ue.add(e),
                            ce.c.push((function() {
                                    ue.delete(e),
                                    i && (n && e.d(1),
                                        i())
                                }
                            )),
                            e.o(t)
                    }
                }
                var ve = {
                    duration: 0
                };
                function ye(e, t, n, i) {
                    var r = t(e, n)
                        , o = i ? 0 : 1
                        , a = null
                        , s = null
                        , l = null;
                    function c() {
                        l && function(e, t) {
                            var n = (e.style.animation || "").split(", ")
                                , i = n.filter(t ? function(e) {
                                    return e.indexOf(t) < 0
                                }
                                : function(e) {
                                    return -1 === e.indexOf("__svelte")
                                }
                            )
                                , r = n.length - i.length;
                            r && (e.style.animation = i.join(", "),
                            (W -= r) || C((function() {
                                    W || (H.forEach((function(e) {
                                            for (var t = e.__svelte_stylesheet, n = t.cssRules.length; n--; )
                                                t.deleteRule(n);
                                            e.__svelte_rules = {}
                                        }
                                    )),
                                        H.clear())
                                }
                            )))
                        }(e, l)
                    }
                    function u(e, t) {
                        var n = e.b - o;
                        return t *= Math.abs(n),
                            {
                                a: o,
                                b: e.b,
                                d: n,
                                duration: t,
                                start: e.start,
                                end: e.start + t,
                                group: e.group
                            }
                    }
                    function d(t) {
                        var n, i = r || ve, d = i.delay, h = void 0 === d ? 0 : d, f = i.duration, y = void 0 === f ? 300 : f, g = i.easing, _ = void 0 === g ? v : g, b = i.tick, E = void 0 === b ? p : b, S = i.css, T = {
                            start: w() + h,
                            b: t
                        };
                        t || (T.group = ce,
                            ce.r += 1),
                            a || s ? s = T : (S && (c(),
                                l = Q(e, o, t, y, h, _, S)),
                            t && E(0, 1),
                                a = u(T, y),
                                ne((function() {
                                        return le(e, t, "start")
                                    }
                                )),
                                n = function(t) {
                                    if (s && t > s.start && (a = u(s, y),
                                        s = null,
                                        le(e, a.b, "start"),
                                    S && (c(),
                                        l = Q(e, o, a.b, a.duration, 0, _, r.css))),
                                        a)
                                        if (t >= a.end)
                                            E(o = a.b, 1 - o),
                                                le(e, a.b, "end"),
                                            s || (a.b ? c() : --a.group.r || m(a.group.c)),
                                                a = null;
                                        else if (t >= a.start) {
                                            var n = t - a.start;
                                            o = a.a + a.d * _(n / a.duration),
                                                E(o, 1 - o)
                                        }
                                    return !(!a && !s)
                                }
                                ,
                            0 === A.size && C(k),
                                new Promise((function(e) {
                                        A.add({
                                            c: n,
                                            f: e
                                        })
                                    }
                                )))
                    }
                    return {
                        run: function(e) {
                            _(r) ? (ie || (ie = Promise.resolve()).then((function() {
                                    ie = null
                                }
                            )),
                                ie).then((function() {
                                    r = r(),
                                        d(e)
                                }
                            )) : d(e)
                        },
                        end: function() {
                            c(),
                                a = s = null
                        }
                    }
                }
                var ge = "undefined" != typeof window ? window : "undefined" != typeof globalThis ? globalThis : e;
                function me(e) {
                    e && e.c()
                }
                function _e(e, t, n) {
                    var i = e.$$
                        , r = i.fragment
                        , o = i.on_mount
                        , a = i.on_destroy
                        , s = i.after_update;
                    r && r.m(t, n),
                        ne((function() {
                                var t = o.map(y).filter(_);
                                a ? a.push.apply(a, function(e) {
                                    return function(e) {
                                        if (Array.isArray(e))
                                            return f(e)
                                    }(e) || function(e) {
                                        if ("undefined" != typeof Symbol && Symbol.iterator in Object(e))
                                            return Array.from(e)
                                    }(e) || h(e) || function() {
                                        throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                                    }()
                                }(t)) : m(t),
                                    e.$$.on_mount = []
                            }
                        )),
                        s.forEach(ne)
                }
                function be(e, t) {
                    var n = e.$$;
                    null !== n.fragment && (m(n.on_destroy),
                    n.fragment && n.fragment.d(t),
                        n.on_destroy = n.fragment = null,
                        n.ctx = [])
                }
                function Ee(e, t) {
                    -1 === e.$$.dirty[0] && (q.push(e),
                    te || (te = !0,
                        ee.then(ae)),
                        e.$$.dirty.fill(0)),
                        e.$$.dirty[t / 31 | 0] |= 1 << t % 31
                }
                function Se(e, t, n, i, r, o) {
                    var a = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : [-1]
                        , s = Y;
                    Z(e);
                    var l = t.props || {}
                        , c = e.$$ = {
                        fragment: null,
                        ctx: null,
                        props: o,
                        update: p,
                        not_equal: r,
                        bound: g(),
                        on_mount: [],
                        on_destroy: [],
                        before_update: [],
                        after_update: [],
                        context: new Map(s ? s.$$.context : []),
                        callbacks: g(),
                        dirty: a,
                        skip_bound: !1
                    }
                        , u = !1;
                    if (c.ctx = n ? n(e, l, (function(t, n) {
                            var i = !(arguments.length <= 2) && arguments.length - 2 ? arguments.length <= 2 ? void 0 : arguments[2] : n;
                            return c.ctx && r(c.ctx[t], c.ctx[t] = i) && (!c.skip_bound && c.bound[t] && c.bound[t](i),
                            u && Ee(e, t)),
                                n
                        }
                    )) : [],
                        c.update(),
                        u = !0,
                        m(c.before_update),
                        c.fragment = !!i && i(c.ctx),
                        t.target) {
                        if (t.hydrate) {
                            var d = z(t.target);
                            c.fragment && c.fragment.l(d),
                                d.forEach(R)
                        } else
                            c.fragment && c.fragment.c();
                        t.intro && fe(e.$$.fragment),
                            _e(e, t.target, t.anchor),
                            ae()
                    }
                    Z(s)
                }
                var Te = function() {
                    function e() {
                        i(this, e)
                    }
                    return o(e, [{
                        key: "$destroy",
                        value: function() {
                            be(this, 1),
                                this.$destroy = p
                        }
                    }, {
                        key: "$on",
                        value: function(e, t) {
                            var n = this.$$.callbacks[e] || (this.$$.callbacks[e] = []);
                            return n.push(t),
                                function() {
                                    var e = n.indexOf(t);
                                    -1 !== e && n.splice(e, 1)
                                }
                        }
                    }, {
                        key: "$set",
                        value: function(e) {
                            var t;
                            this.$$set && (t = e,
                            0 !== Object.keys(t).length) && (this.$$.skip_bound = !0,
                                this.$$set(e),
                                this.$$.skip_bound = !1)
                        }
                    }]),
                        e
                }();
                function we(e) {
                    var t = e - 1;
                    return t * t * t + 1
                }
                function Ce(e, t) {
                    var n = t.delay
                        , i = void 0 === n ? 0 : n
                        , r = t.duration
                        , o = void 0 === r ? 400 : r
                        , a = t.easing
                        , s = void 0 === a ? v : a
                        , l = +getComputedStyle(e).opacity;
                    return {
                        delay: i,
                        duration: o,
                        easing: s,
                        css: function(e) {
                            return "opacity: ".concat(e * l)
                        }
                    }
                }
                function Ae(e, t) {
                    var n = t.delay
                        , i = void 0 === n ? 0 : n
                        , r = t.duration
                        , o = void 0 === r ? 400 : r
                        , a = t.easing
                        , s = void 0 === a ? we : a
                        , l = t.x
                        , c = void 0 === l ? 0 : l
                        , u = t.y
                        , d = void 0 === u ? 0 : u
                        , h = t.opacity
                        , f = void 0 === h ? 0 : h
                        , p = getComputedStyle(e)
                        , v = +p.opacity
                        , y = "none" === p.transform ? "" : p.transform
                        , g = v * (1 - f);
                    return {
                        delay: i,
                        duration: o,
                        easing: s,
                        css: function(e, t) {
                            return "\n\t\t\ttransform: ".concat(y, " translate(").concat((1 - e) * c, "px, ").concat((1 - e) * d, "px);\n\t\t\topacity: ").concat(v - g * t)
                        }
                    }
                }
                var ke = '<?xml version="1.0" encoding="UTF-8"?><svg viewBox="0 0 36 36" version="1.1" xmlns="http://www.w3.org/2000/svg"    xmlns:xlink="http://www.w3.org/1999/xlink">    \x3c!-- Generator: Sketch 63.1 (92452) - https://sketch.com --\x3e            <g id="终稿" stroke="none" stroke-width="1" fill-rule="evenodd" opacity="0.9">        <g id="图标切图" transform="translate(-439.000000, -74.000000)">            <g id="编组-3" transform="translate(421.000000, 56.000000)">                <g id="编组-11" transform="translate(18.000000, 18.000000)">                    <g id="icon_暂停" transform="translate(12.000000, 10.000000)">                        <path                            d="M2,0 C3.104,0 4,0.896 4,2 L4,2 L4,14 C4,15.104 3.104,16 2,16 C0.896,16 0,15.104 0,14 L0,14 L0,2 C0,0.896 0.896,0 2,0 Z M10,0 L10.1502192,0.00546944456 C11.1911389,0.0815918399 12,0.942829791 12,1.99406028 L12,1.99406028 L12,14.0059397 C12,15.1054862 11.1045695,16 10,16 L10,16 L9.84978083,15.9945306 C8.8088611,15.9184082 8,15.0571702 8,14.0059397 L8,14.0059397 L8,1.99406028 C8,0.894513756 8.8954305,0 10,0 L10,0 Z"                            id="暂停"></path>                    </g>                </g>            </g>        </g>    </g></svg>'
                    , xe = '<svg id="图层_1" data-name="图层 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36">    <path id="Play"    d="M25,19.72l-9.94,6A2,2,0,0,1,12,24V12a2,2,0,0,1,2-2,2.1,2.1,0,0,1,1,.28l9.94,6A2,2,0,0,1,25.66,19,1.93,1.93,0,0,1,25,19.72Z"    style="fill-rule:evenodd" /></svg>'
                    , Le = '<?xml version="1.0" encoding="UTF-8"?><svg viewBox="0 0 36 36" version="1.1" xmlns="http://www.w3.org/2000/svg"    xmlns:xlink="http://www.w3.org/1999/xlink">    \x3c!-- Generator: Sketch 63.1 (92452) - https://sketch.com --\x3e            <g id="终稿" stroke="none" stroke-width="1" fill-rule="evenodd" opacity="0.9">        <g id="图标切图" transform="translate(-511.000000, -120.000000)">            <g id="编组-3" transform="translate(421.000000, 56.000000)">                <g id="编组-9" transform="translate(90.000000, 64.000000)">                    <g id="icon_网页全屏" transform="translate(7.000000, 7.000000)">                        <g id="player_fullpage">                            <path                                d="M16,14 L16,12.5 C16,12.2238576 16.2238576,12 16.5,12 L17.5,12 C17.7761424,12 18,12.2238576 18,12.5 L18,15.5 C18,15.7761424 17.7761424,16 17.5,16 L14.5,16 C14.2238576,16 14,15.7761424 14,15.5 L14,14.5 C14,14.2238576 14.2238576,14 14.5,14 L16,14 L16,14 Z M6,14 L7.5,14 C7.77614237,14 8,14.2238576 8,14.5 L8,15.5 C8,15.7761424 7.77614237,16 7.5,16 L4.5,16 C4.22385763,16 4,15.7761424 4,15.5 L4,12.5 C4,12.2238576 4.22385763,12 4.5,12 L5.5,12 C5.77614237,12 6,12.2238576 6,12.5 L6,14 L6,14 Z M18,6.5 L18,9.5 C18,9.77614237 17.7761424,10 17.5,10 L16.5,10 C16.2238576,10 16,9.77614237 16,9.5 L16,8 L16,8 L14.5,8 C14.2238576,8 14,7.77614237 14,7.5 L14,6.5 C14,6.22385763 14.2238576,6 14.5,6 L17.5,6 C17.7761424,6 18,6.22385763 18,6.5 Z M4.5,6 L7.5,6 C7.77614237,6 8,6.22385763 8,6.5 L8,7.5 C8,7.77614237 7.77614237,8 7.5,8 L6,8 L6,8 L6,9.5 C6,9.77614237 5.77614237,10 5.5,10 L4.5,10 C4.22385763,10 4,9.77614237 4,9.5 L4,6.5 C4,6.22385763 4.22385763,6 4.5,6 Z M4,4 L18,4 C19.1045695,4 20,4.8954305 20,6 L20,16 C20,17.1045695 19.1045695,18 18,18 L4,18 C2.8954305,18 2,17.1045695 2,16 L2,6 C2,4.8954305 2.8954305,4 4,4 Z"                                id="Combined-Shape"></path>                        </g>                    </g>                </g>            </g>        </g>    </g></svg>'
                    , Re = '<svg id="图层_1" data-name="图层 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36">    <path id="Combined-Shape"    d="M23,21v1.5a.47.47,0,0,1-.5.5h-1a.47.47,0,0,1-.5-.5v-3a.47.47,0,0,1,.5-.5h3a.47.47,0,0,1,.5.5v1a.47.47,0,0,1-.5.5ZM13,21H11.5a.47.47,0,0,1-.5-.5v-1a.47.47,0,0,1,.5-.5h3a.47.47,0,0,1,.5.5v3a.47.47,0,0,1-.5.5h-1a.47.47,0,0,1-.5-.5Zm8-4.5v-3a.47.47,0,0,1,.5-.5h1a.47.47,0,0,1,.5.5V15h1.5a.47.47,0,0,1,.5.5v1a.47.47,0,0,1-.5.5h-3A.47.47,0,0,1,21,16.5Zm-6.5.5h-3a.47.47,0,0,1-.5-.5v-1a.47.47,0,0,1,.5-.5H13V13.5a.47.47,0,0,1,.5-.5h1a.47.47,0,0,1,.5.5v3A.47.47,0,0,1,14.5,17ZM11,11H25a2,2,0,0,1,2,2V23a2,2,0,0,1-2,2H11a2,2,0,0,1-2-2V13A2,2,0,0,1,11,11Z"    style="fill-rule:evenodd" /></svg>';
                function Ie(e) {
                    var t, n, i, r;
                    return {
                        c: function() {
                            t = P("div"),
                                n = M(e[0]),
                                F(t, "class", "tip panel svelte-1fgqxfc"),
                                F(t, "style", e[1])
                        },
                        m: function(e, i) {
                            L(e, t, i),
                                x(t, n),
                                r = !0
                        },
                        p: function(e, i) {
                            (!r || 1 & i) && j(n, e[0]),
                            (!r || 2 & i) && F(t, "style", e[1])
                        },
                        i: function(e) {
                            r || (ne((function() {
                                    i || (i = ye(t, Ae, {
                                        duration: 200,
                                        y: 10
                                    }, !0)),
                                        i.run(1)
                                }
                            )),
                                r = !0)
                        },
                        o: function(e) {
                            i || (i = ye(t, Ae, {
                                duration: 200,
                                y: 10
                            }, !1)),
                                i.run(0),
                                r = !1
                        },
                        d: function(e) {
                            e && R(t),
                            e && i && i.end()
                        }
                    }
                }
                function Pe(e) {
                    var t, n, i, r, o, a, s = e[2] && e[0] && Ie(e), l = e[4].default, c = function(e, t, n, i) {
                        if (e) {
                            var r = E(e, t, n, null);
                            return e[0](r)
                        }
                    }(l, e, e[3]);
                    return {
                        c: function() {
                            t = P("div"),
                            s && s.c(),
                                n = D(),
                                i = P("div"),
                            c && c.c(),
                                F(t, "class", "tip-wrap svelte-1fgqxfc")
                        },
                        m: function(l, u) {
                            L(l, t, u),
                            s && s.m(t, null),
                                x(t, n),
                                x(t, i),
                            c && c.m(i, null),
                                r = !0,
                            o || (a = [N(t, "mouseenter", e[5]), N(t, "mouseleave", e[6])],
                                o = !0)
                        },
                        p: function(e, i) {
                            var r = d(i, 1)[0];
                            e[2] && e[0] ? s ? (s.p(e, r),
                            5 & r && fe(s, 1)) : ((s = Ie(e)).c(),
                                fe(s, 1),
                                s.m(t, n)) : s && (de(),
                                pe(s, 1, 1, (function() {
                                        s = null
                                    }
                                )),
                                he()),
                            c && c.p && 8 & r && S(c, l, e, e[3], r, null, null)
                        },
                        i: function(e) {
                            r || (fe(s),
                                fe(c, e),
                                r = !0)
                        },
                        o: function(e) {
                            pe(s),
                                pe(c, e),
                                r = !1
                        },
                        d: function(e) {
                            e && R(t),
                            s && s.d(),
                            c && c.d(e),
                                o = !1,
                                m(a)
                        }
                    }
                }
                function Me(e, t, n) {
                    var i = t.$$slots
                        , r = void 0 === i ? {} : i
                        , o = t.$$scope
                        , a = t.text
                        , s = void 0 === a ? "" : a
                        , l = t.style
                        , c = void 0 === l ? "" : l
                        , u = !1;
                    return e.$$set = function(e) {
                        "text"in e && n(0, s = e.text),
                        "style"in e && n(1, c = e.style),
                        "$$scope"in e && n(3, o = e.$$scope)
                    }
                        ,
                        [s, c, u, o, r, function() {
                            return n(2, u = !0)
                        }
                            , function() {
                            return n(2, u = !1)
                        }
                        ]
                }
                var De = function(e) {
                    a(n, Te);
                    var t = u(n);
                    function n(e) {
                        var r, o;
                        return i(this, n),
                            r = t.call(this),
                        document.getElementById("svelte-1fgqxfc-style") || ((o = P("style")).id = "svelte-1fgqxfc-style",
                            o.textContent = ".tip-wrap.svelte-1fgqxfc.svelte-1fgqxfc{position:relative}.tip-wrap.svelte-1fgqxfc:hover .tip.svelte-1fgqxfc{display:block}.tip.svelte-1fgqxfc.svelte-1fgqxfc{padding:4px 6px;word-break:keep-all;white-space:nowrap;display:none}",
                            x(document.head, o)),
                            Se(l(r), e, Me, Pe, b, {
                                text: 0,
                                style: 1
                            }),
                            r
                    }
                    return n
                }()
                    , Oe = '<?xml version="1.0" encoding="utf-8"?>\x3c!-- Generator: Adobe Illustrator 24.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"    y="0px" viewBox="0 0 36 36" style="enable-background:new 0 0 36 36;" xml:space="preserve">        <path class="st0" d="M20,14.5c1.9,1.1,2.6,3.6,1.5,5.5c-0.3,0.6-0.9,1.1-1.5,1.5V14.5z" />    <path class="st0" d="M21.4,10.7c4,1.9,5.7,6.7,3.8,10.7c-0.8,1.7-2,3-3.7,3.8c-0.5,0.2-1.1,0-1.3-0.5l0,0c-0.2-0.5,0-1.1,0.5-1.3\tc2.9-1.5,4.1-4.9,2.7-8c-0.6-1.2-1.6-2.3-2.8-2.8c-0.5-0.2-0.7-0.8-0.5-1.3S20.8,10.5,21.4,10.7C21.3,10.7,21.3,10.7,21.4,10.7\tL21.4,10.7z" />    <path class="st0" d="M17.9,11.7c0.1,0.1,0.1,0.1,0.1,0.2l0.1,12c0,0.3-0.2,0.5-0.5,0.5c-0.1,0-0.2,0-0.3-0.1l-4.2-3.4h-1\tc-1.1,0-2-0.9-2-2v-2c0-1.1,0.9-2,2-2h1l4.1-3.3C17.4,11.5,17.7,11.5,17.9,11.7L17.9,11.7z" /></svg>'
                    , Ne = '<?xml version="1.0" encoding="utf-8"?>\x3c!-- Generator: Adobe Illustrator 24.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"  y="0px" viewBox="0 0 36 36" style="enable-background:new 0 0 36 36;" xml:space="preserve">    <path class="st0" d="M25.8,25.8c0.4,0.4,0.4,1,0,1.4s-1,0.4-1.4,0l-2.3-2.3c-0.2,0.1-0.4,0.2-0.6,0.3c-0.5,0.2-1.1,0-1.3-0.5\tc-0.2-0.5,0-1.1,0.5-1.3l0,0l-2.6-2.6v3.1c0,0.3-0.2,0.5-0.5,0.5c-0.1,0-0.2,0-0.3-0.1l-4.2-3.4h-1c-1.1,0-2-0.9-2-2v-2\tc0-1.1,0.9-2,2-2h0.2l-3.4-3.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0L25.8,25.8z" />  <path class="st0" d="M21.4,10.8c4,1.9,5.7,6.7,3.8,10.7c-0.1,0.2-0.2,0.4-0.3,0.6l-1.5-1.5c1.4-3,0.2-6.6-2.8-8l0,0\tc-0.5-0.2-0.7-0.8-0.5-1.3l0,0C20.4,10.7,21,10.5,21.4,10.8z" />  <path class="st0" d="M20,14.5c1.2,0.7,2,2,2,3.5c0,0.3,0,0.7-0.1,1L20,17.1V14.5z" />  <path class="st0" d="M17.9,11.7C18,11.8,18,11.9,18,12v3.1l-2.3-2.3l1.5-1.2C17.4,11.5,17.7,11.5,17.9,11.7z" /></svg>'
                    , Ue = function(e, t, n) {
                    return Math.min(Math.max(Math.round(e), t), n)
                };
                function Be(e) {
                    var t;
                    return {
                        onEnter: function(n) {
                            clearTimeout(t),
                                t = window.setTimeout((function() {
                                        n()
                                    }
                                ), e)
                        },
                        onLeave: function(n) {
                            clearTimeout(t),
                                t = window.setTimeout((function() {
                                        n()
                                    }
                                ), e)
                        }
                    }
                }
                var Fe = ge.document;
                function ze(e) {
                    var t, n, i, r, o, a, s, l, c, u, h = Math.round(e[0]) + "";
                    return {
                        c: function() {
                            t = P("div"),
                                n = P("div"),
                                i = M(h),
                                r = D(),
                                o = P("div"),
                                a = P("div"),
                                s = D(),
                                l = P("div"),
                                F(n, "class", "number svelte-126wnuj"),
                                V(a, "top", e[4] + "px"),
                                F(a, "class", "slider-handle svelte-126wnuj"),
                                G(a, "top-trans", !e[3]),
                                V(l, "height", e[0] + "%"),
                                F(l, "class", "slider-track svelte-126wnuj"),
                                G(l, "height-trans", !e[3]),
                                F(o, "class", "slider-rail svelte-126wnuj"),
                                F(t, "class", "vertical-slider-wrap svelte-126wnuj")
                        },
                        m: function(d, h) {
                            L(d, t, h),
                                x(t, n),
                                x(n, i),
                                x(t, r),
                                x(t, o),
                                x(o, a),
                                e[9](a),
                                x(o, s),
                                x(o, l),
                                e[10](o),
                            c || (u = [N(a, "mousedown", e[7]), N(o, "mousedown", e[6]), N(t, "wheel", B(U(e[11])))],
                                c = !0)
                        },
                        p: function(e, t) {
                            var n = d(t, 1)[0];
                            1 & n && h !== (h = Math.round(e[0]) + "") && j(i, h),
                            16 & n && V(a, "top", e[4] + "px"),
                            8 & n && G(a, "top-trans", !e[3]),
                            1 & n && V(l, "height", e[0] + "%"),
                            8 & n && G(l, "height-trans", !e[3])
                        },
                        i: p,
                        o: p,
                        d: function(n) {
                            n && R(t),
                                e[9](null),
                                e[10](null),
                                c = !1,
                                m(u)
                        }
                    }
                }
                function je(e, t, n) {
                    var i, r, o, a = t.value, s = void 0 === a ? 100 : a, l = t.onChange, c = void 0 === l ? null : l, u = !1, d = function(e) {
                        var t = Ue(e, 0, 100);
                        c ? c(t) : n(0, s = t)
                    };
                    return e.$$set = function(e) {
                        "value"in e && n(0, s = e.value),
                        "onChange"in e && n(8, c = e.onChange)
                    }
                        ,
                        e.$$.update = function() {
                            3 & e.$$.dirty && n(4, o = (100 - s) / 100 * ((null == i ? void 0 : i.clientHeight) - 12))
                        }
                        ,
                        [s, i, r, u, o, d, function(e) {
                            e.target !== r && d(100 - (e.clientY - i.getBoundingClientRect().top) / i.clientHeight * 100)
                        }
                            , function(e) {
                            var t = e.clientY
                                , r = s;
                            n(3, u = !0);
                            var o = function(e) {
                                var n = t - e.clientY;
                                d(r + n / i.clientHeight * 100)
                            };
                            document.addEventListener("mousemove", o),
                                document.addEventListener("mouseup", (function e() {
                                        n(3, u = !1),
                                            document.removeEventListener("mousemove", o),
                                            document.removeEventListener("mouseup", e)
                                    }
                                ))
                        }
                            , c, function(e) {
                            J[e ? "unshift" : "push"]((function() {
                                    n(2, r = e)
                                }
                            ))
                        }
                            , function(e) {
                            J[e ? "unshift" : "push"]((function() {
                                    n(1, i = e)
                                }
                            ))
                        }
                            , function(e) {
                            var t = e.deltaY;
                            d(s - Math.ceil(t / 10))
                        }
                        ]
                }
                var Ve = function(e) {
                    a(n, Te);
                    var t = u(n);
                    function n(e) {
                        var r, o;
                        return i(this, n),
                            r = t.call(this),
                        Fe.getElementById("svelte-126wnuj-style") || ((o = P("style")).id = "svelte-126wnuj-style",
                            o.textContent = ".vertical-slider-wrap.svelte-126wnuj.svelte-126wnuj{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:8px 6px;opacity:0.9;background:#212121;border-radius:4px;-webkit-box-sizing:border-box;box-sizing:border-box}.vertical-slider-wrap.svelte-126wnuj .number.svelte-126wnuj{-ms-flex-negative:0;flex-shrink:0;margin-bottom:5px;width:20px;text-align:center;color:#e5e9ef}.vertical-slider-wrap.svelte-126wnuj .slider-rail.svelte-126wnuj{width:2px;-webkit-box-flex:1;-ms-flex:1;flex:1;position:relative;padding:0 4px;background:#e7e7e7;background-clip:content-box;border-radius:2px;cursor:pointer}.vertical-slider-wrap.svelte-126wnuj .slider-handle.svelte-126wnuj{width:12px;height:12px;position:absolute;left:50%;z-index:1;-webkit-transform:translateX(-50%);transform:translateX(-50%);border-radius:50%;background-color:#00a1d6}.vertical-slider-wrap.svelte-126wnuj .slider-handle.top-trans.svelte-126wnuj{-webkit-transition:top 0.2s ease-in-out;transition:top 0.2s ease-in-out}.vertical-slider-wrap.svelte-126wnuj .slider-track.svelte-126wnuj{position:absolute;bottom:0;width:2px;background-color:#00a1d6}.vertical-slider-wrap.svelte-126wnuj .slider-track.height-trans.svelte-126wnuj{-webkit-transition:height 0.2s ease-in-out;transition:height 0.2s ease-in-out}",
                            x(Fe.head, o)),
                            Se(l(r), e, je, ze, b, {
                                value: 0,
                                onChange: 8
                            }),
                            r
                    }
                    return n
                }()
                    , Ge = ge.document;
                function Ye(e) {
                    var t, n, i, r, o;
                    return n = new Ve({
                        props: {
                            value: e[0] ? 0 : e[1],
                            onChange: e[8]
                        }
                    }),
                        {
                            c: function() {
                                t = P("div"),
                                    me(n.$$.fragment),
                                    F(t, "class", "panel volume-control svelte-16y1m1m")
                            },
                            m: function(a, s) {
                                L(a, t, s),
                                    _e(n, t, null),
                                    i = !0,
                                r || (o = N(t, "mousedown", e[9]),
                                    r = !0)
                            },
                            p: function(e, t) {
                                var i = {};
                                3 & t && (i.value = e[0] ? 0 : e[1]),
                                    n.$set(i)
                            },
                            i: function(e) {
                                i || (fe(n.$$.fragment, e),
                                    i = !0)
                            },
                            o: function(e) {
                                pe(n.$$.fragment, e),
                                    i = !1
                            },
                            d: function(e) {
                                e && R(t),
                                    be(n),
                                    r = !1,
                                    o()
                            }
                        }
                }
                function He(e) {
                    var t, n, i, r, o, a, s = (e[0] ? Ne : Oe) + "", l = (e[2] || e[3]) && Ye(e);
                    return {
                        c: function() {
                            t = P("div"),
                            l && l.c(),
                                n = D(),
                                F(i = P("span"), "class", "icon"),
                                F(t, "class", "volume svelte-16y1m1m")
                        },
                        m: function(c, u) {
                            L(c, t, u),
                            l && l.m(t, null),
                                x(t, n),
                                x(t, i),
                                i.innerHTML = s,
                                r = !0,
                            o || (a = [N(i, "click", e[10]), N(t, "mouseenter", e[11]), N(t, "mouseleave", e[12]), N(t, "wheel", B(U(e[13])))],
                                o = !0)
                        },
                        p: function(e, o) {
                            var a = d(o, 1)[0];
                            e[2] || e[3] ? l ? (l.p(e, a),
                            12 & a && fe(l, 1)) : ((l = Ye(e)).c(),
                                fe(l, 1),
                                l.m(t, n)) : l && (de(),
                                pe(l, 1, 1, (function() {
                                        l = null
                                    }
                                )),
                                he()),
                            (!r || 1 & a) && s !== (s = (e[0] ? Ne : Oe) + "") && (i.innerHTML = s)
                        },
                        i: function(e) {
                            r || (fe(l),
                                r = !0)
                        },
                        o: function(e) {
                            pe(l),
                                r = !1
                        },
                        d: function(e) {
                            e && R(t),
                            l && l.d(),
                                o = !1,
                                m(a)
                        }
                    }
                }
                function We(e, t, n) {
                    var i = t.onChange
                        , r = void 0 === i ? null : i
                        , o = t.disabled
                        , a = void 0 !== o && o
                        , s = t.value
                        , l = void 0 === s ? 100 : s
                        , c = !1
                        , u = !1
                        , d = function(e, t) {
                        if ("disabled" === e)
                            r ? r({
                                disabled: t,
                                value: l
                            }) : n(0, a = t);
                        else if ("value" === e && t !== l) {
                            var i = 0 === t;
                            r ? r({
                                disabled: i,
                                value: t
                            }) : (n(1, l = t),
                                n(0, a = i))
                        }
                    }
                        , h = Be(100)
                        , f = h.onEnter
                        , p = h.onLeave;
                    return e.$$set = function(e) {
                        "onChange"in e && n(7, r = e.onChange),
                        "disabled"in e && n(0, a = e.disabled),
                        "value"in e && n(1, l = e.value)
                    }
                        ,
                        [a, l, c, u, d, f, p, r, function(e) {
                            return d("value", e)
                        }
                            , function() {
                            n(3, u = !0),
                                document.addEventListener("mouseup", (function e() {
                                        n(3, u = !1),
                                            document.removeEventListener("mouseup", e)
                                    }
                                ))
                        }
                            , function() {
                            return d("disabled", !a)
                        }
                            , function() {
                            return f((function() {
                                    n(2, c = !0)
                                }
                            ))
                        }
                            , function() {
                            return p((function() {
                                    n(2, c = !1)
                                }
                            ))
                        }
                            , function(e) {
                            var t = e.deltaY;
                            d("value", Ue(l - Math.ceil(t / 10), 0, 100))
                        }
                        ]
                }
                var Ke = function(e) {
                    a(n, Te);
                    var t = u(n);
                    function n(e) {
                        var r, o;
                        return i(this, n),
                            r = t.call(this),
                        Ge.getElementById("svelte-16y1m1m-style") || ((o = P("style")).id = "svelte-16y1m1m-style",
                            o.textContent = ".volume.svelte-16y1m1m.svelte-16y1m1m{position:relative}.volume.svelte-16y1m1m .volume-control.svelte-16y1m1m{height:100px}",
                            x(Ge.head, o)),
                            Se(l(r), e, We, He, b, {
                                onChange: 7,
                                disabled: 0,
                                value: 1
                            }),
                            r
                    }
                    return n
                }();
                function Qe(e, t, n) {
                    var i = e.slice();
                    return i[21] = t[n],
                        i
                }
                function Ze(e, t, n) {
                    var i = e.slice();
                    return i[24] = t[n],
                        i
                }
                function qe(e) {
                    for (var t, n, i = null != e[0] && Je(e), r = e[3], o = [], a = 0; a < r.length; a += 1)
                        o[a] = et(Qe(e, r, a));
                    return {
                        c: function() {
                            t = P("div"),
                            i && i.c(),
                                n = D();
                            for (var e = 0; e < o.length; e += 1)
                                o[e].c();
                            F(t, "class", "panel svelte-73epzt")
                        },
                        m: function(e, r) {
                            L(e, t, r),
                            i && i.m(t, null),
                                x(t, n);
                            for (var a = 0; a < o.length; a += 1)
                                o[a].m(t, null)
                        },
                        p: function(e, a) {
                            if (null != e[0] ? i ? i.p(e, a) : ((i = Je(e)).c(),
                                i.m(t, n)) : i && (i.d(1),
                                i = null),
                            266 & a) {
                                var s;
                                for (r = e[3],
                                         s = 0; s < r.length; s += 1) {
                                    var l = Qe(e, r, s);
                                    o[s] ? o[s].p(l, a) : (o[s] = et(l),
                                        o[s].c(),
                                        o[s].m(t, null))
                                }
                                for (; s < o.length; s += 1)
                                    o[s].d(1);
                                o.length = r.length
                            }
                        },
                        d: function(e) {
                            e && R(t),
                            i && i.d(),
                                I(o, e)
                        }
                    }
                }
                function Je(e) {
                    for (var t, n, i, r, o, a, s, l, c, u, d = e[2], h = [], f = 0; f < d.length; f += 1)
                        h[f] = $e(Ze(e, d, f));
                    return {
                        c: function() {
                            t = P("div"),
                                n = P("div"),
                                i = P("div"),
                                r = M(e[6]),
                                o = D(),
                                a = P("div"),
                                s = D(),
                                l = P("div");
                            for (var c = 0; c < h.length; c += 1)
                                h[c].c();
                            F(a, "class", "arrow svelte-73epzt"),
                                F(i, "class", "line-label svelte-73epzt"),
                                F(l, "class", "option-wrap"),
                                F(n, "class", "line-selector svelte-73epzt"),
                                V(n, "height", (e[4] ? 22 * e[2].length + 2 : 22) + "px"),
                                F(t, "class", "line-wrap svelte-73epzt")
                        },
                        m: function(d, f) {
                            L(d, t, f),
                                x(t, n),
                                x(n, i),
                                x(i, r),
                                x(i, o),
                                x(i, a),
                                x(n, s),
                                x(n, l);
                            for (var p = 0; p < h.length; p += 1)
                                h[p].m(l, null);
                            c || (u = [N(n, "mouseenter", e[16]), N(n, "mouseleave", e[17])],
                                c = !0)
                        },
                        p: function(e, t) {
                            if (64 & t && j(r, e[6]),
                            517 & t) {
                                var i;
                                for (d = e[2],
                                         i = 0; i < d.length; i += 1) {
                                    var o = Ze(e, d, i);
                                    h[i] ? h[i].p(o, t) : (h[i] = $e(o),
                                        h[i].c(),
                                        h[i].m(l, null))
                                }
                                for (; i < h.length; i += 1)
                                    h[i].d(1);
                                h.length = d.length
                            }
                            20 & t && V(n, "height", (e[4] ? 22 * e[2].length + 2 : 22) + "px")
                        },
                        d: function(e) {
                            e && R(t),
                                I(h, e),
                                c = !1,
                                m(u)
                        }
                    }
                }
                function Xe(e) {
                    var t, n, i, r, o, a = e[24].label + "";
                    function s() {
                        return e[15](e[24])
                    }
                    return {
                        c: function() {
                            t = P("div"),
                                n = M(a),
                                i = D(),
                                F(t, "class", "option svelte-73epzt"),
                                G(t, "selected", e[24].value == e[0])
                        },
                        m: function(e, a) {
                            L(e, t, a),
                                x(t, n),
                                x(t, i),
                            r || (o = N(t, "click", s),
                                r = !0)
                        },
                        p: function(i, r) {
                            e = i,
                            4 & r && a !== (a = e[24].label + "") && j(n, a),
                            5 & r && G(t, "selected", e[24].value == e[0])
                        },
                        d: function(e) {
                            e && R(t),
                                r = !1,
                                o()
                        }
                    }
                }
                function $e(e) {
                    var t, n = e[24].value !== e[0] && Xe(e);
                    return {
                        c: function() {
                            n && n.c(),
                                t = O()
                        },
                        m: function(e, i) {
                            n && n.m(e, i),
                                L(e, t, i)
                        },
                        p: function(e, i) {
                            e[24].value !== e[0] ? n ? n.p(e, i) : ((n = Xe(e)).c(),
                                n.m(t.parentNode, t)) : n && (n.d(1),
                                n = null)
                        },
                        d: function(e) {
                            n && n.d(e),
                            e && R(t)
                        }
                    }
                }
                function et(e) {
                    var t, n, i, r, o, a = e[21].label + "";
                    function s() {
                        return e[18](e[21])
                    }
                    return {
                        c: function() {
                            t = P("div"),
                                n = M(a),
                                i = D(),
                                F(t, "class", "quality-it svelte-73epzt"),
                                G(t, "selected", e[21].value == e[1])
                        },
                        m: function(e, a) {
                            L(e, t, a),
                                x(t, n),
                                x(t, i),
                            r || (o = N(t, "click", s),
                                r = !0)
                        },
                        p: function(i, r) {
                            e = i,
                            8 & r && a !== (a = e[21].label + "") && j(n, a),
                            10 & r && G(t, "selected", e[21].value == e[1])
                        },
                        d: function(e) {
                            e && R(t),
                                r = !1,
                                o()
                        }
                    }
                }
                function tt(e) {
                    var t, n, i, r, o, a, s = e[5] && qe(e);
                    return {
                        c: function() {
                            t = P("div"),
                            s && s.c(),
                                n = D(),
                                i = P("span"),
                                r = M(e[7]),
                                F(i, "class", "text"),
                                F(t, "class", "quality-wrap svelte-73epzt")
                        },
                        m: function(l, c) {
                            L(l, t, c),
                            s && s.m(t, null),
                                x(t, n),
                                x(t, i),
                                x(i, r),
                            o || (a = [N(t, "mouseenter", e[19]), N(t, "mouseleave", e[20])],
                                o = !0)
                        },
                        p: function(e, i) {
                            var o = d(i, 1)[0];
                            e[5] ? s ? s.p(e, o) : ((s = qe(e)).c(),
                                s.m(t, n)) : s && (s.d(1),
                                s = null),
                            128 & o && j(r, e[7])
                        },
                        i: p,
                        o: p,
                        d: function(e) {
                            e && R(t),
                            s && s.d(),
                                o = !1,
                                m(a)
                        }
                    }
                }
                function nt(e, t, n) {
                    var i, r, o, a, s = t.lineList, l = void 0 === s ? [] : s, c = t.qualityList, u = void 0 === c ? [] : c, d = t.line, h = void 0 === d ? "" : d, f = t.quality, p = void 0 === f ? "" : f, v = t.onChange, y = void 0 === v ? null : v, g = !1, m = !1, _ = function(e) {
                        e !== p && (y ? y("quality", e) : n(1, p = e))
                    }, b = function(e) {
                        e !== h && (y ? y("line", e) : n(0, h = e))
                    }, E = Be(100), S = E.onEnter, T = E.onLeave;
                    return e.$$set = function(e) {
                        "lineList"in e && n(2, l = e.lineList),
                        "qualityList"in e && n(3, u = e.qualityList),
                        "line"in e && n(0, h = e.line),
                        "quality"in e && n(1, p = e.quality),
                        "onChange"in e && n(12, y = e.onChange)
                    }
                        ,
                        e.$$.update = function() {
                            8197 & e.$$.dirty && n(6, o = null === n(13, i = l.find((function(e) {
                                    var t = e.value;
                                    return h === t
                                }
                            ))) || void 0 === i ? void 0 : i.label),
                            16394 & e.$$.dirty && n(7, a = null === n(14, r = u.find((function(e) {
                                    var t = e.value;
                                    return p === t
                                }
                            ))) || void 0 === r ? void 0 : r.label)
                        }
                        ,
                        [h, p, l, u, g, m, o, a, _, b, S, T, y, i, r, function(e) {
                            return b(e.value)
                        }
                            , function() {
                            return n(4, g = !0)
                        }
                            , function() {
                            return n(4, g = !1)
                        }
                            , function(e) {
                            return _(e.value)
                        }
                            , function() {
                            return S((function() {
                                    n(5, m = !0)
                                }
                            ))
                        }
                            , function() {
                            return T((function() {
                                    n(5, m = !1)
                                }
                            ))
                        }
                        ]
                }
                var it = function(e) {
                    a(n, Te);
                    var t = u(n);
                    function n(e) {
                        var r, o;
                        return i(this, n),
                            r = t.call(this),
                        document.getElementById("svelte-73epzt-style") || ((o = P("style")).id = "svelte-73epzt-style",
                            o.textContent = ".quality-wrap.svelte-73epzt.svelte-73epzt{position:relative}.quality-wrap.svelte-73epzt .panel.svelte-73epzt{padding:9px 0;min-height:94px}.quality-wrap.svelte-73epzt .line-wrap.svelte-73epzt{width:66px;margin-bottom:28px;padding:3px 20px 0 20px;position:relative}.quality-wrap.svelte-73epzt .line-wrap .line-selector.svelte-73epzt{width:66px;border:1px solid rgba(255, 255, 255, 0.4);-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:2px;position:absolute;background:#212121;-webkit-transition:height 0.1s ease-in-out;transition:height 0.1s ease-in-out;overflow:hidden}.quality-wrap.svelte-73epzt .line-wrap .line-label.svelte-73epzt,.quality-wrap.svelte-73epzt .line-wrap .option.svelte-73epzt{height:22px;padding-left:9px;line-height:22px}.quality-wrap.svelte-73epzt .line-wrap .line-label.svelte-73epzt{position:relative}.quality-wrap.svelte-73epzt .line-wrap .arrow.svelte-73epzt{width:0;height:0;top:8px;right:8px;border:4px solid transparent;border-top:6px solid #797979;position:absolute}.quality-wrap.svelte-73epzt .quality-it.svelte-73epzt,.quality-wrap.svelte-73epzt .option.svelte-73epzt{cursor:pointer;line-height:22px}.quality-wrap.svelte-73epzt .quality-it.svelte-73epzt:hover,.quality-wrap.svelte-73epzt .option.svelte-73epzt:hover{background-color:rgba(255, 255, 255, 0.1)}.quality-wrap.svelte-73epzt .quality-it.svelte-73epzt{padding:0 20px}.quality-wrap.svelte-73epzt .quality-it.selected.svelte-73epzt{color:#23ade5}.quality-wrap.svelte-73epzt .quality-it.svelte-73epzt,.quality-wrap.svelte-73epzt .line-label.svelte-73epzt{white-space:nowrap;word-break:keep-all}",
                            x(document.head, o)),
                            Se(l(r), e, nt, tt, b, {
                                lineList: 2,
                                qualityList: 3,
                                line: 0,
                                quality: 1,
                                onChange: 12
                            }),
                            r
                    }
                    return n
                }();
                function rt(e) {
                    var t, n, i, r, o, a, s, l, c, u, d, h, f;
                    return {
                        c: function() {
                            t = P("div"),
                                n = P("div"),
                                (i = P("div")).textContent = "播放器",
                                r = D(),
                                o = P("input"),
                                a = D(),
                                (s = P("label")).textContent = "HTML5",
                                l = D(),
                                c = P("input"),
                                u = D(),
                                (d = P("label")).textContent = "FLASH",
                                F(i, "class", "label svelte-1r46pk7"),
                                F(o, "type", "radio"),
                                F(o, "name", "player-type"),
                                F(o, "id", "html5"),
                                o.__value = "html5",
                                o.value = o.__value,
                                e[7][0].push(o),
                                F(s, "for", "html5"),
                                F(c, "type", "radio"),
                                F(c, "name", "player-type"),
                                F(c, "id", "flash"),
                                c.__value = "flash",
                                c.value = c.__value,
                                e[7][0].push(c),
                                F(d, "for", "flash"),
                                F(n, "class", "player-type svelte-1r46pk7"),
                                F(t, "class", "panel setting-panel svelte-1r46pk7")
                        },
                        m: function(p, v) {
                            L(p, t, v),
                                x(t, n),
                                x(n, i),
                                x(n, r),
                                x(n, o),
                                o.checked = o.__value === e[0],
                                x(n, a),
                                x(n, s),
                                x(n, l),
                                x(n, c),
                                c.checked = c.__value === e[0],
                                x(n, u),
                                x(n, d),
                            h || (f = [N(o, "click", e[5]), N(o, "change", e[6]), N(c, "click", e[8]), N(c, "change", e[9])],
                                h = !0)
                        },
                        p: function(e, t) {
                            1 & t && (o.checked = o.__value === e[0]),
                            1 & t && (c.checked = c.__value === e[0])
                        },
                        d: function(n) {
                            n && R(t),
                                e[7][0].splice(e[7][0].indexOf(o), 1),
                                e[7][0].splice(e[7][0].indexOf(c), 1),
                                h = !1,
                                m(f)
                        }
                    }
                }
                function ot(e) {
                    var t, n, i, r, o, a = e[2] && rt(e);
                    return {
                        c: function() {
                            t = P("div"),
                            a && a.c(),
                                n = D(),
                                F(i = P("span"), "class", "icon"),
                                F(t, "class", "setting svelte-1r46pk7")
                        },
                        m: function(s, l) {
                            L(s, t, l),
                            a && a.m(t, null),
                                x(t, n),
                                x(t, i),
                                i.innerHTML = '<?xml version="1.0" encoding="UTF-8"?><svg viewBox="0 0 36 36" version="1.1" xmlns="http://www.w3.org/2000/svg"    xmlns:xlink="http://www.w3.org/1999/xlink">    \x3c!-- Generator: Sketch 63.1 (92452) - https://sketch.com --\x3e            <g id="终稿" stroke="none" stroke-width="1" fill-rule="evenodd" opacity="0.9">        <g id="图标切图" transform="translate(-439.000000, -120.000000)">            <g id="编组-3" transform="translate(421.000000, 56.000000)">                <g id="编组-7" transform="translate(18.000000, 64.000000)">                    <g id="icon_设置" transform="translate(7.000000, 7.000000)">                        <g id="Group-2-Copy-6">                            <g id="player_setting">                                <path                                    d="M12.1355728,17.8458478 C11.7659721,17.9061404 11.3866469,17.9374882 11,17.9374882 C10.6133531,17.9374882 10.2340279,17.9061404 9.86442721,17.8458478 L8.82459672,19.1089545 C8.51390489,19.4863592 7.97590114,19.5838288 7.55255402,19.3394092 L5.55571956,18.1865363 C5.13237243,17.9421167 4.94778172,17.427457 5.11927787,16.9696876 L5.67630577,15.4828303 L5.67630577,15.4828303 C5.15507014,14.8729186 4.73681236,14.1723594 4.44845574,13.408076 L2.83560101,13.1392668 C2.35341304,13.0589022 2,12.6417121 2,12.1528729 L2,9.84712709 C2,9.35828794 2.35341304,8.94109783 2.83560101,8.86073316 L4.39976975,8.60003837 L4.39976975,8.60003837 C4.67272638,7.82931533 5.07685543,7.12062603 5.58532098,6.50080638 L5.01100429,4.9678006 C4.83950815,4.51003124 5.02409886,3.99537151 5.44744598,3.75095193 L7.44428044,2.59807902 C7.86762757,2.35365945 8.40563132,2.45112906 8.71632314,2.82853376 L9.72466395,4.05338917 L9.72466395,4.05338917 C10.1381953,3.9772668 10.5644523,3.93748822 11,3.93748822 C11.4355477,3.93748822 11.8618047,3.9772668 12.2753361,4.05338917 L13.2836769,2.82853376 C13.5943687,2.45112906 14.1323724,2.35365945 14.5557196,2.59807902 L16.552554,3.75095193 C16.9759011,3.99537151 17.1604919,4.51003124 16.9889957,4.9678006 L16.414679,6.50080638 L16.414679,6.50080638 C16.9231446,7.12062603 17.3272736,7.82931533 17.6002302,8.60003837 L19.164399,8.86073316 C19.646587,8.94109783 20,9.35828794 20,9.84712709 L20,12.1528729 C20,12.6417121 19.646587,13.0589022 19.164399,13.1392668 L17.5515443,13.408076 L17.5515443,13.408076 C17.2631876,14.1723594 16.8449299,14.8729186 16.3236942,15.4828303 L16.8807221,16.9696876 C17.0522183,17.427457 16.8676276,17.9421167 16.4442804,18.1865363 L14.447446,19.3394092 C14.0240989,19.5838288 13.4860951,19.4863592 13.1754033,19.1089545 L12.1355728,17.8458478 L12.1355728,17.8458478 Z M11,15 C13.209139,15 15,13.209139 15,11 C15,8.790861 13.209139,7 11,7 C8.790861,7 7,8.790861 7,11 C7,13.209139 8.790861,15 11,15 Z M11,13 C9.8954305,13 9,12.1045695 9,11 C9,9.8954305 9.8954305,9 11,9 C12.1045695,9 13,9.8954305 13,11 C13,12.1045695 12.1045695,13 11,13 Z"                                    id="Combined-Shape"></path>                            </g>                        </g>                    </g>                </g>            </g>        </g>    </g></svg>',
                            r || (o = [N(t, "mouseenter", e[10]), N(t, "mouseleave", e[11])],
                                r = !0)
                        },
                        p: function(e, i) {
                            var r = d(i, 1)[0];
                            e[2] ? a ? a.p(e, r) : ((a = rt(e)).c(),
                                a.m(t, n)) : a && (a.d(1),
                                a = null)
                        },
                        i: p,
                        o: p,
                        d: function(e) {
                            e && R(t),
                            a && a.d(),
                                r = !1,
                                m(o)
                        }
                    }
                }
                function at(e, t, n) {
                    var i = t.playerType
                        , r = void 0 === i ? "html5" : i
                        , o = t.onChange
                        , a = !1
                        , s = Be(100)
                        , l = s.onEnter
                        , c = s.onLeave;
                    return e.$$set = function(e) {
                        "playerType"in e && n(0, r = e.playerType),
                        "onChange"in e && n(1, o = e.onChange)
                    }
                        ,
                        [r, o, a, l, c, function() {
                            return o("playerType", "html5")
                        }
                            , function() {
                            r = this.__value,
                                n(0, r)
                        }
                            , [[]], function() {
                            return o("playerType", "flash")
                        }
                            , function() {
                            r = this.__value,
                                n(0, r)
                        }
                            , function() {
                            return l((function() {
                                    n(2, a = !0)
                                }
                            ))
                        }
                            , function() {
                            return c((function() {
                                    n(2, a = !1)
                                }
                            ))
                        }
                        ]
                }
                var st = function(e) {
                    a(n, Te);
                    var t = u(n);
                    function n(e) {
                        var r, o;
                        return i(this, n),
                            r = t.call(this),
                        document.getElementById("svelte-1r46pk7-style") || ((o = P("style")).id = "svelte-1r46pk7-style",
                            o.textContent = ".setting.svelte-1r46pk7.svelte-1r46pk7{position:relative}.setting-panel.svelte-1r46pk7.svelte-1r46pk7{width:172px;padding:12px 20px}.player-type.svelte-1r46pk7 .label.svelte-1r46pk7{margin-bottom:4px}",
                            x(document.head, o)),
                            Se(l(r), e, at, ot, b, {
                                playerType: 0,
                                onChange: 1
                            }),
                            r
                    }
                    return n
                }()
                    , lt = '<svg id="图层_1" data-name="图层 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36">    <path id="Combined-Shape"    d="M11,10.9,25,11a1.92,1.92,0,0,1,2,1.9V23a2,2,0,0,1-2,2H11a2,2,0,0,1-2-2V13A2.09,2.09,0,0,1,11,10.9ZM13,14a.94.94,0,0,0,1,1h8a1,1,0,0,0,1-1,.94.94,0,0,0-1-1H14A.94.94,0,0,0,13,14Zm-2,4.1a.94.94,0,0,0,1,1h4a1,1,0,0,0,1-1,.94.94,0,0,0-1-1H12C11.4,17,11,17.5,11,18.1ZM12,22a.94.94,0,0,0,1,1h5a1,1,0,0,0,1-1,.94.94,0,0,0-1-1H13A1,1,0,0,0,12,22Zm6-4a.94.94,0,0,0,1,1h1a1,1,0,0,0,0-2H19A.94.94,0,0,0,18,18Z"    style="fill-rule:evenodd;isolation:isolate" /></svg>'
                    , ct = '<svg id="图层_1" data-name="图层 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36">    <path id="Combined-Shape"    d="M25.8,25.85a1,1,0,0,1-1.2,1.6,1.26,1.26,0,0,1-.2-.2l-2.2-2.2H11a2,2,0,0,1-2-2v-10a2.51,2.51,0,0,1,.2-.9l-.4-.4a1,1,0,0,1,.2-1.4,1,1,0,0,1,1.2,0ZM25,11.05a2,2,0,0,1,2,2v10a2.56,2.56,0,0,1-.2.9L21,18.15V18a.94.94,0,0,0-.88-1H19.8l-2-2H22a1.07,1.07,0,0,0,1-.9V14a.94.94,0,0,0-.88-1H15.8l-2-2Zm-7,10H13a1,1,0,1,0,0,2h5a1,1,0,0,0,0-2Zm-3.8-4H12a1,1,0,0,0,0,2h4.2Z"    style="fill-rule:evenodd" /></svg>'
                    , ut = ge.document;
                function dt(e) {
                    var t, n, i, r, o, a, s, l, c, u, h = e[3](e[0]) + "";
                    return {
                        c: function() {
                            t = P("div"),
                                n = P("div"),
                                i = P("div"),
                                r = D(),
                                o = P("div"),
                                a = D(),
                                s = P("div"),
                                l = M(h),
                                V(i, "left", e[7] + "px"),
                                F(i, "class", "slider-handle svelte-19p8uhx"),
                                G(i, "left-trans", !e[6]),
                                V(o, "width", (e[0] - e[2]) / (e[1] - e[2]) * 100 + "%"),
                                F(o, "class", "slider-track svelte-19p8uhx"),
                                G(o, "width-trans", !e[6]),
                                F(n, "class", "slider-rail svelte-19p8uhx"),
                                F(s, "class", "number svelte-19p8uhx"),
                                F(t, "class", "horizontal-slider-wrap svelte-19p8uhx")
                        },
                        m: function(d, h) {
                            L(d, t, h),
                                x(t, n),
                                x(n, i),
                                e[13](i),
                                x(n, r),
                                x(n, o),
                                e[14](n),
                                x(t, a),
                                x(t, s),
                                x(s, l),
                            c || (u = [N(i, "mousedown", e[10]), N(n, "mousedown", e[9]), N(t, "wheel", B(U(e[15])))],
                                c = !0)
                        },
                        p: function(e, t) {
                            var n = d(t, 1)[0];
                            128 & n && V(i, "left", e[7] + "px"),
                            64 & n && G(i, "left-trans", !e[6]),
                            7 & n && V(o, "width", (e[0] - e[2]) / (e[1] - e[2]) * 100 + "%"),
                            64 & n && G(o, "width-trans", !e[6]),
                            9 & n && h !== (h = e[3](e[0]) + "") && j(l, h)
                        },
                        i: p,
                        o: p,
                        d: function(n) {
                            n && R(t),
                                e[13](null),
                                e[14](null),
                                c = !1,
                                m(u)
                        }
                    }
                }
                function ht(e, t, n) {
                    var i, r, o, a, s = t.max, l = void 0 === s ? 100 : s, c = t.min, u = void 0 === c ? 0 : c, d = t.value, h = void 0 === d ? l : d, f = t.onChange, p = void 0 === f ? null : f, v = t.valueFormater, y = void 0 === v ? function(e) {
                            return e
                        }
                        : v, g = !1, m = function(e) {
                        var t = Ue(e, u, l);
                        p ? p(t) : n(0, h = t)
                    };
                    return e.$$set = function(e) {
                        "max"in e && n(1, l = e.max),
                        "min"in e && n(2, u = e.min),
                        "value"in e && n(0, h = e.value),
                        "onChange"in e && n(11, p = e.onChange),
                        "valueFormater"in e && n(3, y = e.valueFormater)
                    }
                        ,
                        e.$$.update = function() {
                            16 & e.$$.dirty && n(12, o = (null == i ? void 0 : i.clientWidth) - 12),
                            4103 & e.$$.dirty && n(7, a = (h - u) / (l - u) * o)
                        }
                        ,
                        [h, l, u, y, i, r, g, a, m, function(e) {
                            e.target !== r && m((e.clientX - i.getBoundingClientRect().left) / o * (l - u) + u - (l - u) / o * 6)
                        }
                            , function(e) {
                            var t = e.clientX
                                , i = h;
                            n(6, g = !0);
                            var r = function(e) {
                                var n = e.clientX - t;
                                m(i + n * ((l - u) / o))
                            };
                            document.addEventListener("mousemove", r),
                                document.addEventListener("mouseup", (function e() {
                                        n(6, g = !1),
                                            document.removeEventListener("mousemove", r),
                                            document.removeEventListener("mouseup", e)
                                    }
                                ))
                        }
                            , p, o, function(e) {
                            J[e ? "unshift" : "push"]((function() {
                                    n(5, r = e)
                                }
                            ))
                        }
                            , function(e) {
                            J[e ? "unshift" : "push"]((function() {
                                    n(4, i = e)
                                }
                            ))
                        }
                            , function(e) {
                            var t = e.deltaY;
                            m(h + Math.ceil(t / 10))
                        }
                        ]
                }
                var ft = function(e) {
                    a(n, Te);
                    var t = u(n);
                    function n(e) {
                        var r, o;
                        return i(this, n),
                            r = t.call(this),
                        ut.getElementById("svelte-19p8uhx-style") || ((o = P("style")).id = "svelte-19p8uhx-style",
                            o.textContent = ".horizontal-slider-wrap.svelte-19p8uhx.svelte-19p8uhx{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.horizontal-slider-wrap.svelte-19p8uhx .number.svelte-19p8uhx{width:31px;-ms-flex-negative:0;flex-shrink:0;margin-left:10px}.horizontal-slider-wrap.svelte-19p8uhx .slider-rail.svelte-19p8uhx{height:2px;-webkit-box-flex:1;-ms-flex:1;flex:1;position:relative;padding:5px 0;background:rgba(255, 255, 255, 0.2);background-clip:content-box;border-radius:10px;cursor:pointer}.horizontal-slider-wrap.svelte-19p8uhx .slider-handle.svelte-19p8uhx{width:12px;height:12px;position:absolute;top:0;z-index:1;border-radius:50%;background-color:#00a1d6}.horizontal-slider-wrap.svelte-19p8uhx .slider-handle.left-trans.svelte-19p8uhx{-webkit-transition:left 0.2s ease-in-out;transition:left 0.2s ease-in-out}.horizontal-slider-wrap.svelte-19p8uhx .slider-track.svelte-19p8uhx{position:absolute;height:2px;background-color:#00a1d6}.horizontal-slider-wrap.svelte-19p8uhx .slider-track.width-trans.svelte-19p8uhx{-webkit-transition:width 0.2s ease-in-out;transition:width 0.2s ease-in-out}",
                            x(ut.head, o)),
                            Se(l(r), e, ht, dt, b, {
                                max: 1,
                                min: 2,
                                value: 0,
                                onChange: 11,
                                valueFormater: 3
                            }),
                            r
                    }
                    return n
                }()
                    , pt = ge.document;
                function vt(e) {
                    var t, n, i, r, o, a, s, l, c, u, h, f;
                    return {
                        c: function() {
                            t = P("div"),
                                n = P("div"),
                                i = D(),
                                (r = P("div")).innerHTML = '<div class="title svelte-xpny31">1/4屏</div>',
                                o = D(),
                                (a = P("div")).innerHTML = '<div class="title svelte-xpny31">半屏</div>',
                                s = D(),
                                (l = P("div")).innerHTML = '<div class="title svelte-xpny31">3/4屏</div>',
                                c = D(),
                                (u = P("div")).innerHTML = '<div class="title svelte-xpny31">全屏</div>',
                                F(n, "class", "handle svelte-xpny31"),
                                V(n, "left", e[1] + "px"),
                                F(r, "class", "step1 svelte-xpny31"),
                                F(a, "class", "step2 svelte-xpny31"),
                                F(l, "class", "step3 svelte-xpny31"),
                                F(u, "class", "step4 svelte-xpny31"),
                                F(t, "class", "steps svelte-xpny31")
                        },
                        m: function(d, p) {
                            L(d, t, p),
                                x(t, n),
                                x(t, i),
                                x(t, r),
                                x(t, o),
                                x(t, a),
                                x(t, s),
                                x(t, l),
                                x(t, c),
                                x(t, u),
                                e[6](t),
                            h || (f = [N(n, "mousedown", e[3]), N(t, "click", e[2])],
                                h = !0)
                        },
                        p: function(e, t) {
                            2 & d(t, 1)[0] && V(n, "left", e[1] + "px")
                        },
                        i: p,
                        o: p,
                        d: function(n) {
                            n && R(t),
                                e[6](null),
                                h = !1,
                                m(f)
                        }
                    }
                }
                function yt(e, t, n) {
                    var i, r, o = t.value, a = void 0 === o ? 4 : o, s = t.onChange, l = void 0 === s ? null : s, c = function(e) {
                        var t = Ue(Math.round(e) + 1, 1, 4);
                        t !== a && (l ? l(t) : n(4, a = t))
                    };
                    return e.$$set = function(e) {
                        "value"in e && n(4, a = e.value),
                        "onChange"in e && n(5, l = e.onChange)
                    }
                        ,
                        e.$$.update = function() {
                            17 & e.$$.dirty && n(1, r = ((null == i ? void 0 : i.clientWidth) - 12) * (Math.round(a - 1) / 3))
                        }
                        ,
                        [i, r, function(e) {
                            c(3 * (e.clientX - i.getBoundingClientRect().left) / i.clientWidth)
                        }
                            , function() {
                            var e = i.getBoundingClientRect().left
                                , t = function(t) {
                                c(3 * (t.clientX - e) / i.clientWidth)
                            };
                            document.addEventListener("mousemove", t),
                                document.addEventListener("mouseup", (function e() {
                                        document.removeEventListener("mousemove", t),
                                            document.removeEventListener("mouseup", e)
                                    }
                                ))
                        }
                            , a, l, function(e) {
                            J[e ? "unshift" : "push"]((function() {
                                    n(0, i = e)
                                }
                            ))
                        }
                        ]
                }
                var gt = function(e) {
                    a(n, Te);
                    var t = u(n);
                    function n(e) {
                        var r, o;
                        return i(this, n),
                            r = t.call(this),
                        pt.getElementById("svelte-xpny31-style") || ((o = P("style")).id = "svelte-xpny31-style",
                            o.textContent = ".steps.svelte-xpny31.svelte-xpny31{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;height:2px;background:rgba(255, 255, 255, 0.2);background-clip:content-box;padding:7px 0;position:relative;cursor:pointer}.step1.svelte-xpny31.svelte-xpny31,.step2.svelte-xpny31.svelte-xpny31,.step3.svelte-xpny31.svelte-xpny31,.step4.svelte-xpny31.svelte-xpny31{-webkit-box-flex:1;-ms-flex:1;flex:1;position:relative}.step1.svelte-xpny31.svelte-xpny31::before,.step2.svelte-xpny31.svelte-xpny31::before,.step3.svelte-xpny31.svelte-xpny31::before,.step4.svelte-xpny31.svelte-xpny31::before{content:'';width:2px;height:4px;background:rgba(255, 255, 255, 0.2);border-radius:2px;position:absolute;-webkit-transform:translateY(-1px);transform:translateY(-1px)}.step2.svelte-xpny31 .title.svelte-xpny31{left:33.333%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.step2.svelte-xpny31.svelte-xpny31::before{left:33.333%}.step3.svelte-xpny31 .title.svelte-xpny31{right:33.333%;-webkit-transform:translateX(50%);transform:translateX(50%)}.step3.svelte-xpny31.svelte-xpny31::before{right:33.333%}.step4.svelte-xpny31 .title.svelte-xpny31{right:0}.step4.step4.svelte-xpny31.svelte-xpny31::before{right:0}.title.svelte-xpny31.svelte-xpny31{position:absolute;top:-21px;color:rgba(255, 255, 255, 0.8)}.handle.svelte-xpny31.svelte-xpny31{position:absolute;top:2px;z-index:1;width:12px;height:12px;border-radius:50%;background:#00a1d6;-webkit-transition:left 0.2s ease-in-out;transition:left 0.2s ease-in-out}",
                            x(pt.head, o)),
                            Se(l(r), e, yt, vt, b, {
                                value: 4,
                                onChange: 5
                            }),
                            r
                    }
                    return n
                }();
                function mt(e) {
                    var t, n, i, r, o, a, s, l, c, u, d, h, f, p, v, y, g, m, _, b, E, S, T;
                    a = new ft({
                        props: {
                            value: e[0].opacity,
                            onChange: e[7],
                            min: 10,
                            max: 100,
                            valueFormater: e[3]
                        }
                    }),
                        d = new ft({
                            props: {
                                value: e[0].fontScale,
                                onChange: e[8],
                                min: 10,
                                max: 200,
                                valueFormater: e[3]
                            }
                        }),
                        y = new ft({
                            props: {
                                value: e[0].density,
                                onChange: e[9],
                                min: 10,
                                max: 100,
                                valueFormater: e[3]
                            }
                        }),
                        E = new gt({
                            props: {
                                value: e[0].area,
                                onChange: e[10]
                            }
                        });
                    var w = e[0].showMaskOption && _t(e);
                    return {
                        c: function() {
                            t = P("div"),
                                n = P("div"),
                                i = P("div"),
                                (r = P("div")).textContent = "不透明度",
                                o = D(),
                                me(a.$$.fragment),
                                s = D(),
                                l = P("div"),
                                (c = P("div")).textContent = "字号缩放",
                                u = D(),
                                me(d.$$.fragment),
                                h = D(),
                                f = P("div"),
                                (p = P("div")).textContent = "同屏密度",
                                v = D(),
                                me(y.$$.fragment),
                                g = D(),
                                m = P("div"),
                                (_ = P("div")).textContent = "显示区域",
                                b = D(),
                                me(E.$$.fragment),
                                S = D(),
                            w && w.c(),
                                F(r, "class", "item-title svelte-15b8sms"),
                                F(i, "class", "item svelte-15b8sms"),
                                F(c, "class", "item-title svelte-15b8sms"),
                                F(l, "class", "item svelte-15b8sms"),
                                F(p, "class", "item-title svelte-15b8sms"),
                                F(f, "class", "item svelte-15b8sms"),
                                F(n, "class", "base-setting svelte-15b8sms"),
                                F(_, "class", "item-title svelte-15b8sms"),
                                F(m, "class", "area-setting svelte-15b8sms"),
                                F(t, "class", "panel danmaku-control svelte-15b8sms")
                        },
                        m: function(e, C) {
                            L(e, t, C),
                                x(t, n),
                                x(n, i),
                                x(i, r),
                                x(i, o),
                                _e(a, i, null),
                                x(n, s),
                                x(n, l),
                                x(l, c),
                                x(l, u),
                                _e(d, l, null),
                                x(n, h),
                                x(n, f),
                                x(f, p),
                                x(f, v),
                                _e(y, f, null),
                                x(t, g),
                                x(t, m),
                                x(m, _),
                                x(m, b),
                                _e(E, m, null),
                                x(t, S),
                            w && w.m(t, null),
                                T = !0
                        },
                        p: function(e, n) {
                            var i = {};
                            1 & n && (i.value = e[0].opacity),
                            2 & n && (i.onChange = e[7]),
                                a.$set(i);
                            var r = {};
                            1 & n && (r.value = e[0].fontScale),
                            2 & n && (r.onChange = e[8]),
                                d.$set(r);
                            var o = {};
                            1 & n && (o.value = e[0].density),
                            2 & n && (o.onChange = e[9]),
                                y.$set(o);
                            var s = {};
                            1 & n && (s.value = e[0].area),
                            2 & n && (s.onChange = e[10]),
                                E.$set(s),
                                e[0].showMaskOption ? w ? w.p(e, n) : ((w = _t(e)).c(),
                                    w.m(t, null)) : w && (w.d(1),
                                    w = null)
                        },
                        i: function(e) {
                            T || (fe(a.$$.fragment, e),
                                fe(d.$$.fragment, e),
                                fe(y.$$.fragment, e),
                                fe(E.$$.fragment, e),
                                T = !0)
                        },
                        o: function(e) {
                            pe(a.$$.fragment, e),
                                pe(d.$$.fragment, e),
                                pe(y.$$.fragment, e),
                                pe(E.$$.fragment, e),
                                T = !1
                        },
                        d: function(e) {
                            e && R(t),
                                be(a),
                                be(d),
                                be(y),
                                be(E),
                            w && w.d()
                        }
                    }
                }
                function _t(e) {
                    var t, n, i, r, o, a, s;
                    return {
                        c: function() {
                            t = P("div"),
                                n = P("input"),
                                r = D(),
                                (o = P("label")).textContent = "智能防挡弹幕",
                                F(n, "type", "checkbox"),
                                F(n, "id", "mask"),
                                n.checked = i = e[0].enableMask,
                                F(o, "for", "mask"),
                                F(o, "class", "svelte-15b8sms"),
                                F(t, "class", "other-setting svelte-15b8sms")
                        },
                        m: function(i, l) {
                            L(i, t, l),
                                x(t, n),
                                x(t, r),
                                x(t, o),
                            a || (s = N(n, "click", e[11]),
                                a = !0)
                        },
                        p: function(e, t) {
                            1 & t && i !== (i = e[0].enableMask) && (n.checked = i)
                        },
                        d: function(e) {
                            e && R(t),
                                a = !1,
                                s()
                        }
                    }
                }
                function bt(e) {
                    var t, n, i, r = (e[0].display ? lt : ct) + "";
                    return {
                        c: function() {
                            F(t = P("span"), "class", "icon")
                        },
                        m: function(o, a) {
                            L(o, t, a),
                                t.innerHTML = r,
                            n || (i = N(t, "click", e[12]),
                                n = !0)
                        },
                        p: function(e, n) {
                            1 & n && r !== (r = (e[0].display ? lt : ct) + "") && (t.innerHTML = r)
                        },
                        d: function(e) {
                            e && R(t),
                                n = !1,
                                i()
                        }
                    }
                }
                function Et(e) {
                    var t, n, i, r, o, a, s = e[2] && e[0].display && mt(e);
                    return i = new De({
                        props: {
                            text: e[0].display ? "" : "显示弹幕",
                            $$slots: {
                                default: [bt]
                            },
                            $$scope: {
                                ctx: e
                            }
                        }
                    }),
                        {
                            c: function() {
                                t = P("div"),
                                s && s.c(),
                                    n = D(),
                                    me(i.$$.fragment),
                                    F(t, "class", "danmaku")
                            },
                            m: function(l, c) {
                                L(l, t, c),
                                s && s.m(t, null),
                                    x(t, n),
                                    _e(i, t, null),
                                    r = !0,
                                o || (a = [N(t, "mouseenter", e[13]), N(t, "mouseleave", e[14])],
                                    o = !0)
                            },
                            p: function(e, r) {
                                var o = d(r, 1)[0];
                                e[2] && e[0].display ? s ? (s.p(e, o),
                                5 & o && fe(s, 1)) : ((s = mt(e)).c(),
                                    fe(s, 1),
                                    s.m(t, n)) : s && (de(),
                                    pe(s, 1, 1, (function() {
                                            s = null
                                        }
                                    )),
                                    he());
                                var a = {};
                                1 & o && (a.text = e[0].display ? "" : "显示弹幕"),
                                32771 & o && (a.$$scope = {
                                    dirty: o,
                                    ctx: e
                                }),
                                    i.$set(a)
                            },
                            i: function(e) {
                                r || (fe(s),
                                    fe(i.$$.fragment, e),
                                    r = !0)
                            },
                            o: function(e) {
                                pe(s),
                                    pe(i.$$.fragment, e),
                                    r = !1
                            },
                            d: function(e) {
                                e && R(t),
                                s && s.d(),
                                    be(i),
                                    o = !1,
                                    m(a)
                            }
                        }
                }
                function St(e, t, n) {
                    var i = t.options
                        , r = t.onChange
                        , o = !1
                        , a = function(e) {
                        r("enableMask", e.target.checked)
                    }
                        , s = Be(100)
                        , l = s.onEnter
                        , c = s.onLeave;
                    return e.$$set = function(e) {
                        "options"in e && n(0, i = e.options),
                        "onChange"in e && n(1, r = e.onChange)
                    }
                        ,
                        [i, r, o, function(e) {
                            return "".concat(e, "%")
                        }
                            , a, l, c, function(e) {
                            return r("opacity", e)
                        }
                            , function(e) {
                            return r("fontScale", e)
                        }
                            , function(e) {
                            return r("density", e)
                        }
                            , function(e) {
                            return r("area", e)
                        }
                            , function(e) {
                            return a(e)
                        }
                            , function() {
                            return r("display", !i.display)
                        }
                            , function() {
                            return l((function() {
                                    n(2, o = !0)
                                }
                            ))
                        }
                            , function() {
                            return c((function() {
                                    n(2, o = !1)
                                }
                            ))
                        }
                        ]
                }
                var Tt = function(e) {
                    a(n, Te);
                    var t = u(n);
                    function n(e) {
                        var r, o;
                        return i(this, n),
                            r = t.call(this),
                        document.getElementById("svelte-15b8sms-style") || ((o = P("style")).id = "svelte-15b8sms-style",
                            o.textContent = ".danmaku-control.panel.svelte-15b8sms.svelte-15b8sms{width:298px;padding:20px;-webkit-box-sizing:border-box;box-sizing:border-box;left:auto;right:12px;-webkit-transform:translate(0, -100%);transform:translate(0, -100%)}.base-setting.svelte-15b8sms .item.svelte-15b8sms{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:12px}.item-title.svelte-15b8sms.svelte-15b8sms{margin-right:10px}.area-setting.svelte-15b8sms.svelte-15b8sms{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:26px}.other-setting.svelte-15b8sms.svelte-15b8sms{margin-top:14px}.other-setting.svelte-15b8sms label.svelte-15b8sms{margin-right:20px}",
                            x(document.head, o)),
                            Se(l(r), e, St, Et, b, {
                                options: 0,
                                onChange: 1
                            }),
                            r
                    }
                    return n
                }();
                function wt(e) {
                    var t, n, i, r, o, a, s, l, c, u, d, h, f, p, v, y, g, m = e[9].playStatus && Ct(e), _ = e[9].refresh && At(e), b = e[9].volume && kt(e), E = e[9].time && xt(e), S = e[9].leftSetting && Rt(e), T = e[9].fullScreen && It(e), w = e[9].webFullScreen && Mt(e), C = e[9].danmaku && Ot(e), A = e[9].rightSetting && Nt(e), k = e[9].quality && null != e[4].value && Ut(e);
                    return {
                        c: function() {
                            t = P("div"),
                                n = P("div"),
                                i = P("div"),
                            m && m.c(),
                                r = D(),
                            _ && _.c(),
                                o = D(),
                            b && b.c(),
                                a = D(),
                            E && E.c(),
                                s = D(),
                            S && S.c(),
                                l = D(),
                                c = P("div"),
                            T && T.c(),
                                u = D(),
                            w && w.c(),
                                d = D(),
                            C && C.c(),
                                h = D(),
                            A && A.c(),
                                f = D(),
                            k && k.c(),
                                p = D(),
                                v = P("div"),
                                F(i, "class", "left-area svelte-1cx0wwt"),
                                F(v, "class", "ext-nodes svelte-1cx0wwt"),
                                F(c, "class", "right-area svelte-1cx0wwt"),
                                F(n, "class", "control-area svelte-1cx0wwt"),
                                F(t, "class", "live-web-player-controller svelte-1cx0wwt"),
                                F(t, "style", e[8])
                        },
                        m: function(y, R) {
                            L(y, t, R),
                                x(t, n),
                                x(n, i),
                            m && m.m(i, null),
                                x(i, r),
                            _ && _.m(i, null),
                                x(i, o),
                            b && b.m(i, null),
                                x(i, a),
                            E && E.m(i, null),
                                x(i, s),
                            S && S.m(i, null),
                                x(n, l),
                                x(n, c),
                            T && T.m(c, null),
                                x(c, u),
                            w && w.m(c, null),
                                x(c, d),
                            C && C.m(c, null),
                                x(c, h),
                            A && A.m(c, null),
                                x(c, f),
                            k && k.m(c, null),
                                x(c, p),
                                x(c, v),
                                e[24](v),
                                g = !0
                        },
                        p: function(e, n) {
                            e[9].playStatus ? m ? m.p(e, n) : ((m = Ct(e)).c(),
                                m.m(i, r)) : m && (m.d(1),
                                m = null),
                                e[9].refresh ? _ ? _.p(e, n) : ((_ = At(e)).c(),
                                    _.m(i, o)) : _ && (_.d(1),
                                    _ = null),
                                e[9].volume ? b ? (b.p(e, n),
                                512 & n && fe(b, 1)) : ((b = kt(e)).c(),
                                    fe(b, 1),
                                    b.m(i, a)) : b && (de(),
                                    pe(b, 1, 1, (function() {
                                            b = null
                                        }
                                    )),
                                    he()),
                                e[9].time ? E ? (E.p(e, n),
                                512 & n && fe(E, 1)) : ((E = xt(e)).c(),
                                    fe(E, 1),
                                    E.m(i, s)) : E && (de(),
                                    pe(E, 1, 1, (function() {
                                            E = null
                                        }
                                    )),
                                    he()),
                                e[9].leftSetting ? S ? (S.p(e, n),
                                512 & n && fe(S, 1)) : ((S = Rt(e)).c(),
                                    fe(S, 1),
                                    S.m(i, null)) : S && (de(),
                                    pe(S, 1, 1, (function() {
                                            S = null
                                        }
                                    )),
                                    he()),
                                e[9].fullScreen ? T ? (T.p(e, n),
                                512 & n && fe(T, 1)) : ((T = It(e)).c(),
                                    fe(T, 1),
                                    T.m(c, u)) : T && (de(),
                                    pe(T, 1, 1, (function() {
                                            T = null
                                        }
                                    )),
                                    he()),
                                e[9].webFullScreen ? w ? (w.p(e, n),
                                512 & n && fe(w, 1)) : ((w = Mt(e)).c(),
                                    fe(w, 1),
                                    w.m(c, d)) : w && (de(),
                                    pe(w, 1, 1, (function() {
                                            w = null
                                        }
                                    )),
                                    he()),
                                e[9].danmaku ? C ? (C.p(e, n),
                                512 & n && fe(C, 1)) : ((C = Ot(e)).c(),
                                    fe(C, 1),
                                    C.m(c, h)) : C && (de(),
                                    pe(C, 1, 1, (function() {
                                            C = null
                                        }
                                    )),
                                    he()),
                                e[9].rightSetting ? A ? (A.p(e, n),
                                512 & n && fe(A, 1)) : ((A = Nt(e)).c(),
                                    fe(A, 1),
                                    A.m(c, f)) : A && (de(),
                                    pe(A, 1, 1, (function() {
                                            A = null
                                        }
                                    )),
                                    he()),
                                e[9].quality && null != e[4].value ? k ? (k.p(e, n),
                                528 & n && fe(k, 1)) : ((k = Ut(e)).c(),
                                    fe(k, 1),
                                    k.m(c, p)) : k && (de(),
                                    pe(k, 1, 1, (function() {
                                            k = null
                                        }
                                    )),
                                    he()),
                            (!g || 256 & n) && F(t, "style", e[8])
                        },
                        i: function(e) {
                            g || (fe(b),
                                fe(E),
                                fe(S),
                                fe(T),
                                fe(w),
                                fe(C),
                                fe(A),
                                fe(k),
                                ne((function() {
                                        y || (y = ye(t, Ce, {
                                            duration: 200
                                        }, !0)),
                                            y.run(1)
                                    }
                                )),
                                g = !0)
                        },
                        o: function(e) {
                            pe(b),
                                pe(E),
                                pe(S),
                                pe(T),
                                pe(w),
                                pe(C),
                                pe(A),
                                pe(k),
                            y || (y = ye(t, Ce, {
                                duration: 200
                            }, !1)),
                                y.run(0),
                                g = !1
                        },
                        d: function(n) {
                            n && R(t),
                            m && m.d(),
                            _ && _.d(),
                            b && b.d(),
                            E && E.d(),
                            S && S.d(),
                            T && T.d(),
                            w && w.d(),
                            C && C.d(),
                            A && A.d(),
                            k && k.d(),
                                e[24](null),
                            n && y && y.end()
                        }
                    }
                }
                function Ct(e) {
                    var t, n, i, r = (e[0] ? ke : xe) + "";
                    return {
                        c: function() {
                            F(t = P("span"), "class", "icon")
                        },
                        m: function(o, a) {
                            L(o, t, a),
                                t.innerHTML = r,
                            n || (i = N(t, "click", e[17]),
                                n = !0)
                        },
                        p: function(e, n) {
                            1 & n && r !== (r = (e[0] ? ke : xe) + "") && (t.innerHTML = r)
                        },
                        d: function(e) {
                            e && R(t),
                                n = !1,
                                i()
                        }
                    }
                }
                function At(e) {
                    var t, n, i;
                    return {
                        c: function() {
                            F(t = P("span"), "class", "icon")
                        },
                        m: function(r, o) {
                            L(r, t, o),
                                t.innerHTML = '<?xml version="1.0" encoding="UTF-8"?><svg viewBox="0 0 36 36" version="1.1" xmlns="http://www.w3.org/2000/svg"    xmlns:xlink="http://www.w3.org/1999/xlink">    \x3c!-- Generator: Sketch 63.1 (92452) - https://sketch.com --\x3e            <g id="终稿" stroke="none" stroke-width="1" fill-rule="evenodd" opacity="0.9">        <g id="图标切图" transform="translate(-475.000000, -74.000000)" fill-rule="nonzero">            <g id="编组-3" transform="translate(421.000000, 56.000000)">                <g id="编组-12" transform="translate(54.000000, 18.000000)">                    <g id="icon_刷新" transform="translate(11.000000, 9.000000)">                        <path                            d="M1.1040804,5.51795009 L2.56593636,6.98003284 C2.20442812,7.67167421 2,8.45841034 2,9.29289322 C2,12.054317 4.23857625,14.2928932 7,14.2928932 L7,12.5 C7,12.3673918 7.05267842,12.2402148 7.14644661,12.1464466 C7.34170876,11.9511845 7.65829124,11.9511845 7.85355339,12.1464466 L7.85355339,12.1464466 L10.6464466,14.9393398 C10.8417088,15.134602 10.8417088,15.4511845 10.6464466,15.6464466 L10.6464466,15.6464466 L7.85355339,18.4393398 C7.7597852,18.533108 7.63260824,18.5857864 7.5,18.5857864 C7.22385763,18.5857864 7,18.3619288 7,18.0857864 L7,18.0857864 L7,16.2928932 C3.13400675,16.2928932 0,13.1588865 0,9.29289322 C0,7.90269507 0.405257589,6.6071499 1.1040804,5.51795009 Z M6.85355339,0.146446609 C6.94732158,0.240214799 7,0.367391755 7,0.5 L7,2.29289322 C10.8659932,2.29289322 14,5.42689997 14,9.29289322 C14,10.682663 13.5949921,11.977838 12.8965656,13.0668293 L11.4343158,11.6052711 C11.7956669,10.9137463 12,10.127182 12,9.29289322 C12,6.53146947 9.76142375,4.29289322 7,4.29289322 L7,6.08578644 C7,6.36192881 6.77614237,6.58578644 6.5,6.58578644 C6.36739176,6.58578644 6.2402148,6.53310802 6.14644661,6.43933983 L3.35355339,3.64644661 C3.15829124,3.45118446 3.15829124,3.13460197 3.35355339,2.93933983 L6.14644661,0.146446609 C6.34170876,-0.0488155365 6.65829124,-0.0488155365 6.85355339,0.146446609 Z"                            id="Combined-Shape"></path>                    </g>                </g>            </g>        </g>    </g></svg>',
                            n || (i = N(t, "click", e[18]),
                                n = !0)
                        },
                        p: p,
                        d: function(e) {
                            e && R(t),
                                n = !1,
                                i()
                        }
                    }
                }
                function kt(e) {
                    var t, n;
                    return t = new Ke({
                        props: {
                            disabled: e[3].disabled,
                            value: e[3].value,
                            onChange: e[19]
                        }
                    }),
                        {
                            c: function() {
                                me(t.$$.fragment)
                            },
                            m: function(e, i) {
                                _e(t, e, i),
                                    n = !0
                            },
                            p: function(e, n) {
                                var i = {};
                                8 & n && (i.disabled = e[3].disabled),
                                8 & n && (i.value = e[3].value),
                                    t.$set(i)
                            },
                            i: function(e) {
                                n || (fe(t.$$.fragment, e),
                                    n = !0)
                            },
                            o: function(e) {
                                pe(t.$$.fragment, e),
                                    n = !1
                            },
                            d: function(e) {
                                be(t, e)
                            }
                        }
                }
                function xt(e) {
                    var t, n;
                    return t = new De({
                        props: {
                            text: e[11].tips,
                            $$slots: {
                                default: [Lt]
                            },
                            $$scope: {
                                ctx: e
                            }
                        }
                    }),
                        {
                            c: function() {
                                me(t.$$.fragment)
                            },
                            m: function(e, i) {
                                _e(t, e, i),
                                    n = !0
                            },
                            p: function(e, n) {
                                var i = {};
                                2048 & n && (i.text = e[11].tips),
                                67110912 & n && (i.$$scope = {
                                    dirty: n,
                                    ctx: e
                                }),
                                    t.$set(i)
                            },
                            i: function(e) {
                                n || (fe(t.$$.fragment, e),
                                    n = !0)
                            },
                            o: function(e) {
                                pe(t.$$.fragment, e),
                                    n = !1
                            },
                            d: function(e) {
                                be(t, e)
                            }
                        }
                }
                function Lt(e) {
                    var t, n, i = e[11].value + "";
                    return {
                        c: function() {
                            t = P("span"),
                                n = M(i),
                                F(t, "class", "text")
                        },
                        m: function(e, i) {
                            L(e, t, i),
                                x(t, n)
                        },
                        p: function(e, t) {
                            2048 & t && i !== (i = e[11].value + "") && j(n, i)
                        },
                        d: function(e) {
                            e && R(t)
                        }
                    }
                }
                function Rt(e) {
                    var t, n;
                    return t = new st({
                        props: {
                            onChange: e[13]
                        }
                    }),
                        {
                            c: function() {
                                me(t.$$.fragment)
                            },
                            m: function(e, i) {
                                _e(t, e, i),
                                    n = !0
                            },
                            p: p,
                            i: function(e) {
                                n || (fe(t.$$.fragment, e),
                                    n = !0)
                            },
                            o: function(e) {
                                pe(t.$$.fragment, e),
                                    n = !1
                            },
                            d: function(e) {
                                be(t, e)
                            }
                        }
                }
                function It(e) {
                    var t, n;
                    return t = new De({
                        props: {
                            text: e[1] ? "退出全屏" : "全屏模式",
                            style: "left: auto; right: -80%;",
                            $$slots: {
                                default: [Pt]
                            },
                            $$scope: {
                                ctx: e
                            }
                        }
                    }),
                        {
                            c: function() {
                                me(t.$$.fragment)
                            },
                            m: function(e, i) {
                                _e(t, e, i),
                                    n = !0
                            },
                            p: function(e, n) {
                                var i = {};
                                2 & n && (i.text = e[1] ? "退出全屏" : "全屏模式"),
                                67108866 & n && (i.$$scope = {
                                    dirty: n,
                                    ctx: e
                                }),
                                    t.$set(i)
                            },
                            i: function(e) {
                                n || (fe(t.$$.fragment, e),
                                    n = !0)
                            },
                            o: function(e) {
                                pe(t.$$.fragment, e),
                                    n = !1
                            },
                            d: function(e) {
                                be(t, e)
                            }
                        }
                }
                function Pt(e) {
                    var t, n, i;
                    return {
                        c: function() {
                            F(t = P("span"), "class", "icon")
                        },
                        m: function(r, o) {
                            L(r, t, o),
                                t.innerHTML = '<?xml version="1.0" encoding="UTF-8"?><svg viewBox="0 0 36 36" version="1.1" xmlns="http://www.w3.org/2000/svg"    xmlns:xlink="http://www.w3.org/1999/xlink">    \x3c!-- Generator: Sketch 63.1 (92452) - https://sketch.com --\x3e            <g id="终稿" stroke="none" stroke-width="1" fill-rule="evenodd" opacity="0.9">        <g id="图标切图" transform="translate(-439.000000, -166.000000)">            <g id="编组-3" transform="translate(421.000000, 56.000000)">                <g id="编组-4" transform="translate(18.000000, 110.000000)">                    <g id="icon_全屏" transform="translate(7.000000, 7.000000)">                        <g id="player_fullscreen">                            <path                                d="M11,14 C11.8082096,14 12.5417733,13.6804031 13.0812046,13.160696 L15.805943,18.6107695 C14.4154537,19.4906588 12.7672084,20 11,20 C9.23279163,20 7.58454627,19.4906588 6.19405697,18.6107695 L8.91879538,13.160696 C9.45822673,13.6804031 10.1917904,14 11,14 Z M11,10 C11.5522847,10 12,10.4477153 12,11 L12,11 L12,11.001 L11.9932723,11.1166211 C11.9355072,11.6139598 11.5128358,12 11,12 C10.4477153,12 10,11.5522847 10,11 C10,10.4477153 10.4477153,10 11,10 Z M20,11 L14,11 L14,11 C14,9.8257911 13.3254017,8.80914308 12.3426283,8.31647923 L15.0261034,2.94854495 C17.9753898,4.42620082 20,7.47666388 20,11 Z M6.97389656,2.94854495 L9.65737173,8.31647923 C8.67459834,8.80914308 8,9.8257911 8,11 L2,11 L2,11 C2,7.47666388 4.02461023,4.42620082 6.97389656,2.94854495 Z"                                id="Combined-Shape" fill-rule="nonzero"></path>                        </g>                    </g>                </g>            </g>        </g>    </g></svg>',
                            n || (i = N(t, "click", e[20]),
                                n = !0)
                        },
                        p: p,
                        d: function(e) {
                            e && R(t),
                                n = !1,
                                i()
                        }
                    }
                }
                function Mt(e) {
                    var t, n;
                    return t = new De({
                        props: {
                            text: "".concat(e[2] ? "退出" : "", "网页全屏"),
                            $$slots: {
                                default: [Dt]
                            },
                            $$scope: {
                                ctx: e
                            }
                        }
                    }),
                        {
                            c: function() {
                                me(t.$$.fragment)
                            },
                            m: function(e, i) {
                                _e(t, e, i),
                                    n = !0
                            },
                            p: function(e, n) {
                                var i = {};
                                4 & n && (i.text = "".concat(e[2] ? "退出" : "", "网页全屏")),
                                67108868 & n && (i.$$scope = {
                                    dirty: n,
                                    ctx: e
                                }),
                                    t.$set(i)
                            },
                            i: function(e) {
                                n || (fe(t.$$.fragment, e),
                                    n = !0)
                            },
                            o: function(e) {
                                pe(t.$$.fragment, e),
                                    n = !1
                            },
                            d: function(e) {
                                be(t, e)
                            }
                        }
                }
                function Dt(e) {
                    var t, n, i, r = (e[2] ? Re : Le) + "";
                    return {
                        c: function() {
                            F(t = P("span"), "class", "icon")
                        },
                        m: function(o, a) {
                            L(o, t, a),
                                t.innerHTML = r,
                            n || (i = N(t, "click", e[21]),
                                n = !0)
                        },
                        p: function(e, n) {
                            4 & n && r !== (r = (e[2] ? Re : Le) + "") && (t.innerHTML = r)
                        },
                        d: function(e) {
                            e && R(t),
                                n = !1,
                                i()
                        }
                    }
                }
                function Ot(e) {
                    var t, n;
                    return t = new Tt({
                        props: {
                            options: e[6],
                            onChange: e[22]
                        }
                    }),
                        {
                            c: function() {
                                me(t.$$.fragment)
                            },
                            m: function(e, i) {
                                _e(t, e, i),
                                    n = !0
                            },
                            p: function(e, n) {
                                var i = {};
                                64 & n && (i.options = e[6]),
                                    t.$set(i)
                            },
                            i: function(e) {
                                n || (fe(t.$$.fragment, e),
                                    n = !0)
                            },
                            o: function(e) {
                                pe(t.$$.fragment, e),
                                    n = !1
                            },
                            d: function(e) {
                                be(t, e)
                            }
                        }
                }
                function Nt(e) {
                    var t, n;
                    return t = new st({
                        props: {
                            onChange: e[13]
                        }
                    }),
                        {
                            c: function() {
                                me(t.$$.fragment)
                            },
                            m: function(e, i) {
                                _e(t, e, i),
                                    n = !0
                            },
                            p: p,
                            i: function(e) {
                                n || (fe(t.$$.fragment, e),
                                    n = !0)
                            },
                            o: function(e) {
                                pe(t.$$.fragment, e),
                                    n = !1
                            },
                            d: function(e) {
                                be(t, e)
                            }
                        }
                }
                function Ut(e) {
                    var t, n;
                    return t = new it({
                        props: {
                            qualityList: e[4].list,
                            quality: e[4].value,
                            lineList: e[5].list,
                            line: e[5].value,
                            onChange: e[23]
                        }
                    }),
                        {
                            c: function() {
                                me(t.$$.fragment)
                            },
                            m: function(e, i) {
                                _e(t, e, i),
                                    n = !0
                            },
                            p: function(e, n) {
                                var i = {};
                                16 & n && (i.qualityList = e[4].list),
                                16 & n && (i.quality = e[4].value),
                                32 & n && (i.lineList = e[5].list),
                                32 & n && (i.line = e[5].value),
                                    t.$set(i)
                            },
                            i: function(e) {
                                n || (fe(t.$$.fragment, e),
                                    n = !0)
                            },
                            o: function(e) {
                                pe(t.$$.fragment, e),
                                    n = !1
                            },
                            d: function(e) {
                                be(t, e)
                            }
                        }
                }
                function Bt(e) {
                    var t, n, i = e[7] && wt(e);
                    return {
                        c: function() {
                            i && i.c(),
                                t = O()
                        },
                        m: function(e, r) {
                            i && i.m(e, r),
                                L(e, t, r),
                                n = !0
                        },
                        p: function(e, n) {
                            var r = d(n, 1)[0];
                            e[7] ? i ? (i.p(e, r),
                            128 & r && fe(i, 1)) : ((i = wt(e)).c(),
                                fe(i, 1),
                                i.m(t.parentNode, t)) : i && (de(),
                                pe(i, 1, 1, (function() {
                                        i = null
                                    }
                                )),
                                he())
                        },
                        i: function(e) {
                            n || (fe(i),
                                n = !0)
                        },
                        o: function(e) {
                            pe(i),
                                n = !1
                        },
                        d: function(e) {
                            i && i.d(e),
                            e && R(t)
                        }
                    }
                }
                function Ft(e, t, n) {
                    var i, r = t.onChange, o = t.show, a = t.style, s = void 0 === a ? "" : a, l = t.ctrlItemVisibility, c = void 0 === l ? {
                        playStatus: !0,
                        volume: !0,
                        time: !0,
                        refresh: !0,
                        leftSetting: !1,
                        quality: !0,
                        danmaku: !0,
                        rightSetting: !0,
                        fullScreen: !0,
                        webFullScreen: !0
                    } : l, u = t.playStatus, d = void 0 !== u && u, h = t.fullScreenStatus, f = void 0 !== h && h, p = t.webFullScreenStatus, v = void 0 !== p && p, y = t.onRefresh, g = t.time, m = void 0 === g ? {
                        value: "",
                        tips: ""
                    } : g, _ = t.volume, b = void 0 === _ ? {
                        disabled: !1,
                        value: 50
                    } : _, E = t.quality, S = t.line, T = t.danmaku, w = void 0 === T ? {
                        display: !0,
                        opacity: 100,
                        fontScale: 100,
                        density: 100,
                        enableMask: !0,
                        showMaskOption: !1,
                        area: 4
                    } : T, C = t.playerType, A = void 0 === C ? "html5" : C, k = new Set, x = function(e, t) {
                        if (!1 !== r(e, t))
                            switch (e) {
                                case "playStatus":
                                    n(0, d = t);
                                    break;
                                case "volume":
                                    n(3, b = Object.assign({}, b, t));
                                    break;
                                case "quality":
                                    n(4, E.value = t, E);
                                    break;
                                case "line":
                                    n(5, S.value = t, S);
                                    break;
                                case "playerType":
                                    n(14, A = t);
                                    break;
                                case "danmaku":
                                    n(6, w = Object.assign({}, w, t));
                                    break;
                                case "fullScreenStatus":
                                    n(1, f = t);
                                    break;
                                case "webFullScreenStatus":
                                    n(2, v = t)
                            }
                    };
                    return e.$$set = function(e) {
                        "onChange"in e && n(15, r = e.onChange),
                        "show"in e && n(7, o = e.show),
                        "style"in e && n(8, s = e.style),
                        "ctrlItemVisibility"in e && n(9, c = e.ctrlItemVisibility),
                        "playStatus"in e && n(0, d = e.playStatus),
                        "fullScreenStatus"in e && n(1, f = e.fullScreenStatus),
                        "webFullScreenStatus"in e && n(2, v = e.webFullScreenStatus),
                        "onRefresh"in e && n(10, y = e.onRefresh),
                        "time"in e && n(11, m = e.time),
                        "volume"in e && n(3, b = e.volume),
                        "quality"in e && n(4, E = e.quality),
                        "line"in e && n(5, S = e.line),
                        "danmaku"in e && n(6, w = e.danmaku),
                        "playerType"in e && n(14, A = e.playerType)
                    }
                        ,
                        e.$$.update = function() {
                            4224 & e.$$.dirty && o && i && k.forEach((function(e) {
                                    i.appendChild(e)
                                }
                            ))
                        }
                        ,
                        [d, f, v, b, E, S, w, o, s, c, y, m, i, x, A, r, function(e) {
                            return k.add(e),
                            i && i.appendChild(e),
                                function() {
                                    k.delete(e),
                                        i.removeChild(e)
                                }
                        }
                            , function() {
                            return x("playStatus", !d)
                        }
                            , function() {
                            var e;
                            return null === (e = y) || void 0 === e ? void 0 : e()
                        }
                            , function(e) {
                            return x("volume", e)
                        }
                            , function() {
                            return x("fullScreenStatus", !f)
                        }
                            , function() {
                            return x("webFullScreenStatus", !v)
                        }
                            , function(e, t) {
                            return x("danmaku", (r = t,
                                (i = e)in (n = {}) ? Object.defineProperty(n, i, {
                                    value: r,
                                    enumerable: !0,
                                    configurable: !0,
                                    writable: !0
                                }) : n[i] = r,
                                n));
                            var n, i, r
                        }
                            , function(e, t) {
                            return x(e, t)
                        }
                            , function(e) {
                            J[e ? "unshift" : "push"]((function() {
                                    n(12, i = e)
                                }
                            ))
                        }
                        ]
                }
                var zt = function(e) {
                    a(n, Te);
                    var t = u(n);
                    function n(e) {
                        var r, o;
                        return i(this, n),
                            r = t.call(this),
                        document.getElementById("svelte-1cx0wwt-style") || ((o = P("style")).id = "svelte-1cx0wwt-style",
                            o.textContent = ".live-web-player-controller.svelte-1cx0wwt.svelte-1cx0wwt{height:56px;background-image:-webkit-gradient(linear, left top, left bottom, from(rgba(0, 0, 0, 0)), to(rgba(0, 0, 0, 0.7)));background-image:linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.7) 100%);position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.live-web-player-controller.svelte-1cx0wwt .control-area.svelte-1cx0wwt{position:absolute;bottom:3px;left:0;right:0;padding:0 12px;color:#fff;height:36px;font-size:12px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.live-web-player-controller.svelte-1cx0wwt .control-area .left-area.svelte-1cx0wwt,.live-web-player-controller.svelte-1cx0wwt .control-area .right-area.svelte-1cx0wwt{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex}.live-web-player-controller.svelte-1cx0wwt .control-area .right-area.svelte-1cx0wwt{-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.live-web-player-controller.svelte-1cx0wwt .control-area .ext-nodes.svelte-1cx0wwt{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.live-web-player-controller.svelte-1cx0wwt .panel{position:absolute;left:50%;-webkit-transform:translate(-50%, -100%);transform:translate(-50%, -100%);opacity:0.9;background-color:rgba(33, 33, 33, 0.9);color:rgba(255, 255, 255, 0.9);border-radius:4px;z-index:100}.live-web-player-controller.svelte-1cx0wwt .icon{display:inline-block;width:36px;height:36px;cursor:pointer}.live-web-player-controller.svelte-1cx0wwt .icon svg{fill:rgba(255, 255, 255, 0.9)}.live-web-player-controller.svelte-1cx0wwt .icon svg:hover{fill:#fff}.live-web-player-controller.svelte-1cx0wwt .text{line-height:36px;padding:0 6px;color:rgba(255, 255, 255, 0.9);cursor:pointer}.live-web-player-controller.svelte-1cx0wwt .text:hover{color:#fff}.live-web-player-controller.svelte-1cx0wwt input[type='radio']{width:16px;height:16px;visibility:hidden;position:absolute;margin:0}.live-web-player-controller.svelte-1cx0wwt input[type='radio']+label{position:relative;margin:0 12px 0 20px;line-height:16px;cursor:pointer}.live-web-player-controller.svelte-1cx0wwt input[type='radio']+label::before{display:inline-block;position:absolute;left:-20px;width:16px;height:16px;border-radius:50%;vertical-align:text-bottom;-webkit-box-sizing:border-box;box-sizing:border-box;background:rgba(227, 232, 236, 0.1);border:1px solid #757575;content:''}.live-web-player-controller.svelte-1cx0wwt input[type='radio']:checked+label::before{border:1px solid #23ade5;background-color:#23ade5}.live-web-player-controller.svelte-1cx0wwt input[type='radio']:checked+label::after{content:'';position:absolute;width:16px;height:16px;border:4px solid #212121;-webkit-box-sizing:border-box;box-sizing:border-box;left:-20px;-webkit-transform:scale(0.8);transform:scale(0.8);border-radius:50%}.live-web-player-controller.svelte-1cx0wwt input[type='checkbox']{width:12px;height:12px;visibility:hidden;position:absolute;margin:0}.live-web-player-controller.svelte-1cx0wwt input[type='checkbox']+label{position:relative;margin-left:18px;cursor:pointer}.live-web-player-controller.svelte-1cx0wwt input[type='checkbox']+label::before{content:'';position:absolute;top:50%;left:-18px;-webkit-transform:translateY(-50%);transform:translateY(-50%);height:12px;width:12px;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:rgba(0, 0, 0, 0);border:1px solid rgba(255, 255, 255, 0.9);border-radius:2px}.live-web-player-controller.svelte-1cx0wwt input[type='checkbox']:checked+label::before{background-color:#23ade5;border:none}.live-web-player-controller.svelte-1cx0wwt input[type='checkbox']:checked+label::after{content:'';position:absolute;left:-17px;top:calc(50% - 2px);width:2px;height:6px;border:solid #2b2b2b;border-width:0 2px 2px 0;-webkit-transform:rotate(45deg) translateY(-50%);transform:rotate(45deg) translateY(-50%);border-radius:2px}",
                            x(document.head, o)),
                            Se(l(r), e, Ft, Bt, b, {
                                onChange: 15,
                                show: 7,
                                style: 8,
                                ctrlItemVisibility: 9,
                                playStatus: 0,
                                fullScreenStatus: 1,
                                webFullScreenStatus: 2,
                                onRefresh: 10,
                                time: 11,
                                volume: 3,
                                quality: 4,
                                line: 5,
                                danmaku: 6,
                                playerType: 14,
                                appendCtrlItem: 16
                            }),
                            r
                    }
                    return o(n, [{
                        key: "onChange",
                        get: function() {
                            return this.$$.ctx[15]
                        },
                        set: function(e) {
                            this.$set({
                                onChange: e
                            }),
                                ae()
                        }
                    }, {
                        key: "show",
                        get: function() {
                            return this.$$.ctx[7]
                        },
                        set: function(e) {
                            this.$set({
                                show: e
                            }),
                                ae()
                        }
                    }, {
                        key: "style",
                        get: function() {
                            return this.$$.ctx[8]
                        },
                        set: function(e) {
                            this.$set({
                                style: e
                            }),
                                ae()
                        }
                    }, {
                        key: "ctrlItemVisibility",
                        get: function() {
                            return this.$$.ctx[9]
                        },
                        set: function(e) {
                            this.$set({
                                ctrlItemVisibility: e
                            }),
                                ae()
                        }
                    }, {
                        key: "playStatus",
                        get: function() {
                            return this.$$.ctx[0]
                        },
                        set: function(e) {
                            this.$set({
                                playStatus: e
                            }),
                                ae()
                        }
                    }, {
                        key: "fullScreenStatus",
                        get: function() {
                            return this.$$.ctx[1]
                        },
                        set: function(e) {
                            this.$set({
                                fullScreenStatus: e
                            }),
                                ae()
                        }
                    }, {
                        key: "webFullScreenStatus",
                        get: function() {
                            return this.$$.ctx[2]
                        },
                        set: function(e) {
                            this.$set({
                                webFullScreenStatus: e
                            }),
                                ae()
                        }
                    }, {
                        key: "onRefresh",
                        get: function() {
                            return this.$$.ctx[10]
                        },
                        set: function(e) {
                            this.$set({
                                onRefresh: e
                            }),
                                ae()
                        }
                    }, {
                        key: "time",
                        get: function() {
                            return this.$$.ctx[11]
                        },
                        set: function(e) {
                            this.$set({
                                time: e
                            }),
                                ae()
                        }
                    }, {
                        key: "volume",
                        get: function() {
                            return this.$$.ctx[3]
                        },
                        set: function(e) {
                            this.$set({
                                volume: e
                            }),
                                ae()
                        }
                    }, {
                        key: "quality",
                        get: function() {
                            return this.$$.ctx[4]
                        },
                        set: function(e) {
                            this.$set({
                                quality: e
                            }),
                                ae()
                        }
                    }, {
                        key: "line",
                        get: function() {
                            return this.$$.ctx[5]
                        },
                        set: function(e) {
                            this.$set({
                                line: e
                            }),
                                ae()
                        }
                    }, {
                        key: "danmaku",
                        get: function() {
                            return this.$$.ctx[6]
                        },
                        set: function(e) {
                            this.$set({
                                danmaku: e
                            }),
                                ae()
                        }
                    }, {
                        key: "playerType",
                        get: function() {
                            return this.$$.ctx[14]
                        },
                        set: function(e) {
                            this.$set({
                                playerType: e
                            }),
                                ae()
                        }
                    }, {
                        key: "appendCtrlItem",
                        get: function() {
                            return this.$$.ctx[16]
                        }
                    }]),
                        n
                }();
                t.default = zt
            }
                .call(this, n(10))
    }
    , function(e, t) {
        e.exports = "data:image/svg+xml;base64,PHN2ZyBpZD0i5Zu+5bGCXzEiIGRhdGEtbmFtZT0i5Zu+5bGCIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDM2IDM2Ij4KICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgLmNscy0xIHsKICAgICAgICBmaWxsOiAjZmZmOwogICAgICAgIGZpbGwtcnVsZTogZXZlbm9kZDsKICAgICAgICBmaWx0ZXI6IHVybCgjc2hhZG93KTsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPGRlZnM+CiAgICA8ZmlsdGVyIGlkPSJzaGFkb3ciPgogICAgICA8ZmVEcm9wU2hhZG93IGR4PSIwLjMiIGR5PSIwLjMiIHN0ZERldmlhdGlvbj0iMC42IiAvPgogICAgPC9maWx0ZXI+CiAgPC9kZWZzPgogIDx0aXRsZT7lj43ppohAMXg8L3RpdGxlPgogIDxwYXRoIGNsYXNzPSJjbHMtMSIKICAgIGQ9Ik0yNCwxMEgxMmEyLDIsMCwwLDAtMiwyVjI2bDMtM0gyNGEyLDIsMCwwLDAsMi0yVjEyQTIsMiwwLDAsMCwyNCwxMFpNMTksMjFIMTdWMTloMlptMS4xOS00LjM4YTIsMiwwLDAsMC0uMTguMTVsLS4zNy4zMWMtLjQ5LjQtLjY0LjU4LS42NC45MkgxN2MwLTEuODQsMi0xLjc2LDItM2ExLDEsMCwwLDAtMS0xLDEsMSwwLDAsMC0uODEuNDEuOS45LDAsMCwwLS4xMS4yNC41LjUsMCwwLDEtLjQ4LjM1aC0xYS41LjUsMCwwLDEtLjUtLjUuMjguMjgsMCwwLDEsMC0uMDksMy4xNywzLjE3LDAsMCwxLC4yMS0uNzJBMywzLDAsMCwxLDIxLDE1LDIuMTQsMi4xNCwwLDAsMSwyMC4xOSwxNi42MloiIC8+Cjwvc3ZnPg=="
    }
    , function(e, t, n) {
        "use strict";
        var i = this && this.__awaiter || function(e, t, n, i) {
                return new (n || (n = Promise))((function(r, o) {
                        function a(e) {
                            try {
                                l(i.next(e))
                            } catch (e) {
                                o(e)
                            }
                        }
                        function s(e) {
                            try {
                                l(i.throw(e))
                            } catch (e) {
                                o(e)
                            }
                        }
                        function l(e) {
                            e.done ? r(e.value) : new n((function(t) {
                                    t(e.value)
                                }
                            )).then(a, s)
                        }
                        l((i = i.apply(e, t || [])).next())
                    }
                ))
            }
            , r = this && this.__generator || function(e, t) {
                var n, i, r, o, a = {
                    label: 0,
                    sent: function() {
                        if (1 & r[0])
                            throw r[1];
                        return r[1]
                    },
                    trys: [],
                    ops: []
                };
                return o = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                },
                "function" == typeof Symbol && (o[Symbol.iterator] = function() {
                        return this
                    }
                ),
                    o;
                function s(o) {
                    return function(s) {
                        return function(o) {
                            if (n)
                                throw new TypeError("Generator is already executing.");
                            for (; a; )
                                try {
                                    if (n = 1,
                                    i && (r = 2 & o[0] ? i.return : o[0] ? i.throw || ((r = i.return) && r.call(i),
                                        0) : i.next) && !(r = r.call(i, o[1])).done)
                                        return r;
                                    switch (i = 0,
                                    r && (o = [2 & o[0], r.value]),
                                        o[0]) {
                                        case 0:
                                        case 1:
                                            r = o;
                                            break;
                                        case 4:
                                            return a.label++,
                                                {
                                                    value: o[1],
                                                    done: !1
                                                };
                                        case 5:
                                            a.label++,
                                                i = o[1],
                                                o = [0];
                                            continue;
                                        case 7:
                                            o = a.ops.pop(),
                                                a.trys.pop();
                                            continue;
                                        default:
                                            if (!(r = a.trys,
                                            (r = r.length > 0 && r[r.length - 1]) || 6 !== o[0] && 2 !== o[0])) {
                                                a = 0;
                                                continue
                                            }
                                            if (3 === o[0] && (!r || o[1] > r[0] && o[1] < r[3])) {
                                                a.label = o[1];
                                                break
                                            }
                                            if (6 === o[0] && a.label < r[1]) {
                                                a.label = r[1],
                                                    r = o;
                                                break
                                            }
                                            if (r && a.label < r[2]) {
                                                a.label = r[2],
                                                    a.ops.push(o);
                                                break
                                            }
                                            r[2] && a.ops.pop(),
                                                a.trys.pop();
                                            continue
                                    }
                                    o = t.call(e, a)
                                } catch (e) {
                                    o = [6, e],
                                        i = 0
                                } finally {
                                    n = r = 0
                                }
                            if (5 & o[0])
                                throw o[1];
                            return {
                                value: o[0] ? o[1] : void 0,
                                done: !0
                            }
                        }([o, s])
                    }
                }
            }
            , o = this && this.__importDefault || function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            , a = this && this.__importStar || function(e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        Object.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                return t.default = e,
                    t
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var s = o(n(5))
            , l = a(n(0))
            , c = o(n(1))
            , u = o(n(2))
            , d = o(n(11))
            , h = o(n(8))
            , f = o(n(3))
            , p = n(48)
            , v = function() {
            function e(e, t) {
                this._player = e,
                    this._options = t,
                    this._SERVER_CALLBACK_QUEUE = [],
                    this._RENDER_INTERVAL_TIME = 2e3,
                    this._TRACK_WS_CONNECT_ERROR_STATUS = !0,
                    this.state = {
                        onlineCount: 0,
                        blockTypeList: []
                    }
            }
            return e.prototype.init = function() {
                this._initialize(),
                    this._renderServerCallback()
            }
                ,
                e.prototype.destroy = function() {
                    window.clearTimeout(this._TIMEOUT_SERVER_CALLBACK),
                        window.clearTimeout(this._TIMEOUT_SERVER_CALLBACK_ADD),
                    this._ws && this._ws.destroy()
                }
                ,
                e.prototype.initHeartBeatReply = function() {
                    this._heartBeatReply()
                }
                ,
                e.prototype._initialize = function() {
                    var e = this;
                    if (u.default.log("WebSocket Initializing.."),
                        this._player.state.destroying)
                        u.default.log("WebSocket Abort..");
                    else {
                        this._ws && (u.default.log("Clear old WebSocket.."),
                            this._ws.destroy());
                        var t = this._player.config
                            , n = t.protocol.websocket
                            , i = t.server || "broadcastlv.chat.bilibili.com"
                            , r = t.hostList
                            , o = t.protocol.port || 2243
                            , a = t.socketToken;
                        if (i || r) {
                            var c = n + "//" + i + ":" + o + "/sub";
                            this._ws = new p({
                                url: c,
                                urlList: r.map((function(e) {
                                        return n + "//" + e + ":" + o + "/sub"
                                    }
                                )),
                                rid: t.rid,
                                uid: t.uid,
                                protover: t.protover || 0,
                                retry: !0,
                                retryConnectCount: r.length,
                                retryInterval: 0,
                                customAuthParam: [{
                                    type: "string",
                                    key: "platform",
                                    value: "web"
                                }, {
                                    type: "string",
                                    key: "clientver",
                                    value: s.default.VERSION().version
                                }, {
                                    type: "number",
                                    key: "type",
                                    value: 2
                                }, {
                                    type: "string",
                                    key: "key",
                                    value: a
                                }],
                                onOpen: function() {
                                    u.default.log("WebSocket On Open. rid:" + t.rid)
                                },
                                onClose: function() {
                                    u.default.log("WebSocket On Close.")
                                },
                                onError: function(e) {
                                    var t = "";
                                    try {
                                        t = e.target.url
                                    } catch (e) {
                                        console.error(e)
                                    }
                                    u.default.log("WebSocket On Error. url: " + t, 2)
                                },
                                onInitialized: function() {
                                    u.default.log("WebSocket Initialized.")
                                },
                                onReceivedMessage: function(t, n) {
                                    e._messageReply(t),
                                    n > 0 && e.ackMsg(n)
                                },
                                onHeartBeatReply: function(t) {
                                    e._heartBeatReply(t)
                                },
                                onReceiveAuthRes: function(t) {
                                    e.handleAuthRes(t)
                                },
                                onListConnectError: function() {
                                    u.default.log("WebSocket On List Connect Error.", 2),
                                    e._TRACK_WS_CONNECT_ERROR_STATUS && (e._TRACK_WS_CONNECT_ERROR_STATUS = !1,
                                        e._player.track(l.TRACK.ERROR_CONNECTING_WEBSOCKET))
                                },
                                fallback: function() {
                                    u.default.log("WebSocket Supporting Error.", 2)
                                }
                            })
                        }
                    }
                }
                ,
                e.prototype.ackMsg = function(e) {
                    c.default.ajax({
                        url: f.default.ackMessage,
                        type: "post",
                        data: {
                            terminal: 0,
                            sequence: e
                        }
                    })
                }
                ,
                e.prototype._messageReply = function(t) {
                    var n = this
                        , i = this._player
                        , r = i.config
                        , o = i.state
                        , a = r.rnd.toString()
                        , s = !0;
                    if (t instanceof Array)
                        t.forEach((function(e) {
                                n._messageReply(e)
                            }
                        ));
                    else if (t && t instanceof Object) {
                        t.msg;
                        if (r.useType === l.default.PLAYER_HOME && -1 === e.HOME_PLAYER_MSG.indexOf(t.cmd))
                            return;
                        var p = this.checkCmdPermission(t.cmd)
                            , v = p.type
                            , y = p.shouldIgnore;
                        switch (p.hasCheckNum && (t.cmd = v),
                            t.cmd) {
                            case l.STATE_STRING.WS_MESSAGE_DANMAKU:
                                var g = t.info
                                    , m = {
                                    mode: g[0][1],
                                    size: g[0][2],
                                    color: g[0][3],
                                    dmid: g[0][5],
                                    text: g[1],
                                    ignore: parseInt(g[2][0], 10) === r.uid && g[0][5].toString() === a,
                                    type: parseInt(g[0][9], 10) || 0
                                }
                                    , _ = {
                                    stime: -1,
                                    mode: m.mode,
                                    size: m.size,
                                    color: m.color,
                                    date: c.default.getTimeNow(!0),
                                    uid: g[2][0],
                                    dmid: m.dmid,
                                    text: m.text,
                                    uname: g[2][1],
                                    user: {
                                        level: g[4][0],
                                        rank: g[2][5],
                                        verify: !!g[2][6]
                                    },
                                    checkInfo: {
                                        ts: g[9].ts,
                                        ct: g[9].ct
                                    },
                                    type: m.type
                                };
                                if (s = !1,
                                    y.danmaku) {
                                    (s = !y.callback) && (s = !i.checkDanmakuBlockStatus(_));
                                    break
                                }
                                m.ignore || (s = !i.checkDanmakuBlockStatus(_)) && i.addDanmaku(_),
                                y.callback && (s = !1),
                                    g = null,
                                    m = null,
                                    _ = null;
                                break;
                            case l.STATE_STRING.WS_MESSAGE_SEND_GIFT:
                                this._player.state.onMini && (s = !1);
                                var b = t.data
                                    , E = [];
                                if (E[l.default.DANMAKU_GIFT_666] = "666",
                                    E[l.default.DANMAKU_GIFT_233] = "233",
                                    E[l.default.DANMAKU_GIFT_FFF] = "FFF",
                                r.uid === b.uid && a === b.rnd.toString() && (s = !1),
                                1 === Number(b.effect) && s) {
                                    var S = d.default.getSendGiftHtml(parseInt(b.giftId, 10), parseInt(b.num, 10));
                                    S && i.addDanmaku({
                                        html: S,
                                        stime: -1,
                                        mode: 1,
                                        size: 25,
                                        color: 16777215,
                                        date: c.default.getTimeNow(!0),
                                        uid: b.uid,
                                        text: E[b.giftId]
                                    })
                                }
                                break;
                            case l.STATE_STRING.WS_MESSAGE_LIVE:
                                if (o.isStopPlayback)
                                    break;
                                if (!(i.getLiveStatus() !== l.default.L_STATUS_LIVE || i._playbackTmpState && i._playbackTmpState.liveEndTime))
                                    return;
                                i.resetStartTime(),
                                    i.state.lastOpState = l.default.LAST_OP_STATE_WS_LIVE,
                                    i.event.emit(l.EVENT.ON_LIVE),
                                    i.playingStatusSync(),
                                i.state.isPlaybacking && i.resetPlaybackController();
                                break;
                            case l.STATE_STRING.WS_MESSAGE_ROUND:
                                o.isStopPlayback || i.event.emit(l.EVENT.ON_ROUND);
                                break;
                            case l.STATE_STRING.HOT_ROOM_NOTIFY:
                                if (t.data && t.data.random_delay_req_v2 && "[object Array]" === Object.prototype.toString.apply(t.data.random_delay_req_v2)) {
                                    var T = Date.now() + 1e3 * parseInt(t.data.ttl, 10);
                                    if (isNaN(T)) {
                                        u.default.log("ttl error: " + t.data.ttl, 2);
                                        break
                                    }
                                    t.data.random_delay_req_v2.forEach((function(e) {
                                            var t = {
                                                time: Math.floor(Math.random() * e.delay),
                                                expires: T
                                            };
                                            switch (e.path) {
                                                case f.default.PATH.roundPlayUrl:
                                                    i.state.delay.roundPlayUrl = t;
                                                    break;
                                                case f.default.PATH.recommend:
                                                    i.state.delay.recommend = t
                                            }
                                        }
                                    ))
                                }
                                break;
                            case l.STATE_STRING.WS_MESSAGE_PREPARING:
                                if (o.isStopPlayback)
                                    break;
                                var w = function() {
                                    i.changeUrlGuid(),
                                        i.refreshPausedTime(!1),
                                        i.refreshPlayingTime(!0),
                                        i.destoryVideoMaskImgae(),
                                        t.round ? i.event.emit(l.EVENT.ON_PRE_ROUND, 300) : i.event.emit(l.EVENT.ON_PREPARING)
                                };
                                i.state.isPlaybacking ? (i._playbackTmpState.liveEndTime = Math.floor(Date.now() / 1e3),
                                    i._playbackTmpState.liveEndCallback = w) : w();
                                break;
                            case l.STATE_STRING.WS_MESSAGE_END:
                                if (o.isStopPlayback)
                                    break;
                                var C = function() {
                                    i.setLiveStatus(l.default.L_STATUS_PREPARING),
                                        i.end()
                                };
                                i.state.isPlaybacking ? (i._playbackTmpState.liveEndTime = Math.floor(Date.now() / 1e3),
                                    i._playbackTmpState.liveEndCallback = C) : C();
                                break;
                            case l.STATE_STRING.WS_MESSAGE_CLOSE:
                                if (o.isStopPlayback)
                                    break;
                                var A = function() {
                                    i.setLiveStatus(l.default.L_CLOSE),
                                        i.end()
                                };
                                i.state.isPlaybacking ? (i._playbackTmpState.liveEndTime = Math.floor(Date.now() / 1e3),
                                    i._playbackTmpState.liveEndCallback = A) : A();
                                break;
                            case l.STATE_STRING.WS_MESSAGE_BLOCK:
                                i.setLiveStatus(l.default.L_BLOCK),
                                    i.end();
                                break;
                            case l.STATE_STRING.WS_MESSAGE_REFRESH:
                                o.isStopPlayback || (i.state.lastOpState = l.default.LAST_OP_STATE_WS_REFRESH,
                                    i.reload(l.default.LIVE_URL, 4, !0));
                                break;
                            case l.STATE_STRING.WS_ROOM_LIMIT:
                                setTimeout((function() {
                                        i && i.requestRoomInit((function(e) {
                                                e.code === h.default.ROOM_AREA_LIMIT_CODE && i.forbidden(!1, e.msg)
                                            }
                                        ))
                                    }
                                ), 1e3 * (t.delay_range || 60));
                                break;
                            case l.STATE_STRING.WS_PK_PRE:
                            case l.STATE_STRING.WS_PK_END:
                            case l.STATE_STRING.WS_PK_SETTLE:
                                i.state.forceBufferTimeout = 2e3;
                                break;
                            case l.STATE_STRING.WS_PK_MIC_END:
                                i.state.forceBufferTimeout = 2e3,
                                    setTimeout((function() {
                                            i.state.forceBufferTimeout = 0
                                        }
                                    ), 2e4);
                                break;
                            case l.STATE_STRING.PLAY_TAG:
                                i.state.enablePlayback && t.data && i.components.playbackComp && i.components.playbackComp.handleTagInfo(t.data);
                                break;
                            case l.STATE_STRING.PLAY_PROGRESS_BAR:
                                "DEL" === t.data.type && i.removePlayback()
                        }
                        t.cmd !== l.STATE_STRING.WS_MESSAGE_DANMAKU && t.cmd !== l.STATE_STRING.WS_MESSAGE_SEND_GIFT && (t.cmd,
                            l.STATE_STRING.WS_MESSAGE_WELCOME),
                        t.cmd === l.STATE_STRING.WS_MESSAGE_SEND_GIFT && (s = !0),
                        s && this._addServerCallbackSmoothly(t)
                    }
                }
                ,
                e.prototype._addServerCallbackSmoothly = function(e) {
                    switch (e.cmd) {
                        case l.STATE_STRING.WS_MESSAGE_DANMAKU:
                        case l.STATE_STRING.WS_MESSAGE_SEND_GIFT:
                        case l.STATE_STRING.WS_MESSAGE_WELCOME:
                            this._player.getVisibilityStatus() ? this._SERVER_CALLBACK_QUEUE.push(e) : c.default.fireEventCallback(this._player.callbackMap.receiveMessage, e);
                            break;
                        default:
                            c.default.fireEventCallback(this._player.callbackMap.receiveMessage, e)
                    }
                }
                ,
                e.prototype._renderServerCallback = function() {
                    var e = this;
                    if (this._SERVER_CALLBACK_QUEUE.length) {
                        var t = this._getCurrentServerCallbackQueue()
                            , n = this._RENDER_INTERVAL_TIME / t.length;
                        this._callServerCallback(t, n)
                    }
                    this._TIMEOUT_SERVER_CALLBACK = window.setTimeout((function() {
                            e._renderServerCallback()
                        }
                    ), this._RENDER_INTERVAL_TIME)
                }
                ,
                e.prototype._callServerCallback = function(e, t) {
                    var n = this;
                    if (void 0 === t && (t = this._RENDER_INTERVAL_TIME),
                        e.length) {
                        var i = e.splice(0, 1)[0];
                        c.default.fireEventCallback(this._player.callbackMap.receiveMessage, i),
                            this._TIMEOUT_SERVER_CALLBACK_ADD = window.setTimeout((function() {
                                    n._callServerCallback(e, t)
                                }
                            ), t)
                    }
                }
                ,
                e.prototype.handleAuthRes = function(e) {
                    return i(this, void 0, void 0, (function() {
                            return r(this, (function(t) {
                                    switch (t.label) {
                                        case 0:
                                            if (0 === e.length || !e[0])
                                                return [3, 4];
                                            switch (e[0].code) {
                                                case l.default.WS_AUTH_TOKEN_ERROR:
                                                    return [3, 1]
                                            }
                                            return [3, 3];
                                        case 1:
                                            return [4, this._player.getDanmuKuInfo()];
                                        case 2:
                                            return t.sent(),
                                                this.destroy(),
                                                this._initialize(),
                                                [3, 4];
                                        case 3:
                                            return [3, 4];
                                        case 4:
                                            return [2]
                                    }
                                }
                            ))
                        }
                    ))
                }
                ,
                e.prototype._getCurrentServerCallbackQueue = function() {
                    var e = [];
                    return this._SERVER_CALLBACK_QUEUE.forEach((function(t) {
                            e.push($.extend({}, t))
                        }
                    )),
                        this._SERVER_CALLBACK_QUEUE = [],
                        e
                }
                ,
                e.prototype._heartBeatReply = function(e) {
                    e && (this.state.onlineCount = e.count),
                        c.default.fireEventCallback(this._player.callbackMap.receiveOnlineCount, this.state.onlineCount)
                }
                ,
                e.prototype.checkCmdPermission = function(e) {
                    var t = {
                        danmaku: !1,
                        callback: !1
                    }
                        , n = !1;
                    if ("[object String]" !== Object.prototype.toString.call(e))
                        return {
                            shouldIgnore: t,
                            hasCheckNum: n,
                            type: ""
                        };
                    var i = e.split(":")
                        , r = i[0];
                    if (1 !== i.length)
                        switch (n = !0,
                            parseInt(i[4], 10)) {
                            case 0:
                                t.danmaku = !1,
                                    t.callback = !1;
                                break;
                            case 1:
                                t.danmaku = !1,
                                    t.callback = !0;
                                break;
                            case 2:
                                t.danmaku = !0,
                                    t.callback = !1;
                                break;
                            case 3:
                                t.danmaku = !0,
                                    t.callback = !0
                        }
                    return {
                        type: r,
                        shouldIgnore: t,
                        hasCheckNum: n
                    }
                }
                ,
                e.HOME_PLAYER_MSG = [l.STATE_STRING.WS_MESSAGE_DANMAKU, l.STATE_STRING.WS_ROOM_LIMIT],
                e
        }();
        t.default = v
    }
    , function(e, t, n) {
        /*! Copyleft @bilibili.com 2009-2020 */
        e.exports = function(e) {
            function t(i) {
                if (n[i])
                    return n[i].exports;
                var r = n[i] = {
                    exports: {},
                    id: i,
                    loaded: !1
                };
                return e[i].call(r.exports, r, r.exports, t),
                    r.loaded = !0,
                    r.exports
            }
            var n = {};
            return t.m = e,
                t.c = n,
                t.p = "",
                t(0)
        }([function(e, t, n) {
            "use strict";
            window.console.clear();
            var i = n(1);
            e.exports = i.default
        }
            , function(e, t, n) {
                "use strict";
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var i = n(2)
                    , r = n(3)
                    , o = n(4)
                    , a = n(5)
                    , s = n(11)
                    , l = n(13)
                    , c = n(12)
                    , u = n(15)
                    , d = function() {
                    function e(e) {
                        this.config = i.default.assign({
                            container: document.getElementById("player"),
                            bold: !0,
                            duration: 4.5,
                            danmakuNumber: 500,
                            danmakuArea: 100,
                            fontBorder: 0,
                            fontFamily: 'SimHei, "Microsoft JhengHei"',
                            fontSize: 1,
                            fullScreenSync: !1,
                            offsetTop: 0,
                            offsetBottom: 0,
                            opacity: 1,
                            preventShade: !1,
                            speedPlus: 1,
                            type: "div",
                            videoSpeed: 1,
                            visible: !0,
                            isRecycling: !1,
                            isLive: !1,
                            danmakuFilter: function(e) {
                                return !0
                            },
                            danmakuInserting: function(e) {},
                            containerUpdating: function(e) {},
                            listUpdating: function(e) {},
                            countUpdating: function(e) {},
                            timeSyncFunc: function() {
                                return window.performance.now()
                            }
                        }, e),
                            this.container = this.config.container,
                            this.paused = !0,
                            this.danmakuArray = [],
                            this.time = 0,
                            this.timeZero = 0,
                            this.pauseTime = 0,
                            this.startTime = (new Date).getTime(),
                            this.visualArray = new r.default,
                            this.timeLine = new o.default,
                            this.setType(),
                            window.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(e) {
                                window.setTimeout(e, 1e3 / 60)
                            }
                    }
                    return e.prototype.addTimely = function(e) {
                        var t = this.renderDanmaku(e);
                        -1 === e.stime ? this.manager && this.manager.start(t, !0) : (this.timeLine.insert(t),
                        t.border && this.manager && this.manager.start(t, !0))
                    }
                        ,
                        e.prototype.addAll = function(e) {
                            for (var t = this, n = 0, i = e.length; n < i; n++)
                                e[n] = this.renderDanmaku(e[n]);
                            var r = new Worker(u.default);
                            r.postMessage(e),
                                r.onmessage = function(n) {
                                    if (t.timeLine.length > 0)
                                        for (var i = 0, o = e.length; i < o; i++)
                                            t.timeLine.insert(e[i]);
                                    else
                                        t.timeLine.push.apply(t.timeLine, n.data);
                                    r.terminate()
                                }
                        }
                        ,
                        e.prototype.renderDanmaku = function(e) {
                            return i.default.assign({}, e, {
                                border: e.border || !1,
                                borderColor: e.borderColor || 6750207,
                                on: !1
                            })
                        }
                        ,
                        e.prototype.setType = function(e, t) {
                            this.config.devicePR = 2,
                                e = e || this.config.type;
                            var n = this.config.container
                                , i = {
                                div: "div",
                                css: "section",
                                canvas: "canvas"
                            };
                            if (n.tagName.toLowerCase() !== i[e]) {
                                var r = n.getAttribute("class")
                                    , o = n.getAttribute("id")
                                    , a = n.parentNode
                                    , s = n.offsetWidth
                                    , l = n.offsetHeight;
                                a.removeChild(n),
                                this.manager && this.manager.destroy();
                                var c = t || document.createElement(i[e]);
                                a.appendChild(c),
                                    c.setAttribute("class", r),
                                    c.width = s * this.config.devicePR,
                                    c.height = l * this.config.devicePR,
                                o && c.setAttribute("id", o),
                                    this.config.container = c,
                                    this.manager = this.createManager(e),
                                    this.config.containerUpdating(n)
                            } else
                                this.manager || (this.manager = this.createManager(e))
                        }
                        ,
                        e.prototype.count = function() {
                            return this.danmakuArray ? this.danmakuArray.length : 0
                        }
                        ,
                        e.prototype.createManager = function(e) {
                            var t;
                            switch (e) {
                                case "div":
                                    t = new a.default(this);
                                    break;
                                case "canvas":
                                    t = new s.default(this);
                                    break;
                                case "css":
                                    t = new l.default(this);
                                    break;
                                default:
                                    t = new a.default(this)
                            }
                            return t
                        }
                        ,
                        e.prototype.danmakuType = function(e) {
                            if (!e)
                                return this.config.type;
                            if (e === this.config.type)
                                return e;
                            switch (e) {
                                case "div":
                                    this.option("type", "div");
                                    break;
                                case "canvas":
                                    this.option("type", "canvas");
                                    break;
                                default:
                                    this.option("type", "div")
                            }
                            return e
                        }
                        ,
                        e.prototype.exportDanmaku = function(e) {
                            var t = document.createElement("canvas")
                                , n = t.getContext("2d");
                            this.config.devicePR = 2,
                                t.width = this.config.width * this.config.devicePR,
                                t.height = this.config.height * this.config.devicePR,
                                t.style.width = this.config.width,
                                t.style.height = this.config.height;
                            for (var i = !1, r = 0; r < this.visualArray.length; r++) {
                                var o = this.visualArray[r]
                                    , a = new c.default(o.textData,this.config,0).textRender(o.textData, this.config);
                                6 === o.textData.mode && (i = !0);
                                var s = o._x * this.config.devicePR
                                    , l = o._y * this.config.devicePR;
                                n.drawImage(a.bitmap, i ? this.config.width - s - a.width || 0 : s, l, a.width, a.height)
                            }
                            return t
                        }
                        ,
                        e.prototype.play = function(e) {
                            var t = this;
                            this.paused && (this.paused = !1,
                                this.timeZero = this.pauseTime,
                                this.startTime = (new Date).getTime(),
                                this.pauseTime = 0,
                                window.requestAnimationFrame((function() {
                                        t.nextFrame(e)
                                    }
                                )))
                        }
                        ,
                        e.prototype.pause = function() {
                            if (!this.paused) {
                                this.paused = !0;
                                var e = (new Date).getTime();
                                this.pauseTime = this.timeZero + e - this.startTime
                            }
                        }
                        ,
                        e.prototype.toggle = function() {
                            this.paused ? this.play() : this.pause()
                        }
                        ,
                        e.prototype.seek = function(e, t) {
                            this.clear(),
                                this.timeZero = 1e3 * e,
                                this.startTime = (new Date).getTime(),
                                this.paused ? (this.play(t ? e : 0),
                                    this.pause()) : this.play(t ? e : 0)
                        }
                        ,
                        e.prototype.add = function(e) {
                            e.canvas && e.canvas.length < 1 || (-1 === e.stime && (e.stime = this.config.timeSyncFunc() / 1e3 + .1),
                                this.addTimely(e),
                            this.config.isLive || (this.danmakuArray.push(e),
                            "function" == typeof this.config.listUpdating && this.config.listUpdating(this.danmakuArray),
                            "function" == typeof this.config.countUpdating && this.config.countUpdating(this.danmakuArray.length)))
                        }
                        ,
                        e.prototype.remove = function(e) {
                            if (this.manager) {
                                for (var t = 0; t < this.danmakuArray.length; t++)
                                    e === this.danmakuArray[t].dmid && this.danmakuArray.splice(t, 1);
                                this.manager.remove(e)
                            }
                        }
                        ,
                        e.prototype.multipleAdd = function(e) {
                            if (e && e.length) {
                                this.danmakuArray = this.danmakuArray.concat(e);
                                for (var t = 0; t < e.length; t++)
                                    this.timeLine.insert(e[t]);
                                "function" == typeof this.config.listUpdating && this.config.listUpdating(this.danmakuArray),
                                "function" == typeof this.config.countUpdating && this.config.countUpdating(this.danmakuArray.length)
                            }
                        }
                        ,
                        e.prototype.searchAreaDanmaku = function(e, t) {
                            e = (e || 0) * this.config.devicePR,
                                t = (t || 0) * this.config.devicePR;
                            for (var n = [], i = this.visualArray.length - 1; i >= 0; i--) {
                                var r = this.visualArray[i];
                                r.textData && 6 === r.textData.mode ? e >= r.x - r._x - r.width - 5 && e <= r.x - r._x + 5 && t >= r._y - 5 && t - r.height <= r._y + 5 && n.push(r) : e >= r._x - 5 && e <= r._x + r.width + 5 && t >= r._y - 5 && t - r.height <= r._y + 5 && n.push(r)
                            }
                            return n
                        }
                        ,
                        e.prototype.option = function(e, t) {
                            if (e && void 0 !== t)
                                switch (e) {
                                    case "container":
                                        if (1 === arguments.length)
                                            return this.config.container;
                                        if (!t || "object" != typeof t || 1 !== t.nodeType || "string" != typeof t.nodeName)
                                            return;
                                        return void this.setType(this.config.type, t);
                                    case "type":
                                        if (1 === arguments.length)
                                            return this.config.type;
                                        this.setType(t),
                                            this.seek(this.time / 1e3, !0);
                                        break;
                                    case "fontfamily":
                                        if (1 === arguments.length)
                                            return this.config.fontFamily;
                                        this.manager && (this.manager.config.fontFamily = t);
                                        break;
                                    case "bold":
                                        if (1 === arguments.length)
                                            return this.config.bold;
                                        this.manager && (this.manager.config.bold = t);
                                        break;
                                    case "preventshade":
                                        if (1 === arguments.length)
                                            return this.config.preventShade;
                                        this.manager && (this.manager.config.preventShade = t);
                                        break;
                                    case "speedplus":
                                        if (1 === arguments.length)
                                            return this.config.speedPlus;
                                        this.manager && (this.manager.config.speedPlus = t);
                                        break;
                                    case "fontsize":
                                        if (1 === arguments.length)
                                            return this.config.fontSize;
                                        this.manager && (this.manager.config.fontSize = t);
                                        break;
                                    case "fullscreensync":
                                        if (1 === arguments.length)
                                            return this.config.fullScreenSync;
                                        this.manager && (this.manager.config.fullScreenSync = t);
                                        break;
                                    case "danmakunumber":
                                        if (1 === arguments.length)
                                            return this.config.danmakuNumber;
                                        this.manager && (this.manager.config.danmakuNumber = t);
                                        break;
                                    case "danmakuArea":
                                        if (1 === arguments.length)
                                            return this.config.danmakuArea;
                                        if (this.manager) {
                                            var n = +t;
                                            (n || 0 === n) && (n = n < 0 ? 0 : n > 100 ? 100 : n,
                                                this.manager.config.danmakuArea = n)
                                        }
                                        break;
                                    case "duration":
                                        if (1 === arguments.length)
                                            return this.config.duration;
                                        this.manager && (this.manager.config.duration = t);
                                        break;
                                    case "fontborder":
                                        if (1 === arguments.length)
                                            return this.config.fontBorder;
                                        this.manager && (this.manager.config.fontBorder = t);
                                        break;
                                    case "visible":
                                        if (1 === arguments.length)
                                            return this.config.visible;
                                        this.manager && (this.manager.config.visible = t);
                                        break;
                                    case "videospeed":
                                        if (1 === arguments.length)
                                            return this.config.videoSpeed;
                                        this.manager && (this.manager.config.videoSpeed = t);
                                        break;
                                    case "opacity":
                                        if (1 === arguments.length)
                                            return this.config.opacity;
                                        this.manager && (this.manager.config.opacity = t);
                                        break;
                                    default:
                                        this.manager && this.manager.option(e, t)
                                }
                        }
                        ,
                        e.prototype.nextFrame = function(e) {
                            var t = this
                                , n = (new Date).getTime();
                            if (this.time = this.timeZero + (n - this.startTime) * this.config.videoSpeed,
                            "function" == typeof this.config.timeSyncFunc) {
                                var i = this.config.timeSyncFunc();
                                (Math.abs(i - this.time) > 1e3 || isNaN(this.time)) && (this.time = i,
                                    this.timeZero = i,
                                    this.startTime = n)
                            }
                            !isNaN(this.time) && this.manager && this.visible() && (this.manager.onTime(this.time / 1e3, e),
                                this.manager.render(this.time / 1e3, this.paused, e)),
                            this.paused || window.requestAnimationFrame((function() {
                                    t.nextFrame()
                                }
                            ))
                        }
                        ,
                        e.prototype.visible = function(e) {
                            return 0 === arguments.length ? this.config.visible : (this.config.visible !== e && (this.config.visible = e,
                            !this.config.visible && this.manager && this.manager.clearVisualList()),
                                e)
                        }
                        ,
                        e.prototype.resize = function() {
                            this.manager && this.manager.resize()
                        }
                        ,
                        e.prototype.clear = function() {
                            this.manager.clearVisualList()
                        }
                        ,
                        e.prototype.destroy = function() {
                            this.pause(),
                                this.clear()
                        }
                        ,
                        e.prototype.reload = function() {
                            this.timeLine = new o.default,
                                this.visualArray = new r.default
                        }
                        ,
                        e.VERSION = function() {
                            return {
                                version: "1.0.0"
                            }
                        }
                        ,
                        e
                }();
                t.default = d
            }
            , function(e, t) {
                "use strict";
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var n = {
                    assign: function() {
                        for (var e = [], t = 0; t < arguments.length; t++)
                            e[t] = arguments[t];
                        if (e.length <= 1)
                            return e[0];
                        var n = null != e[0] ? Object(e[0]) : {};
                        return e.forEach((function(e, t) {
                                if (0 !== t && null != e)
                                    for (var i in e)
                                        e.hasOwnProperty(i) && (n[i] = e[i])
                            }
                        )),
                            n
                    },
                    getHexColor: function(e) {
                        return "#" + ("000000" + e.toString(16)).slice(-6)
                    },
                    browser: {
                        version: function() {
                            var e = navigator.userAgent;
                            return {
                                trident: /Trident/i.test(e),
                                presto: /Presto/i.test(e),
                                webKit: /AppleWebKit/i.test(e),
                                gecko: /Gecko/i.test(e) && !/KHTML/i.test(e),
                                mobile: /AppleWebKit.*Mobile.*/i.test(e),
                                ios: /Mac OS X[\s\_\-\/](\d+[\.\-\_]\d+[\.\-\_]?\d*)/i.test(e),
                                android: /Android/i.test(e),
                                linux: /Linux/i.test(e),
                                windowsphone: /Windows Phone/i.test(e),
                                iPhone: /iPhone/i.test(e),
                                iPad: /iPad/i.test(e),
                                MicroMessenger: /MicroMessenger/i.test(e),
                                webApp: !/Safari/i.test(e),
                                edge: /edge/i.test(e),
                                safari: /(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.test(e.toLowerCase()) || /(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.test(e.toLowerCase())
                            }
                        }(),
                        language: navigator.language && navigator.language.toLowerCase()
                    }
                };
                t.default = n
            }
            , function(e, t) {
                "use strict";
                var n = this && this.__extends || function() {
                    var e = Object.setPrototypeOf || {
                            __proto__: []
                        }instanceof Array && function(e, t) {
                            e.__proto__ = t
                        }
                        || function(e, t) {
                            for (var n in t)
                                t.hasOwnProperty(n) && (e[n] = t[n])
                        }
                    ;
                    return function(t, n) {
                        function i() {
                            this.constructor = t
                        }
                        e(t, n),
                            t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
                                new i)
                    }
                }();
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var i = function(e) {
                    function t() {
                        var n = e.call(this) || this;
                        return Object.setPrototypeOf(n, t.prototype),
                            n
                    }
                    return n(t, e),
                        t.prototype.bsearch = function(e, t) {
                            if (0 === this.length)
                                return 0;
                            if (t(e, this[0]) < 0)
                                return 0;
                            if (t(e, this[this.length - 1]) >= 0)
                                return this.length;
                            for (var n, i = 0, r = this.length - 1, o = 0; i <= r; ) {
                                if (o++,
                                t(e, this[(n = Math.floor((i + r + 1) / 2)) - 1]) >= 0 && t(e, this[n]) < 0)
                                    return n;
                                if (t(e, this[n - 1]) < 0 ? r = n - 1 : t(e, this[n]) >= 0 ? i = n : window.console.error("Catch an ERROR"),
                                o > 1e3) {
                                    window.console.error("1000");
                                    break
                                }
                            }
                            return -1
                        }
                        ,
                        t.prototype.binsert = function(e, t) {
                            var n = this.bsearch(e, t);
                            return this.splice(n, 0, e),
                                n
                        }
                        ,
                        t.prototype.bremove = function(e) {
                            for (var t = 0; t < this.length; t++)
                                if (this[t] === e)
                                    return void this.splice(t, 1)
                        }
                        ,
                        t
                }(Array);
                t.default = i
            }
            , function(e, t, n) {
                "use strict";
                var i = this && this.__extends || function() {
                    var e = Object.setPrototypeOf || {
                            __proto__: []
                        }instanceof Array && function(e, t) {
                            e.__proto__ = t
                        }
                        || function(e, t) {
                            for (var n in t)
                                t.hasOwnProperty(n) && (e[n] = t[n])
                        }
                    ;
                    return function(t, n) {
                        function i() {
                            this.constructor = t
                        }
                        e(t, n),
                            t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
                                new i)
                    }
                }();
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var r = function(e) {
                    function t(n) {
                        var i = e.call(this) || this;
                        return Object.setPrototypeOf(i, t.prototype),
                            i.fnCompare = n || t.fnCompareDefault,
                            i
                    }
                    return i(t, e),
                        t.fnCompareDefault = function(e, t) {
                            return e.stime - t.stime
                        }
                        ,
                        t.prototype.insert = function() {
                            for (var e = [], t = 0; t < arguments.length; t++)
                                e[t] = arguments[t];
                            for (var n = 0; n < e.length; )
                                this.binsert(e[n], this.fnCompare),
                                    n++;
                            return this
                        }
                        ,
                        t.prototype.remove = function(e) {
                            for (var t = this.bsearch(e, this.fnCompare); t >= 0; ) {
                                if (this[t] === e)
                                    return this.splice(t, 1),
                                        !0;
                                t--
                            }
                            return !1
                        }
                        ,
                        t.prototype.getItemsByRange = function(e, t, n) {
                            void 0 === n && (n = !1);
                            var i = this.bsearch(e, this.fnCompare)
                                , r = this.bsearch(t, this.fnCompare);
                            return n && i > 0 && (this.splice(0, i),
                                r -= i,
                                i = 0),
                                n ? this.splice(i, r - i) : this.getItemsByIndexRange(i, r)
                        }
                        ,
                        t.prototype.getItemsByIndexRange = function(e, t) {
                            var n = [];
                            if (t <= e)
                                return n;
                            for (; e < t && e < this.length; )
                                n.push(this[e]),
                                    e++;
                            return n
                        }
                        ,
                        t
                }(n(3).default);
                t.default = r
            }
            , function(e, t, n) {
                "use strict";
                var i = this && this.__extends || function() {
                    var e = Object.setPrototypeOf || {
                            __proto__: []
                        }instanceof Array && function(e, t) {
                            e.__proto__ = t
                        }
                        || function(e, t) {
                            for (var n in t)
                                t.hasOwnProperty(n) && (e[n] = t[n])
                        }
                    ;
                    return function(t, n) {
                        function i() {
                            this.constructor = t
                        }
                        e(t, n),
                            t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
                                new i)
                    }
                }();
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var r = n(6)
                    , o = n(9)
                    , a = function(e) {
                    function t(t) {
                        return e.call(this, t) || this
                    }
                    return i(t, e),
                        t.prototype.getText = function(e, t) {
                            var n;
                            return this.config.devicePR = 1,
                            this.config.isRecycling && this.recyclingDivList.length && (n = this.recyclingDivList.splice(0, 1)[0]),
                                new o.default(e,this.config,t ? t - e.stime : 0,n)
                        }
                        ,
                        t
                }(r.default);
                t.default = a
            }
            , function(e, t, n) {
                "use strict";
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var i = n(7)
                    , r = function() {
                    function e(e) {
                        this.recyclingDivList = [],
                            this.config = e.config,
                            this.core = e,
                            this.visualArray = e.visualArray,
                            this.timeLine = e.timeLine,
                            this.danmakuModes = i.default(this.config),
                            this.lastTime = 0,
                            this.init(),
                            this.resize()
                    }
                    return e.prototype.init = function() {
                        this.container = this.config.container
                    }
                        ,
                        e.prototype.isPause = function() {
                            return this.core.paused
                        }
                        ,
                        e.prototype.validate = function(e) {
                            return !(!e.border && "x" !== e.mode && (this.visualArray.length >= this.config.danmakuNumber && 0 !== this.config.danmakuNumber || !this.config.danmakuFilter(e)))
                        }
                        ,
                        e.prototype.start = function(e, t, n) {
                            if (!e.on && this.validate(e)) {
                                var i = this.danmakuModes[e.mode];
                                if (i) {
                                    var r = this.getText(e, n);
                                    if (i.onStart(r),
                                        e.on = !0,
                                    r.rest <= 0)
                                        return void this.end(r);
                                    this.visualArray.push(r),
                                    t && r.y >= 0 && (r.manager && r.manager.onUpdate(r, this.config.timeSyncFunc() / 1e3),
                                        r.pause(r._x, r._y))
                                }
                                this.config.danmakuInserting(e)
                            }
                        }
                        ,
                        e.prototype.onTime = function(e, t) {
                            if (e -= .001,
                            Math.abs(this.lastTime - e) > 3 && !t)
                                this.clearVisualList();
                            else
                                for (var n = this.timeLine.getItemsByRange({
                                    stime: t ? t - this.config.width / 512 * this.config.duration / this.config.speedPlus / this.config.videoSpeed : this.lastTime - .001
                                }, {
                                    stime: t || e
                                }, this.config.isLive); n.length; )
                                    this.start(n.shift(), !0, t || e);
                            this.lastTime = e
                        }
                        ,
                        e.prototype.resize = function() {
                            this.config.width = this.container.offsetWidth || 680,
                                this.config.height = this.container.offsetHeight || 420,
                                this.clearRecyclingDivList()
                        }
                        ,
                        e.prototype.beforeRender = function() {
                            for (var e = [], t = 0; t < arguments.length; t++)
                                e[t] = arguments[t]
                        }
                        ,
                        e.prototype.afterRender = function() {
                            for (var e = [], t = 0; t < arguments.length; t++)
                                e[t] = arguments[t]
                        }
                        ,
                        e.prototype.render = function(e, t, n) {
                            this.beforeRender(t);
                            for (var i, r = this.visualArray.length, o = [], a = 0; a < r; a++)
                                if (i = this.visualArray[a]) {
                                    var s = i.manager;
                                    this.config.danmakuFilter(i.textData) ? i.show() : i.hide(),
                                        s && s.onUpdate(i, e) ? n ? i.pause(i._x, i._y) : t ? i.textData.border ? (i.render(i._x, i._y),
                                            i.pause(i._x, i._y)) : i.pause(i._x, i._y) : i.render(i._x, i._y) : o.push(i)
                                }
                            for (r = o.length,
                                     a = 0; a < r; a++)
                                i = o[a],
                                    this.end(i);
                            this.afterRender(t)
                        }
                        ,
                        e.prototype.fresh = function() {
                            for (var e = 0; e < this.visualArray.length; e++)
                                this.config.danmakuFilter(this.visualArray[e].textData) ? this.visualArray[e].show() : this.visualArray[e].hide()
                        }
                        ,
                        e.prototype.remove = function(e) {
                            for (var t = 0; t < this.visualArray.length; t++)
                                if (e === this.visualArray[t].textData.dmid) {
                                    this.visualArray[t].hide(),
                                        this.visualArray.splice(t, 1);
                                    break
                                }
                        }
                        ,
                        e.prototype.end = function(e, t) {
                            e.textData.on = !1;
                            var n = e.manager
                                , i = n && n.onEnd(e, t);
                            this.config.isRecycling && i && (this.recyclingDivList[this.recyclingDivList.length] = i),
                                this.visualArray.bremove(e)
                        }
                        ,
                        e.prototype.clearVisualList = function() {
                            for (; this.visualArray.length; )
                                this.end(this.visualArray[0], !0);
                            this.lastTime = -3,
                                this.clearRecyclingDivList()
                        }
                        ,
                        e.prototype.option = function(e, t) {
                            this.config[e] = t
                        }
                        ,
                        e.prototype.destroy = function() {
                            this.clearVisualList()
                        }
                        ,
                        e.prototype.clearRecyclingDivList = function() {
                            var e = this.recyclingDivList && this.recyclingDivList.length;
                            if (e)
                                for (var t = e - 1; t >= 0; t--)
                                    this.recyclingDivList[t]instanceof HTMLElement && (this.recyclingDivList[t].style.display = "none")
                        }
                        ,
                        e
                }();
                t.default = r
            }
            , function(e, t, n) {
                "use strict";
                var i = this && this.__extends || function() {
                    var e = Object.setPrototypeOf || {
                            __proto__: []
                        }instanceof Array && function(e, t) {
                            e.__proto__ = t
                        }
                        || function(e, t) {
                            for (var n in t)
                                t.hasOwnProperty(n) && (e[n] = t[n])
                        }
                    ;
                    return function(t, n) {
                        function i() {
                            this.constructor = t
                        }
                        e(t, n),
                            t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
                                new i)
                    }
                }();
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var r = n(8)
                    , o = function() {
                    function e(e) {
                        this.config = e
                    }
                    return e.prototype.onStart = function(e) {
                        this.spaceManager.add(e),
                            e.manager = this
                    }
                        ,
                        e.prototype.onEnd = function(e, t) {
                            this.spaceManager.remove(e),
                                e.manager = null,
                                e.free()
                        }
                        ,
                        e
                }()
                    , a = {
                    1: function(e) {
                        function t(t) {
                            var n = e.call(this, t) || this;
                            return n.spaceManager = new r.default(t,!0),
                                n
                        }
                        return i(t, e),
                            t.prototype.onUpdate = function(e, t) {
                                return !(!e.paused && e.rest < (+new Date - e.pauseTime) / 1e3 || (e._x = e.getX(t),
                                    e._y = e.y,
                                    0))
                            }
                            ,
                            t.prototype.onEnd = function(e, t) {
                                return this.spaceManager.remove(e),
                                    e.manager = null,
                                    e.free(t)
                            }
                            ,
                            t
                    }(o),
                    4: function(e) {
                        function t(t) {
                            var n = e.call(this, t) || this;
                            return n.spaceManager = new r.default(t),
                                n
                        }
                        return i(t, e),
                            t.prototype.onUpdate = function(e, t) {
                                return !(e.end < t || (e._x = e.x,
                                    e._y = this.config.height * (this.config.preventShade ? .85 : 1) - (this.config.offsetBottom || 0) - e.y - e.height + (this.config.offsetTop || 0),
                                    0))
                            }
                            ,
                            t
                    }(o),
                    5: function(e) {
                        function t(t) {
                            var n = e.call(this, t) || this;
                            return n.spaceManager = new r.default(t),
                                n
                        }
                        return i(t, e),
                            t.prototype.onUpdate = function(e, t) {
                                return !(e.end < t || (e._x = e.x,
                                    e._y = e.y,
                                    0))
                            }
                            ,
                            t
                    }(o),
                    6: function(e) {
                        function t(t) {
                            var n = e.call(this, t) || this;
                            return n.spaceManager = new r.default(t,!0),
                                n
                        }
                        return i(t, e),
                            t.prototype.onUpdate = function(e, t) {
                                return !(e.end < t || (e._x = e.getX(t),
                                    e._y = e.y,
                                    0))
                            }
                            ,
                            t.prototype.onEnd = function(e, t) {
                                return this.spaceManager.remove(e),
                                    e.manager = null,
                                    e.free(t)
                            }
                            ,
                            t
                    }(o),
                    x: function(e) {
                        function t(t) {
                            var n = e.call(this, t) || this;
                            return n.spaceManager = new r.default(t,!0),
                                n
                        }
                        return i(t, e),
                            t.prototype.onUpdate = function(e, t) {
                                return !(!e.paused && e.rest < (+new Date - e.pauseTime) / 1e3 || (e._x = e.getX(t),
                                    e._y = e.y,
                                    0))
                            }
                            ,
                            t
                    }(o)
                };
                t.default = function(e) {
                    var t = {};
                    for (var n in a)
                        a.hasOwnProperty(n) && (t[n] = new a[n](e));
                    return t
                }
            }
            , function(e, t, n) {
                "use strict";
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var i = n(3)
                    , r = function() {
                    function e(e, t) {
                        this.config = e,
                            this.scroll = t,
                            this.lists = []
                    }
                    return e.prototype.clean = function() {
                        this.lists = []
                    }
                        ,
                        e.prototype.add = function(e) {
                            this.scroll ? e.x = this.config.width : e.x = (this.config.width - e.width) / 2,
                                e.height >= this.config.height * (this.config.preventShade ? .85 : 1) - (this.config.offsetTop || 0) - (this.config.offsetBottom || 0) ? (e.setY(0, -1),
                                    e.rest = -1) : this.setY(e, 0)
                        }
                        ,
                        e.prototype.remove = function(e) {
                            -1 !== e.index && void 0 !== this.lists[e.index] && this.lists[e.index].bremove(e)
                        }
                        ,
                        e.prototype.vCheck = function(e, t, n) {
                            var i, r, o = e + t.height;
                            if (this.scroll) {
                                var a = t.x + t.width;
                                for (i = 0; i < this.lists[n].length; i++)
                                    if (r = this.lists[n][i]) {
                                        if (e < (this.config.offsetTop || 0))
                                            return !1;
                                        if (!(r.y > o || r.bottom < e)) {
                                            if (r.getRight(t.start) < t.x || r.getX(t.start) > a) {
                                                if (r.end <= t.middle)
                                                    continue;
                                                return !1
                                            }
                                            return !1
                                        }
                                    }
                            } else
                                for (i = 0; i < this.lists[n].length; i++)
                                    if (!(((r = this.lists[n][i]).y > o || r.bottom < e) && e >= (this.config.offsetTop || 0)))
                                        return !1;
                            return !0
                        }
                        ,
                        e.prototype.setY = function(e, t) {
                            var n = this.config.offsetTop || 0
                                , r = !1;
                            void 0 !== e.textData.offsetTop && (r = !0,
                                n = e.textData.offsetTop || 0),
                            this.lists.length <= t && this.lists.push(new i.default);
                            var o = this.lists[t];
                            if (0 === o.length)
                                return e.setY(n, t),
                                    void o.push(e);
                            if (this.vCheck(n, e, t) || r)
                                return e.setY(n, t),
                                    void this.insert(o, e);
                            for (var a = 0; a < o.length; a++) {
                                var s = o[a];
                                if (s) {
                                    if (n = s.bottom + 1,
                                    this.config.danmakuArea && 6 !== e.textData.mode && n > this.config.height * this.config.danmakuArea / 100) {
                                        e.rest = -1;
                                        break
                                    }
                                    if (n + e.height > this.config.height * (this.config.preventShade ? .85 : 1) - (this.config.offsetBottom || 0)) {
                                        this.config.isLive && (e.y = -100,
                                            e.x = -100);
                                        break
                                    }
                                    if (this.vCheck(n, e, t))
                                        return e.setY(n, t),
                                            void this.insert(o, e)
                                }
                            }
                            !this.config.isLive && this.setY(e, t + 1)
                        }
                        ,
                        e.prototype.insert = function(e, t) {
                            e.binsert(t, (function(e, t) {
                                    return t && e ? e.bottom - t.bottom : 0
                                }
                            ))
                        }
                        ,
                        e
                }();
                t.default = r
            }
            , function(e, t, n) {
                "use strict";
                var i = this && this.__extends || function() {
                    var e = Object.setPrototypeOf || {
                            __proto__: []
                        }instanceof Array && function(e, t) {
                            e.__proto__ = t
                        }
                        || function(e, t) {
                            for (var n in t)
                                t.hasOwnProperty(n) && (e[n] = t[n])
                        }
                    ;
                    return function(t, n) {
                        function i() {
                            this.constructor = t
                        }
                        e(t, n),
                            t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
                                new i)
                    }
                }();
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var r = n(2)
                    , o = function(e) {
                    function t(t, n, i, r) {
                        return void 0 === i && (i = 0),
                        e.call(this, t, n, i, r) || this
                    }
                    return i(t, e),
                        t.prototype.textRender = function(e, t) {
                            var n = []
                                , i = r.default.getHexColor(this.GetOutlineColor(e));
                            n[0] = "1px 0 1px " + i + ",0 1px 1px " + i + ",0 -1px 1px " + i + ",-1px 0 1px " + i,
                                n[1] = "0px 0px 1px " + i + ",0 0 1px " + i + ",0 0 1px " + i,
                                n[2] = "1px 1px 2px " + i + ",0 0 1px " + i;
                            var o, a = !0;
                            this.recyclingDiv ? (a = !1,
                                (o = this.recyclingDiv).innerHTML = "") : (o = document.createElement("div")).className = "bilibili-danmaku",
                            e.divClassName && (o.className = o.className + " " + e.divClassName);
                            var s = "-webkit-touch-callout: none; -webkit-user-select:none; -moz-user-select:none; -ms-user-select:none; user-select:none;position: absolute; white-space: pre; pointer-events: none;-webkit-perspective:500px;display:none;will-change: transform;";
                            e.text && (o.innerText = e.text.replace(/\r/g, "\r\n")),
                                e.html ? o.innerHTML = e.html : (s += "font-size: " + e.size * t.fontSize * (t.fullScreenSync ? this.parent.getBoundingClientRect().height / 440 : 1) + "px; ",
                                    s += "color: " + r.default.getHexColor(e.color) + " ;",
                                    s += "font-family: " + t.fontFamily + ", Arial, Helvetica, sans-serif; ",
                                    s += "font-weight: " + (t.bold ? "bold" : "normal") + "; ",
                                    s += "line-height: 1.125 ;",
                                    s += "opacity: " + (t.opacity < .1 ? .1 : t.opacity) + "; ",
                                    s += "text-shadow: " + n[t.fontBorder] + "; "),
                                s += 6 === e.mode ? "right: " + (this.config.width - 1) + "px; " : "left: " + (this.config.width - 1) + "px; ",
                            e.border && (s += "border: 1px solid " + r.default.getHexColor(e.borderColor) + "; ",
                                s += "padding-left: 1px; padding-right: 1px"),
                                s += "filter: glow(color=#000000,strength=3)",
                                o.style.cssText = s,
                            a && this.parent.appendChild(o),
                                o.style.display = "inline-block";
                            var l = o.getBoundingClientRect();
                            return {
                                bitmap: o,
                                width: l.width,
                                height: l.height
                            }
                        }
                        ,
                        t.prototype.render = function(e, t) {
                            var n, i;
                            if (6 === this.textData.mode && (i = !0),
                            this.startTime || (this.startTime = +new Date),
                                !this.running) {
                                this.running = !0;
                                var r = "";
                                if (r += "top: " + t + "px;",
                                    this.pauseTime = +new Date,
                                4 === this.textData.mode || 5 === this.textData.mode)
                                    return this.element.style.left = "50%",
                                        void (this.element.style.marginLeft = -this.width / 2 + "px");
                                if (1 === this.textData.mode || 6 === this.textData.mode || "x" === this.textData.mode)
                                    for (r += i ? "right: " + e + "px;" : "left: " + e + "px;",
                                             n = 0; n < this.browserPrefix.length; n++)
                                        r += this.browserPrefix[n] + "transform: translateX(" + (i ? 1 : -1) * (this.config.width + this.width) + "px) translateY(0px) translateZ(0px);" + this.browserPrefix[n] + "transition: " + this.browserPrefix[n] + "transform " + this.rest + "s linear;";
                                this.element.style.cssText += r
                            }
                            if ((1 === this.textData.mode || 6 === this.textData.mode || "x" === this.textData.mode) && this.paused) {
                                for (r = "",
                                         this.paused = !1,
                                         this.pauseTime = +new Date,
                                         n = 0; n < this.browserPrefix.length; n++)
                                    r += this.browserPrefix[n] + "transform: translateX(" + (i ? 1 : -1) * (this.parentWidth + this.width) + "px) translateY(0px) translateZ(0px);" + this.browserPrefix[n] + "transition: " + this.browserPrefix[n] + "transform " + this.rest + "s linear;";
                                this.element.style.cssText += r
                            }
                        }
                        ,
                        t.prototype.pause = function(e, t) {
                            var n, i;
                            if (this.running || (this.running = !0,
                                this.element.style.top = t + "px",
                                this.pauseTime = +new Date),
                            1 === this.textData.mode || 6 === this.textData.mode || "x" === this.textData.mode)
                                for (6 === this.textData.mode && (i = !0),
                                         this.paused = !0,
                                     this.pauseTime && (this.rest = this.rest - (+new Date - this.pauseTime) / 1e3),
                                         this.pauseTime = +new Date,
                                         n = 0; n < this.browserPrefix.length; n++)
                                    this.element.style.cssText += this.browserPrefix[n] + "transform: translateX(" + (i ? 1 : -1) * (this.parentWidth - e) + "px) translateY(0px) translateZ(0px);" + this.browserPrefix[n] + "transition: " + this.browserPrefix[n] + "transform 0s linear;";
                            else if (4 === this.textData.mode || 5 === this.textData.mode)
                                return this.element.style.left = "50%",
                                    void (this.element.style.marginLeft = -this.width / 2 + "px")
                        }
                        ,
                        t.prototype.textFree = function(e) {
                            this.parent.removeChild(e)
                        }
                        ,
                        t
                }(n(10).default);
                t.default = o
            }
            , function(e, t, n) {
                "use strict";
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var i = n(2)
                    , r = function() {
                    function e(e, t, n, r) {
                        void 0 === n && (n = 0),
                            this.textData = e,
                            this.config = i.default.assign({}, t),
                            this.width = 0,
                            this.height = 0,
                            this.parentWidth = this.config.width,
                            this.parentHeight = this.config.height,
                            this.element = null,
                            this.start = 0,
                            this.end = 0,
                            this.speed = 0,
                            this.x = 0,
                            this.y = 0,
                            this.bottom = 0,
                            this.index = 16777215,
                            this.precise = n || 0,
                            this.browserPrefix = ["", "-webkit-", "-moz-", "-ms-"],
                            this.parent = this.config.container,
                            this.recyclingDiv = r,
                            this.init()
                    }
                    return e.prototype.init = function() {
                        1 !== this.textData.mode && 4 !== this.textData.mode && 5 !== this.textData.mode && 6 !== this.textData.mode || (window.String.prototype.trim || (window.String.prototype.trim = function() {
                                return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "")
                            }
                        ),
                        this.textData.text && (this.textData.text = this.textData.text.trim()));
                        var e = this.textRender(this.textData, this.config);
                        this.element = e.bitmap,
                            this.width = e.width,
                            this.height = e.height,
                            this.getTimePoints(),
                        1 !== this.textData.mode && 6 !== this.textData.mode && "x" !== this.textData.mode || (this.getSpeed(),
                            this.end = this.start + (this.config.width + this.width) / this.speed,
                            this.middle = this.start + this.config.width / this.speed),
                            this.rest = this.end - this.start - this.precise
                    }
                        ,
                        e.prototype.GetOutlineColor = function(e) {
                            return e.color ? 0 : 16777215
                        }
                        ,
                        e.prototype.getSpeed = function() {
                            return "x" === this.textData.mode ? (this.speed = (this.config.width + this.width) / (this.textData.duration || this.config.duration),
                                !0) : void (this.speed = (512 * this.config.devicePR + this.width) / (this.textData.duration || this.config.duration) * this.config.speedPlus * this.config.videoSpeed)
                        }
                        ,
                        e.prototype.getTimePoints = function() {
                            this.start = this.textData.stime,
                                this.end = this.start + (this.textData.duration || this.config.duration)
                        }
                        ,
                        e.prototype.setY = function(e, t) {
                            this.y = e,
                                this.bottom = this.y + this.height,
                                this.index = t
                        }
                        ,
                        e.prototype.getX = function(e) {
                            return this.config.width - (+new Date - this.pauseTime + 1e3 * (this.end - this.start - this.rest)) / 1e3 * this.speed
                        }
                        ,
                        e.prototype.getRight = function(e) {
                            return this.getX(e) + this.width
                        }
                        ,
                        e.prototype.free = function(e) {
                            var t = this.config && this.config.isRecycling
                                , n = this.element;
                            return !t || e || 1 !== this.textData.mode && 6 !== this.textData.mode ? (this.config = null,
                                this.textData = null,
                                this.textFree(this.element),
                                void (this.element = null)) : (this.config = null,
                                this.textData = null,
                                n)
                        }
                        ,
                        e.prototype.hide = function() {
                            this.element.style.visibility = "hidden"
                        }
                        ,
                        e.prototype.show = function() {
                            this.element.style.visibility = ""
                        }
                        ,
                        e
                }();
                t.default = r
            }
            , function(e, t, n) {
                "use strict";
                var i = this && this.__extends || function() {
                    var e = Object.setPrototypeOf || {
                            __proto__: []
                        }instanceof Array && function(e, t) {
                            e.__proto__ = t
                        }
                        || function(e, t) {
                            for (var n in t)
                                t.hasOwnProperty(n) && (e[n] = t[n])
                        }
                    ;
                    return function(t, n) {
                        function i() {
                            this.constructor = t
                        }
                        e(t, n),
                            t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
                                new i)
                    }
                }();
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var r = n(2)
                    , o = n(6)
                    , a = n(12)
                    , s = function(e) {
                    function t(t) {
                        var n = e.call(this, t) || this;
                        return n.paused = !1,
                            n
                    }
                    return i(t, e),
                        t.prototype.getText = function(e, t) {
                            return new a.default(e,this.config,t ? t - e.stime : 0)
                        }
                        ,
                        t.prototype.resize = function() {
                            this.config.width = (this.container.offsetWidth || 680) * this.config.devicePR,
                                this.config.height = (this.container.offsetHeight || 420) * this.config.devicePR,
                            !this.container || this.container.width === this.config.width && this.container.height === this.config.height || (this.container.width = this.config.width,
                                this.container.height = this.config.height,
                            e.prototype.isPause.call(this) && this.fresh())
                        }
                        ,
                        t.prototype.beforeRender = function(e) {
                            return this.paused && !e ? (this.paused = e,
                                !0) : (this.paused = e,
                                void this.container.getContext("2d").clearRect(0, 0, this.config.width, this.config.height))
                        }
                        ,
                        t.prototype.afterRender = function() {
                            r.default.browser.version.safari && (this.container.style.webkitUserSelect = "initial" === this.container.style.webkitUserSelect ? "none" : "initial")
                        }
                        ,
                        t.prototype.fresh = function() {
                            var e;
                            for (e = 0; e < this.visualArray.length; e++)
                                this.config.danmakuFilter(this.visualArray[e].textData) ? this.visualArray[e].show() : this.visualArray[e].hide();
                            for (this.container.getContext("2d").clearRect(0, 0, this.config.width, this.config.height),
                                     e = 0; e < this.visualArray.length; e++) {
                                var t = this.visualArray[e];
                                "hidden" !== t.element.visibility && t.render(t._x, t._y, this.config.width, null, !0)
                            }
                        }
                        ,
                        t.prototype.clearVisualList = function() {
                            for (; this.visualArray.length; )
                                e.prototype.end.call(this, this.visualArray[0]);
                            this.lastTime = -3,
                                this.fresh()
                        }
                        ,
                        t.prototype.init = function() {
                            this.container = this.config.container,
                                this.opacityHack()
                        }
                        ,
                        t.prototype.option = function(e, t) {
                            this.config[e] = t,
                                this.opacityHack()
                        }
                        ,
                        t.prototype.opacityHack = function() {
                            var e = navigator.userAgent;
                            /Gecko/i.test(e) && !/KHTML/i.test(e) && !/Trident/i.test(e) && e.indexOf("49.0") > -1 && (this.container.style.opacity = this.config.opacity)
                        }
                        ,
                        t
                }(o.default);
                t.default = s
            }
            , function(e, t, n) {
                "use strict";
                var i = this && this.__extends || function() {
                    var e = Object.setPrototypeOf || {
                            __proto__: []
                        }instanceof Array && function(e, t) {
                            e.__proto__ = t
                        }
                        || function(e, t) {
                            for (var n in t)
                                t.hasOwnProperty(n) && (e[n] = t[n])
                        }
                    ;
                    return function(t, n) {
                        function i() {
                            this.constructor = t
                        }
                        e(t, n),
                            t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
                                new i)
                    }
                }();
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var r = n(2)
                    , o = function(e) {
                    function t(t, n, i) {
                        return void 0 === i && (i = 0),
                        e.call(this, t, n, i) || this
                    }
                    return i(t, e),
                        t.prototype.textRender = function(e, t) {
                            var n, i = t.devicePR, o = [[2, 3, 0, 0], [1, 3, 0, 0], [1, 2, 2, 2]][t.fontBorder], a = document.createElement("canvas"), s = a.getContext("2d"), l = 0, c = 0;
                            if (t.fontFamily = t.fontFamily ? t.fontFamily : "Microsoft YaHei",
                            e.text && !e.canvas) {
                                var u = e.size * i * t.fontSize * (t.fullScreenSync ? this.parent.getBoundingClientRect().height / 440 : 1);
                                s.font = (t.bold ? "bold" : "normal") + " " + u + "px " + t.fontFamily;
                                var d = e.text.split("\r");
                                for (c = d.length * u * 1.125,
                                         n = 0; n < d.length; n++) {
                                    var h = s.measureText(d[n]).width;
                                    h > l && (l = h)
                                }
                                for (a.setAttribute("width", l + 2 + ""),
                                         a.setAttribute("height", c + 2 + ""),
                                         s.font = (t.bold ? "bold" : "normal") + " " + u + "px " + t.fontFamily,
                                         s.globalAlpha = t.opacity,
                                     e.border && (s.strokeStyle = r.default.getHexColor(e.borderColor),
                                         s.strokeRect(0, 0, l, c)),
                                         s.strokeStyle = r.default.getHexColor(this.GetOutlineColor(e)),
                                         s.lineWidth = o[0],
                                         s.shadowBlur = o[1],
                                         s.shadowColor = r.default.getHexColor(this.GetOutlineColor(e)),
                                         n = 0; n < d.length; n++)
                                    s.strokeText(d[n], o[2], (n + 1) * u + o[3]);
                                for (s.fillStyle = r.default.getHexColor(e.color),
                                         n = 0; n < d.length; n++)
                                    s.fillText(d[n], 0, (n + 1) * u)
                            } else if (e.canvas && e.canvas.length > 0) {
                                for (var f = 0, p = 0; p < e.canvas.length; p++) {
                                    var v = e.canvas[p];
                                    l = l + v.width + 2,
                                        c = c > v.height ? c : v.height
                                }
                                l = l,
                                    c += 2,
                                    a.setAttribute("width", l + ""),
                                    a.setAttribute("height", c + "");
                                for (var y = 0; y < e.canvas.length; y++) {
                                    var g = e.canvas[y];
                                    s.drawImage(g.canvas, f, 2, g.width, g.height),
                                        f = f + g.width + 2
                                }
                            }
                            return {
                                bitmap: a,
                                width: l,
                                height: c
                            }
                        }
                        ,
                        t.prototype.render = function(e, t, n) {
                            var i = this.parent.getContext("2d")
                                , r = !1;
                            if (this.startTime || (this.startTime = +new Date,
                                this.pauseTime = +new Date),
                            this.paused && !n)
                                return this.paused = !1,
                                    this.pauseTime = +new Date,
                                    !0;
                            6 === this.textData.mode && (r = !0);
                            try {
                                null != this.element && "hidden" !== this.element.style.visibility && i.drawImage(this.element, r ? this.config.width - e - this.width || 0 : e, t, this.element.width / 1, this.element.height / 1)
                            } catch (e) {
                                console.warn(e)
                            }
                        }
                        ,
                        t.prototype.pause = function(e, t) {
                            this.paused = !0,
                            this.pauseTime && (this.rest = this.rest - (+new Date - this.pauseTime) / 1e3),
                                this.pauseTime = +new Date,
                                this.render(e, t, !0)
                        }
                        ,
                        t.prototype.textFree = function(e) {
                            e.remove && e.remove()
                        }
                        ,
                        t
                }(n(10).default);
                t.default = o
            }
            , function(e, t, n) {
                "use strict";
                var i = this && this.__extends || function() {
                    var e = Object.setPrototypeOf || {
                            __proto__: []
                        }instanceof Array && function(e, t) {
                            e.__proto__ = t
                        }
                        || function(e, t) {
                            for (var n in t)
                                t.hasOwnProperty(n) && (e[n] = t[n])
                        }
                    ;
                    return function(t, n) {
                        function i() {
                            this.constructor = t
                        }
                        e(t, n),
                            t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
                                new i)
                    }
                }();
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var r = n(6)
                    , o = n(14)
                    , a = function(e) {
                    function t(t) {
                        return e.call(this, t) || this
                    }
                    return i(t, e),
                        t.prototype.getText = function(e, t) {
                            return this.config.devicePR = 1,
                                new o.default(e,this.config,t ? t - e.stime : 0)
                        }
                        ,
                        t
                }(r.default);
                t.default = a
            }
            , function(e, t, n) {
                "use strict";
                var i = this && this.__extends || function() {
                    var e = Object.setPrototypeOf || {
                            __proto__: []
                        }instanceof Array && function(e, t) {
                            e.__proto__ = t
                        }
                        || function(e, t) {
                            for (var n in t)
                                t.hasOwnProperty(n) && (e[n] = t[n])
                        }
                    ;
                    return function(t, n) {
                        function i() {
                            this.constructor = t
                        }
                        e(t, n),
                            t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype,
                                new i)
                    }
                }();
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var r = n(2)
                    , o = function(e) {
                    function t(t, n, i) {
                        return void 0 === i && (i = 0),
                        e.call(this, t, n, i) || this
                    }
                    return i(t, e),
                        t.prototype.textRender = function(e, t) {
                            var n = []
                                , i = r.default.getHexColor(this.GetOutlineColor(e));
                            n[0] = "1px 0 1px " + i + ",0 1px 1px " + i + ",0 -1px 1px " + i + ",-1px 0 1px " + i,
                                n[1] = "0px 0px 1px " + i + ",0 0 1px " + i + ",0 0 1px " + i,
                                n[2] = "1px 1px 2px " + i + ",0 0 1px " + i;
                            var o = document.createElement("div");
                            return o.className = "bilibili-danmaku",
                                o.appendChild(document.createTextNode(e.text.replace(/\r/g, "\r\n"))),
                                e.html ? o.innerHTML = e.html : (o.style.color = r.default.getHexColor(e.color),
                                    o.style.fontSize = e.size * t.fontSize * (t.fullScreenSync ? this.parent.getBoundingClientRect().height / 440 : 1) + "px",
                                    o.style.fontFamily = t.fontFamily + ", Arial, Helvetica, sans-serif",
                                    o.style.fontWeight = t.bold ? "bold" : "normal",
                                    o.style.lineHeight = "1.125"),
                                6 === e.mode ? o.style.right = this.parent.offsetWidth - 1 + "px" : o.style.left = this.parent.offsetWidth - 1 + "px",
                                o.style.position = "absolute",
                                o.style.whiteSpace = "nowrap",
                                o.style.pointerEvents = "none",
                                o.style.opacity = (t.opacity < .1 ? .1 : t.opacity) + "",
                                o.style.textShadow = n[t.fontBorder],
                            e.border && (o.style.border = "1px solid " + r.default.getHexColor(e.borderColor),
                                o.style.paddingLeft = "1px",
                                o.style.paddingRight = "1px"),
                                o.style.filter = "glow(color=#000000,strength=3)",
                                this.parent.appendChild(o),
                                {
                                    bitmap: o,
                                    width: o.offsetWidth,
                                    height: o.offsetHeight
                                }
                        }
                        ,
                        t.prototype.render = function(e, t, n) {
                            var i = !1;
                            if (this.startTime || (this.startTime = +new Date,
                                this.pauseTime = +new Date),
                            this.paused && !n)
                                return this.paused = !1,
                                    this.pauseTime = +new Date,
                                    !0;
                            6 === this.textData.mode && (i = !0);
                            try {
                                null != this.element && "hidden" !== this.element.style.visibility && (this.element.style.left = (i ? this.config.width - e - this.width || 0 : e) + "px",
                                isNaN(e) && (this.element.style.left = (-this.width || 0) + "px"),
                                    this.element.style.top = t + "px")
                            } catch (e) {
                                console.warn(e)
                            }
                        }
                        ,
                        t.prototype.pause = function(e, t) {
                            this.paused = !0,
                            this.pauseTime && (this.rest = this.rest - (+new Date - this.pauseTime) / 1e3),
                                this.pauseTime = +new Date,
                                this.render(e, t, !0)
                        }
                        ,
                        t.prototype.textFree = function(e) {
                            this.parent.removeChild(e)
                        }
                        ,
                        t
                }(n(10).default);
                t.default = o
            }
            , function(e, t) {
                "use strict";
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var n = new Blob(["onmessage = function (event) {\n    var a = event.data;\n    var l = [];\n    for (var i = 0, len = a.length; i < len; i++) {\n        var n = bsearch(a[i]);\n        l.splice(n, 0, a[i])\n    }\n    postMessage(l);\n    function fn(a, b) {\n        return a.stime - b.stime;\n    }\n    function bsearch(a) {\n        if (l.length === 0) return 0;\n        if (fn(a, l[0]) < 0) return 0;\n        if (fn(a, l[l.length - 1]) >= 0) return l.length;\n        var low = 0,hig = l.length - 1,count = 0,i;\n        while (low <= hig) {\n            i = Math.floor((low + hig + 1) / 2);\n            count++;\n            if (fn(a, l[i - 1]) >= 0 && fn(a, l[i]) < 0) {\n                return i;\n            } else if (fn(a, l[i - 1]) < 0) {\n                hig = i - 1;\n            } else if (fn(a, l[i]) >= 0) {\n                low = i;\n            } else {\n                console.error('Catch an ERROR');\n            }\n            if (count > 1000) {\n                console.error('1000');\n                break;\n            }\n        }\n        return -1;\n    }\n}"],{
                    type: "application/javascript"
                })
                    , i = URL.createObjectURL(n);
                t.default = i
            }
        ])
    }
    , function(e, t) {
        var n, i;
        n = "undefined" != typeof self ? self : this,
            i = function() {
                return function(e) {
                    function t(i) {
                        if (n[i])
                            return n[i].exports;
                        var r = n[i] = {
                            i: i,
                            l: !1,
                            exports: {}
                        };
                        return e[i].call(r.exports, r, r.exports, t),
                            r.l = !0,
                            r.exports
                    }
                    var n = {};
                    return t.m = e,
                        t.c = n,
                        t.d = function(e, n, i) {
                            t.o(e, n) || Object.defineProperty(e, n, {
                                configurable: !1,
                                enumerable: !0,
                                get: i
                            })
                        }
                        ,
                        t.n = function(e) {
                            var n = e && e.__esModule ? function() {
                                    return e.default
                                }
                                : function() {
                                    return e
                                }
                            ;
                            return t.d(n, "a", n),
                                n
                        }
                        ,
                        t.o = function(e, t) {
                            return Object.prototype.hasOwnProperty.call(e, t)
                        }
                        ,
                        t.p = "",
                        t(t.s = 1)
                }([function(e, t, n) {
                    "use strict";
                    t.a = {
                        WS_OP_HEARTBEAT: 2,
                        WS_OP_HEARTBEAT_REPLY: 3,
                        WS_OP_MESSAGE: 5,
                        WS_OP_USER_AUTHENTICATION: 7,
                        WS_OP_CONNECT_SUCCESS: 8,
                        WS_PACKAGE_HEADER_TOTAL_LENGTH: 16,
                        WS_PACKAGE_OFFSET: 0,
                        WS_HEADER_OFFSET: 4,
                        WS_VERSION_OFFSET: 6,
                        WS_OPERATION_OFFSET: 8,
                        WS_SEQUENCE_OFFSET: 12,
                        WS_BODY_PROTOCOL_VERSION_NORMAL: 0,
                        WS_BODY_PROTOCOL_VERSION_DEFLATE: 2,
                        WS_HEADER_DEFAULT_VERSION: 1,
                        WS_HEADER_DEFAULT_OPERATION: 1,
                        WS_HEADER_DEFAULT_SEQUENCE: 1,
                        WS_AUTH_OK: 0,
                        WS_AUTH_TOKEN_ERROR: -101
                    }
                }
                    , function(e, t, n) {
                        var i = n(2).default;
                        e.exports = i
                    }
                    , function(e, t, n) {
                        "use strict";
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        });
                        var i = n(3)
                            , r = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var i = t[n];
                                    i.enumerable = i.enumerable || !1,
                                        i.configurable = !0,
                                    "value"in i && (i.writable = !0),
                                        Object.defineProperty(e, i.key, i)
                                }
                            }
                            return function(t, n, i) {
                                return n && e(t.prototype, n),
                                i && e(t, i),
                                    t
                            }
                        }()
                            , o = function() {
                            function e(t) {
                                return function(e, t) {
                                    if (!(e instanceof t))
                                        throw new TypeError("Cannot call a class as a function")
                                }(this, e),
                                "development" === e.CONFIG.bundleType && (console.clear(),
                                    console.dir(e.CONFIG)),
                                    this.initialize(t)
                            }
                            return e.prototype.initialize = function(t) {
                                return "development" === e.CONFIG.bundleType && console.log("App Initialized."),
                                    this.ws = new i.a(t),
                                    this.getReturn()
                            }
                                ,
                                e.prototype.getReturn = function() {
                                    return "development" === e.CONFIG.bundleType ? this : {
                                        destroy: this.destroy.bind(this),
                                        send: this.send.bind(this),
                                        getAuthInfo: this.getAuthInfo.bind(this),
                                        getRetryCount: this.getRetryCount.bind(this)
                                    }
                                }
                                ,
                                e.prototype.destroy = function() {
                                    this.ws && this.ws.destroy()
                                }
                                ,
                                e.prototype.send = function(e) {
                                    this.ws && this.ws.send(e)
                                }
                                ,
                                e.prototype.getAuthInfo = function() {
                                    return this.ws && this.ws.getAuthInfo()
                                }
                                ,
                                e.prototype.getRetryCount = function() {
                                    return this.ws && this.ws.getRetryCount()
                                }
                                ,
                                r(e, null, [{
                                    key: "CONFIG",
                                    get: function() {
                                        return {
                                            version: "1.4.3",
                                            gitHash: "bf68b6a8",
                                            build: "32",
                                            bundleType: "release"
                                        }
                                    }
                                }]),
                                e
                        }();
                        t.default = o
                    }
                    , function(e, t, n) {
                        "use strict";
                        var i = n(0)
                            , r = n(4)
                            , o = n(5)
                            , a = n(6).inflate
                            , s = function() {
                            function e(t) {
                                if (function(e, t) {
                                    if (!(e instanceof t))
                                        throw new TypeError("Cannot call a class as a function")
                                }(this, e),
                                    e.checkOptions(t)) {
                                    var n = {
                                        url: "",
                                        urlList: [],
                                        rid: 0,
                                        aid: 0,
                                        uid: 0,
                                        from: -1,
                                        retry: !0,
                                        retryMaxCount: 0,
                                        retryInterval: 5,
                                        retryThreadCount: 10,
                                        connectTimeout: 5e3,
                                        retryConnectCount: 3,
                                        retryconnectTimeout: 1e4,
                                        retryRoundInterval: Math.floor(2 * Math.random()) + 3,
                                        customAuthParam: [],
                                        fallback: function() {},
                                        heartBeatInterval: 30,
                                        onReceivedMessage: function() {},
                                        onReceiveAuthRes: function() {},
                                        onHeartBeatReply: function() {},
                                        onInitialized: function() {},
                                        onOpen: function() {},
                                        onClose: function() {},
                                        onError: function() {},
                                        onListConnectError: function() {}
                                    };
                                    this.options = o.a.extend({}, n, t),
                                        this.wsBinaryHeaderList = o.a.extend([], r.a),
                                        this.authInfo = {
                                            origin: "",
                                            encode: ""
                                        },
                                    0 !== this.options.urlList.length && 0 !== this.options.retryMaxCount && this.options.retryMaxCount < this.options.urlList.length && (this.options.retryMaxCount = this.options.urlList.length - 1),
                                        this.state = {
                                            retryCount: 0,
                                            listConnectFinishedCount: 0,
                                            index: 0,
                                            connectTimeoutTimes: 0
                                        },
                                        this.callbackQueueList = {
                                            onInitializedQueue: [],
                                            onOpenQueue: [],
                                            onCloseQueue: [],
                                            onErrorQueue: [],
                                            onReceivedMessageQueue: [],
                                            onHeartBeatReplyQueue: [],
                                            onRetryFallbackQueue: [],
                                            onListConnectErrorQueue: [],
                                            onReceiveAuthResQueue: []
                                        },
                                        this.HEART_BEAT_INTERVAL = 0,
                                        this.CONNECT_TIMEOUT = 0,
                                        this.mixinCallback().initialize(this.options.urlList.length > 0 ? this.options.urlList[0] : this.options.url)
                                }
                            }
                            return e.prototype.initialize = function(e) {
                                var t = this
                                    , n = "MozWebSocket"in window ? window.MozWebSocket : window.WebSocket
                                    , i = this.options;
                                try {
                                    this.ws = new n(e),
                                        this.ws.binaryType = "arraybuffer",
                                        this.ws.onopen = this.onOpen.bind(this),
                                        this.ws.onmessage = this.onMessage.bind(this),
                                        this.ws.onclose = this.onClose.bind(this),
                                        this.ws.onerror = this.onError.bind(this),
                                        o.a.callFunction(this.callbackQueueList.onInitializedQueue),
                                        this.callbackQueueList.onInitializedQueue = [];
                                    var r = this.state.connectTimeoutTimes >= 3 ? i.retryconnectTimeout : i.connectTimeout;
                                    this.CONNECT_TIMEOUT = setTimeout((function() {
                                            t.state.connectTimeoutTimes += 1,
                                                console.error("connect timeout ", t.state.connectTimeoutTimes),
                                                t.ws.close()
                                        }
                                    ), r)
                                } catch (e) {
                                    "function" == typeof i.fallback && i.fallback()
                                }
                                return this
                            }
                                ,
                                e.prototype.onOpen = function() {
                                    return o.a.callFunction(this.callbackQueueList.onOpenQueue),
                                        this.state.connectTimeoutTimes = 0,
                                    this.CONNECT_TIMEOUT && clearTimeout(this.CONNECT_TIMEOUT),
                                        this.userAuthentication(),
                                        this
                                }
                                ,
                                e.prototype.userAuthentication = function() {
                                    var e, t = this, n = this.options, r = {
                                        uid: parseInt(n.uid, 10),
                                        roomid: parseInt(n.rid, 10),
                                        protover: parseInt(n.protover, 10) || i.a.WS_BODY_PROTOCOL_VERSION_NORMAL
                                    };
                                    n.aid && (r.aid = parseInt(n.aid, 10)),
                                    n.from > 0 && (r.from = parseInt(n.from, 10) || 7);
                                    for (var o = 0; o < n.customAuthParam.length; o++) {
                                        var a = n.customAuthParam[o]
                                            , s = a.type || "string";
                                        switch (void 0 !== r[a.key] && console.error("Token has the same key already! 【" + a.key + "】"),
                                        a.key.toString() && a.value.toString() || console.error("Invalid customAuthParam, missing key or value! 【" + a.key + "】-【" + a.value + "】"),
                                            s) {
                                            case "string":
                                                r[a.key] = a.value;
                                                break;
                                            case "number":
                                                r[a.key] = parseInt(a.value, 10);
                                                break;
                                            case "boolean":
                                                r[a.key] = !!r[a.value];
                                                break;
                                            default:
                                                return void console.error("Unsupported customAuthParam type!【" + s + "】")
                                        }
                                    }
                                    e = this.convertToArrayBuffer(JSON.stringify(r), i.a.WS_OP_USER_AUTHENTICATION),
                                        this.authInfo.origin = r,
                                        this.authInfo.encode = e,
                                        setTimeout((function() {
                                                t.ws.send(e)
                                            }
                                        ), 0)
                                }
                                ,
                                e.prototype.getAuthInfo = function() {
                                    return this.authInfo
                                }
                                ,
                                e.prototype.heartBeat = function() {
                                    var e = this;
                                    clearTimeout(this.HEART_BEAT_INTERVAL);
                                    var t = this.convertToArrayBuffer({}, i.a.WS_OP_HEARTBEAT);
                                    this.ws.send(t),
                                        this.HEART_BEAT_INTERVAL = setTimeout((function() {
                                                e.heartBeat()
                                            }
                                        ), 1e3 * this.options.heartBeatInterval)
                                }
                                ,
                                e.prototype.onMessage = function(e) {
                                    var t = this;
                                    try {
                                        var n = this.convertToObject(e.data);
                                        if (n instanceof Array)
                                            n.forEach((function(e) {
                                                    t.onMessage(e)
                                                }
                                            ));
                                        else if (n instanceof Object)
                                            switch (n.op) {
                                                case i.a.WS_OP_HEARTBEAT_REPLY:
                                                    this.onHeartBeatReply(n.body);
                                                    break;
                                                case i.a.WS_OP_MESSAGE:
                                                    this.onMessageReply(n.body, n.seq);
                                                    break;
                                                case i.a.WS_OP_CONNECT_SUCCESS:
                                                    if (0 !== n.body.length && n.body[0])
                                                        switch (n.body[0].code) {
                                                            case i.a.WS_AUTH_OK:
                                                                this.heartBeat();
                                                                break;
                                                            case i.a.WS_AUTH_TOKEN_ERROR:
                                                                this.options.retry = !1,
                                                                "function" == typeof this.options.onReceiveAuthRes && this.options.onReceiveAuthRes(n.body);
                                                                break;
                                                            default:
                                                                this.onClose()
                                                        }
                                                    else
                                                        this.heartBeat()
                                            }
                                    } catch (e) {
                                        console.error("WebSocket Error: ", e)
                                    }
                                    return this
                                }
                                ,
                                e.prototype.onMessageReply = function(e, t) {
                                    var n = this;
                                    try {
                                        e instanceof Array ? e.forEach((function(e) {
                                                n.onMessageReply(e, t)
                                            }
                                        )) : e instanceof Object && "function" == typeof this.options.onReceivedMessage && this.options.onReceivedMessage(e, t)
                                    } catch (e) {
                                        console.error("On Message Resolve Error: ", e)
                                    }
                                }
                                ,
                                e.prototype.onHeartBeatReply = function(e) {
                                    o.a.callFunction(this.callbackQueueList.onHeartBeatReplyQueue, e)
                                }
                                ,
                                e.prototype.onClose = function() {
                                    var e = this
                                        , t = this.options.urlList.length;
                                    return o.a.callFunction(this.callbackQueueList.onCloseQueue),
                                        clearTimeout(this.HEART_BEAT_INTERVAL),
                                        this.options.retry ? (this.checkRetryState() ? setTimeout((function() {
                                                console.error("Danmaku Websocket Retry .", e.state.retryCount),
                                                    e.state.index += 1,
                                                    0 === t || e.state.retryCount > e.options.retryThreadCount ? setTimeout((function() {
                                                            e.initialize(e.options.url)
                                                        }
                                                    ), 1e3 * e.options.retryRoundInterval) : 0 !== t && e.state.index > t - 1 ? (e.state.index = 0,
                                                        e.state.listConnectFinishedCount += 1,
                                                    1 === e.state.listConnectFinishedCount && o.a.callFunction(e.callbackQueueList.onListConnectErrorQueue),
                                                        setTimeout((function() {
                                                                e.initialize(e.options.urlList[e.state.index])
                                                            }
                                                        ), 1e3 * e.options.retryRoundInterval)) : e.initialize(e.options.urlList[e.state.index])
                                            }
                                        ), 1e3 * this.options.retryInterval) : (console.error("Danmaku Websocket Retry Failed."),
                                            o.a.callFunction(this.callbackQueueList.onRetryFallbackQueue)),
                                            this) : this
                                }
                                ,
                                e.prototype.onError = function(e) {
                                    return console.error("Danmaku Websocket On Error.", e),
                                        o.a.callFunction(this.callbackQueueList.onErrorQueue, e),
                                        this
                                }
                                ,
                                e.prototype.destroy = function() {
                                    this.HEART_BEAT_INTERVAL && clearTimeout(this.HEART_BEAT_INTERVAL),
                                    this.CONNECT_TIMEOUT && clearTimeout(this.CONNECT_TIMEOUT),
                                        this.options.retry = !1,
                                    this.ws && this.ws.close(),
                                        this.ws = null
                                }
                                ,
                                e.prototype.convertToArrayBuffer = function(e, t) {
                                    this.encoder || (this.encoder = o.a.getEncoder());
                                    var n = new ArrayBuffer(i.a.WS_PACKAGE_HEADER_TOTAL_LENGTH)
                                        , r = new DataView(n,i.a.WS_PACKAGE_OFFSET)
                                        , a = this.encoder.encode(e);
                                    return r.setInt32(i.a.WS_PACKAGE_OFFSET, i.a.WS_PACKAGE_HEADER_TOTAL_LENGTH + a.byteLength),
                                        this.wsBinaryHeaderList[2].value = t,
                                        this.wsBinaryHeaderList.forEach((function(e) {
                                                4 === e.bytes ? r.setInt32(e.offset, e.value) : 2 === e.bytes && r.setInt16(e.offset, e.value)
                                            }
                                        )),
                                        o.a.mergeArrayBuffer(n, a)
                                }
                                ,
                                e.prototype.convertToObject = function(e) {
                                    var t = new DataView(e)
                                        , n = {
                                        body: []
                                    };
                                    if (n.packetLen = t.getInt32(i.a.WS_PACKAGE_OFFSET),
                                        this.wsBinaryHeaderList.forEach((function(e) {
                                                4 === e.bytes ? n[e.key] = t.getInt32(e.offset) : 2 === e.bytes && (n[e.key] = t.getInt16(e.offset))
                                            }
                                        )),
                                    n.packetLen < e.byteLength && this.convertToObject(e.slice(0, n.packetLen)),
                                    this.decoder || (this.decoder = o.a.getDecoder()),
                                    !n.op || i.a.WS_OP_MESSAGE !== n.op && n.op !== i.a.WS_OP_CONNECT_SUCCESS)
                                        n.op && i.a.WS_OP_HEARTBEAT_REPLY === n.op && (n.body = {
                                            count: t.getInt32(i.a.WS_PACKAGE_HEADER_TOTAL_LENGTH)
                                        });
                                    else
                                        for (var r = i.a.WS_PACKAGE_OFFSET, s = n.packetLen, l = "", c = ""; r < e.byteLength; r += s) {
                                            s = t.getInt32(r),
                                                l = t.getInt16(r + i.a.WS_HEADER_OFFSET);
                                            try {
                                                if (n.ver === i.a.WS_BODY_PROTOCOL_VERSION_DEFLATE) {
                                                    var u = e.slice(r + l, r + s)
                                                        , d = a(new Uint8Array(u));
                                                    c = this.convertToObject(d.buffer).body
                                                } else {
                                                    var h = this.decoder.decode(e.slice(r + l, r + s));
                                                    c = 0 !== h.length ? JSON.parse(h) : null
                                                }
                                                c && n.body.push(c)
                                            } catch (t) {
                                                console.error("decode body error:", new Uint8Array(e), n, t)
                                            }
                                        }
                                    return n
                                }
                                ,
                                e.prototype.send = function(e) {
                                    this.ws && this.ws.send(e)
                                }
                                ,
                                e.prototype.addCallback = function(e, t) {
                                    return "function" == typeof e && t instanceof Array && t.push(e),
                                        this
                                }
                                ,
                                e.prototype.mixinCallback = function() {
                                    var e = this.options
                                        , t = this.callbackQueueList;
                                    return this.addCallback(e.onReceivedMessage, t.onReceivedMessageQueue).addCallback(e.onHeartBeatReply, t.onHeartBeatReplyQueue).addCallback(e.onInitialized, t.onInitializedQueue).addCallback(e.onOpen, t.onOpenQueue).addCallback(e.onClose, t.onCloseQueue).addCallback(e.onError, t.onErrorQueue).addCallback(e.onRetryFallback, t.onRetryFallbackQueue).addCallback(e.onListConnectError, t.onListConnectErrorQueue).addCallback(e.onReceiveAuthRes, t.onReceiveAuthResQueue),
                                        this
                                }
                                ,
                                e.prototype.getRetryCount = function() {
                                    return this.state.retryCount
                                }
                                ,
                                e.prototype.checkRetryState = function() {
                                    var e = this.options
                                        , t = !1;
                                    return (0 === e.retryMaxCount || this.state.retryCount < e.retryMaxCount) && (this.state.retryCount += 1,
                                        t = !0),
                                        t
                                }
                                ,
                                e.checkOptions = function(e) {
                                    return e || e instanceof Object ? e.url ? !!e.rid || (console.error("WebSocket Initialize options rid(cid) missing."),
                                        !1) : (console.error("WebSocket Initialize options url missing."),
                                        !1) : (console.error("WebSocket Initialize options missing or error.", e),
                                        !1)
                                }
                                ,
                                e
                        }();
                        t.a = s
                    }
                    , function(e, t, n) {
                        "use strict";
                        var i = n(0)
                            , r = [{
                            name: "Header Length",
                            key: "headerLen",
                            bytes: 2,
                            offset: i.a.WS_HEADER_OFFSET,
                            value: i.a.WS_PACKAGE_HEADER_TOTAL_LENGTH
                        }, {
                            name: "Protocol Version",
                            key: "ver",
                            bytes: 2,
                            offset: i.a.WS_VERSION_OFFSET,
                            value: i.a.WS_HEADER_DEFAULT_VERSION
                        }, {
                            name: "Operation",
                            key: "op",
                            bytes: 4,
                            offset: i.a.WS_OPERATION_OFFSET,
                            value: i.a.WS_HEADER_DEFAULT_OPERATION
                        }, {
                            name: "Sequence Id",
                            key: "seq",
                            bytes: 4,
                            offset: i.a.WS_SEQUENCE_OFFSET,
                            value: i.a.WS_HEADER_DEFAULT_SEQUENCE
                        }];
                        t.a = r
                    }
                    , function(e, t, n) {
                        "use strict";
                        var i = {
                            getDecoder: function() {
                                return window.TextDecoder ? new window.TextDecoder : {
                                    decode: function(e) {
                                        return decodeURIComponent(window.escape(String.fromCharCode.apply(String, new Uint8Array(e))))
                                    }
                                }
                            },
                            getEncoder: function() {
                                return window.TextEncoder ? new window.TextEncoder : {
                                    encode: function(e) {
                                        for (var t = new ArrayBuffer(e.length), n = new Uint8Array(t), i = 0, r = e.length; i < r; i++)
                                            n[i] = e.charCodeAt(i);
                                        return t
                                    }
                                }
                            },
                            mergeArrayBuffer: function(e, t) {
                                var n = new Uint8Array(e)
                                    , i = new Uint8Array(t)
                                    , r = new Uint8Array(n.byteLength + i.byteLength);
                                return r.set(n, 0),
                                    r.set(i, n.byteLength),
                                    r.buffer
                            },
                            callFunction: function(e, t) {
                                return e instanceof Array && e.length ? (e.forEach((function(e) {
                                        return "function" == typeof e && e(t)
                                    }
                                )),
                                    null) : "function" == typeof e && e(t)
                            },
                            extend: function(e) {
                                for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++)
                                    n[i - 1] = arguments[i];
                                var r = e || {};
                                return r instanceof Object && n.forEach((function(e) {
                                        e instanceof Object && Object.keys(e).forEach((function(t) {
                                                r[t] = e[t]
                                            }
                                        ))
                                    }
                                )),
                                    r
                            }
                        };
                        t.a = i
                    }
                    , function(e, t, n) {
                        e.exports = function e(t, n, i) {
                            function r(a, s) {
                                if (!n[a]) {
                                    if (!t[a]) {
                                        if (o)
                                            return o(a, !0);
                                        var l = new Error("Cannot find module '" + a + "'");
                                        throw l.code = "MODULE_NOT_FOUND",
                                            l
                                    }
                                    var c = n[a] = {
                                        exports: {}
                                    };
                                    t[a][0].call(c.exports, (function(e) {
                                            return r(t[a][1][e] || e)
                                        }
                                    ), c, c.exports, e, t, n, i)
                                }
                                return n[a].exports
                            }
                            for (var o = !1, a = 0; a < i.length; a++)
                                r(i[a]);
                            return r
                        }({
                            1: [function(e, t, n) {
                                "use strict";
                                var i = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Int32Array;
                                n.assign = function(e) {
                                    for (var t, n, i = Array.prototype.slice.call(arguments, 1); i.length; ) {
                                        var r = i.shift();
                                        if (r) {
                                            if ("object" != typeof r)
                                                throw new TypeError(r + "must be non-object");
                                            for (var o in r)
                                                t = r,
                                                    n = o,
                                                Object.prototype.hasOwnProperty.call(t, n) && (e[o] = r[o])
                                        }
                                    }
                                    return e
                                }
                                    ,
                                    n.shrinkBuf = function(e, t) {
                                        return e.length === t ? e : e.subarray ? e.subarray(0, t) : (e.length = t,
                                            e)
                                    }
                                ;
                                var r = {
                                    arraySet: function(e, t, n, i, r) {
                                        if (t.subarray && e.subarray)
                                            e.set(t.subarray(n, n + i), r);
                                        else
                                            for (var o = 0; o < i; o++)
                                                e[r + o] = t[n + o]
                                    },
                                    flattenChunks: function(e) {
                                        var t, n, i, r, o, a;
                                        for (t = i = 0,
                                                 n = e.length; t < n; t++)
                                            i += e[t].length;
                                        for (a = new Uint8Array(i),
                                                 t = r = 0,
                                                 n = e.length; t < n; t++)
                                            o = e[t],
                                                a.set(o, r),
                                                r += o.length;
                                        return a
                                    }
                                }
                                    , o = {
                                    arraySet: function(e, t, n, i, r) {
                                        for (var o = 0; o < i; o++)
                                            e[r + o] = t[n + o]
                                    },
                                    flattenChunks: function(e) {
                                        return [].concat.apply([], e)
                                    }
                                };
                                n.setTyped = function(e) {
                                    e ? (n.Buf8 = Uint8Array,
                                        n.Buf16 = Uint16Array,
                                        n.Buf32 = Int32Array,
                                        n.assign(n, r)) : (n.Buf8 = Array,
                                        n.Buf16 = Array,
                                        n.Buf32 = Array,
                                        n.assign(n, o))
                                }
                                    ,
                                    n.setTyped(i)
                            }
                                , {}],
                            2: [function(e, t, n) {
                                "use strict";
                                function i(e, t) {
                                    if (t < 65534 && (e.subarray && a || !e.subarray && o))
                                        return String.fromCharCode.apply(null, r.shrinkBuf(e, t));
                                    for (var n = "", i = 0; i < t; i++)
                                        n += String.fromCharCode(e[i]);
                                    return n
                                }
                                var r = e("./common")
                                    , o = !0
                                    , a = !0;
                                try {
                                    String.fromCharCode.apply(null, [0])
                                } catch (e) {
                                    o = !1
                                }
                                try {
                                    String.fromCharCode.apply(null, new Uint8Array(1))
                                } catch (e) {
                                    a = !1
                                }
                                for (var s = new r.Buf8(256), l = 0; l < 256; l++)
                                    s[l] = 252 <= l ? 6 : 248 <= l ? 5 : 240 <= l ? 4 : 224 <= l ? 3 : 192 <= l ? 2 : 1;
                                s[254] = s[254] = 1,
                                    n.string2buf = function(e) {
                                        var t, n, i, o, a, s = e.length, l = 0;
                                        for (o = 0; o < s; o++)
                                            55296 == (64512 & (n = e.charCodeAt(o))) && o + 1 < s && 56320 == (64512 & (i = e.charCodeAt(o + 1))) && (n = 65536 + (n - 55296 << 10) + (i - 56320),
                                                o++),
                                                l += n < 128 ? 1 : n < 2048 ? 2 : n < 65536 ? 3 : 4;
                                        for (t = new r.Buf8(l),
                                                 o = a = 0; a < l; o++)
                                            55296 == (64512 & (n = e.charCodeAt(o))) && o + 1 < s && 56320 == (64512 & (i = e.charCodeAt(o + 1))) && (n = 65536 + (n - 55296 << 10) + (i - 56320),
                                                o++),
                                                t[a++] = n < 128 ? n : (t[a++] = n < 2048 ? 192 | n >>> 6 : (t[a++] = n < 65536 ? 224 | n >>> 12 : (t[a++] = 240 | n >>> 18,
                                                128 | n >>> 12 & 63),
                                                128 | n >>> 6 & 63),
                                                128 | 63 & n);
                                        return t
                                    }
                                    ,
                                    n.buf2binstring = function(e) {
                                        return i(e, e.length)
                                    }
                                    ,
                                    n.binstring2buf = function(e) {
                                        for (var t = new r.Buf8(e.length), n = 0, i = t.length; n < i; n++)
                                            t[n] = e.charCodeAt(n);
                                        return t
                                    }
                                    ,
                                    n.buf2string = function(e, t) {
                                        var n, r, o, a, l = t || e.length, c = new Array(2 * l);
                                        for (n = r = 0; n < l; )
                                            if ((o = e[n++]) < 128)
                                                c[r++] = o;
                                            else if (4 < (a = s[o]))
                                                c[r++] = 65533,
                                                    n += a - 1;
                                            else {
                                                for (o &= 2 === a ? 31 : 3 === a ? 15 : 7; 1 < a && n < l; )
                                                    o = o << 6 | 63 & e[n++],
                                                        a--;
                                                c[r++] = 1 < a ? 65533 : o < 65536 ? o : (o -= 65536,
                                                    c[r++] = 55296 | o >> 10 & 1023,
                                                56320 | 1023 & o)
                                            }
                                        return i(c, r)
                                    }
                                    ,
                                    n.utf8border = function(e, t) {
                                        var n;
                                        for ((t = t || e.length) > e.length && (t = e.length),
                                                 n = t - 1; 0 <= n && 128 == (192 & e[n]); )
                                            n--;
                                        return n < 0 || 0 === n ? t : n + s[e[n]] > t ? n : t
                                    }
                            }
                                , {
                                    "./common": 1
                                }],
                            3: [function(e, t, n) {
                                "use strict";
                                t.exports = function(e, t, n, i) {
                                    for (var r = 65535 & e | 0, o = e >>> 16 & 65535 | 0, a = 0; 0 !== n; ) {
                                        for (n -= a = 2e3 < n ? 2e3 : n; o = o + (r = r + t[i++] | 0) | 0,
                                            --a; )
                                            ;
                                        r %= 65521,
                                            o %= 65521
                                    }
                                    return r | o << 16 | 0
                                }
                            }
                                , {}],
                            4: [function(e, t, n) {
                                "use strict";
                                t.exports = {
                                    Z_NO_FLUSH: 0,
                                    Z_PARTIAL_FLUSH: 1,
                                    Z_SYNC_FLUSH: 2,
                                    Z_FULL_FLUSH: 3,
                                    Z_FINISH: 4,
                                    Z_BLOCK: 5,
                                    Z_TREES: 6,
                                    Z_OK: 0,
                                    Z_STREAM_END: 1,
                                    Z_NEED_DICT: 2,
                                    Z_ERRNO: -1,
                                    Z_STREAM_ERROR: -2,
                                    Z_DATA_ERROR: -3,
                                    Z_BUF_ERROR: -5,
                                    Z_NO_COMPRESSION: 0,
                                    Z_BEST_SPEED: 1,
                                    Z_BEST_COMPRESSION: 9,
                                    Z_DEFAULT_COMPRESSION: -1,
                                    Z_FILTERED: 1,
                                    Z_HUFFMAN_ONLY: 2,
                                    Z_RLE: 3,
                                    Z_FIXED: 4,
                                    Z_DEFAULT_STRATEGY: 0,
                                    Z_BINARY: 0,
                                    Z_TEXT: 1,
                                    Z_UNKNOWN: 2,
                                    Z_DEFLATED: 8
                                }
                            }
                                , {}],
                            5: [function(e, t, n) {
                                "use strict";
                                var i = function() {
                                    for (var e, t = [], n = 0; n < 256; n++) {
                                        e = n;
                                        for (var i = 0; i < 8; i++)
                                            e = 1 & e ? 3988292384 ^ e >>> 1 : e >>> 1;
                                        t[n] = e
                                    }
                                    return t
                                }();
                                t.exports = function(e, t, n, r) {
                                    var o = i
                                        , a = r + n;
                                    e ^= -1;
                                    for (var s = r; s < a; s++)
                                        e = e >>> 8 ^ o[255 & (e ^ t[s])];
                                    return -1 ^ e
                                }
                            }
                                , {}],
                            6: [function(e, t, n) {
                                "use strict";
                                t.exports = function() {
                                    this.text = 0,
                                        this.time = 0,
                                        this.xflags = 0,
                                        this.os = 0,
                                        this.extra = null,
                                        this.extra_len = 0,
                                        this.name = "",
                                        this.comment = "",
                                        this.hcrc = 0,
                                        this.done = !1
                                }
                            }
                                , {}],
                            7: [function(e, t, n) {
                                "use strict";
                                t.exports = function(e, t) {
                                    var n, i, r, o, a, s, l, c, u, d, h, f, p, v, y, g, m, _, b, E, S, T, w, C, A;
                                    n = e.state,
                                        i = e.next_in,
                                        C = e.input,
                                        r = i + (e.avail_in - 5),
                                        o = e.next_out,
                                        A = e.output,
                                        a = o - (t - e.avail_out),
                                        s = o + (e.avail_out - 257),
                                        l = n.dmax,
                                        c = n.wsize,
                                        u = n.whave,
                                        d = n.wnext,
                                        h = n.window,
                                        f = n.hold,
                                        p = n.bits,
                                        v = n.lencode,
                                        y = n.distcode,
                                        g = (1 << n.lenbits) - 1,
                                        m = (1 << n.distbits) - 1;
                                    e: do {
                                        p < 15 && (f += C[i++] << p,
                                            p += 8,
                                            f += C[i++] << p,
                                            p += 8),
                                            _ = v[f & g];
                                        t: for (; ; ) {
                                            if (f >>>= b = _ >>> 24,
                                                p -= b,
                                            0 == (b = _ >>> 16 & 255))
                                                A[o++] = 65535 & _;
                                            else {
                                                if (!(16 & b)) {
                                                    if (0 == (64 & b)) {
                                                        _ = v[(65535 & _) + (f & (1 << b) - 1)];
                                                        continue t
                                                    }
                                                    if (32 & b) {
                                                        n.mode = 12;
                                                        break e
                                                    }
                                                    e.msg = "invalid literal/length code",
                                                        n.mode = 30;
                                                    break e
                                                }
                                                E = 65535 & _,
                                                (b &= 15) && (p < b && (f += C[i++] << p,
                                                    p += 8),
                                                    E += f & (1 << b) - 1,
                                                    f >>>= b,
                                                    p -= b),
                                                p < 15 && (f += C[i++] << p,
                                                    p += 8,
                                                    f += C[i++] << p,
                                                    p += 8),
                                                    _ = y[f & m];
                                                n: for (; ; ) {
                                                    if (f >>>= b = _ >>> 24,
                                                        p -= b,
                                                        !(16 & (b = _ >>> 16 & 255))) {
                                                        if (0 == (64 & b)) {
                                                            _ = y[(65535 & _) + (f & (1 << b) - 1)];
                                                            continue n
                                                        }
                                                        e.msg = "invalid distance code",
                                                            n.mode = 30;
                                                        break e
                                                    }
                                                    if (S = 65535 & _,
                                                    p < (b &= 15) && (f += C[i++] << p,
                                                    (p += 8) < b && (f += C[i++] << p,
                                                        p += 8)),
                                                    l < (S += f & (1 << b) - 1)) {
                                                        e.msg = "invalid distance too far back",
                                                            n.mode = 30;
                                                        break e
                                                    }
                                                    if (f >>>= b,
                                                        p -= b,
                                                    (b = o - a) < S) {
                                                        if (u < (b = S - b) && n.sane) {
                                                            e.msg = "invalid distance too far back",
                                                                n.mode = 30;
                                                            break e
                                                        }
                                                        if (w = h,
                                                        (T = 0) === d) {
                                                            if (T += c - b,
                                                            b < E) {
                                                                for (E -= b; A[o++] = h[T++],
                                                                    --b; )
                                                                    ;
                                                                T = o - S,
                                                                    w = A
                                                            }
                                                        } else if (d < b) {
                                                            if (T += c + d - b,
                                                            (b -= d) < E) {
                                                                for (E -= b; A[o++] = h[T++],
                                                                    --b; )
                                                                    ;
                                                                if (T = 0,
                                                                d < E) {
                                                                    for (E -= b = d; A[o++] = h[T++],
                                                                        --b; )
                                                                        ;
                                                                    T = o - S,
                                                                        w = A
                                                                }
                                                            }
                                                        } else if (T += d - b,
                                                        b < E) {
                                                            for (E -= b; A[o++] = h[T++],
                                                                --b; )
                                                                ;
                                                            T = o - S,
                                                                w = A
                                                        }
                                                        for (; 2 < E; )
                                                            A[o++] = w[T++],
                                                                A[o++] = w[T++],
                                                                A[o++] = w[T++],
                                                                E -= 3;
                                                        E && (A[o++] = w[T++],
                                                        1 < E && (A[o++] = w[T++]))
                                                    } else {
                                                        for (T = o - S; A[o++] = A[T++],
                                                            A[o++] = A[T++],
                                                            A[o++] = A[T++],
                                                        2 < (E -= 3); )
                                                            ;
                                                        E && (A[o++] = A[T++],
                                                        1 < E && (A[o++] = A[T++]))
                                                    }
                                                    break
                                                }
                                            }
                                            break
                                        }
                                    } while (i < r && o < s);i -= E = p >> 3,
                                        f &= (1 << (p -= E << 3)) - 1,
                                        e.next_in = i,
                                        e.next_out = o,
                                        e.avail_in = i < r ? r - i + 5 : 5 - (i - r),
                                        e.avail_out = o < s ? s - o + 257 : 257 - (o - s),
                                        n.hold = f,
                                        n.bits = p
                                }
                            }
                                , {}],
                            8: [function(e, t, n) {
                                "use strict";
                                function i(e) {
                                    return (e >>> 24 & 255) + (e >>> 8 & 65280) + ((65280 & e) << 8) + ((255 & e) << 24)
                                }
                                function r() {
                                    this.mode = 0,
                                        this.last = !1,
                                        this.wrap = 0,
                                        this.havedict = !1,
                                        this.flags = 0,
                                        this.dmax = 0,
                                        this.check = 0,
                                        this.total = 0,
                                        this.head = null,
                                        this.wbits = 0,
                                        this.wsize = 0,
                                        this.whave = 0,
                                        this.wnext = 0,
                                        this.window = null,
                                        this.hold = 0,
                                        this.bits = 0,
                                        this.length = 0,
                                        this.offset = 0,
                                        this.extra = 0,
                                        this.lencode = null,
                                        this.distcode = null,
                                        this.lenbits = 0,
                                        this.distbits = 0,
                                        this.ncode = 0,
                                        this.nlen = 0,
                                        this.ndist = 0,
                                        this.have = 0,
                                        this.next = null,
                                        this.lens = new f.Buf16(320),
                                        this.work = new f.Buf16(288),
                                        this.lendyn = null,
                                        this.distdyn = null,
                                        this.sane = 0,
                                        this.back = 0,
                                        this.was = 0
                                }
                                function o(e) {
                                    var t;
                                    return e && e.state ? (t = e.state,
                                        e.total_in = e.total_out = t.total = 0,
                                        e.msg = "",
                                    t.wrap && (e.adler = 1 & t.wrap),
                                        t.mode = S,
                                        t.last = 0,
                                        t.havedict = 0,
                                        t.dmax = 32768,
                                        t.head = null,
                                        t.hold = 0,
                                        t.bits = 0,
                                        t.lencode = t.lendyn = new f.Buf32(T),
                                        t.distcode = t.distdyn = new f.Buf32(w),
                                        t.sane = 1,
                                        t.back = -1,
                                        b) : E
                                }
                                function a(e) {
                                    var t;
                                    return e && e.state ? ((t = e.state).wsize = 0,
                                        t.whave = 0,
                                        t.wnext = 0,
                                        o(e)) : E
                                }
                                function s(e, t) {
                                    var n, i;
                                    return e && e.state ? (i = e.state,
                                        t < 0 ? (n = 0,
                                            t = -t) : (n = 1 + (t >> 4),
                                        t < 48 && (t &= 15)),
                                        t && (t < 8 || 15 < t) ? E : (null !== i.window && i.wbits !== t && (i.window = null),
                                            i.wrap = n,
                                            i.wbits = t,
                                            a(e))) : E
                                }
                                function l(e, t) {
                                    var n, i;
                                    return e ? (i = new r,
                                        (e.state = i).window = null,
                                    (n = s(e, t)) !== b && (e.state = null),
                                        n) : E
                                }
                                function c(e) {
                                    if (C) {
                                        var t;
                                        for (d = new f.Buf32(512),
                                                 h = new f.Buf32(32),
                                                 t = 0; t < 144; )
                                            e.lens[t++] = 8;
                                        for (; t < 256; )
                                            e.lens[t++] = 9;
                                        for (; t < 280; )
                                            e.lens[t++] = 7;
                                        for (; t < 288; )
                                            e.lens[t++] = 8;
                                        for (g(m, e.lens, 0, 288, d, 0, e.work, {
                                            bits: 9
                                        }),
                                                 t = 0; t < 32; )
                                            e.lens[t++] = 5;
                                        g(_, e.lens, 0, 32, h, 0, e.work, {
                                            bits: 5
                                        }),
                                            C = !1
                                    }
                                    e.lencode = d,
                                        e.lenbits = 9,
                                        e.distcode = h,
                                        e.distbits = 5
                                }
                                function u(e, t, n, i) {
                                    var r, o = e.state;
                                    return null === o.window && (o.wsize = 1 << o.wbits,
                                        o.wnext = 0,
                                        o.whave = 0,
                                        o.window = new f.Buf8(o.wsize)),
                                        i >= o.wsize ? (f.arraySet(o.window, t, n - o.wsize, o.wsize, 0),
                                            o.wnext = 0,
                                            o.whave = o.wsize) : (i < (r = o.wsize - o.wnext) && (r = i),
                                            f.arraySet(o.window, t, n - i, r, o.wnext),
                                            (i -= r) ? (f.arraySet(o.window, t, n - i, i, 0),
                                                o.wnext = i,
                                                o.whave = o.wsize) : (o.wnext += r,
                                            o.wnext === o.wsize && (o.wnext = 0),
                                            o.whave < o.wsize && (o.whave += r))),
                                        0
                                }
                                var d, h, f = e("../utils/common"), p = e("./adler32"), v = e("./crc32"), y = e("./inffast"), g = e("./inftrees"), m = 1, _ = 2, b = 0, E = -2, S = 1, T = 852, w = 592, C = !0;
                                n.inflateReset = a,
                                    n.inflateReset2 = s,
                                    n.inflateResetKeep = o,
                                    n.inflateInit = function(e) {
                                        return l(e, 15)
                                    }
                                    ,
                                    n.inflateInit2 = l,
                                    n.inflate = function(e, t) {
                                        var n, r, o, a, s, l, d, h, T, w, C, A, k, x, L, R, I, P, M, D, O, N, U, B, F = 0, z = new f.Buf8(4), j = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
                                        if (!e || !e.state || !e.output || !e.input && 0 !== e.avail_in)
                                            return E;
                                        12 === (n = e.state).mode && (n.mode = 13),
                                            s = e.next_out,
                                            o = e.output,
                                            d = e.avail_out,
                                            a = e.next_in,
                                            r = e.input,
                                            l = e.avail_in,
                                            h = n.hold,
                                            T = n.bits,
                                            w = l,
                                            C = d,
                                            N = b;
                                        e: for (; ; )
                                            switch (n.mode) {
                                                case S:
                                                    if (0 === n.wrap) {
                                                        n.mode = 13;
                                                        break
                                                    }
                                                    for (; T < 16; ) {
                                                        if (0 === l)
                                                            break e;
                                                        l--,
                                                            h += r[a++] << T,
                                                            T += 8
                                                    }
                                                    if (2 & n.wrap && 35615 === h) {
                                                        z[n.check = 0] = 255 & h,
                                                            z[1] = h >>> 8 & 255,
                                                            n.check = v(n.check, z, 2, 0),
                                                            T = h = 0,
                                                            n.mode = 2;
                                                        break
                                                    }
                                                    if (n.flags = 0,
                                                    n.head && (n.head.done = !1),
                                                    !(1 & n.wrap) || (((255 & h) << 8) + (h >> 8)) % 31) {
                                                        e.msg = "incorrect header check",
                                                            n.mode = 30;
                                                        break
                                                    }
                                                    if (8 != (15 & h)) {
                                                        e.msg = "unknown compression method",
                                                            n.mode = 30;
                                                        break
                                                    }
                                                    if (T -= 4,
                                                        O = 8 + (15 & (h >>>= 4)),
                                                    0 === n.wbits)
                                                        n.wbits = O;
                                                    else if (O > n.wbits) {
                                                        e.msg = "invalid window size",
                                                            n.mode = 30;
                                                        break
                                                    }
                                                    n.dmax = 1 << O,
                                                        e.adler = n.check = 1,
                                                        n.mode = 512 & h ? 10 : 12,
                                                        T = h = 0;
                                                    break;
                                                case 2:
                                                    for (; T < 16; ) {
                                                        if (0 === l)
                                                            break e;
                                                        l--,
                                                            h += r[a++] << T,
                                                            T += 8
                                                    }
                                                    if (n.flags = h,
                                                    8 != (255 & n.flags)) {
                                                        e.msg = "unknown compression method",
                                                            n.mode = 30;
                                                        break
                                                    }
                                                    if (57344 & n.flags) {
                                                        e.msg = "unknown header flags set",
                                                            n.mode = 30;
                                                        break
                                                    }
                                                    n.head && (n.head.text = h >> 8 & 1),
                                                    512 & n.flags && (z[0] = 255 & h,
                                                        z[1] = h >>> 8 & 255,
                                                        n.check = v(n.check, z, 2, 0)),
                                                        T = h = 0,
                                                        n.mode = 3;
                                                case 3:
                                                    for (; T < 32; ) {
                                                        if (0 === l)
                                                            break e;
                                                        l--,
                                                            h += r[a++] << T,
                                                            T += 8
                                                    }
                                                    n.head && (n.head.time = h),
                                                    512 & n.flags && (z[0] = 255 & h,
                                                        z[1] = h >>> 8 & 255,
                                                        z[2] = h >>> 16 & 255,
                                                        z[3] = h >>> 24 & 255,
                                                        n.check = v(n.check, z, 4, 0)),
                                                        T = h = 0,
                                                        n.mode = 4;
                                                case 4:
                                                    for (; T < 16; ) {
                                                        if (0 === l)
                                                            break e;
                                                        l--,
                                                            h += r[a++] << T,
                                                            T += 8
                                                    }
                                                    n.head && (n.head.xflags = 255 & h,
                                                        n.head.os = h >> 8),
                                                    512 & n.flags && (z[0] = 255 & h,
                                                        z[1] = h >>> 8 & 255,
                                                        n.check = v(n.check, z, 2, 0)),
                                                        T = h = 0,
                                                        n.mode = 5;
                                                case 5:
                                                    if (1024 & n.flags) {
                                                        for (; T < 16; ) {
                                                            if (0 === l)
                                                                break e;
                                                            l--,
                                                                h += r[a++] << T,
                                                                T += 8
                                                        }
                                                        n.length = h,
                                                        n.head && (n.head.extra_len = h),
                                                        512 & n.flags && (z[0] = 255 & h,
                                                            z[1] = h >>> 8 & 255,
                                                            n.check = v(n.check, z, 2, 0)),
                                                            T = h = 0
                                                    } else
                                                        n.head && (n.head.extra = null);
                                                    n.mode = 6;
                                                case 6:
                                                    if (1024 & n.flags && (l < (A = n.length) && (A = l),
                                                    A && (n.head && (O = n.head.extra_len - n.length,
                                                    n.head.extra || (n.head.extra = new Array(n.head.extra_len)),
                                                        f.arraySet(n.head.extra, r, a, A, O)),
                                                    512 & n.flags && (n.check = v(n.check, r, A, a)),
                                                        l -= A,
                                                        a += A,
                                                        n.length -= A),
                                                        n.length))
                                                        break e;
                                                    n.length = 0,
                                                        n.mode = 7;
                                                case 7:
                                                    if (2048 & n.flags) {
                                                        if (0 === l)
                                                            break e;
                                                        for (A = 0; O = r[a + A++],
                                                        n.head && O && n.length < 65536 && (n.head.name += String.fromCharCode(O)),
                                                        O && A < l; )
                                                            ;
                                                        if (512 & n.flags && (n.check = v(n.check, r, A, a)),
                                                            l -= A,
                                                            a += A,
                                                            O)
                                                            break e
                                                    } else
                                                        n.head && (n.head.name = null);
                                                    n.length = 0,
                                                        n.mode = 8;
                                                case 8:
                                                    if (4096 & n.flags) {
                                                        if (0 === l)
                                                            break e;
                                                        for (A = 0; O = r[a + A++],
                                                        n.head && O && n.length < 65536 && (n.head.comment += String.fromCharCode(O)),
                                                        O && A < l; )
                                                            ;
                                                        if (512 & n.flags && (n.check = v(n.check, r, A, a)),
                                                            l -= A,
                                                            a += A,
                                                            O)
                                                            break e
                                                    } else
                                                        n.head && (n.head.comment = null);
                                                    n.mode = 9;
                                                case 9:
                                                    if (512 & n.flags) {
                                                        for (; T < 16; ) {
                                                            if (0 === l)
                                                                break e;
                                                            l--,
                                                                h += r[a++] << T,
                                                                T += 8
                                                        }
                                                        if (h !== (65535 & n.check)) {
                                                            e.msg = "header crc mismatch",
                                                                n.mode = 30;
                                                            break
                                                        }
                                                        T = h = 0
                                                    }
                                                    n.head && (n.head.hcrc = n.flags >> 9 & 1,
                                                        n.head.done = !0),
                                                        e.adler = n.check = 0,
                                                        n.mode = 12;
                                                    break;
                                                case 10:
                                                    for (; T < 32; ) {
                                                        if (0 === l)
                                                            break e;
                                                        l--,
                                                            h += r[a++] << T,
                                                            T += 8
                                                    }
                                                    e.adler = n.check = i(h),
                                                        T = h = 0,
                                                        n.mode = 11;
                                                case 11:
                                                    if (0 === n.havedict)
                                                        return e.next_out = s,
                                                            e.avail_out = d,
                                                            e.next_in = a,
                                                            e.avail_in = l,
                                                            n.hold = h,
                                                            n.bits = T,
                                                            2;
                                                    e.adler = n.check = 1,
                                                        n.mode = 12;
                                                case 12:
                                                    if (5 === t || 6 === t)
                                                        break e;
                                                case 13:
                                                    if (n.last) {
                                                        h >>>= 7 & T,
                                                            T -= 7 & T,
                                                            n.mode = 27;
                                                        break
                                                    }
                                                    for (; T < 3; ) {
                                                        if (0 === l)
                                                            break e;
                                                        l--,
                                                            h += r[a++] << T,
                                                            T += 8
                                                    }
                                                    switch (n.last = 1 & h,
                                                        T -= 1,
                                                    3 & (h >>>= 1)) {
                                                        case 0:
                                                            n.mode = 14;
                                                            break;
                                                        case 1:
                                                            if (c(n),
                                                                n.mode = 20,
                                                            6 !== t)
                                                                break;
                                                            h >>>= 2,
                                                                T -= 2;
                                                            break e;
                                                        case 2:
                                                            n.mode = 17;
                                                            break;
                                                        case 3:
                                                            e.msg = "invalid block type",
                                                                n.mode = 30
                                                    }
                                                    h >>>= 2,
                                                        T -= 2;
                                                    break;
                                                case 14:
                                                    for (h >>>= 7 & T,
                                                             T -= 7 & T; T < 32; ) {
                                                        if (0 === l)
                                                            break e;
                                                        l--,
                                                            h += r[a++] << T,
                                                            T += 8
                                                    }
                                                    if ((65535 & h) != (h >>> 16 ^ 65535)) {
                                                        e.msg = "invalid stored block lengths",
                                                            n.mode = 30;
                                                        break
                                                    }
                                                    if (n.length = 65535 & h,
                                                        T = h = 0,
                                                        n.mode = 15,
                                                    6 === t)
                                                        break e;
                                                case 15:
                                                    n.mode = 16;
                                                case 16:
                                                    if (A = n.length) {
                                                        if (l < A && (A = l),
                                                        d < A && (A = d),
                                                        0 === A)
                                                            break e;
                                                        f.arraySet(o, r, a, A, s),
                                                            l -= A,
                                                            a += A,
                                                            d -= A,
                                                            s += A,
                                                            n.length -= A;
                                                        break
                                                    }
                                                    n.mode = 12;
                                                    break;
                                                case 17:
                                                    for (; T < 14; ) {
                                                        if (0 === l)
                                                            break e;
                                                        l--,
                                                            h += r[a++] << T,
                                                            T += 8
                                                    }
                                                    if (n.nlen = 257 + (31 & h),
                                                        h >>>= 5,
                                                        T -= 5,
                                                        n.ndist = 1 + (31 & h),
                                                        h >>>= 5,
                                                        T -= 5,
                                                        n.ncode = 4 + (15 & h),
                                                        h >>>= 4,
                                                        T -= 4,
                                                    286 < n.nlen || 30 < n.ndist) {
                                                        e.msg = "too many length or distance symbols",
                                                            n.mode = 30;
                                                        break
                                                    }
                                                    n.have = 0,
                                                        n.mode = 18;
                                                case 18:
                                                    for (; n.have < n.ncode; ) {
                                                        for (; T < 3; ) {
                                                            if (0 === l)
                                                                break e;
                                                            l--,
                                                                h += r[a++] << T,
                                                                T += 8
                                                        }
                                                        n.lens[j[n.have++]] = 7 & h,
                                                            h >>>= 3,
                                                            T -= 3
                                                    }
                                                    for (; n.have < 19; )
                                                        n.lens[j[n.have++]] = 0;
                                                    if (n.lencode = n.lendyn,
                                                        n.lenbits = 7,
                                                        U = {
                                                            bits: n.lenbits
                                                        },
                                                        N = g(0, n.lens, 0, 19, n.lencode, 0, n.work, U),
                                                        n.lenbits = U.bits,
                                                        N) {
                                                        e.msg = "invalid code lengths set",
                                                            n.mode = 30;
                                                        break
                                                    }
                                                    n.have = 0,
                                                        n.mode = 19;
                                                case 19:
                                                    for (; n.have < n.nlen + n.ndist; ) {
                                                        for (; R = (F = n.lencode[h & (1 << n.lenbits) - 1]) >>> 16 & 255,
                                                                   I = 65535 & F,
                                                                   !((L = F >>> 24) <= T); ) {
                                                            if (0 === l)
                                                                break e;
                                                            l--,
                                                                h += r[a++] << T,
                                                                T += 8
                                                        }
                                                        if (I < 16)
                                                            h >>>= L,
                                                                T -= L,
                                                                n.lens[n.have++] = I;
                                                        else {
                                                            if (16 === I) {
                                                                for (B = L + 2; T < B; ) {
                                                                    if (0 === l)
                                                                        break e;
                                                                    l--,
                                                                        h += r[a++] << T,
                                                                        T += 8
                                                                }
                                                                if (h >>>= L,
                                                                    T -= L,
                                                                0 === n.have) {
                                                                    e.msg = "invalid bit length repeat",
                                                                        n.mode = 30;
                                                                    break
                                                                }
                                                                O = n.lens[n.have - 1],
                                                                    A = 3 + (3 & h),
                                                                    h >>>= 2,
                                                                    T -= 2
                                                            } else if (17 === I) {
                                                                for (B = L + 3; T < B; ) {
                                                                    if (0 === l)
                                                                        break e;
                                                                    l--,
                                                                        h += r[a++] << T,
                                                                        T += 8
                                                                }
                                                                T -= L,
                                                                    O = 0,
                                                                    A = 3 + (7 & (h >>>= L)),
                                                                    h >>>= 3,
                                                                    T -= 3
                                                            } else {
                                                                for (B = L + 7; T < B; ) {
                                                                    if (0 === l)
                                                                        break e;
                                                                    l--,
                                                                        h += r[a++] << T,
                                                                        T += 8
                                                                }
                                                                T -= L,
                                                                    O = 0,
                                                                    A = 11 + (127 & (h >>>= L)),
                                                                    h >>>= 7,
                                                                    T -= 7
                                                            }
                                                            if (n.have + A > n.nlen + n.ndist) {
                                                                e.msg = "invalid bit length repeat",
                                                                    n.mode = 30;
                                                                break
                                                            }
                                                            for (; A--; )
                                                                n.lens[n.have++] = O
                                                        }
                                                    }
                                                    if (30 === n.mode)
                                                        break;
                                                    if (0 === n.lens[256]) {
                                                        e.msg = "invalid code -- missing end-of-block",
                                                            n.mode = 30;
                                                        break
                                                    }
                                                    if (n.lenbits = 9,
                                                        U = {
                                                            bits: n.lenbits
                                                        },
                                                        N = g(m, n.lens, 0, n.nlen, n.lencode, 0, n.work, U),
                                                        n.lenbits = U.bits,
                                                        N) {
                                                        e.msg = "invalid literal/lengths set",
                                                            n.mode = 30;
                                                        break
                                                    }
                                                    if (n.distbits = 6,
                                                        n.distcode = n.distdyn,
                                                        U = {
                                                            bits: n.distbits
                                                        },
                                                        N = g(_, n.lens, n.nlen, n.ndist, n.distcode, 0, n.work, U),
                                                        n.distbits = U.bits,
                                                        N) {
                                                        e.msg = "invalid distances set",
                                                            n.mode = 30;
                                                        break
                                                    }
                                                    if (n.mode = 20,
                                                    6 === t)
                                                        break e;
                                                case 20:
                                                    n.mode = 21;
                                                case 21:
                                                    if (6 <= l && 258 <= d) {
                                                        e.next_out = s,
                                                            e.avail_out = d,
                                                            e.next_in = a,
                                                            e.avail_in = l,
                                                            n.hold = h,
                                                            n.bits = T,
                                                            y(e, C),
                                                            s = e.next_out,
                                                            o = e.output,
                                                            d = e.avail_out,
                                                            a = e.next_in,
                                                            r = e.input,
                                                            l = e.avail_in,
                                                            h = n.hold,
                                                            T = n.bits,
                                                        12 === n.mode && (n.back = -1);
                                                        break
                                                    }
                                                    for (n.back = 0; R = (F = n.lencode[h & (1 << n.lenbits) - 1]) >>> 16 & 255,
                                                        I = 65535 & F,
                                                        !((L = F >>> 24) <= T); ) {
                                                        if (0 === l)
                                                            break e;
                                                        l--,
                                                            h += r[a++] << T,
                                                            T += 8
                                                    }
                                                    if (R && 0 == (240 & R)) {
                                                        for (P = L,
                                                                 M = R,
                                                                 D = I; R = (F = n.lencode[D + ((h & (1 << P + M) - 1) >> P)]) >>> 16 & 255,
                                                                 I = 65535 & F,
                                                                 !(P + (L = F >>> 24) <= T); ) {
                                                            if (0 === l)
                                                                break e;
                                                            l--,
                                                                h += r[a++] << T,
                                                                T += 8
                                                        }
                                                        h >>>= P,
                                                            T -= P,
                                                            n.back += P
                                                    }
                                                    if (h >>>= L,
                                                        T -= L,
                                                        n.back += L,
                                                        n.length = I,
                                                    0 === R) {
                                                        n.mode = 26;
                                                        break
                                                    }
                                                    if (32 & R) {
                                                        n.back = -1,
                                                            n.mode = 12;
                                                        break
                                                    }
                                                    if (64 & R) {
                                                        e.msg = "invalid literal/length code",
                                                            n.mode = 30;
                                                        break
                                                    }
                                                    n.extra = 15 & R,
                                                        n.mode = 22;
                                                case 22:
                                                    if (n.extra) {
                                                        for (B = n.extra; T < B; ) {
                                                            if (0 === l)
                                                                break e;
                                                            l--,
                                                                h += r[a++] << T,
                                                                T += 8
                                                        }
                                                        n.length += h & (1 << n.extra) - 1,
                                                            h >>>= n.extra,
                                                            T -= n.extra,
                                                            n.back += n.extra
                                                    }
                                                    n.was = n.length,
                                                        n.mode = 23;
                                                case 23:
                                                    for (; R = (F = n.distcode[h & (1 << n.distbits) - 1]) >>> 16 & 255,
                                                               I = 65535 & F,
                                                               !((L = F >>> 24) <= T); ) {
                                                        if (0 === l)
                                                            break e;
                                                        l--,
                                                            h += r[a++] << T,
                                                            T += 8
                                                    }
                                                    if (0 == (240 & R)) {
                                                        for (P = L,
                                                                 M = R,
                                                                 D = I; R = (F = n.distcode[D + ((h & (1 << P + M) - 1) >> P)]) >>> 16 & 255,
                                                                 I = 65535 & F,
                                                                 !(P + (L = F >>> 24) <= T); ) {
                                                            if (0 === l)
                                                                break e;
                                                            l--,
                                                                h += r[a++] << T,
                                                                T += 8
                                                        }
                                                        h >>>= P,
                                                            T -= P,
                                                            n.back += P
                                                    }
                                                    if (h >>>= L,
                                                        T -= L,
                                                        n.back += L,
                                                    64 & R) {
                                                        e.msg = "invalid distance code",
                                                            n.mode = 30;
                                                        break
                                                    }
                                                    n.offset = I,
                                                        n.extra = 15 & R,
                                                        n.mode = 24;
                                                case 24:
                                                    if (n.extra) {
                                                        for (B = n.extra; T < B; ) {
                                                            if (0 === l)
                                                                break e;
                                                            l--,
                                                                h += r[a++] << T,
                                                                T += 8
                                                        }
                                                        n.offset += h & (1 << n.extra) - 1,
                                                            h >>>= n.extra,
                                                            T -= n.extra,
                                                            n.back += n.extra
                                                    }
                                                    if (n.offset > n.dmax) {
                                                        e.msg = "invalid distance too far back",
                                                            n.mode = 30;
                                                        break
                                                    }
                                                    n.mode = 25;
                                                case 25:
                                                    if (0 === d)
                                                        break e;
                                                    if (A = C - d,
                                                    n.offset > A) {
                                                        if ((A = n.offset - A) > n.whave && n.sane) {
                                                            e.msg = "invalid distance too far back",
                                                                n.mode = 30;
                                                            break
                                                        }
                                                        k = A > n.wnext ? (A -= n.wnext,
                                                        n.wsize - A) : n.wnext - A,
                                                        A > n.length && (A = n.length),
                                                            x = n.window
                                                    } else
                                                        x = o,
                                                            k = s - n.offset,
                                                            A = n.length;
                                                    for (d < A && (A = d),
                                                             d -= A,
                                                             n.length -= A; o[s++] = x[k++],
                                                             --A; )
                                                        ;
                                                    0 === n.length && (n.mode = 21);
                                                    break;
                                                case 26:
                                                    if (0 === d)
                                                        break e;
                                                    o[s++] = n.length,
                                                        d--,
                                                        n.mode = 21;
                                                    break;
                                                case 27:
                                                    if (n.wrap) {
                                                        for (; T < 32; ) {
                                                            if (0 === l)
                                                                break e;
                                                            l--,
                                                                h |= r[a++] << T,
                                                                T += 8
                                                        }
                                                        if (C -= d,
                                                            e.total_out += C,
                                                            n.total += C,
                                                        C && (e.adler = n.check = n.flags ? v(n.check, o, C, s - C) : p(n.check, o, C, s - C)),
                                                            C = d,
                                                        (n.flags ? h : i(h)) !== n.check) {
                                                            e.msg = "incorrect data check",
                                                                n.mode = 30;
                                                            break
                                                        }
                                                        T = h = 0
                                                    }
                                                    n.mode = 28;
                                                case 28:
                                                    if (n.wrap && n.flags) {
                                                        for (; T < 32; ) {
                                                            if (0 === l)
                                                                break e;
                                                            l--,
                                                                h += r[a++] << T,
                                                                T += 8
                                                        }
                                                        if (h !== (4294967295 & n.total)) {
                                                            e.msg = "incorrect length check",
                                                                n.mode = 30;
                                                            break
                                                        }
                                                        T = h = 0
                                                    }
                                                    n.mode = 29;
                                                case 29:
                                                    N = 1;
                                                    break e;
                                                case 30:
                                                    N = -3;
                                                    break e;
                                                case 31:
                                                    return -4;
                                                case 32:
                                                default:
                                                    return E
                                            }
                                        return e.next_out = s,
                                            e.avail_out = d,
                                            e.next_in = a,
                                            e.avail_in = l,
                                            n.hold = h,
                                            n.bits = T,
                                            (n.wsize || C !== e.avail_out && n.mode < 30 && (n.mode < 27 || 4 !== t)) && u(e, e.output, e.next_out, C - e.avail_out) ? (n.mode = 31,
                                                -4) : (w -= e.avail_in,
                                                C -= e.avail_out,
                                                e.total_in += w,
                                                e.total_out += C,
                                                n.total += C,
                                            n.wrap && C && (e.adler = n.check = n.flags ? v(n.check, o, C, e.next_out - C) : p(n.check, o, C, e.next_out - C)),
                                                e.data_type = n.bits + (n.last ? 64 : 0) + (12 === n.mode ? 128 : 0) + (20 === n.mode || 15 === n.mode ? 256 : 0),
                                            (0 === w && 0 === C || 4 === t) && N === b && (N = -5),
                                                N)
                                    }
                                    ,
                                    n.inflateEnd = function(e) {
                                        if (!e || !e.state)
                                            return E;
                                        var t = e.state;
                                        return t.window && (t.window = null),
                                            e.state = null,
                                            b
                                    }
                                    ,
                                    n.inflateGetHeader = function(e, t) {
                                        var n;
                                        return e && e.state ? 0 == (2 & (n = e.state).wrap) ? E : ((n.head = t).done = !1,
                                            b) : E
                                    }
                                    ,
                                    n.inflateSetDictionary = function(e, t) {
                                        var n, i = t.length;
                                        return e && e.state ? 0 !== (n = e.state).wrap && 11 !== n.mode ? E : 11 === n.mode && p(1, t, i, 0) !== n.check ? -3 : u(e, t, i, i) ? (n.mode = 31,
                                            -4) : (n.havedict = 1,
                                            b) : E
                                    }
                                    ,
                                    n.inflateInfo = "pako inflate (from Nodeca project)"
                            }
                                , {
                                    "../utils/common": 1,
                                    "./adler32": 3,
                                    "./crc32": 5,
                                    "./inffast": 7,
                                    "./inftrees": 9
                                }],
                            9: [function(e, t, n) {
                                "use strict";
                                var i = e("../utils/common")
                                    , r = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0]
                                    , o = [16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78]
                                    , a = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0]
                                    , s = [16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64];
                                t.exports = function(e, t, n, l, c, u, d, h) {
                                    var f, p, v, y, g, m, _, b, E, S = h.bits, T = 0, w = 0, C = 0, A = 0, k = 0, x = 0, L = 0, R = 0, I = 0, P = 0, M = null, D = 0, O = new i.Buf16(16), N = new i.Buf16(16), U = null, B = 0;
                                    for (T = 0; T <= 15; T++)
                                        O[T] = 0;
                                    for (w = 0; w < l; w++)
                                        O[t[n + w]]++;
                                    for (k = S,
                                             A = 15; 1 <= A && 0 === O[A]; A--)
                                        ;
                                    if (A < k && (k = A),
                                    0 === A)
                                        return c[u++] = 20971520,
                                            c[u++] = 20971520,
                                            h.bits = 1,
                                            0;
                                    for (C = 1; C < A && 0 === O[C]; C++)
                                        ;
                                    for (k < C && (k = C),
                                             T = R = 1; T <= 15; T++)
                                        if (R <<= 1,
                                        (R -= O[T]) < 0)
                                            return -1;
                                    if (0 < R && (0 === e || 1 !== A))
                                        return -1;
                                    for (N[1] = 0,
                                             T = 1; T < 15; T++)
                                        N[T + 1] = N[T] + O[T];
                                    for (w = 0; w < l; w++)
                                        0 !== t[n + w] && (d[N[t[n + w]]++] = w);
                                    if (m = 0 === e ? (M = U = d,
                                        19) : 1 === e ? (M = r,
                                        D -= 257,
                                        U = o,
                                        B -= 257,
                                        256) : (M = a,
                                        U = s,
                                        -1),
                                        T = C,
                                        g = u,
                                        L = w = P = 0,
                                        v = -1,
                                        y = (I = 1 << (x = k)) - 1,
                                    1 === e && 852 < I || 2 === e && 592 < I)
                                        return 1;
                                    for (; ; ) {
                                        for (_ = T - L,
                                                 E = d[w] < m ? (b = 0,
                                                     d[w]) : d[w] > m ? (b = U[B + d[w]],
                                                     M[D + d[w]]) : (b = 96,
                                                     0),
                                                 f = 1 << T - L,
                                                 C = p = 1 << x; c[g + (P >> L) + (p -= f)] = _ << 24 | b << 16 | E | 0,
                                             0 !== p; )
                                            ;
                                        for (f = 1 << T - 1; P & f; )
                                            f >>= 1;
                                        if (0 !== f ? (P &= f - 1,
                                            P += f) : P = 0,
                                            w++,
                                        0 == --O[T]) {
                                            if (T === A)
                                                break;
                                            T = t[n + d[w]]
                                        }
                                        if (k < T && (P & y) !== v) {
                                            for (0 === L && (L = k),
                                                     g += C,
                                                     R = 1 << (x = T - L); x + L < A && !((R -= O[x + L]) <= 0); )
                                                x++,
                                                    R <<= 1;
                                            if (I += 1 << x,
                                            1 === e && 852 < I || 2 === e && 592 < I)
                                                return 1;
                                            c[v = P & y] = k << 24 | x << 16 | g - u | 0
                                        }
                                    }
                                    return 0 !== P && (c[g + P] = T - L << 24 | 64 << 16 | 0),
                                        h.bits = k,
                                        0
                                }
                            }
                                , {
                                    "../utils/common": 1
                                }],
                            10: [function(e, t, n) {
                                "use strict";
                                t.exports = {
                                    2: "need dictionary",
                                    1: "stream end",
                                    0: "",
                                    "-1": "file error",
                                    "-2": "stream error",
                                    "-3": "data error",
                                    "-4": "insufficient memory",
                                    "-5": "buffer error",
                                    "-6": "incompatible version"
                                }
                            }
                                , {}],
                            11: [function(e, t, n) {
                                "use strict";
                                t.exports = function() {
                                    this.input = null,
                                        this.next_in = 0,
                                        this.avail_in = 0,
                                        this.total_in = 0,
                                        this.output = null,
                                        this.next_out = 0,
                                        this.avail_out = 0,
                                        this.total_out = 0,
                                        this.msg = "",
                                        this.state = null,
                                        this.data_type = 2,
                                        this.adler = 0
                                }
                            }
                                , {}],
                            "/lib/inflate.js": [function(e, t, n) {
                                "use strict";
                                function i(e) {
                                    if (!(this instanceof i))
                                        return new i(e);
                                    this.options = a.assign({
                                        chunkSize: 16384,
                                        windowBits: 0,
                                        to: ""
                                    }, e || {});
                                    var t = this.options;
                                    t.raw && 0 <= t.windowBits && t.windowBits < 16 && (t.windowBits = -t.windowBits,
                                    0 === t.windowBits && (t.windowBits = -15)),
                                    !(0 <= t.windowBits && t.windowBits < 16) || e && e.windowBits || (t.windowBits += 32),
                                    15 < t.windowBits && t.windowBits < 48 && 0 == (15 & t.windowBits) && (t.windowBits |= 15),
                                        this.err = 0,
                                        this.msg = "",
                                        this.ended = !1,
                                        this.chunks = [],
                                        this.strm = new u,
                                        this.strm.avail_out = 0;
                                    var n = o.inflateInit2(this.strm, t.windowBits);
                                    if (n !== l.Z_OK)
                                        throw new Error(c[n]);
                                    if (this.header = new d,
                                        o.inflateGetHeader(this.strm, this.header),
                                    t.dictionary && ("string" == typeof t.dictionary ? t.dictionary = s.string2buf(t.dictionary) : "[object ArrayBuffer]" === h.call(t.dictionary) && (t.dictionary = new Uint8Array(t.dictionary)),
                                    t.raw && (n = o.inflateSetDictionary(this.strm, t.dictionary)) !== l.Z_OK))
                                        throw new Error(c[n])
                                }
                                // a()
                                function r(e, t) {
                                    var n = new i(t);
                                    if (n.push(e, !0),
                                        n.err)
                                        throw n.msg || c[n.err];
                                    return n.result
                                }
                                var o = e("./zlib/inflate")
                                    , a = e("./utils/common")
                                    , s = e("./utils/strings")
                                    , l = e("./zlib/constants")
                                    , c = e("./zlib/messages")
                                    , u = e("./zlib/zstream")
                                    , d = e("./zlib/gzheader")
                                    , h = Object.prototype.toString;
                                i.prototype.push = function(e, t) {
                                    var n, i, r, c, u, d = this.strm, f = this.options.chunkSize, p = this.options.dictionary, v = !1;
                                    if (this.ended)
                                        return !1;
                                    i = t === ~~t ? t : !0 === t ? l.Z_FINISH : l.Z_NO_FLUSH,
                                        "string" == typeof e ? d.input = s.binstring2buf(e) : "[object ArrayBuffer]" === h.call(e) ? d.input = new Uint8Array(e) : d.input = e,
                                        d.next_in = 0,
                                        d.avail_in = d.input.length;
                                    do {
                                        if (0 === d.avail_out && (d.output = new a.Buf8(f),
                                            d.next_out = 0,
                                            d.avail_out = f),
                                        (n = o.inflate(d, l.Z_NO_FLUSH)) === l.Z_NEED_DICT && p && (n = o.inflateSetDictionary(this.strm, p)),
                                        n === l.Z_BUF_ERROR && !0 === v && (n = l.Z_OK,
                                            v = !1),
                                        n !== l.Z_STREAM_END && n !== l.Z_OK)
                                            return this.onEnd(n),
                                                !(this.ended = !0);
                                        d.next_out && (0 !== d.avail_out && n !== l.Z_STREAM_END && (0 !== d.avail_in || i !== l.Z_FINISH && i !== l.Z_SYNC_FLUSH) || ("string" === this.options.to ? (r = s.utf8border(d.output, d.next_out),
                                            c = d.next_out - r,
                                            u = s.buf2string(d.output, r),
                                            d.next_out = c,
                                            d.avail_out = f - c,
                                        c && a.arraySet(d.output, d.output, r, c, 0),
                                            this.onData(u)) : this.onData(a.shrinkBuf(d.output, d.next_out)))),
                                        0 === d.avail_in && 0 === d.avail_out && (v = !0)
                                    } while ((0 < d.avail_in || 0 === d.avail_out) && n !== l.Z_STREAM_END);return n === l.Z_STREAM_END && (i = l.Z_FINISH),
                                        i === l.Z_FINISH ? (n = o.inflateEnd(this.strm),
                                            this.onEnd(n),
                                            this.ended = !0,
                                        n === l.Z_OK) : i !== l.Z_SYNC_FLUSH || (this.onEnd(l.Z_OK),
                                            !(d.avail_out = 0))
                                }
                                    ,
                                    i.prototype.onData = function(e) {
                                        this.chunks.push(e)
                                    }
                                    ,
                                    i.prototype.onEnd = function(e) {
                                        e === l.Z_OK && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = a.flattenChunks(this.chunks)),
                                            this.chunks = [],
                                            this.err = e,
                                            this.msg = this.strm.msg
                                    }
                                    ,
                                    n.Inflate = i,
                                    n.inflate = r,
                                    n.inflateRaw = function(e, t) {
                                        return (t = t || {}).raw = !0,
                                            r(e, t)
                                    }
                                    ,
                                    n.ungzip = r
                            }
                                , {
                                    "./utils/common": 1,
                                    "./utils/strings": 2,
                                    "./zlib/constants": 4,
                                    "./zlib/gzheader": 6,
                                    "./zlib/inflate": 8,
                                    "./zlib/messages": 10,
                                    "./zlib/zstream": 11
                                }]
                        }, {}, [])("/lib/inflate.js")
                    }
                ])
            }
            ,
            "object" == typeof t && "object" == typeof e ? e.exports = i() : "function" == typeof define && define.amd ? define([], i) : "object" == typeof t ? t.DanmakuWebSocket = i() : n.DanmakuWebSocket = i()
    }
    , function(e, t, n) {
        "use strict";
        var i = this && this.__awaiter || function(e, t, n, i) {
                return new (n || (n = Promise))((function(r, o) {
                        function a(e) {
                            try {
                                l(i.next(e))
                            } catch (e) {
                                o(e)
                            }
                        }
                        function s(e) {
                            try {
                                l(i.throw(e))
                            } catch (e) {
                                o(e)
                            }
                        }
                        function l(e) {
                            e.done ? r(e.value) : new n((function(t) {
                                    t(e.value)
                                }
                            )).then(a, s)
                        }
                        l((i = i.apply(e, t || [])).next())
                    }
                ))
            }
            , r = this && this.__generator || function(e, t) {
                var n, i, r, o, a = {
                    label: 0,
                    sent: function() {
                        if (1 & r[0])
                            throw r[1];
                        return r[1]
                    },
                    trys: [],
                    ops: []
                };
                return o = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                },
                "function" == typeof Symbol && (o[Symbol.iterator] = function() {
                        return this
                    }
                ),
                    o;
                function s(o) {
                    return function(s) {
                        return function(o) {
                            if (n)
                                throw new TypeError("Generator is already executing.");
                            for (; a; )
                                try {
                                    if (n = 1,
                                    i && (r = 2 & o[0] ? i.return : o[0] ? i.throw || ((r = i.return) && r.call(i),
                                        0) : i.next) && !(r = r.call(i, o[1])).done)
                                        return r;
                                    switch (i = 0,
                                    r && (o = [2 & o[0], r.value]),
                                        o[0]) {
                                        case 0:
                                        case 1:
                                            r = o;
                                            break;
                                        case 4:
                                            return a.label++,
                                                {
                                                    value: o[1],
                                                    done: !1
                                                };
                                        case 5:
                                            a.label++,
                                                i = o[1],
                                                o = [0];
                                            continue;
                                        case 7:
                                            o = a.ops.pop(),
                                                a.trys.pop();
                                            continue;
                                        default:
                                            if (!(r = a.trys,
                                            (r = r.length > 0 && r[r.length - 1]) || 6 !== o[0] && 2 !== o[0])) {
                                                a = 0;
                                                continue
                                            }
                                            if (3 === o[0] && (!r || o[1] > r[0] && o[1] < r[3])) {
                                                a.label = o[1];
                                                break
                                            }
                                            if (6 === o[0] && a.label < r[1]) {
                                                a.label = r[1],
                                                    r = o;
                                                break
                                            }
                                            if (r && a.label < r[2]) {
                                                a.label = r[2],
                                                    a.ops.push(o);
                                                break
                                            }
                                            r[2] && a.ops.pop(),
                                                a.trys.pop();
                                            continue
                                    }
                                    o = t.call(e, a)
                                } catch (e) {
                                    o = [6, e],
                                        i = 0
                                } finally {
                                    n = r = 0
                                }
                            if (5 & o[0])
                                throw o[1];
                            return {
                                value: o[0] ? o[1] : void 0,
                                done: !0
                            }
                        }([o, s])
                    }
                }
            }
            , o = this && this.__importDefault || function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            , a = this && this.__importStar || function(e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        Object.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                return t.default = e,
                    t
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var s = o(n(5))
            , l = o(n(1))
            , c = o(n(2))
            , u = a(n(0))
            , d = o(n(50))
            , h = n(6)
            , f = o(n(57))
            , p = n(13)
            , v = o(n(3))
            , y = function() {
            function e(e, t) {
                var n = this;
                this._player = e,
                    this._container = t,
                    this._lastCurrentTime = 0,
                    this._lastTrackTime = 0,
                    this.CHECK_CHASING_FRAME_ID = null,
                    this._reloadStatus = !0,
                    this._restoreStatus = !1,
                    this._lastVolume = .9,
                    this._bufferingSlowlyStartTime = 0,
                    this._destroyStatus = !1,
                    this._detectSlowlyStatus = !0,
                    this._guid = l.default.guid(),
                    this._uniqueIDPrefix = "blp_" + l.default.getRandomString(8) + "_",
                    this.totalBytes = 0,
                    this.lastDelayCurrentTime = 0,
                    this.lastDelayEndTime = 0,
                    this.autoPlayerHandler = function() {
                        try {
                            n._player.components.template.wrap.attr("data-auto-play-state", "true"),
                                n.play()
                        } catch (e) {}
                        document.body && document.body.removeEventListener("click", n.autoPlayerHandler)
                    }
                    ,
                    this.INTERVAL = {
                        MAX_TIME: 1e4,
                        BUFFERING_TIME_OUT: 0,
                        CHECK_CHASING_FRAME: 1e3,
                        CHECK_PLAYING_DELAY_TIME: null,
                        PROTECT_MAX_COUNT: 5,
                        ADJUST_CHASING_PROP: .9
                    },
                    this.state = {
                        autoPlayError: !1,
                        bufferingMaxTime: 1e4,
                        bufferingDelayTime: 2e3,
                        playingMuted: !1,
                        hasEmitAutoPlayEvent: !0,
                        shouldShowAutoTips: l.default.getLocalStorage(u.STATE_STRING.BILIBILI_PLAYER_SHOW_TIP_BASE_TIME) || 0,
                        cacheTotalBytes: [],
                        bitRate: 0,
                        playbackDelayThreshold: 0,
                        checkDelayTime: 2e3,
                        getDelayCount: 0,
                        delayTimeSum: 0,
                        lastTotalBytes: 0,
                        protectCount: 0,
                        shouldOpenChasingFrame: !0,
                        lastDelayGrade: 4,
                        hasAutoPlay: !1,
                        canplayBufferLength: 2e3,
                        bufferingSlowlyType: 1
                    },
                    this.isHandleMaskBrowser = l.default.isChrome(),
                    this._initialize(),
                    window.addEventListener("beforeunload", this._handleBeforeUnload.bind(this))
            }
            return e.prototype.play = function() {
                var t = this._player;
                if (this.corePlayer) {
                    c.default.log("Video Playing..");
                    var n = this._videoElement && this._videoElement.play();
                    e.FIRST_PLAY && n && this.handlePlayPromise(n),
                        e.FIRST_PLAY = !1,
                        this._player.trackFirstLoaded()
                } else
                    u.default.L_STATUS_LIVE === t.getLiveStatus() || (u.default.L_STATUS_ROUND,
                        t.getLiveStatus());
                return this
            }
                ,
                e.prototype.pause = function() {
                    return c.default.log("Video Paused."),
                    this.corePlayer && this.corePlayer.pause(),
                        this
                }
                ,
                e.prototype.end = function() {
                    this._player.pause(),
                        this.reset()
                }
                ,
                e.prototype.destroy = function(e) {
                    if (void 0 === e && (e = !1),
                        c.default.log("Video Destroyed."),
                    this.backgroundEl && this.changeVideoMaskImgae(!1, ""),
                        this.clearDetectBufferSlowly(),
                        window.clearTimeout(this._roundCounterTime),
                        window.clearTimeout(this.CHECK_CHASING_FRAME_ID),
                        this.CHECK_CHASING_FRAME_ID = null,
                        this._destroyVideoBackup(),
                    this._player.config.useType === u.default.PLAYER_HOME) {
                        if (u.default.L_STATUS_ROUND === this._player.getLiveStatus())
                            return void (this.corePlayer && this.corePlayer.pause());
                        this.corePlayer && this.corePlayer.unload()
                    } else
                        this.corePlayer && this.corePlayer.destroy();
                    this.corePlayer = void 0,
                    e && (this._destroyStatus = !0,
                        this._video.remove())
                }
                ,
                e.prototype.getConfig = function() {
                    return this.corePlayer && "function" == typeof this.corePlayer.getConfig ? this.corePlayer.getConfig() : null
                }
                ,
                e.prototype.getClipCacheData = function() {
                    return this.corePlayer && "function" == typeof this.corePlayer.getClipCacheData ? this.corePlayer.getClipCacheData() : null
                }
                ,
                Object.defineProperty(e.prototype, "canClip", {
                    get: function() {
                        return !!this.corePlayer && this.corePlayer.canClip
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.prototype.addLoadingPicture = function(e) {
                    if (!this._player.state.onSwitching) {
                        var t = this._container.find(".bilibili-live-player-video-loading-picture");
                        t.length || this._container.append($('<div class="bilibili-live-player-video-loading-picture"></div>')),
                            t.show(),
                            t.css({
                                "background-image": "url(" + e + ")"
                            })
                    }
                }
                ,
                e.prototype.removeLoadingPicture = function() {
                    this._container.find(".bilibili-live-player-video-loading-picture").hide()
                }
                ,
                e.prototype.changeMutedState = function() {
                    this._videoElement && (this._videoElement.muted = !1,
                        this.state.playingMuted = !1)
                }
                ,
                e.prototype.reloadLive = function(e) {
                    if (e)
                        return this._reloadStatus && (this._player.logTimeReload = c.default.log("\n== Reloading Live =="),
                            this._bufferSlowlyEnd()._resetDetectBufferSlowly(),
                        this.corePlayer && (this._reloadStatus = !1,
                        this._flvPlayerBackup && this._destroyVideoBackup(),
                            this._flvPlayerBackup = this.corePlayer,
                        this.corePlayer.getLogHistroy && c.default.log(this.corePlayer.getLogHistroy()),
                            this._createVideoElement()._bindEvents()),
                            this._createPlayer(e),
                            this._player.components.newCtrl.autoRefreshTime()),
                            this;
                    c.default.log("Video reload live missing url.")
                }
                ,
                e.prototype.reloadRound = function(e) {
                    this._reloadStatus && (this._player.logTimeReload = c.default.log("\n== Reloading Round =="),
                    this._player.state.loadingPicture && this.addLoadingPicture(this._player.state.loadingPicture),
                        this.showLoading(),
                    this.corePlayer && (this._reloadStatus = !1,
                        this._flvPlayerBackup = this.corePlayer,
                        this._createVideoElement()._bindEvents(),
                        this._destroyVideoBackup()),
                        this._createPlayer("", e.time, e.roundData),
                        this._createRoundTitle(e.title))
                }
                ,
                e.prototype.setPlaybackRate = function(e) {
                    if (this._videoElement && e >= 0 && this.getPlaybackRate() !== e)
                        try {
                            return c.default.log("set playback rate: " + e),
                                this._videoElement.playbackRate = e,
                                !0
                        } catch (e) {
                            return c.default.log("set playback rate: error", 3),
                                !1
                        }
                    return !1
                }
                ,
                e.prototype.getPlaybackRate = function() {
                    return this._videoElement ? this._videoElement.playbackRate : 0
                }
                ,
                e.prototype.volume = function(e) {
                    return e >= 0 && e <= 1 && (this._lastVolume = e,
                        this._videoElement.volume = e),
                        this
                }
                ,
                e.prototype.initLive = function(e) {
                    e && this.reloadLive(e)
                }
                ,
                e.prototype.initRound = function() {}
                ,
                e.prototype.discardFrame = function(e) {
                    c.default.log("discardFrame: " + e),
                        this._videoElement.currentTime += e
                }
                ,
                e.prototype.remainBufferLength = function() {
                    var e = this._videoElement
                        , t = e.buffered;
                    return t && 0 !== t.length ? t.end(t.length - 1) - e.currentTime : 0
                }
                ,
                e.prototype.showLoading = function(e) {
                    void 0 === e && (e = 0),
                    this._loading || (this._loading = this._container.find(".bilibili-live-player-video-loading"),
                    this._loading.length || (this._loading = $('<div class="bilibili-live-player-video-loading">\n                                    <div class="video-loading"></div>\n                               </div>'),
                        this._container.append(this._loading)))
                }
                ,
                e.prototype.hideLoading = function() {
                    this._loading && (this._loading.remove(),
                        this._loading = void 0)
                }
                ,
                e.prototype.showTextMsg = function(e) {
                    var t = "bilibili-live-player-text-msg"
                        , n = this._container.find("." + t);
                    n.length ? n.text(e) : this._container.append($('<div class="' + t + '" />').text(e))
                }
                ,
                e.prototype.hideTextMsg = function() {
                    this._container.find(".bilibili-live-player-text-msg").remove()
                }
                ,
                e.prototype.counterRoundPlay = function(t) {
                    this.destroy(),
                        this.hideLoading(),
                        this.removeLoadingPicture(),
                        this._container.find("." + e._ROUND_COUNTER_CLASS).remove();
                    var n = $('<div class="' + e._ROUND_COUNTER_CLASS + '">\n                    <p>\n                        <span class="' + e._ROUND_COUNTER_CLASS + '-span">05:00</span>\n                        后\n                    </p>\n                    <p>主播的投稿视频将轮流播放</p>\n                </div>');
                    this._roundCounter = n.prependTo(this._container),
                        this._roundCounterSpan = this._roundCounter.find("." + e._ROUND_COUNTER_CLASS + "-span"),
                        this._counterRoundPlay(t)
                }
                ,
                e.prototype.clearDetectBufferSlowly = function() {
                    this._detectSlowlyStatus = !1,
                        this.hideLoading(),
                        window.clearTimeout(this._TIMEOUT_DETECT_SLOWLY),
                        window.clearTimeout(this._BACKUP_DETECT_SLOWLY),
                        window.clearTimeout(this.INTERVAL.BUFFERING_TIME_OUT)
                }
                ,
                e.prototype.reset = function(e) {
                    return void 0 === e && (e = !1),
                        this._destroyCounter(),
                        this._destroyRoundTitle(),
                        this._resetDetectBufferSlowly(),
                        this.destroy(),
                        this
                }
                ,
                e.prototype.recoverReload = function() {
                    this._reloadStatus = !0
                }
                ,
                e.prototype.restoreReloadFailed = function() {
                    this._flvPlayerBackup && (c.default.log("Restore FlvPlayer.."),
                    this.corePlayer && this.corePlayer.destroy(),
                        this.corePlayer = void 0,
                        this.corePlayer = this._flvPlayerBackup,
                        $(this._videoElement).remove(),
                        this._videoElement = this._videoElementBackup,
                        this._flvPlayerBackup = void 0,
                        this._videoElementBackup = void 0,
                        this._reloadStatus = !0)
                }
                ,
                e.prototype.getPlaybackDelay = function() {
                    var e = this._videoElement
                        , t = e.buffered;
                    return t && 0 !== t.length ? 1e3 * (t.end(0) - e.currentTime) : 0
                }
                ,
                e.prototype.handleReload = function() {
                    this.resetBytesCount(),
                        this.subscribeDelay()
                }
                ,
                e.prototype.setChasingFrameThreshold = function(e) {
                    return c.default.log("setChasingFrameThreshold: " + e + "ms"),
                    e >= 0 && (this.setPlaybackRate(1),
                        this.state.playbackDelayThreshold = e,
                        this._player.track(u.TRACK.STATISTIC_CHASING_THRESHOLD, {
                            time: e
                        })),
                        this.state.playbackDelayThreshold
                }
                ,
                e.prototype.load = function() {
                    this.corePlayer && this.corePlayer.load()
                }
                ,
                e.prototype.destoryVideoMaskImgae = function() {
                    this.backgroundEl && this.changeVideoMaskImgae(!1, "")
                }
                ,
                e.prototype.unload = function() {
                    c.default.log("stream unload"),
                    this.corePlayer && this.corePlayer.unload()
                }
                ,
                e.prototype._initialize = function() {
                    return this._player.state.loadingPicture && this.addLoadingPicture(this._player.state.loadingPicture),
                        this.showLoading(),
                        this._createVideoElement(),
                        this._bindEvents(),
                        c.default.log("Video Initialized.."),
                        this
                }
                ,
                e.prototype._createVideoElement = function() {
                    this._video && (this._videoElementBackup = this._videoElement);
                    var e = this._guid();
                    return this._video = $('<video id="' + this._uniqueIDPrefix + e + '" class="bilibili-live-player-video-stream">').attr("tabindex", -1).css("z-index", 1),
                        c.default.log("Created video element，id: " + e),
                        this._container.prepend(this._video),
                        this._videoElement = this._video[0],
                        this._videoElement.volume = 0,
                        this._videoElement.autoplay = !0,
                        this
                }
                ,
                e.prototype.handlePlayPromise = function(e) {
                    var t = this
                        , n = this._player
                        , i = n.config
                        , r = l.default.browser;
                    e.catch((function() {
                            if ("mutePlay" !== t.state.autoPlayType)
                                t._videoElement.muted = !0,
                                    t.state.playingMuted = !0,
                                    n.components.newCtrl.setVolume(0),
                                    t.state.autoPlayType = "mutePlay",
                                t.state.hasAutoPlay || t.play();
                            else {
                                var e = n.getLocalStorageVolume();
                                t.state.playingMuted = !1,
                                    t._videoElement.muted = !1,
                                    t.state.autoPlayType = null,
                                    n.components.newCtrl.setVolume(e),
                                    n.state.firstPlaying ? n.pause() : t.state.autoPlayError = !0,
                                    "safari" === r.name ? Date.now() > t.state.shouldShowAutoTips && new f.default(document.body,{
                                        link: {
                                            href: "https://www.bilibili.com/video/av16973616/",
                                            label: "查看视频演示 >>"
                                        },
                                        callback: function() {
                                            t._player.reload()
                                        },
                                        onCreateSuccess: function(e) {
                                            t.handleShowAutoTips(e)
                                        }
                                    }) : t._player.toast(u.CONFIG_STRING.AUTO_PLAY_MUTED_PAUSE, 5e3)
                            }
                            return !0
                        }
                    )).then((function(e) {
                            var n;
                            "mutePlay" !== t.state.autoPlayType || e || (t.state.autoPlayType = null,
                                t.state.hasAutoPlay = !0,
                                t._player.toast(u.CONFIG_STRING.AUTO_PLAY_MUTED, 3e3),
                                l.default.fireEventCallback(t._player.callbackMap.autoPlay, ((n = {}).ua = r.name,
                                    n.roomId = i.rid,
                                    n.playerType = i.useType,
                                    n)))
                        }
                    ))
                }
                ,
                e.prototype._createPlayer = function(e, t, n) {
                    void 0 === t && (t = 0);
                    var o = this._player
                        , a = o.getLiveStatus();
                    if (!this._destroyStatus) {
                        o.components.track && a === u.default.L_STATUS_LIVE && o.components.track.bufferSlowReport.setVideoUrl(e),
                        this.backgroundEl && this.changeVideoMaskImgae(!1, "");
                        try {
                            this.corePlayer = new h.LivePlayerWrap({
                                videoElement: this._videoElement,
                                url: e,
                                segments: n ? n.mediaDataSource.segments : null,
                                startTime: t,
                                isAutoPlay: !0,
                                p2pType: o.state.coreProtocol,
                                getP2PInitParams: function() {
                                    return i(this, void 0, void 0, (function() {
                                            var e, t;
                                            return r(this, (function(n) {
                                                    switch (n.label) {
                                                        case 0:
                                                            return e = o.config.rid,
                                                                [4, new Promise((function(t) {
                                                                        l.default.ajax({
                                                                            url: v.default.getTrackerConf,
                                                                            data: {
                                                                                room_id: e
                                                                            }
                                                                        }, (function(e) {
                                                                                0 === e.code ? t(e.data.domains[0]) : c.default.log("getTrackerConf error: " + e.message)
                                                                            }
                                                                        ))
                                                                    }
                                                                ))];
                                                        case 1:
                                                            return t = n.sent(),
                                                                [2, {
                                                                    roomid: e,
                                                                    trackerServer: t
                                                                }]
                                                    }
                                                }
                                            ))
                                        }
                                    ))
                                },
                                streamFormat: o.state.streamFormat,
                                log: c.default.log
                            }),
                                this.corePlayer.type = "FMP4-MUXER",
                                this._player.track(u.TRACK.STATISTICS_LIVE_PLAYER_INIT),
                                this._player.event.emit(u.EVENT.CREATE_PLAYER_SUCCESS, this._videoElement, this._container),
                                this.bindLivePlayerEvents()
                        } catch (e) {
                            console.error(e),
                                c.default.log(e.toString(), 2)
                        }
                    }
                }
                ,
                e.prototype._handleBeforeUnload = function() {
                    this.destroy(),
                        this._player.track(u.TRACK.STATISTIC_PLAYER_RECEIVED_BYTES, {
                            delta_ts: this.totalBytes
                        }),
                        this.trackPlayingDelay(),
                        window.removeEventListener("beforeunload", this._handleBeforeUnload)
                }
                ,
                e.prototype._videoErrorHandler = function(e, t, n, i, r) {
                    void 0 === i && (i = u.CORE_TYPE.FMP4_MUXER),
                    404 === r && this._player.state.liveStatus === u.default.L_STATUS_LIVE && this.showTextMsg("主播信号中断，请稍后"),
                    i === u.CORE_TYPE.FMP4_MUXER && n && this._player.track(u.TRACK.ERROR_BLW_PLAYER, {
                        errorCode: n
                    }),
                        this._player.error(e, t, !1, n, i)
                }
                ,
                e.prototype.checkChasingFrame = function() {
                    var e = this
                        , t = this.getPlaybackDelay()
                        , n = this.getPlaybackRate()
                        , i = this.state
                        , r = i.playbackDelayThreshold
                        , o = i.shouldOpenChasingFrame
                        , a = i.bufferingDelayTime;
                    0 !== r && (t > r + 2 * a || t > r + a && 1.05 !== n ? o && this.setPlaybackRate(1.1) : t > r && 1 !== n ? o && this.setPlaybackRate(1.05) : this.setPlaybackRate(1)),
                        this.protectPlay(),
                        this.CHECK_CHASING_FRAME_ID = window.setTimeout((function() {
                                e.checkChasingFrame()
                            }
                        ), this.INTERVAL.CHECK_CHASING_FRAME)
                }
                ,
                e.prototype.resetBytesCount = function() {
                    this.state.lastTotalBytes = null,
                        this.state.cacheTotalBytes.length = 0,
                        this.state.protectCount = 0
                }
                ,
                e.prototype.protectPlay = function() {
                    var e = this.state
                        , t = e.protectCount
                        , n = e.cacheTotalBytes
                        , i = e.bitRate
                        , r = e.playbackDelayThreshold
                        , o = this.INTERVAL.ADJUST_CHASING_PROP;
                    this.state.protectCount++;
                    var a = this.getPlaybackRate();
                    if (this._player.config.checkChasingFrame) {
                        if (t >= this.INTERVAL.PROTECT_MAX_COUNT) {
                            var s = n.pop();
                            if (!s || 0 === n.length)
                                return;
                            this.state.lastTotalBytes || (this.state.lastTotalBytes = n[0]);
                            var l = 8 * (s.totalBytes - this.state.lastTotalBytes.totalBytes) / (s.time - this.state.lastTotalBytes.time);
                            this.state.connectionSpeed = isNaN(l) ? 0 : l,
                                this.state.lastTotalBytes = s,
                                n.length = 0,
                                this.state.protectCount = 0,
                                l > i * o && !this.state.shouldOpenChasingFrame ? (0 !== r && c.default.log("open chasing frame by connect speed quickly, speed: " + l + ",bitRate: " + i),
                                    this.state.shouldOpenChasingFrame = !0) : l < i * o && this.state.shouldOpenChasingFrame && (0 !== r && c.default.log("close chasing frame by connect speed slowly, speed " + l + ",bitRate: " + i),
                                    this.state.shouldOpenChasingFrame = !1,
                                1 !== a && this.setPlaybackRate(1))
                        }
                    } else
                        this.state.shouldOpenChasingFrame = !0
                }
                ,
                e.prototype._createRoundTitle = function(t) {
                    c.default.log("Create Round Title: " + t),
                    this._roundTitle !== t && (this._roundTitle = t,
                        this._roundTitleElem && this._roundTitleElem.length ? this._roundTitleElem.text(t) : this._roundTitleElem = $('<div class="' + e._ROUND_TITLE_CLASS + '">').text(t).appendTo(this._container))
                }
                ,
                e.prototype._destroyRoundTitle = function() {
                    this._roundTitle = "",
                    this._roundTitleElem && this._roundTitleElem.remove(),
                        this._roundTitleElem = void 0
                }
                ,
                e.prototype._counterRoundPlay = function(e) {
                    var t = this
                        , n = Math.floor(e / 60)
                        , i = Math.floor(e % 60);
                    n = n < 10 ? "0" + n : n,
                        i = i < 10 ? "0" + i : i,
                        e--,
                        this._roundCounterSpan.html(n + ":" + i),
                        e >= 0 ? this._roundCounterTime = window.setTimeout((function() {
                                t._counterRoundPlay(e)
                            }
                        ), 1e3) : (this._destroyCounter(),
                            this._player.event.emit(u.EVENT.ON_ROUND))
                }
                ,
                e.prototype._destroyCounter = function() {
                    window.clearTimeout(this._roundCounterTime),
                    this._roundCounter && this._roundCounter.remove()
                }
                ,
                e.prototype._detectBufferSlowly = function() {
                    var e = this
                        , t = this._videoElement.currentTime;
                    return t !== this._lastCurrentTime ? (this._player.hidePlayerController("network"),
                        this.hideLoading(),
                        this.removeLoadingPicture(),
                        this._lastCurrentTime = t,
                        this._bufferSlowlyEnd()) : this._bufferSlowlyStart(t || 0),
                        window.clearTimeout(this._TIMEOUT_DETECT_SLOWLY),
                        this._TIMEOUT_DETECT_SLOWLY = window.setTimeout((function() {
                                e._detectBufferSlowly()
                            }
                        ), 100),
                        this._BACKUP_DETECT_SLOWLY = this._TIMEOUT_DETECT_SLOWLY,
                        this
                }
                ,
                e.prototype._resetDetectBufferSlowly = function() {
                    this.clearDetectBufferSlowly(),
                        this._BACKUP_DETECT_SLOWLY = 0,
                        this._lastTrackTime = 0,
                        this._bufferingSlowlyStartTime = 0,
                        this._lastCurrentTime = 0
                }
                ,
                e.prototype._destroyVideoBackup = function() {
                    this._flvPlayerBackup && (c.default.log("Destroying Backup CorePlayer.."),
                        this._videoElementBackup.volume = 0,
                        this._videoElement.volume = this._lastVolume,
                        $(this._videoElementBackup).off().fadeIn(50),
                        $(this._videoElementBackup).remove(),
                        this._flvPlayerBackup.destroy(),
                        this._flvPlayerBackup = void 0,
                        this._reloadStatus = !0,
                        c.default.log("Destroyed Backup CorePlayer.."),
                        this._hackMultiVideoRemove())
                }
                ,
                e.prototype.checkPlayingDelay = function() {
                    var e = this
                        , t = this._videoElement
                        , n = t.buffered;
                    if (n && 0 !== n.length) {
                        this.lastDelayEndTime = n.end(0),
                            this.lastDelayCurrentTime = t.currentTime;
                        var i = 1e3 * (this.lastDelayEndTime - this.lastDelayCurrentTime);
                        0 !== i && (this.state.delayTimeSum += i,
                            this.state.getDelayCount++),
                            this.delayData = this.lastDelayCurrentTime + "," + this.lastDelayEndTime
                    }
                    this.INTERVAL.CHECK_PLAYING_DELAY_TIME = window.setTimeout((function() {
                            e.checkPlayingDelay()
                        }
                    ), this.state.checkDelayTime)
                }
                ,
                e.prototype.trackPlayingDelay = function() {
                    var e = this._player
                        , t = !0;
                    this.lastDelayEndTime && (t = Boolean(this.lastDelayEndTime - this.lastDelayCurrentTime <= 100)),
                    e.state.firstPlaying && this.state.getDelayCount > 4 && u.default.L_STATUS_ROUND !== e.getLiveStatus() && t && e.track(u.TRACK.STATISTIC_PLAY_DELAY, {
                        param: this.delayData,
                        time: Math.floor(this.state.delayTimeSum / this.state.getDelayCount)
                    }),
                        this.state.getDelayCount = 0,
                        this.state.delayTimeSum = 0
                }
                ,
                e.prototype.subscribeDelay = function() {
                    var e = this;
                    clearTimeout(this.INTERVAL.CHECK_PLAYING_DELAY_TIME),
                        this.trackPlayingDelay(),
                        this.INTERVAL.CHECK_PLAYING_DELAY_TIME = window.setTimeout((function() {
                                e.checkPlayingDelay()
                            }
                        ), this.state.checkDelayTime)
                }
                ,
                e.prototype._bindEvents = function() {
                    var e = this
                        , t = this._player
                        , n = this._videoElement
                        , i = !1;
                    n.addEventListener("loadstart", (function() {
                            e._logTimeLoadedMetaData = c.default.log("Video LoadStart."),
                                t.event.emit(u.EVENT.VIDEO_LOAD_START),
                            s.default.verifyDocumentIsHidden() && (t.state.backgroundTabStartTime = c.default.log("Background Tab Start Time")),
                                t.components.loadingPanel.hide(),
                            t.state.onFixing || ([u.default.L_STATUS_LIVE, u.default.L_STATUS_ROUND].includes(t.state.liveStatus) && e.showLoading(),
                            t.state.loadingPicture && e.addLoadingPicture(t.state.loadingPicture))
                        }
                    ));
                    n.addEventListener("loadedmetadata", (function() {
                            if (e._player.getLiveStatus() === u.default.L_STATUS_PREPARING)
                                return c.default.log("The preparing state but the live stream exists ", 1),
                                    void e.destroy();
                            var t = l.default.getTimeNow(!0) - e._logTimeLoadedMetaData - e._player.state.backgroundTabTime;
                            e._player.event.emit(u.EVENT.VIDEO_LOADED_META_DATA, t),
                                e._destroyVideoBackup(),
                                e._detectSlowlyStatus = !0,
                                e._detectBufferSlowly()
                        }
                    ));
                    n.addEventListener("loadeddata", (function(n) {
                            i = !0,
                            n.target && u.default.L_STATUS_LIVE === t.getLiveStatus() && t.config.backgroundFilter && setTimeout((function() {
                                    var t = n.target;
                                    if (t) {
                                        var i = t.videoHeight
                                            , r = t.videoWidth
                                            , o = e.getVideoImage(t, r, i);
                                        i > r && e.changeVideoMaskImgae(!0, o)
                                    }
                                }
                            ), 100)
                        }
                    ));
                    n.addEventListener("ended", (function() {
                            c.default.log("Video Ended."),
                                e.destroy(),
                                i ? t.event.emit(u.EVENT.ON_PLAYER_RELOADING) : t.error(u.ERROR_CODE.UNEXPECT_ENDED_EVENT, "Unexpect ended event")
                        }
                    ));
                    n.addEventListener("timeupdate", (function(n) {
                            var i = e.corePlayer;
                            if (i) {
                                u.default.L_STATUS_ROUND === t.getLiveStatus() && t.components.newCtrl.updateTime(i.skipTime + i.videoEl.currentTime);
                                var r = i && t.components && t.components.playbackComp;
                                r && r.updateProgress(i.videoEl.currentTime)
                            }
                        }
                    ));
                    n.addEventListener("error", (function() {
                            var i = n.error;
                            if (i) {
                                var r = i.code
                                    , o = i.message
                                    , a = ""
                                    , s = u.ERROR_CODE.MEDIA_ERROR;
                                switch (r) {
                                    case 1:
                                        a = "MEDIA_ERR_ABORTED",
                                            s = u.ERROR_CODE.MEDIA_ABORTED_ERROR;
                                        break;
                                    case 2:
                                        a = "MEDIA_ERR_NETWORK",
                                            s = u.ERROR_CODE.MEDIA_NETWORK_ERROR;
                                        break;
                                    case 3:
                                        a = "MEDIA_ERR_DECODE",
                                            s = u.ERROR_CODE.MEDIA_DECODE_ERROR;
                                        break;
                                    case 4:
                                        a = "MEDIA_ERR_SRC_NOT_SUPPORTED",
                                            s = u.ERROR_CODE.MEDIA_SUPPORTED_ERROR,
                                        [u.STREAM_FORMAT.HLS_FMP4_HEVC, u.STREAM_FORMAT.HTTPSTREAM_FLV_HEVC].indexOf(e._player.state.streamFormat) > -1 && (c.default.log("unsupported media, current stream is hevc stream", 2),
                                            l.default.setSessionStorage(p.UNSUPPORTED_HEVC_STREAM, "true"),
                                            t.state.reuseTime = u.STREAM_URL_MAX_REUSE_TIME);
                                        break;
                                    default:
                                        a = "UNKNOWN"
                                }
                                o && (a += "( " + o + " )"),
                                    c.default.log("Native element error, code: " + s + ", message: " + a, 2),
                                    e.loadLiveStreamTrack(s)
                            } else
                                c.default.log("Native element error", 2)
                        }
                    ));
                    return n.addEventListener("canplay", (function() {
                            e.state.autoPlayError && (e.state.autoPlayError = !1,
                                t.pause());
                            var n = t.state.backgroundTabTime;
                            c.default.log("Video CanPlay", 0, t.logTimeReload + n),
                                t.logTimeReload = void 0,
                            t.logTimeFirstPlay && (c.default.log("Player First Play", 0, t.logTimeFirstPlay + n),
                                t.logTimeFirstPlay = void 0),
                            t.state.firstPlaying || (e._player.state.firstPlaying = !0,
                                l.default.fireEventCallback(t.callbackMap.firstPlaying)),
                            null === e.CHECK_CHASING_FRAME_ID && t.state.liveStatus === u.default.L_STATUS_LIVE && (c.default.log("Video open checkChasingFrame"),
                                e.checkChasingFrame())
                        }
                    )),
                        this
                }
                ,
                e.prototype._bufferSlowlyEnd = function() {
                    if (clearTimeout(this.INTERVAL.BUFFERING_TIME_OUT),
                    this._bufferingSlowlyStartTime > 0) {
                        var e = l.default.getTimeNow(!0) - this._bufferingSlowlyStartTime;
                        this._bufferingSlowlyStartTime = 0,
                            c.default.log("loading duration " + e + "ms"),
                        e < this.state.bufferingMaxTime && (this.state.bufferingSlowlyType !== u.default.BUFFERING_LACK_OF_PERFORMANCE ? this.state.bufferingSlowlyType !== u.default.BUFFERING_SEEKING && this._player.track(u.TRACK.STATISTICS_VIDEO_BUFFERING_TIME, {
                            time: e
                        }) : this._player.track(u.TRACK.STATISTICS_BUFFERING_LACK_OF_PERFORMANCE, {
                            time: e
                        }))
                    }
                    return this
                }
                ,
                e.prototype._bufferSlowlyStart = function(e) {
                    var t = this
                        , n = this._player;
                    if (e > .1 && e !== this._lastTrackTime && this._BACKUP_DETECT_SLOWLY && u.default.L_STATUS_LIVE === this._player.getLiveStatus() && u.default.V_PLAY === this._player.getVideoStatus() && this._detectSlowlyStatus) {
                        var i = this._videoElement.readyState;
                        if (4 === i)
                            return;
                        var r = !0;
                        if (!this._player.errorRetrying) {
                            var o = NaN;
                            try {
                                var a = this._videoElement.buffered;
                                if (a.length)
                                    for (var s = 0; s < a.length; s++)
                                        a.start(s) <= e && a.end(s) >= e && (o = Math.round(1e3 * (a.end(s) - e)))
                            } catch (e) {
                                console.error(e)
                            }
                            if (this._videoElement.seeking ? this.state.bufferingSlowlyType = u.default.BUFFERING_SEEKING : o < this.state.canplayBufferLength && 2 === i ? this.state.bufferingSlowlyType = u.default.BUFFERING_SLOW_NETWORK_SPEED : o >= this.state.canplayBufferLength && 2 === i ? (this.state.bufferingSlowlyType = u.default.BUFFERING_LACK_OF_PERFORMANCE,
                                r = !1) : this.state.bufferingSlowlyType = u.default.BUFFERING_OTHERS,
                                this._player.trackBuffering({
                                    param: "readyState:" + i + ",visiblity:" + n.config.visibilityStatus + ",type:" + this.state.bufferingSlowlyType,
                                    time: o
                                }),
                                c.default.log("Live Stream Time: " + e),
                                this._lastTrackTime = e,
                                this._bufferingSlowlyStartTime = l.default.getTimeNow(!0),
                            0 === n.state.coreProtocol) {
                                var d = n.state.forceBufferTimeout ? n.state.forceBufferTimeout + 500 * n.errorRetryCount : this.state.bufferingMaxTime;
                                this.INTERVAL.BUFFERING_TIME_OUT = setTimeout((function() {
                                        c.default.log("Buffering time out, ready to reload.", 1),
                                            t._player.reload()
                                    }
                                ), d)
                            }
                        }
                        r && (this.showLoading(),
                            this._player.showPlayerController("network"),
                        this._player.components.track && this._player.components.track.bufferSlowReport.counter())
                    }
                }
                ,
                e.prototype._hackMultiVideoRemove = function() {
                    this._container.find("video").length > 1 && (c.default.log("Hack multi-video remove"),
                        this._container.find("video").last().remove())
                }
                ,
                e.prototype.loadLiveStreamTrack = function(e) {
                    void 0 === e && (e = 0),
                    this._player.state.trackLoadStreamErrorStatus && (c.default.log("Load stream error, code: " + e, 2),
                        this._player.state.trackLoadStreamErrorStatus = !1,
                        this._player.track(u.TRACK.STATISTICS_PLAYING_ERROR_WITH_CODE, {
                            errorCode: e,
                            time: Math.floor(Date.now() / 1e3)
                        }))
                }
                ,
                e.prototype.getVideoImage = function(e, t, n) {
                    var i = document.createElement("canvas");
                    return i.width = t,
                        i.height = n,
                        i.getContext("2d").drawImage(e, 0, 0, i.width, i.height),
                        i.toDataURL()
                }
                ,
                e.prototype.changeVideoMaskImgae = function(e, t) {
                    if (e) {
                        var n = "\n                background-image: url(" + t + ");\n                background-size: cover;\n                background-position: center;\n                width: 100%;\n                height: 100%;\n                filter: blur(35px) brightness(0.5)";
                        this.backgroundEl = $('<div style="' + n + '"></div>'),
                            this._container.append(this.backgroundEl)
                    } else
                        this.backgroundEl && (this.backgroundEl.remove(),
                            this.backgroundEl = null)
                }
                ,
                e.prototype.handleShowAutoTips = function(e) {
                    var t = this
                        , n = e.querySelector(".video-cannot-autoplay-tips-footer")
                        , i = document.createElement("div");
                    i.innerHTML = '\n            <input name="shouldShowTips" type="checkbox" id="live_bilibili_player_should_show_tips"/>\n            <label for="shouldShowTips">\n                <div style="\n                display: inline-block;\n                color: #8D9AA4;\n                letter-spacing: 0.18px;\n                font-family: PingFangSC-Regular;\n                font-size: 12px;\n                margin-top: 10px;\n                ">一个月之内不再提醒</div>\n            </label>\n        ',
                        n.appendChild(i);
                    var r = n.querySelector("#live_bilibili_player_should_show_tips");
                    r && r.addEventListener("change", (function(e) {
                            var n = e.target.checked ? Date.now() + 2592e6 : 0;
                            t.state.shouldShowAutoTips = n,
                                l.default.setLocalStorage(u.STATE_STRING.BILIBILI_PLAYER_SHOW_TIP_BASE_TIME, n.toString())
                        }
                    ))
                }
                ,
                e.prototype.bindLivePlayerEvents = function() {
                    var e = this
                        , t = this._player
                        , n = this.corePlayer;
                    return n.on(h.Events.ERROR, (function(n) {
                            if (c.default.log("[LivePlayer] error: " + JSON.stringify(n)),
                                l.default.log("[LivePlayer] error: " + JSON.stringify(n)),
                                t.state.isPlaybacking)
                                e._destroyVideoBackup();
                            else {
                                var i = n && n.code;
                                10003 !== i && 10004 !== i && (t.state.errorCode = i,
                                    e.loadLiveStreamTrack(i),
                                    e._videoErrorHandler(i, n.msg, i, u.CORE_TYPE.FMP4_MUXER, n.httpCode))
                            }
                        }
                    )),
                        n.on(h.Events.VIDEO_INFO, (function(n) {
                                var i = n.flag
                                    , r = n.data
                                    , o = r.mediaInfo
                                    , a = r.statisticsInfo;
                                "update" === i && e._player.state.liveStatus === u.default.L_STATUS_LIVE && +a.videoBufferLength > 20 && e._videoElement && (e._videoElement.currentTime += a.videoBufferLength - 5);
                                var s = d.default.updateVideoInfoData(a.type, o, a);
                                "meta" === i && (t.state.logVideoInfoStatus = !1),
                                s && (0 !== s.length && (e.state.bitRate = o.videoDataRate),
                                    t.logVideoInfo(s),
                                t.plugins.videoInfo && t.plugins.videoInfo.refresh(s))
                            }
                        )),
                        n.on(h.Events.FIRST_PACKET_COST, (function(e) {
                                c.default.log("first packet cost: " + e),
                                    t.track(u.TRACK.STATISTICS_FIST_PACKET_COST, {
                                        time: e
                                    })
                            }
                        )),
                        n.on(h.Events.FIRST_FRAME_COST, (function(e) {
                                c.default.log("first frame cost: " + e),
                                    t.track(u.TRACK.STATISTICS_FIRST_FRAME_COST, {
                                        time: e
                                    }),
                                    t.event.emit(u.EVENT.PLAYER_RELOAD_SUCCESSFULLY)
                            }
                        )),
                        n.on(h.Events.BILI_P2P_TRACK, (function(e) {
                                var n = e._send_beacon_;
                                delete e._send_beacon_,
                                    t.track(u.TRACK.STATISTICS_BILI_P2P, {
                                        param: e,
                                        _send_beacon_: n
                                    })
                            }
                        )),
                        n.on(h.Events.LOADEDMETADATA_COST, (function(e) {
                                c.default.log("loadedmetadata cost: " + e),
                                    t.track(u.TRACK.STATISTICS_LOADEDMETADATA, {
                                        time: e
                                    })
                            }
                        )),
                        n.on(h.Events.NETWORK_RESPONSE, (function(e) {
                                "bvc-quic-server" === e.headers.get("x-service-module") && (t.state.streamInfo.httpVer = "quic")
                            }
                        )),
                        n.on(h.Events.RECEIVED_SEI, (function(n) {
                                if (e.isHandleMaskBrowser && t.config.mask.shouldOpenMask && n && n.data && n.data.buffer) {
                                    var i = n.data.buffer.slice(0)
                                        , r = {
                                        dts: Math.round(1e3 * n.dts),
                                        pts: Math.round(1e3 * n.pts),
                                        uuid: n.uuid,
                                        dataOffset: 0,
                                        firstPlayTime: 0,
                                        dataSize: i && i.byteLength,
                                        arrayBuffer: i,
                                        coreType: u.CORE_TYPE.FMP4_MUXER
                                    };
                                    t.event.emit(u.EVENT.GET_MASK_DATA, r)
                                }
                            }
                        )),
                        t.plugins.videoInfo.update(d.default.generateVideoInfoItems()),
                        this
                }
                ,
                e._ROUND_TITLE_CLASS = "bilibili-live-player-video-round-title",
                e._ROUND_COUNTER_CLASS = "bilibili-live-player-video-round-counter",
                e.FIRST_PLAY = !0,
                e
        }();
        t.default = y
    }
    , function(e, t, n) {
        "use strict";
        var i = this && this.__importDefault || function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = i(n(1))
            , o = function() {
            function e() {}
            return e.generateVideoInfoItems = function() {
                return {
                    infos: [{
                        name: "mimeType",
                        type: "text",
                        title: "Mime Type",
                        data: ""
                    }, {
                        name: "playerInfo",
                        type: "text",
                        title: "Player Core",
                        data: ""
                    }, {
                        name: "videoInfo",
                        type: "text",
                        title: "Video Info",
                        data: ""
                    }, {
                        name: "audioInfo",
                        type: "text",
                        title: "Audio Info",
                        data: ""
                    }, {
                        name: "encoder",
                        type: "text",
                        title: "Encoder",
                        data: ""
                    }, {
                        name: "streamHost",
                        type: "text",
                        title: "Stream Host",
                        data: ""
                    }, {
                        name: "networkActivity",
                        type: "graph",
                        title: "Network Activity",
                        unit: "KB/s",
                        data: 0
                    }, {
                        name: "bufferLength",
                        type: "text",
                        title: "Buffer Length",
                        data: ""
                    }, {
                        name: "droppedFrames",
                        type: "text",
                        title: "Dropped Frames",
                        data: ""
                    }]
                }
            }
                ,
                e.updateVideoInfoData = function(e, t, n) {
                    var i = t.width + "x" + t.height
                        , o = t.fps ? t.fps + "FPS" : null
                        , a = t.videoDataRate
                        , s = [i, o, a > 1e3 ? r.default.toFixed(a / 1e3, 1) + "Mbps" : Math.round(a) + "Kpbs"].filter(Boolean).join(", ")
                        , l = Math.round(t.audioDataRate) + "Kbps"
                        , c = function(e, t) {
                        var n = "NA";
                        switch (t) {
                            case 8:
                                n = "7.1Ch";
                                break;
                            case 6:
                                n = "5.1Ch";
                                break;
                            case 2:
                                n = "Stereo";
                                break;
                            case 1:
                                n = "Mono";
                                break;
                            default:
                                null != t && (n = t + "Ch")
                        }
                        return e / 1e3 + "KHz, " + n
                    }(t.audioSampleRate, t.audioChannelCount) + ", " + l
                        , u = /https?:\/\/(.+?)\//.exec(n.url || n.videoURL)[1]
                        , d = n.droppedFrames + "/" + n.decodedFrames;
                    return [{
                        name: "mimeType",
                        data: t.mimeType
                    }, {
                        name: "playerInfo",
                        data: n.playerType + " (" + n.loaderType + ")"
                    }, {
                        name: "videoInfo",
                        data: s
                    }, {
                        name: "streamHost",
                        data: u
                    }, {
                        name: "droppedFrames",
                        data: d
                    }, {
                        name: "audioInfo",
                        data: c
                    }, {
                        name: "encoder",
                        data: t.encoder
                    }, {
                        name: "networkActivity",
                        data: Math.round(n.speed) || Math.round((n.videoNetworkActivity + n.audioNetworkActivity) / 1e3)
                    }, {
                        name: "connectionSpeed",
                        data: isNaN(Math.round(n.connectionSpeed)) ? 0 : Math.round(n.connectionSpeed)
                    }, {
                        name: "bufferLength",
                        data: n.videoBufferLength + "s"
                    }]
                }
                ,
                e
        }();
        t.default = o
    }
    , function(e, t, n) {
        window,
            e.exports = function(e) {
                var t = {};
                function n(i) {
                    if (t[i])
                        return t[i].exports;
                    var r = t[i] = {
                        i: i,
                        l: !1,
                        exports: {}
                    };
                    return e[i].call(r.exports, r, r.exports, n),
                        r.l = !0,
                        r.exports
                }
                return n.m = e,
                    n.c = t,
                    n.d = function(e, t, i) {
                        n.o(e, t) || Object.defineProperty(e, t, {
                            enumerable: !0,
                            get: i
                        })
                    }
                    ,
                    n.r = function(e) {
                        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                            value: "Module"
                        }),
                            Object.defineProperty(e, "__esModule", {
                                value: !0
                            })
                    }
                    ,
                    n.t = function(e, t) {
                        if (1 & t && (e = n(e)),
                        8 & t)
                            return e;
                        if (4 & t && "object" == typeof e && e && e.__esModule)
                            return e;
                        var i = Object.create(null);
                        if (n.r(i),
                            Object.defineProperty(i, "default", {
                                enumerable: !0,
                                value: e
                            }),
                        2 & t && "string" != typeof e)
                            for (var r in e)
                                n.d(i, r, function(t) {
                                    return e[t]
                                }
                                    .bind(null, r));
                        return i
                    }
                    ,
                    n.n = function(e) {
                        var t = e && e.__esModule ? function() {
                                return e.default
                            }
                            : function() {
                                return e
                            }
                        ;
                        return n.d(t, "a", t),
                            t
                    }
                    ,
                    n.o = function(e, t) {
                        return Object.prototype.hasOwnProperty.call(e, t)
                    }
                    ,
                    n.p = "",
                    n(n.s = 8)
            }([function(e, t) {
                e.exports = {
                    errorNetworkTimeout: 11e3,
                    errorNetworkFetch: 11001,
                    errorNetworkRead: 11002,
                    errorMseOpen: 11003,
                    errorMseAppend: 11004,
                    errorPlayList: 11010
                }
            }
                , function(e, t) {
                    var n = [[0, 200, 0, 128, 35, 128], [33, 0, 73, 144, 2, 25, 0, 35, 128], [0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 142], [0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 128, 44, 128, 8, 2, 56], [0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 56], [0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 0, 178, 0, 32, 8, 224]]
                        , i = [[1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0, 0, 28, 6, 241, 193, 10, 90, 90], [1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10], [1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10]]
                        , r = [90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94];
                    function o(e, t, n) {
                        for (; t < n; )
                            if (3 !== e[t] && 0 !== e[t])
                                t += 3;
                            else {
                                if (0 === e[t - 2] && 0 === e[t - 1] && 3 === e[t])
                                    return t - 2;
                                t += 1
                            }
                        return null
                    }
                    e.exports = {
                        getSilentFrame: function(e, t) {
                            switch (e) {
                                case 2:
                                    if (t >= 1 && t <= 6)
                                        return new Uint8Array(n[t - 1]);
                                    break;
                                default:
                                    if (t >= 1 && t <= 3)
                                        return new Uint8Array(i[t - 1].concat(r))
                            }
                            return null
                        },
                        ebsp2rbsp: function(e) {
                            for (var t = e, n = t.byteLength, i = new Uint8Array(n), r = 0, a = 0; ; ) {
                                var s = o(t, a, n);
                                if (null === s)
                                    break;
                                i.set(t.subarray(a, s + 2), r),
                                    r += s - a + 2,
                                    a = s + 3
                            }
                            return i.set(t.subarray(a, t.length), r),
                                r += t.length - a,
                                i.subarray(0, r)
                        },
                        to02uString: function(e) {
                            var t = e.toString(10);
                            return t.length < 2 && (t = "0" + t),
                                t
                        },
                        to02xString: function(e) {
                            var t = e.toString(16);
                            return t.length < 2 && (t = "0" + t),
                                t
                        }
                    }
                }
                , function(e, t, n) {
                    function i(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n];
                            i.enumerable = i.enumerable || !1,
                                i.configurable = !0,
                            "value"in i && (i.writable = !0),
                                Object.defineProperty(e, i.key, i)
                        }
                    }
                    var r = n(10).MseController
                        , o = function() {
                        function e(t, n) {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._mediaSource = t,
                                this._player = n,
                                this._url = null,
                                this._isOpened = !1,
                                this._isDestroied = !1,
                                this._mimeType = null,
                                this._mseController = null,
                                this._keepUsedBuffer = 10,
                                this._timeout = 0,
                                this._lastRemovedPos = 0,
                                this._firstResponseNotified = !1,
                                this._firstPacketNotified = !1,
                                this._receivedBytes = 0,
                                this.onFirstResponse = null,
                                this.onFirstPacket = null,
                                this.onInitChanged = null,
                                this.onMetaData = null,
                                this.onSeiData = null,
                                this.onEndOfStream = null,
                                this.onFileFetched = null,
                                this.onNetworkError = null,
                                this.onParserError = null
                        }
                        var t, n;
                        return t = e,
                        (n = [{
                            key: "destroy",
                            value: function() {
                                this._isDestroied || (this._isDestroied = !0,
                                this._player.src && URL.revokeObjectURL(this._player.src)),
                                this._mseController && (this._mseController.destroy(),
                                    this._mseController = null),
                                    this._isOpened = !1,
                                    this._lastRemovedPos = 0,
                                    this._mimeType = null,
                                    this._firstResponseNotified = !1,
                                    this._firstPacketNotified = !1,
                                    this._receivedBytes = 0
                            }
                        }, {
                            key: "_notifyNetworkError",
                            value: function(e, t) {
                                this.onNetworkError && !this._isDestroied && this.onNetworkError(e, t)
                            }
                        }, {
                            key: "_notifyParserError",
                            value: function(e, t) {
                                this.onParserError && !this._isDestroied && this.onParserError(e, t)
                            }
                        }, {
                            key: "_onMseError",
                            value: function(e, t) {
                                this._notifyParserError(e, {
                                    url: this._url,
                                    info: t
                                })
                            }
                        }, {
                            key: "_setup",
                            value: function(e) {
                                this._mseController && this._mseController.destroy(),
                                    this._mseController = new r(this._mediaSource,this.onEndOfStream,this._onMseError.bind(this)),
                                    this._lastRemovedPos = 0,
                                    this._receivedBytes = 0,
                                    this._isDestroied = !1,
                                    this._url = e,
                                    this._player.src = URL.createObjectURL(this._mediaSource)
                            }
                        }, {
                            key: "_ensureMse",
                            value: function(e, t) {
                                this._isOpened ? t && this.onInitChanged && this.onInitChanged() : this._mseController && (this._mimeType = e,
                                e && (this._isOpened = this._mseController.addSource(e)))
                            }
                        }, {
                            key: "_pushBuffer",
                            value: function(e) {
                                this._mseController && this._mseController.pushBuffer(e)
                            }
                        }, {
                            key: "_pushEnd",
                            value: function() {
                                this._mseController && this._mseController.pushEnd()
                            }
                        }, {
                            key: "_removeOutdated",
                            value: function() {
                                var e = this._player.currentTime;
                                if (e > this._lastRemovedPos + this._keepUsedBuffer + 10) {
                                    var t = this._lastRemovedPos > 10 ? this._lastRemovedPos - 10 : 0
                                        , n = Math.floor(e - this._keepUsedBuffer);
                                    this._mseController && this._mseController.removeBuffer(t, n) && (this._lastRemovedPos = n)
                                }
                            }
                        }, {
                            key: "version",
                            get: function() {}
                        }, {
                            key: "buffered",
                            get: function() {
                                var e = this._player.buffered;
                                return e && e.length > 0 ? e.end(e.length - 1) - this._player.currentTime : 0
                            }
                        }, {
                            key: "mimeType",
                            get: function() {
                                return this._mimeType
                            }
                        }, {
                            key: "receivedBytes",
                            get: function() {
                                return this._receivedBytes
                            }
                        }, {
                            key: "keepUsedBuffer",
                            set: function(e) {
                                this._keepUsedBuffer = e
                            }
                        }, {
                            key: "timeout",
                            set: function(e) {
                                this._timeout = e
                            }
                        }]) && i(t.prototype, n),
                            e
                    }();
                    e.exports = {
                        LivePlayer: o
                    }
                }
                , function(e, t, n) {
                    function i(e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }
                    var r = n(12)
                        , o = n(13)
                        , a = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350]
                        , s = [44100, 48e3, 32e3, -1]
                        , l = function(e, t) {
                        return 1 === t && (t = 2),
                        "mp4a." + e.toString(16) + (t ? "." + t.toString() : "")
                    }
                        , c = function e(t, n, r, o, a) {
                        i(this, e),
                            this.profile = n,
                            this.rate = r,
                            this.channel = o,
                            this.frame = a,
                            this.codecs = l(t, n)
                    }
                        , u = function e(t, n, r, o) {
                        i(this, e),
                            this.width = t,
                            this.height = n,
                            this.nalu = r,
                            this.codecs = o
                    };
                    e.exports = {
                        audioTypeAAC: 64,
                        audioTypeMP3: 107,
                        getAacCodec: l,
                        parseAudioInfo: function(e, t) {
                            if (64 === t) {
                                if (e.length < 2)
                                    return null;
                                var n = e[0] >>> 3 & 31
                                    , i = (7 & e[0]) << 1 | e[1] >>> 7 & 1
                                    , r = e[1] >> 3 & 15;
                                return new c(t,n,a[i],r,1024)
                            }
                            if (107 === t) {
                                if (e.length < 4)
                                    return null;
                                var o = e[1] >>> 3 & 3
                                    , l = e[1] >>> 1 & 3;
                                if (l < 1 || l > 3)
                                    return null;
                                var u, d, h = e[2] >>> 2 & 3, f = 3 == (e[3] >>> 6 & 3) ? 1 : 2;
                                switch (o) {
                                    case 3:
                                        u = s[h];
                                        break;
                                    case 2:
                                        u = s[h] >>> 1;
                                        break;
                                    default:
                                        u = s[h] >>> 2
                                }
                                switch (l) {
                                    case 3:
                                        d = 3 === o ? 1152 : 576;
                                        break;
                                    case 2:
                                        d = 1152;
                                        break;
                                    default:
                                        d = 384
                                }
                                return new c(t,0,u,f,d)
                            }
                            return null
                        },
                        parseVideoInfo: function(e, t) {
                            var n;
                            if (-7 === t)
                                n = new r.AvcParser;
                            else {
                                if (-12 !== t)
                                    return null;
                                n = new o.HevcParser
                            }
                            if (0 !== n.parse(e))
                                return null;
                            var i = n.displaySize;
                            return new u(i.width,i.height,n.nalu,n.codecs)
                        }
                    }
                }
                , function(e, t) {
                    function n(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n];
                            i.enumerable = i.enumerable || !1,
                                i.configurable = !0,
                            "value"in i && (i.writable = !0),
                                Object.defineProperty(e, i.key, i)
                        }
                    }
                    var i = [0, 16, 1, 2, 4, 8, 32, 3, 5, 10, 12, 15, 47, 7, 11, 13, 14, 6, 9, 31, 35, 37, 42, 44, 33, 34, 36, 40, 39, 43, 45, 46, 17, 18, 20, 24, 19, 21, 26, 28, 23, 27, 29, 30, 22, 25, 38, 41]
                        , r = [47, 31, 15, 0, 23, 27, 29, 30, 7, 11, 13, 14, 39, 43, 45, 46, 16, 3, 5, 10, 12, 19, 21, 26, 28, 35, 37, 42, 44, 1, 2, 4, 8, 17, 18, 20, 24, 6, 9, 22, 25, 32, 33, 34, 36, 40, 38, 41]
                        , o = [15, 0, 7, 11, 13, 14, 3, 5, 10, 12, 1, 2, 4, 8, 6, 9]
                        , a = [0, 1, 2, 4, 8, 3, 5, 10, 12, 15, 7, 11, 13, 14, 6, 9]
                        , s = function(e) {
                        !1 === e && console.error(e)
                    }
                        , l = function() {
                        function e(t) {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._data = t,
                                this._bytes = t.length,
                                this._offsetBits = 0,
                                this._offsetBytes = 0
                        }
                        var t, l;
                        return t = e,
                        (l = [{
                            key: "moveNextBit",
                            value: function() {
                                ++this._offsetBits,
                                this._offsetBits >= 8 && (this._offsetBits %= 8,
                                this._offsetBytes + 1 <= this._bytes && (++this._offsetBytes,
                                this._offsetBytes < this._bytes && 3 === this._data[this._offsetBytes] && this._offsetBytes > 1 && 0 === this._data[this._offsetBytes - 1] && 0 === this._data[this._offsetBytes - 2] && ++this._offsetBytes))
                            }
                        }, {
                            key: "getOffset",
                            value: function() {
                                return {
                                    bytes: this._offsetBytes,
                                    bits: this._offsetBits
                                }
                            }
                        }, {
                            key: "setOffset",
                            value: function(e, t) {
                                return e > this._bytes || t > 8 ? -1 : (this._offsetBits = t,
                                    this._offsetBytes = e,
                                    0)
                            }
                        }, {
                            key: "nextBit",
                            value: function() {
                                return s(this._data && this._bytes > 0),
                                    this._offsetBytes >= this._bytes ? -1 : this._data[this._offsetBytes] >>> 7 - this._offsetBits & 1
                            }
                        }, {
                            key: "nextBits",
                            value: function(t) {
                                var n = new e(this._data);
                                return n._offsetBits = this._offsetBits,
                                    n._offsetBytes = this._offsetBytes,
                                    n.readBits(t)
                            }
                        }, {
                            key: "readBit",
                            value: function() {
                                if (s(this._data && this._bytes > 0),
                                this._offsetBytes >= this._bytes)
                                    return -1;
                                var e = this._data[this._offsetBytes] >>> 7 - this._offsetBits & 1;
                                return this.moveNextBit(),
                                    s(0 === e || 1 === e),
                                    e
                            }
                        }, {
                            key: "readBits",
                            value: function(e) {
                                s(e > 0 && e <= 32);
                                for (var t = 0, n = 0, i = 0; n < e && -1 !== i; n++)
                                    i = this.readBit(),
                                        s(0 === i || 1 === i),
                                        t = t << 1 | i;
                                return t
                            }
                        }, {
                            key: "readBool",
                            value: function() {
                                return 1 === this.readBit()
                            }
                        }, {
                            key: "readUe",
                            value: function() {
                                var e, t = -1;
                                for (e = 0; !e && -1 !== e; ++t)
                                    e = this.readBit(),
                                        s(0 === e || 1 === e);
                                return e = 0,
                                t > 0 && (s(t < 32),
                                    e = this.readBits(t)),
                                (1 << t) - 1 + e
                            }
                        }, {
                            key: "readSe",
                            value: function() {
                                var e = this.readUe();
                                return (e + 1) / 2 * (0 == e % 2 ? -1 : 1)
                            }
                        }, {
                            key: "readMe",
                            value: function(e, t) {
                                var n = this.readUe();
                                return e ? (s(n >= 0 && n < 48),
                                    0 !== t ? i[n] : r[n]) : (s(n >= 0 && n < 16),
                                    0 !== t ? o[n] : a[n])
                            }
                        }, {
                            key: "readTe",
                            value: function() {
                                var e = this.readUe();
                                return 1 !== e ? e : 0 !== this.readBit() ? 0 : 1
                            }
                        }]) && n(t.prototype, l),
                            e
                    }();
                    e.exports = {
                        BitStream: l
                    }
                }
                , function(e, t) {
                    function n(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n];
                            i.enumerable = i.enumerable || !1,
                                i.configurable = !0,
                            "value"in i && (i.writable = !0),
                                Object.defineProperty(e, i.key, i)
                        }
                    }
                    function i(e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }
                    var r = function e(t, n, r, o) {
                        i(this, e),
                            this.name = t,
                            this.value = n,
                            this.offset = r,
                            this.end = o
                    }
                        , o = function() {
                        function e() {
                            i(this, e);
                            try {
                                this._textDecoder = new TextDecoder
                            } catch (e) {
                                this._textDecoder = null,
                                    this._fromChar = String.fromCodePoint ? String.fromCodePoint : String.fromCharCode
                            }
                        }
                        var t, o;
                        return t = e,
                        (o = [{
                            key: "decodeUtf8",
                            value: function(e) {
                                if (this._textDecoder) {
                                    var t = e.indexOf(0);
                                    return -1 !== t && (e = e.subarray(0, t)),
                                        this._textDecoder.decode(e)
                                }
                                for (var n = e.length, i = "", r = 0; r < n; ) {
                                    var o = e[r++];
                                    if (0 === o)
                                        break;
                                    var a = 0;
                                    switch (o >> 4) {
                                        case 0:
                                        case 1:
                                        case 2:
                                        case 3:
                                        case 4:
                                        case 5:
                                        case 6:
                                        case 7:
                                            a = o;
                                            break;
                                        case 12:
                                        case 13:
                                            a = (31 & o) << 6 | 63 & e[r++];
                                            break;
                                        case 14:
                                            a = (15 & o) << 12 | (63 & e[r++]) << 6 | (63 & e[r++]) << 0;
                                            break;
                                        case 15:
                                            a = (7 & o) << 18 | (63 & e[r++]) << 12 | (63 & e[r++]) << 6 | 63 & e[r++]
                                    }
                                    0 !== a && (i += this._fromChar(a))
                                }
                                return i
                            }
                        }, {
                            key: "parse",
                            value: function(e) {
                                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                                    , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
                                for (n || (n = e.byteLength - 1); t < n; )
                                    try {
                                        var i = this._parseValue(e, null, t)
                                            , r = this._parseValue(e, i, i.offset);
                                        if (t = r.offset,
                                        "onMetaData" === i.value)
                                            return r.value
                                    } catch (e) {
                                        console.warn("parse failed", e);
                                        break
                                    }
                                return null
                            }
                        }, {
                            key: "_parseValue",
                            value: function(e, t, n) {
                                var i, o = !1;
                                switch (e.getUint8(n++)) {
                                    case 0:
                                        i = e.getFloat64(n),
                                            n += 8;
                                        break;
                                    case 1:
                                        i = !!e.getUint8(n),
                                            n += 1;
                                        break;
                                    case 2:
                                    case 12:
                                        var a = this._parseArray(e, n);
                                        n += 2 + a.length,
                                            i = this.decodeUtf8(a);
                                        break;
                                    case 3:
                                        i = {},
                                            n = this._parseObjects(e, n, 65535, i);
                                        break;
                                    case 8:
                                        var s = e.getUint32(n);
                                        n += 4,
                                            i = {},
                                            n = this._parseObjects(e, n, s, i);
                                        break;
                                    case 9:
                                        i = null,
                                            o = !0;
                                        break;
                                    case 10:
                                        var l = e.byteLength - 1
                                            , c = e.getUint32(n);
                                        for (n += 4,
                                                 i = []; c-- > 0 && n < l; ) {
                                            var u = this._parseValue(e, null, n);
                                            n = u.offset,
                                                i.push(u.value)
                                        }
                                        break;
                                    case 11:
                                        i = this._parseDate(e, n),
                                            n += 10
                                }
                                return new r(t,i,n,o)
                            }
                        }, {
                            key: "_parseArray",
                            value: function(e, t) {
                                var n = e.getUint16(t);
                                return new Uint8Array(e.buffer,e.byteOffset + t + 2,n)
                            }
                        }, {
                            key: "_parseDate",
                            value: function(e, t) {
                                var n = e.getFloat64(t)
                                    , i = e.getInt16(t + 8);
                                return new Date(n += 60 * i * 1e3)
                            }
                        }, {
                            key: "_parseObject",
                            value: function(e, t) {
                                var n = this._parseArray(e, t);
                                t += 2 + n.length;
                                var i = this.decodeUtf8(n);
                                return this._parseValue(e, i, t)
                            }
                        }, {
                            key: "_parseObjects",
                            value: function(e, t, n, i) {
                                for (var r = e.byteLength - 1; n-- > 0 && t < r; ) {
                                    var o = this._parseObject(e, t);
                                    if (t = o.offset,
                                        o.end)
                                        break;
                                    i[o.name] = o.value
                                }
                                return t
                            }
                        }]) && n(t.prototype, o),
                            e
                    }();
                    e.exports = {
                        AmfParser: o
                    }
                }
                , function(e, t) {
                    var n = void 0;
                    e.exports = {
                        checkChromeVer: function() {
                            if (void 0 !== n)
                                return n;
                            try {
                                var e = navigator.userAgent
                                    , t = e.indexOf("Chrome/");
                                if (t > 0) {
                                    t += 7;
                                    var i = e.indexOf(".", t);
                                    return -1 === i && (i = e.length),
                                        n = parseInt(e.substring(t, i)),
                                        console.log("Chrome verion: ".concat(n)),
                                        n
                                }
                            } catch (e) {
                                console.warn("parse Chrome version failed", e)
                            }
                            return n = 0
                        }
                    }
                }
                , function(e, t, n) {
                    function i(e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }
                    function r(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n];
                            i.enumerable = i.enumerable || !1,
                                i.configurable = !0,
                            "value"in i && (i.writable = !0),
                                Object.defineProperty(e, i.key, i)
                        }
                    }
                    function o(e, t, n) {
                        return t && r(e.prototype, t),
                        n && r(e, n),
                            e
                    }
                    var a = n(0)
                        , s = !!window.fetch
                        , l = !!window.ReadableStream
                        , c = function() {
                        function e(t, n) {
                            var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
                            i(this, e),
                                this._onResponse = t,
                                this._onResult = n,
                                this._onError = r
                        }
                        return o(e, [{
                            key: "fetchAsBuffer",
                            value: function(e) {
                                var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                                    , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                                    , i = this._setTimeout(e, n);
                                s ? this._doFetch(e, t, "arrayBuffer", i) : this._doRequest(e, "arraybuffer", i)
                            }
                        }, {
                            key: "fetchAsJson",
                            value: function(e) {
                                var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                                    , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                                    , i = this._setTimeout(e, n);
                                s ? this._doFetch(e, t, "json", i) : this._doRequest(e, "json", i)
                            }
                        }, {
                            key: "fetchAsText",
                            value: function(e) {
                                var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                                    , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                                    , i = this._setTimeout(e, n);
                                s ? this._doFetch(e, t, "text", i) : this._doRequest(e, "text", i)
                            }
                        }, {
                            key: "fetchAsStream",
                            value: function(e) {
                                var t = this
                                    , n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                                    , i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
                                if (l) {
                                    var r = this._setTimeout(e, i);
                                    fetch(e, n ? {} : {
                                        cache: "no-cache"
                                    }).then((function(n) {
                                            if (r = t._clearTimeout(r),
                                                t._onResponse(e, n),
                                                n.ok) {
                                                var i = n.body.getReader()
                                                    , o = []
                                                    , s = function(n) {
                                                    !n.done && o[0] ? o[0]() : o[0] = null,
                                                        t._onResult(e, n.value, n.done)
                                                };
                                                o[0] = function() {
                                                    i.read().then(s).catch((function(n) {
                                                            t._onError(e, a.errorNetworkRead, n)
                                                        }
                                                    ))
                                                }
                                                    ,
                                                    o[0]()
                                            }
                                        }
                                    )).catch((function(n) {
                                            r = t._clearTimeout(r),
                                                t._onError(e, a.errorNetworkFetch, n)
                                        }
                                    ))
                                } else
                                    this.fetchAsBuffer(e, n)
                            }
                        }, {
                            key: "_doFetch",
                            value: function(e, t, n, i) {
                                var r = this;
                                fetch(e, t ? {} : {
                                    cache: "no-cache"
                                }).then((function(t) {
                                        i = r._clearTimeout(i),
                                            r._onResponse(e, t),
                                        t.ok && t[n]().then((function(t) {
                                                r._onResult(e, t, !0)
                                            }
                                        )).catch((function(t) {
                                                r._onError(e, a.errorNetworkRead, t)
                                            }
                                        ))
                                    }
                                )).catch((function(t) {
                                        i = r._clearTimeout(i),
                                            r._onError(e, a.errorNetworkFetch, t)
                                    }
                                ))
                            }
                        }, {
                            key: "_doRequest",
                            value: function(e, t, n) {
                                var i = this
                                    , r = new XMLHttpRequest;
                                r.onreadystatechange = function(t) {
                                    n = i._clearTimeout(n),
                                    2 === r.readyState && (r.ok = r.status >= 200 && r.status <= 299,
                                        i._onResponse(e, r))
                                }
                                    ,
                                    r.onload = function(t) {
                                        r.status >= 200 && r.status <= 299 && i._onResult(e, r.response, !0)
                                    }
                                    ,
                                    r.onerror = function(t) {
                                        n = i._clearTimeout(n),
                                            i._onError(e, r.readyState > 2 ? a.errorNetworkRead : a.errorNetworkFetch, t)
                                    }
                                    ,
                                    r.open("GET", e),
                                    r.responseType = t,
                                    r.send()
                            }
                        }, {
                            key: "_clearTimeout",
                            value: function(e) {
                                void 0 !== e && window.clearTimeout(e)
                            }
                        }, {
                            key: "_setTimeout",
                            value: function(e, t) {
                                var n = this;
                                return t > 0 ? window.setTimeout((function() {
                                        n._onError(e, a.errorNetworkTimeout, t)
                                    }
                                ), t) : void 0
                            }
                        }]),
                            e
                    }()
                        , u = function() {
                        function e(t, n) {
                            var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
                            i(this, e),
                                this._readDone = !1,
                                this._reader = null,
                                this._onResponse = t,
                                this._onData = n,
                                this._onError = r,
                                this._onDataFetchedBinder = this._onDataFetched.bind(this),
                                this._onReadErrorBinder = this._onReadError.bind(this)
                        }
                        return o(e, [{
                            key: "destroy",
                            value: function() {
                                this._readDone = !0,
                                    this._onData = null
                            }
                        }, {
                            key: "fetchAsStream",
                            value: function(e) {
                                var t = this
                                    , n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                                    , i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                                    , r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : -1
                                    , o = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0
                                    , s = {};
                                if (0 != i) {
                                    var l = {};
                                    l.Range = "bytes=".concat(i, "-") + (r > 0 ? (r - 1).toString() : ""),
                                        s.headers = l
                                }
                                n || (s.cache = "no-cache");
                                var c = o > 0 ? window.setTimeout((function() {
                                        t._onError(a.errorNetworkTimeout, o)
                                    }
                                ), o) : void 0;
                                fetch(e, s).then((function(e) {
                                        c = t._clearTimeout(c),
                                            t._onResponse(e),
                                        t._reader && t._reader.cancel(),
                                            t._reader = e.body.getReader(),
                                            t._readDone = !1,
                                        e.ok && t._reader.read().then(t._onDataFetchedBinder).catch(t._onReadErrorBinder)
                                    }
                                )).catch((function(e) {
                                        c = t._clearTimeout(c),
                                            t._onError(a.errorNetworkFetch, e)
                                    }
                                ))
                            }
                        }, {
                            key: "_onDataFetched",
                            value: function(e) {
                                e.done && (this._reader = null,
                                    this._readDone = !0),
                                this._reader && (this._readDone ? (this._reader.cancel(),
                                    this._reader = null) : this._reader.read().then(this._onDataFetchedBinder).catch(this._onReadErrorBinder)),
                                this._onData && !this._onData(e.value) && (this._readDone = !0,
                                this._reader && (this._reader.cancel(),
                                    this._reader = null))
                            }
                        }, {
                            key: "_onReadError",
                            value: function(e) {
                                this._onError(a.errorNetworkRead, e)
                            }
                        }, {
                            key: "_clearTimeout",
                            value: function(e) {
                                void 0 !== e && window.clearTimeout(e)
                            }
                        }]),
                            e
                    }();
                    e.exports = {
                        Fetcher: c,
                        StreamFetcher: u
                    }
                }
                , function(e, t, n) {
                    var i = n(9).fMp4Player
                        , r = n(18).Hls7Player;
                    e.exports = {
                        fMp4Player: i,
                        Hls7Player: r
                    }
                }
                , function(e, t, n) {
                    function i(e) {
                        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                                    return typeof e
                                }
                                : function(e) {
                                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                                }
                        )(e)
                    }
                    function r(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n];
                            i.enumerable = i.enumerable || !1,
                                i.configurable = !0,
                            "value"in i && (i.writable = !0),
                                Object.defineProperty(e, i.key, i)
                        }
                    }
                    function o(e, t, n) {
                        return (o = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
                                var i = function(e, t) {
                                    for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = u(e)); )
                                        ;
                                    return e
                                }(e, t);
                                if (i) {
                                    var r = Object.getOwnPropertyDescriptor(i, t);
                                    return r.get ? r.get.call(n) : r.value
                                }
                            }
                        )(e, t, n || e)
                    }
                    function a(e, t) {
                        return (a = Object.setPrototypeOf || function(e, t) {
                                return e.__proto__ = t,
                                    e
                            }
                        )(e, t)
                    }
                    function s(e) {
                        var t = function() {
                            if ("undefined" == typeof Reflect || !Reflect.construct)
                                return !1;
                            if (Reflect.construct.sham)
                                return !1;
                            if ("function" == typeof Proxy)
                                return !0;
                            try {
                                return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
                                ))),
                                    !0
                            } catch (e) {
                                return !1
                            }
                        }();
                        return function() {
                            var n, i = u(e);
                            if (t) {
                                var r = u(this).constructor;
                                n = Reflect.construct(i, arguments, r)
                            } else
                                n = i.apply(this, arguments);
                            return l(this, n)
                        }
                    }
                    function l(e, t) {
                        return !t || "object" !== i(t) && "function" != typeof t ? c(e) : t
                    }
                    function c(e) {
                        if (void 0 === e)
                            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }
                    function u(e) {
                        return (u = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
                                return e.__proto__ || Object.getPrototypeOf(e)
                            }
                        )(e)
                    }
                    var d = n(0)
                        , h = n(2)
                        , f = n(11)
                        , p = n(17).lowerBound
                        , v = n(7).StreamFetcher
                        , y = function(e) {
                        !function(e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function");
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && a(e, t)
                        }(l, e);
                        var t, n, i = s(l);
                        function l(e, t) {
                            var n;
                            return function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, l),
                                n = i.call(this, e, t),
                                console.log("fMp4Player ".concat(n.version)),
                                n.maxDuration = 30,
                                n.minDuration = 10,
                                n.startTime = 0,
                                n._contentLength = void 0,
                                n._loader = null,
                                n._readDone = !1,
                                n._readPaused = !1,
                                n._readPosition = 0,
                                n._fmp4Muxer = null,
                                n._checkBufferInterval = void 0,
                                n._onCheckBufferBinder = n._onCheckBuffer.bind(c(n)),
                                n._onResponseBinder = n._onResponse.bind(c(n)),
                                n._onDataFetchedBinder = n._onDataFetched.bind(c(n)),
                                n._onDataConvertedBinder = n._onDataConverted.bind(c(n)),
                                n._onMetaDataBinder = n._onMetaDataParsed.bind(c(n)),
                                n._onSeiDataBinder = n._onSeiDataParsed.bind(c(n)),
                                n._onConvertErrorBinder = n._onConvertError.bind(c(n)),
                                n._onReadErrorBinder = n._onReadError.bind(c(n)),
                                n
                        }
                        return t = l,
                        (n = [{
                            key: "destroy",
                            value: function() {
                                o(u(l.prototype), "destroy", this).call(this),
                                void 0 !== this._checkBufferInterval && (window.clearInterval(this._checkBufferInterval),
                                    this._checkBufferInterval = void 0),
                                    this._firstPacketNotified = !1,
                                    this._readPaused = !1,
                                    this._readDone = !0,
                                this._loader && (this._loader.destroy(),
                                    this._loader = null),
                                this._fmp4Muxer && (this._fmp4Muxer.destroy(),
                                    this._fmp4Muxer = null),
                                    this._contentLength = void 0
                            }
                        }, {
                            key: "createFetcher",
                            value: function(e, t, n) {
                                return new v(e,t,n)
                            }
                        }, {
                            key: "_fetchUrl",
                            value: function() {
                                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                                this._contentLength = void 0,
                                    this._receivedBytes = 0,
                                    this._readDone = !1,
                                    this._readPaused = !1,
                                    this._readPosition = e,
                                    this._loader = this.createFetcher(this._onResponseBinder, this._onDataFetchedBinder, this._onReadErrorBinder),
                                    this._loader.fetchAsStream(this._url, !1, e, -1, this._timeout)
                            }
                        }, {
                            key: "_onDataConverted",
                            value: function(e, t) {
                                this._ensureMse(this._mimeType, t),
                                    this._pushBuffer(e)
                            }
                        }, {
                            key: "_onMetaDataParsed",
                            value: function(e) {
                                var t = this;
                                if (this._mimeType = this._fmp4Muxer.mimeType,
                                this.onMetaData && this.onMetaData(e),
                                this._contentLength && this.startTime > 0) {
                                    var n = e.keyframes;
                                    if (n && n.times && n.filepositions) {
                                        var i = p(n.times, this.startTime);
                                        if (i >= 0 && i < n.filepositions.length) {
                                            this._fmp4Muxer && this._fmp4Muxer.reset();
                                            var r = n.filepositions[i];
                                            console.log("seek to: ".concat(n.times[i], "/").concat(e.duration, "s, pos=").concat(r));
                                            var o = function() {
                                                t._seekToPosition(r)
                                            };
                                            window.Promise ? Promise.resolve().then(o) : window.setTimeout(o, 0)
                                        } else
                                            console.warn("seek failed: ".concat(this.startTime, "/").concat(e.duration, "s"))
                                    }
                                    this.startTime = 0
                                }
                            }
                        }, {
                            key: "_onSeiDataParsed",
                            value: function(e, t, n, i) {
                                this.onSeiData && i && this.onSeiData(e, t, n, i)
                            }
                        }, {
                            key: "_onConvertError",
                            value: function(e, t) {
                                this._notifyParserError(e, {
                                    url: this._url,
                                    info: t
                                })
                            }
                        }, {
                            key: "_onReadError",
                            value: function(e, t) {
                                this._notifyNetworkError(e, {
                                    url: this._url,
                                    info: t
                                })
                            }
                        }, {
                            key: "_processFetchedData",
                            value: function(e) {
                                this._fmp4Muxer ? this._fmp4Muxer.input(e) : this._onDataConverted(e)
                            }
                        }, {
                            key: "_seekToPosition",
                            value: function(e) {
                                this._fmp4Muxer && this._fmp4Muxer.reset(),
                                this._loader && (this._loader.destroy(),
                                    this._loader = null),
                                    this._fetchUrl(e)
                            }
                        }, {
                            key: "_onDataFetched",
                            value: function(e) {
                                return !this._firstPacketNotified && this.onFirstPacket && (this._firstPacketNotified = !0,
                                    this.onFirstPacket()),
                                    e ? (this._removeOutdated(),
                                        this._processFetchedData(e),
                                        this._receivedBytes += e.length,
                                        this._readPosition += e.length) : e || (this._readDone = void 0 === this._contentLength || this._receivedBytes >= this._contentLength,
                                    this._readDone && this._pushEnd()),
                                    !(this._readDone || this._readPaused)
                            }
                        }, {
                            key: "_onResponse",
                            value: function(e) {
                                if (e.ok) {
                                    !this._firstResponseNotified && this.onFirstResponse && (this._firstResponseNotified = !0,
                                        this.onFirstResponse(e));
                                    var t = e.headers.get("Content-Length")
                                        , n = t ? parseInt(t) : void 0;
                                    void 0 === this._contentLength && (this._contentLength = n),
                                    this._contentLength && void 0 === this._checkBufferInterval && (this._checkBufferInterval = window.setInterval(this._onCheckBufferBinder, 500));
                                    var i = e.headers.get("Content-Type");
                                    i && -1 !== i.indexOf("video/mp4") ? (this._mimeType = i,
                                        this._fmp4Muxer = null) : null === this._fmp4Muxer && (this._mimeType = null,
                                        this._fmp4Muxer = new f.fMp4Muxer(250,this._onDataConvertedBinder,this._onMetaDataBinder,this._onSeiDataBinder,this._onConvertErrorBinder))
                                } else
                                    this._notifyNetworkError(d.errorNetworkFetch, {
                                        url: this._url,
                                        status: e.status
                                    })
                            }
                        }, {
                            key: "_onCheckBuffer",
                            value: function() {
                                var e = this.buffered;
                                e <= this.minDuration && this._readPaused && this._receivedBytes < this._contentLength ? (this._readPaused = !1,
                                    this._loader.fetchAsStream(this._url, !1, this._readPosition, -1, this._timeout)) : e >= this.maxDuration && !this._readPaused && (this._readPaused = !0)
                            }
                        }, {
                            key: "version",
                            get: function() {
                                return "v1.18"
                            }
                        }, {
                            key: "src",
                            set: function(e) {
                                this.destroy(),
                                    this._setup(e),
                                    this._fetchUrl()
                            }
                        }]) && r(t.prototype, n),
                            l
                    }(h.LivePlayer);
                    e.exports = {
                        fMp4Player: y
                    }
                }
                , function(e, t, n) {
                    function i(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n];
                            i.enumerable = i.enumerable || !1,
                                i.configurable = !0,
                            "value"in i && (i.writable = !0),
                                Object.defineProperty(e, i.key, i)
                        }
                    }
                    var r = n(0)
                        , o = function() {
                        function e(t, n, i) {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._mediaSource = t,
                                this._onEnded = n,
                                this._onError = i,
                                this._dataList = [],
                                this._mimeType = null,
                                this._sourceOpened = !1,
                                this._sourceBuffer = null,
                                this._eosBuffer = new Uint8Array,
                                this._onSourceOpenBinder = this._onSourceOpen.bind(this),
                                this._onUpdateEndBinder = this._onUpdateEnd.bind(this),
                                t.addEventListener("sourceopen", this._onSourceOpenBinder)
                        }
                        var t, n;
                        return t = e,
                        (n = [{
                            key: "destroy",
                            value: function() {
                                this.removeSource(),
                                    this._dataList.length = 0,
                                    this._mediaSource = null,
                                    this._mimeType = null,
                                    this._sourceOpened = !1
                            }
                        }, {
                            key: "addSource",
                            value: function(e) {
                                if (this._mimeType = e,
                                e && this._sourceOpened && !this._sourceBuffer)
                                    try {
                                        this._sourceBuffer = this._mediaSource.addSourceBuffer(e),
                                        this._sourceBuffer && this._sourceBuffer.addEventListener("updateend", this._onUpdateEndBinder)
                                    } catch (e) {
                                        this._onError && this._onError(r.errorMseOpen, e)
                                    }
                                return null !== this._sourceBuffer
                            }
                        }, {
                            key: "removeSource",
                            value: function() {
                                this._sourceBuffer && (this._sourceBuffer.removeEventListener("updateend", this._onUpdateEndBinder, !1),
                                    this._mediaSource.removeSourceBuffer(this._sourceBuffer),
                                    this._sourceBuffer = null)
                            }
                        }, {
                            key: "pushBuffer",
                            value: function(e) {
                                this._dataList.push(e),
                                    this._onUpdateEnd()
                            }
                        }, {
                            key: "pushEnd",
                            value: function() {
                                0 !== this._dataList.length || this._sourceBuffer ? (this._dataList.push(this._eosBuffer),
                                    this._onUpdateEnd()) : this._onEnded && this._onEnded()
                            }
                        }, {
                            key: "removeBuffer",
                            value: function(e, t) {
                                try {
                                    if (!this._sourceBuffer.updating)
                                        return this._sourceBuffer.remove(e, t),
                                            !0
                                } catch (n) {
                                    console.warn("remove buffer failed: ".concat(e, " -> ").concat(t), n)
                                }
                                return !1
                            }
                        }, {
                            key: "_onSourceOpen",
                            value: function() {
                                this._mediaSource && (this._mediaSource.duration = 1 / 0,
                                    this._mediaSource.removeEventListener("sourceopen", this._onSourceOpenBinder),
                                    this._sourceOpened = !0,
                                this._mimeType && this.addSource(this._mimeType))
                            }
                        }, {
                            key: "_onUpdateEnd",
                            value: function() {
                                var e = this._sourceBuffer;
                                if (e && !e.updating) {
                                    var t = this._dataList;
                                    if (t.length) {
                                        var n = t.shift();
                                        try {
                                            n === this._eosBuffer ? ("open" === this._mediaSource.readyState && this._mediaSource.endOfStream(),
                                            this._onEnded && this._onEnded()) : null !== n && e.appendBuffer(n),
                                                n = null
                                        } catch (e) {
                                            this._onError && this._onError(r.errorMseAppend, e)
                                        }
                                    }
                                }
                            }
                        }]) && i(t.prototype, n),
                            e
                    }();
                    e.exports = {
                        MseController: o
                    }
                }
                , function(e, t, n) {
                    function i(e, t) {
                        var n;
                        if ("undefined" == typeof Symbol || null == e[Symbol.iterator]) {
                            if (Array.isArray(e) || (n = function(e, t) {
                                if (e) {
                                    if ("string" == typeof e)
                                        return r(e, t);
                                    var n = Object.prototype.toString.call(e).slice(8, -1);
                                    return "Object" === n && e.constructor && (n = e.constructor.name),
                                        "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? r(e, t) : void 0
                                }
                            }(e)) || t && e && "number" == typeof e.length) {
                                n && (e = n);
                                var i = 0
                                    , o = function() {};
                                return {
                                    s: o,
                                    n: function() {
                                        return i >= e.length ? {
                                            done: !0
                                        } : {
                                            done: !1,
                                            value: e[i++]
                                        }
                                    },
                                    e: function(e) {
                                        throw e
                                    },
                                    f: o
                                }
                            }
                            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                        }
                        var a, s = !0, l = !1;
                        return {
                            s: function() {
                                n = e[Symbol.iterator]()
                            },
                            n: function() {
                                var e = n.next();
                                return s = e.done,
                                    e
                            },
                            e: function(e) {
                                l = !0,
                                    a = e
                            },
                            f: function() {
                                try {
                                    s || null == n.return || n.return()
                                } finally {
                                    if (l)
                                        throw a
                                }
                            }
                        }
                    }
                    function r(e, t) {
                        (null == t || t > e.length) && (t = e.length);
                        for (var n = 0, i = new Array(t); n < t; n++)
                            i[n] = e[n];
                        return i
                    }
                    function o(e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }
                    function a(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n];
                            i.enumerable = i.enumerable || !1,
                                i.configurable = !0,
                            "value"in i && (i.writable = !0),
                                Object.defineProperty(e, i.key, i)
                        }
                    }
                    function s(e, t, n) {
                        return t && a(e.prototype, t),
                        n && a(e, n),
                            e
                    }
                    var l = n(3)
                        , c = n(14)
                        , u = n(15)
                        , d = n(6)
                        , h = n(1)
                        , f = n(16).SeiParser
                        , p = function() {
                        function e(t, n, i) {
                            o(this, e),
                                this.type = t,
                                this.id = n,
                                this.tag = i,
                                this.baseMediaDecodeTime = 0,
                                this.extraData = null,
                                this.dataOffset = 0,
                                this.duration = 0,
                                this.samples = [],
                                this.sequenceDts = null,
                                this.timestampOffset = 0,
                                this.totalDuration = 0,
                                this.totalSampleCount = 0,
                                this.audioInfo = null,
                                this.objectType = 0,
                                this.defaultDuration = 0,
                                this.maxGapDuration = 0,
                                this.videoInfo = null,
                                this.averageDuration = 0
                        }
                        return s(e, [{
                            key: "timeScale",
                            get: function() {
                                return null !== this.audioInfo ? this.audioInfo.rate : 9e4
                            }
                        }, {
                            key: "channelCount",
                            get: function() {
                                return null !== this.audioInfo ? this.audioInfo.channel : null
                            }
                        }, {
                            key: "sampleRate",
                            get: function() {
                                return null !== this.audioInfo ? this.audioInfo.rate : null
                            }
                        }, {
                            key: "sampleBits",
                            get: function() {
                                return 16
                            }
                        }, {
                            key: "width",
                            get: function() {
                                return null !== this.videoInfo ? this.videoInfo.width : null
                            }
                        }, {
                            key: "height",
                            get: function() {
                                return null !== this.videoInfo ? this.videoInfo.height : null
                            }
                        }]),
                            e
                    }()
                        , v = function() {
                        function e(t, n, i, r, a) {
                            o(this, e);
                            var s = d.checkChromeVer();
                            this._chrome4x = s > 0 && s <= 49,
                                this._audioTrackIndex = -1,
                                this._videoTrackIndex = -1,
                                this._lastSegmentDts = 0,
                                this._mdatSize = 0,
                                this._metaData = {},
                                this._nextTrackId = 1,
                                this._onMetaData = i,
                                this._onSegment = n,
                                this._onSeiData = r,
                                this._onError = a,
                                this._parser = new c.FlvParser(this._onSampleReceived.bind(this),this._onMetaDataReceived.bind(this)),
                                this._reInitSegment = !1,
                                this._segment_is_gop = !0,
                                this._segmentDuration = t,
                                this._sequenceNumber = 1,
                                this._tracks = [],
                                this._unknownTypes = new Set
                        }
                        return s(e, [{
                            key: "destroy",
                            value: function() {}
                        }, {
                            key: "reset",
                            value: function() {
                                this._parser.clear(),
                                    this._lastSegmentDts = 0,
                                    this._mdatSize = 0,
                                    this._segment_is_gop = !0;
                                var e, t = i(this._tracks);
                                try {
                                    for (t.s(); !(e = t.n()).done; ) {
                                        var n = e.value;
                                        n.samples.length = 0,
                                            n.dataOffset = 0,
                                            n.sequenceDts = null,
                                            n.timestampOffset = 0,
                                            n.totalDuration = 0,
                                            n.totalSampleCount = 0
                                    }
                                } catch (e) {
                                    t.e(e)
                                } finally {
                                    t.f()
                                }
                            }
                        }, {
                            key: "input",
                            value: function(e) {
                                try {
                                    this._parser.input(e)
                                } catch (e) {
                                    this._onError && this._onError(10006, e)
                                }
                            }
                        }, {
                            key: "_addSample",
                            value: function(e, t) {
                                e.samples.push(t),
                                    e.totalSampleCount++,
                                    this._mdatSize += t.size
                            }
                        }, {
                            key: "_onAudioSample",
                            value: function(t) {
                                var n = t.dts;
                                if (-1 === this._videoTrackIndex && this._timeToOutput(!1, n) && this._outputDataSegment(n),
                                this._audioTrackIndex >= 0 && this._audioTrackIndex < this._tracks.length) {
                                    var i = this._tracks[this._audioTrackIndex];
                                    if (null === i.sequenceDts && (i.sequenceDts = n),
                                    i.objectType === l.audioTypeAAC) {
                                        var r = i.audioInfo.rate
                                            , o = e._millisecToAudioTs(n, i) - i.totalDuration;
                                        if (o >= i.maxGapDuration) {
                                            var a = o / r;
                                            if (a >= 30)
                                                throw new Error("too large ".concat(a, " underflow"));
                                            var s = Math.floor(o / i.defaultDuration);
                                            for (console.log("insert ".concat(s, " frames due to ").concat(a, " underflow")); s--; ) {
                                                var c = e._getSilentAacFrame(i, t.data);
                                                c.duration = i.defaultDuration,
                                                    i.totalDuration += c.duration,
                                                    this._addSample(i, c)
                                            }
                                        } else if (o <= -i.maxGapDuration)
                                            return void console.log("skip 1 frame due to ".concat(-o / r, " overflow"))
                                    }
                                    t.dts = i.totalDuration,
                                        t.duration = i.defaultDuration,
                                        i.totalDuration += t.duration,
                                        this._addSample(i, t)
                                } else
                                    console.warn("invalid audio track: ".concat(this._audioTrackIndex))
                            }
                        }, {
                            key: "_onVideoSample",
                            value: function(t) {
                                var n = t.dts
                                    , i = 1 === t.flags;
                                if (this._timeToOutput(i, n) && (this._outputDataSegment(n),
                                    this._segment_is_gop = i),
                                this._videoTrackIndex >= 0 && this._videoTrackIndex < this._tracks.length) {
                                    var r = this._tracks[this._videoTrackIndex];
                                    if (null === r.sequenceDts && (r.sequenceDts = n,
                                    0 === r.totalSampleCount && (t.cts = 0),
                                        t.flags = 1),
                                        t.cts = Math.floor(90 * t.cts),
                                        t.dts = e._millisecToVideoTs(n, r),
                                    r.samples.length > 0) {
                                        var o = r.samples[r.samples.length - 1];
                                        o.duration = t.dts > o.dts ? t.dts - o.dts : 0
                                    }
                                    r.totalDuration = t.dts,
                                    r.totalSampleCount > 0 && (r.averageDuration = Math.floor(r.totalDuration / r.totalSampleCount)),
                                    t.type !== c.typeVideoH264 && t.type !== c.typeVideoH265 || this._parseSeiData(t.data, t.size, t.dts / 9e4, t.cts / 9e4, r.videoInfo.nalu),
                                        this._addSample(r, t)
                                } else
                                    console.warn("invalid video track: ".concat(this._videoTrackIndex))
                            }
                        }, {
                            key: "_onAudioTrack",
                            value: function(t) {
                                var n = t.type === c.trackAudioAAC
                                    , i = n ? l.audioTypeAAC : l.audioTypeMP3
                                    , r = l.parseAudioInfo(t.data, i);
                                if (r) {
                                    if (this._audioTrackIndex >= 0 && this._audioTrackIndex < this._tracks.length) {
                                        var o = this._tracks[this._audioTrackIndex];
                                        o.extraData = t.data,
                                            o.audioInfo = r,
                                            o.objectType = i,
                                            o.defaultDuration = r.frame,
                                            o.maxGapDuration = 2 * o.defaultDuration,
                                            e._resetTrackTimestamps(o)
                                    } else {
                                        var a = u.types.mp4a
                                            , s = new p("audio",this._nextTrackId++,a);
                                        s.extraData = n ? t.data : null,
                                            s.audioInfo = r,
                                            s.objectType = i,
                                            s.defaultDuration = r.frame,
                                            s.maxGapDuration = 2 * s.defaultDuration,
                                            this._audioTrackIndex = this._tracks.length,
                                            this._tracks.push(s)
                                    }
                                    this._metaData.audiosamplerate = r.rate,
                                        this._metaData.audiochannel = r.channel,
                                        this._outputNow(),
                                        this._reInitSegment = !0
                                } else
                                    this._onError && this._onError(10001, "parse audio track failed")
                            }
                        }, {
                            key: "_onVideoTrack",
                            value: function(t) {
                                var n = l.parseVideoInfo(t.data, t.type);
                                if (n) {
                                    if (this._videoTrackIndex >= 0 && this._videoTrackIndex < this._tracks.length) {
                                        var i = this._tracks[this._videoTrackIndex];
                                        i.extraData = t.data,
                                            i.videoInfo = n,
                                            e._fixLastVideoDuration(i, 0),
                                            e._resetTrackTimestamps(i)
                                    } else {
                                        var r = void 0;
                                        switch (t.type) {
                                            case c.trackVideoH264:
                                                r = u.types.avc1;
                                                break;
                                            case c.trackVideoH265:
                                                r = u.types.hvc1
                                        }
                                        var o = new p("video",this._nextTrackId++,r);
                                        o.extraData = t.data,
                                            o.videoInfo = n,
                                            this._videoTrackIndex = this._tracks.length,
                                            this._tracks.push(o)
                                    }
                                    this._metaData.width = n.width,
                                        this._metaData.height = n.height,
                                    this._metaData.fps || (this._metaData.fps = this._metaData.framerate),
                                        this._outputNow(),
                                        this._reInitSegment = !0
                                } else
                                    this._onError && this._onError(10002, "parse video track failed")
                            }
                        }, {
                            key: "_onMetaDataReceived",
                            value: function(e) {
                                if (e)
                                    for (var t in e)
                                        this._metaData[t] = e[t]
                            }
                        }, {
                            key: "_onSampleReceived",
                            value: function(e) {
                                switch (e.type) {
                                    case c.typeAudioAAC:
                                        this._onAudioSample(e);
                                        break;
                                    case c.typeVideoH264:
                                    case c.typeVideoH265:
                                        this._onVideoSample(e);
                                        break;
                                    case c.trackAudioAAC:
                                    case c.trackAudioMP3:
                                        this._onAudioTrack(e);
                                        break;
                                    case c.trackVideoH264:
                                    case c.trackVideoH265:
                                        this._onVideoTrack(e);
                                        break;
                                    default:
                                        this._unknownTypes.has(e.type) || (this._unknownTypes.add(e.type),
                                        this._onError && this._onError(10005, "unknown codec: ".concat(e.type)))
                                }
                                return !0
                            }
                        }, {
                            key: "_outputDataSegment",
                            value: function(t) {
                                if (this._lastSegmentDts = t,
                                    this._reInitSegment) {
                                    this._onMetaData && this._onMetaData(this._metaData);
                                    var n = u.initSegment(this._tracks);
                                    this._onSegment(n, !0),
                                        this._reInitSegment = !1
                                }
                                if (0 !== this._mdatSize) {
                                    var r = this._tracks
                                        , o = u.moofSize(r)
                                        , a = 8 + this._mdatSize
                                        , s = new Uint8Array(o + a);
                                    s[o + 0] = a >>> 24 & 255,
                                        s[o + 1] = a >>> 16 & 255,
                                        s[o + 2] = a >>> 8 & 255,
                                        s[o + 3] = 255 & a,
                                        s.set(u.types.mdat, o + 4);
                                    var l, c = o + 8, d = i(r);
                                    try {
                                        for (d.s(); !(l = d.n()).done; ) {
                                            var h = l.value;
                                            h.samples.length > 0 && ("video" === h.type && e._fixLastVideoDuration(h, t),
                                            this._chrome4x && (h.samples[0].flags = 1),
                                                h.baseMediaDecodeTime = h.samples[0].dts),
                                                h.dataOffset = c,
                                                c = e._concatenateSamplesData(h, s, c)
                                        }
                                    } catch (e) {
                                        d.e(e)
                                    } finally {
                                        d.f()
                                    }
                                    var f = u.moof(this._sequenceNumber++, r);
                                    s.set(f),
                                        this._onSegment(s, !1),
                                        this._lastSegmentDts = t,
                                        this._mdatSize = 0,
                                        this._segment_is_gop = !1;
                                    var p, v = i(r);
                                    try {
                                        for (v.s(); !(p = v.n()).done; ) {
                                            var y = p.value;
                                            y.samples.length = 0,
                                                y.dataOffset = 0
                                        }
                                    } catch (e) {
                                        v.e(e)
                                    } finally {
                                        v.f()
                                    }
                                }
                            }
                        }, {
                            key: "_outputNow",
                            value: function() {
                                this._mdatSize > 0 && this._outputDataSegment(0)
                            }
                        }, {
                            key: "_parseSeiData",
                            value: function(e, t, n, r, o) {
                                if (this._onSeiData)
                                    for (var a = t, s = 0; s + o < a; ) {
                                        for (var l = 0, c = 0; c < o; c++)
                                            l = l << 8 | e[s++];
                                        var u = s + l;
                                        if (u > a)
                                            break;
                                        if (6 == (31 & e[s])) {
                                            var d, p = h.ebsp2rbsp(e.subarray(s + 1, u)), v = i(f.readSeiMessages(p));
                                            try {
                                                for (v.s(); !(d = v.n()).done; ) {
                                                    var y = d.value;
                                                    if (5 === y.payloadType && y.payloadData.length >= 16) {
                                                        var g = y.payloadData.slice(0, 16)
                                                            , m = y.payloadData.slice(16);
                                                        this._onSeiData(n, n + r, g, m)
                                                    }
                                                }
                                            } catch (e) {
                                                v.e(e)
                                            } finally {
                                                v.f()
                                            }
                                        }
                                        s = u
                                    }
                            }
                        }, {
                            key: "_timeToOutput",
                            value: function(e, t) {
                                return !(!e || this._segment_is_gop) || t < this._lastSegmentDts || t >= this._lastSegmentDts + this._segmentDuration
                            }
                        }, {
                            key: "mimeType",
                            get: function() {
                                var e, t = "", n = i(this._tracks);
                                try {
                                    for (n.s(); !(e = n.n()).done; ) {
                                        var r = e.value;
                                        null !== r.audioInfo ? t += r.audioInfo.codecs + "," : null !== r.videoInfo && (t += r.videoInfo.codecs + ",")
                                    }
                                } catch (e) {
                                    n.e(e)
                                } finally {
                                    n.f()
                                }
                                for (; t.length > 1 && "," === t[t.length - 1]; )
                                    t = t.substring(0, t.length - 1);
                                return 'video/mp4; codecs="' + t + '"'
                            }
                        }], [{
                            key: "_concatenateSamplesData",
                            value: function(e, t, n) {
                                var r, o = i(e.samples);
                                try {
                                    for (o.s(); !(r = o.n()).done; ) {
                                        var a = r.value;
                                        t.set(a.data, n),
                                            n += a.size
                                    }
                                } catch (e) {
                                    o.e(e)
                                } finally {
                                    o.f()
                                }
                                return n
                            }
                        }, {
                            key: "_fixLastVideoDuration",
                            value: function(t, n) {
                                if (t.samples.length > 0) {
                                    var i = t.samples[t.samples.length - 1];
                                    0 === i.duration && (n = e._millisecToVideoTs(n, t),
                                        i.duration = n > i.dts ? n - i.dts : t.averageDuration > 0 ? t.averageDuration : 1500,
                                        t.totalDuration += i.duration)
                                }
                            }
                        }, {
                            key: "_getSilentAacFrame",
                            value: function(e, t) {
                                var n = h.getSilentFrame(e.audioInfo.profile, e.audioInfo.channel)
                                    , i = e.totalDuration;
                                return new c.Sample(c.typeAudioAAC,n || t,0,i,0)
                            }
                        }, {
                            key: "_millisecToAudioTs",
                            value: function(e, t) {
                                return Math.floor((e - t.sequenceDts) * t.audioInfo.rate / 1e3) + t.timestampOffset
                            }
                        }, {
                            key: "_millisecToVideoTs",
                            value: function(e, t) {
                                return 90 * (e - t.sequenceDts) + t.timestampOffset
                            }
                        }, {
                            key: "_resetTrackTimestamps",
                            value: function(e) {
                                e.timestampOffset = e.totalDuration,
                                    e.sequenceDts = null
                            }
                        }]),
                            e
                    }();
                    e.exports = {
                        fMp4Muxer: v,
                        errorAudioInfo: 10001,
                        errorVideoInfo: 10002,
                        errorAudioTrack: 10003,
                        errorVideoTrack: 10004,
                        errorUnknownCodec: 10005,
                        errorPacketData: 10006
                    }
                }
                , function(e, t, n) {
                    function i(e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }
                    function r(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n];
                            i.enumerable = i.enumerable || !1,
                                i.configurable = !0,
                            "value"in i && (i.writable = !0),
                                Object.defineProperty(e, i.key, i)
                        }
                    }
                    function o(e, t, n) {
                        return t && r(e.prototype, t),
                        n && r(e, n),
                            e
                    }
                    var a = n(4).BitStream
                        , s = n(1)
                        , l = function() {
                        function e() {
                            i(this, e),
                                this.width = 0,
                                this.height = 0
                        }
                        return o(e, [{
                            key: "parse",
                            value: function(e) {
                                var t = new a(e)
                                    , n = 1
                                    , i = this.profile_idc = t.readBits(8)
                                    , r = t.readBits(8)
                                    , o = (this.compatibility = r,
                                    this.level_idc = t.readBits(8),
                                    t.readUe(),
                                    0);
                                if ((100 === i || 110 === i || 122 === i || 244 === i || 44 === i || 83 === i || 86 === i || 118 === i || 128 === i || 138 === i || 139 === i || 134 === i || 135 === i) && (3 === (n = t.readUe()) && (o = t.readBit()),
                                    t.readUe(),
                                    t.readUe(),
                                    t.readBit(),
                                0 !== t.readBit()))
                                    for (var s = 0; s < (3 !== n ? 8 : 12); s++)
                                        t.readBit();
                                t.readUe();
                                var l = t.readUe();
                                if (0 === l)
                                    t.readUe();
                                else if (1 === l) {
                                    t.readBit(),
                                        t.readSe(),
                                        t.readSe();
                                    var c = t.readUe();
                                    for (s = 0; s < c; s++)
                                        t.readSe()
                                }
                                t.readUe(),
                                    t.readBit();
                                var u = t.readUe()
                                    , d = t.readUe()
                                    , h = t.readBit();
                                0 === h && t.readBit(),
                                    t.readBit();
                                var f = t.readBit()
                                    , p = 0
                                    , v = 0
                                    , y = 0
                                    , g = 0;
                                0 !== f && (p = t.readUe(),
                                    v = t.readUe(),
                                    y = t.readUe(),
                                    g = t.readUe()),
                                    t.readBit();
                                var m, _ = u + 1, b = (d + 1) * (2 - (0 !== h ? 1 : 0)), E = 0 !== h ? 1 : 0, S = 0 !== o ? 0 : n;
                                m = S > 3 ? null : 0 === S ? {
                                    dx: 1,
                                    dy: 2 - E
                                } : {
                                    dx: [0, 2, 2, 1][S],
                                    dy: [0, 2, 1, 1][S] * (2 - E)
                                };
                                var T = 0 !== f
                                    , w = T ? p * m.dx : 0
                                    , C = T ? y * m.dy : 0
                                    , A = T ? v * m.dx : 0
                                    , k = T ? g * m.dy : 0;
                                this.width = 16 * _ - A - w,
                                    this.height = 16 * b - k - C
                            }
                        }, {
                            key: "displaySize",
                            get: function() {
                                return {
                                    width: this.width,
                                    height: this.height
                                }
                            }
                        }]),
                            e
                    }()
                        , c = function() {
                        function e() {
                            i(this, e),
                                this.verison = 0,
                                this.profile = 0,
                                this.compatibility = 0,
                                this.level = 0,
                                this.nalu = 4,
                                this.sps = []
                        }
                        return o(e, [{
                            key: "parse",
                            value: function(e) {
                                var t = e.length;
                                if (t < 7)
                                    return -1;
                                this.version = e[0],
                                    this.profile = e[1],
                                    this.compatibility = e[2],
                                    this.level = e[3],
                                    this.nalu = 1 + (3 & e[4]);
                                var n = 31 & e[5];
                                if (0 === n)
                                    return -1;
                                for (var i = 6, r = 0; r < n && i + 2 < t; ++r) {
                                    var o = e[i] << 8 | e[i + 1];
                                    if (o + i + 2 + 1 >= t)
                                        return -1;
                                    try {
                                        var a = e.subarray(i + 2 + 1, i + 2 + o - 1)
                                            , s = new l;
                                        s.parse(a),
                                            this.sps.push(s),
                                        0 === r && (this.profile = s.profile_idc,
                                            this.compatibility = -4 & s.compatibility,
                                            this.level = s.level_idc)
                                    } catch (e) {
                                        console.warn("parse avc-sps error")
                                    }
                                    i += o + 2
                                }
                                return 0
                            }
                        }, {
                            key: "codecs",
                            get: function() {
                                return "avc1." + s.to02xString(this.profile) + s.to02xString(this.compatibility) + s.to02xString(this.level)
                            }
                        }, {
                            key: "displaySize",
                            get: function() {
                                var e = this.sps.length ? this.sps[0].displaySize : null;
                                return e || (e = {
                                    width: 1280,
                                    height: 720
                                }),
                                    e
                            }
                        }]),
                            e
                    }();
                    e.exports = {
                        AvcParser: c
                    }
                }
                , function(e, t, n) {
                    function i(e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }
                    function r(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n];
                            i.enumerable = i.enumerable || !1,
                                i.configurable = !0,
                            "value"in i && (i.writable = !0),
                                Object.defineProperty(e, i.key, i)
                        }
                    }
                    function o(e, t, n) {
                        return t && r(e.prototype, t),
                        n && r(e, n),
                            e
                    }
                    var a = n(4).BitStream
                        , s = function() {
                        function e() {
                            i(this, e),
                                this.pic_width_in_luma_samples = 0,
                                this.pic_height_in_luma_samples = 0
                        }
                        return o(e, [{
                            key: "parse",
                            value: function(e) {
                                var t = new a(e);
                                t.readBits(16),
                                    t.readBits(4);
                                var n = t.readBits(3);
                                t.readBool(),
                                    this.general_profile_space = t.readBits(2),
                                    this.general_tier_flag = t.readBool(),
                                    this.general_profile_idc = t.readBits(5),
                                    this.general_profile_compatibility_flags = t.readBits(32),
                                    t.readBool(),
                                    t.readBool(),
                                    t.readBool(),
                                    t.readBool(),
                                    t.readBits(32),
                                    t.readBits(12),
                                    this.general_level_idc = t.readBits(8);
                                for (var i = [], r = [], o = 0; o < n; ++o)
                                    i.push(t.readBool()),
                                        r.push(t.readBool());
                                if (n > 0)
                                    for (o = n; o < 8; ++o)
                                        t.readBits(2);
                                for (o = 0; o < n; ++o)
                                    i[o] && t.readBits(88),
                                    r[o] && t.readBits(8);
                                t.readUe(),
                                3 === t.readUe() && t.readBool(),
                                    this.pic_width_in_luma_samples = t.readUe(),
                                    this.pic_height_in_luma_samples = t.readUe()
                            }
                        }, {
                            key: "displaySize",
                            get: function() {
                                return {
                                    width: this.pic_width_in_luma_samples,
                                    height: this.pic_height_in_luma_samples
                                }
                            }
                        }]),
                            e
                    }()
                        , l = function() {
                        function e() {
                            i(this, e),
                                this.general_profile_space = 0,
                                this.general_profile_idc = 0,
                                this.general_level_idc = 0,
                                this.general_tier_flag = 0,
                                this.general_profile_compatibility_flags = 0,
                                this.nalu = 4,
                                this.sps = []
                        }
                        return o(e, [{
                            key: "parse",
                            value: function(e) {
                                var t = e.length;
                                if (t < 23)
                                    return -1;
                                if (1 !== e[0])
                                    return -1;
                                this.general_profile_space = e[1] >> 6 & 3,
                                    this.general_tier_flag = e[1] >> 5 & 1,
                                    this.general_profile_idc = 31 & e[1],
                                    this.general_profile_compatibility_flags = e[2] << 24 | e[3] << 16 | e[4] << 8 | e[5];
                                var n = e[6] << 24 | e[7] << 16 | e[8] << 8 | e[9];
                                n = n << 16 | e[10] << 8 | e[11],
                                    this.general_level_idc = e[12],
                                    this.nalu = 1 + (3 & e[21]);
                                for (var i = e[22], r = 23, o = 0; o < i; o++) {
                                    if (r + 3 > e + t)
                                        return -1;
                                    var a = e[r]
                                        , l = e[r + 1] << 8 | e[r + 2];
                                    r += 3;
                                    for (var c = 0; c < l; c++) {
                                        if (r + 2 > t)
                                            return -1;
                                        var u = e[r] << 8 | e[r + 1];
                                        if (r + 2 + u > t)
                                            return -1;
                                        if (33 == (63 & a))
                                            try {
                                                var d = e.subarray(r + 2, r + 2 + u)
                                                    , h = new s;
                                                h.parse(d),
                                                    this.sps.push(h),
                                                0 == c && (this.general_profile_compatibility_flags = h.general_profile_compatibility_flags,
                                                    this.general_profile_space = h.general_profile_space,
                                                    this.general_profile_idc = h.general_profile_idc,
                                                    this.general_tier_flag = h.general_tier_flag ? 1 : 0,
                                                    this.general_level_idc = h.general_level_idc)
                                            } catch (e) {
                                                console.warn("parse hevc-sps error")
                                            }
                                        r += 2 + u
                                    }
                                }
                                return 0
                            }
                        }, {
                            key: "codecs",
                            get: function() {
                                var e = this.general_profile_compatibility_flags;
                                return e = (e = (e = (e = (e = e >> 1 & 1431655765 | (1431655765 & e) << 1) >> 2 & 858993459 | (858993459 & e) << 2) >> 4 & 252645135 | (252645135 & e) << 4) >> 8 & 16711935 | (16711935 & e) << 8) >> 16 | e << 16,
                                "hvc1." + ["", "A", "B", "C"][this.general_profile_space % 4] + this.general_profile_idc.toString() + "." + e.toString(16).toLowerCase() + "." + ["L", "H"][this.general_tier_flag % 2] + this.general_level_idc.toString()
                            }
                        }, {
                            key: "displaySize",
                            get: function() {
                                var e = this.sps.length ? this.sps[0].displaySize : null;
                                return e || (e = {
                                    width: 1280,
                                    height: 720
                                }),
                                    e
                            }
                        }]),
                            e
                    }();
                    e.exports = {
                        HevcParser: l
                    }
                }
                , function(e, t, n) {
                    function i(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n];
                            i.enumerable = i.enumerable || !1,
                                i.configurable = !0,
                            "value"in i && (i.writable = !0),
                                Object.defineProperty(e, i.key, i)
                        }
                    }
                    function r(e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }
                    var o = n(5).AmfParser
                        , a = function e(t, n, i, o, a) {
                        r(this, e),
                            this.type = t,
                            this.data = n,
                            this.cts = i,
                            this.dts = o,
                            this.duration = 0,
                            this.size = n.length,
                            this.flags = a
                    }
                        , s = function() {
                        function e(t, n) {
                            r(this, e),
                                this._buffer = new Uint8Array(2097152),
                                this._readPos = 0,
                                this._writePos = 0,
                                this._onSampleParsed = t,
                                this._onMetaDataParsed = n
                        }
                        var t, n, s;
                        return t = e,
                            s = [{
                                key: "_readUint32",
                                value: function(e, t) {
                                    return e[t] << 24 | e[t + 1] << 16 | e[t + 2] << 8 | e[t + 3]
                                }
                            }],
                        (n = [{
                            key: "clear",
                            value: function() {
                                this._readPos = 0,
                                    this._writePos = 0
                            }
                        }, {
                            key: "input",
                            value: function(e) {
                                for (this._writeToBuffer(e); this._parsePacket(); )
                                    ;
                            }
                        }, {
                            key: "_parseHeader",
                            value: function() {
                                var t = this._writePos - this._readPos;
                                if (t < 9)
                                    return !1;
                                var n = e._readUint32(this._buffer, this._readPos + 5) + 4;
                                return !(t < n || (this._readPos += n,
                                    0))
                            }
                        }, {
                            key: "_parsePacket",
                            value: function() {
                                var e = this._readPos
                                    , t = this._writePos - e;
                                if (t < 11)
                                    return !1;
                                var n = this._buffer
                                    , i = n[e]
                                    , r = n[e + 1] << 16 | n[e + 2] << 8 | n[e + 3];
                                if (5002753 === r && 70 === i)
                                    return this._parseHeader();
                                if (r <= 0 || r >= 12582912)
                                    throw new RangeError("invalid data size: ".concat(r));
                                var o = 11 + r + 4;
                                if (t < o)
                                    return !1;
                                this._readPos += o;
                                var a = n[e + 4] << 16 | n[e + 5] << 8 | n[e + 6] | n[e + 7] << 24
                                    , s = e + 11
                                    , l = !0;
                                switch (31 & i) {
                                    case 8:
                                        l = this._parseAudio(s, r, a);
                                        break;
                                    case 9:
                                        l = this._parseVideo(s, r, a);
                                        break;
                                    case 18:
                                        l = this._parseScript(s, r)
                                }
                                return l
                            }
                        }, {
                            key: "_parseAudio",
                            value: function(e, t, n) {
                                var i = this._buffer
                                    , r = (240 & i[e]) >>> 4;
                                if (10 === r) {
                                    var o = 0 === i[e + 1] ? -r : r
                                        , s = new a(o,i.subarray(e + 2, e + t),0,n,0);
                                    return this._onSampleParsed(s)
                                }
                                var l = new a(r,i.subarray(e + 1, e + t),0,n,0);
                                return this._onSampleParsed(l)
                            }
                        }, {
                            key: "_parseVideo",
                            value: function(e, t, n) {
                                var i = this._buffer
                                    , r = (240 & i[e]) >>> 4
                                    , o = 15 & i[e];
                                if (7 === o || 12 === o) {
                                    var s = 0 === i[e + 1] ? -o : o
                                        , l = i[e + 2] << 16 | i[e + 3] << 8 | i[e + 4];
                                    l = l << 8 >> 8;
                                    var c = new a(s,i.subarray(e + 5, e + t),l,n,r);
                                    return this._onSampleParsed(c)
                                }
                                var u = new a(o,i.subarray(e + 1, e + t),0,n,r);
                                return this._onSampleParsed(u)
                            }
                        }, {
                            key: "_parseScript",
                            value: function(e, t) {
                                var n = new DataView(this._buffer.buffer,e,t)
                                    , i = (new o).parse(n);
                                return this._onMetaDataParsed(i),
                                    !0
                            }
                        }, {
                            key: "_writeToBuffer",
                            value: function(e) {
                                var t = e.length;
                                if (this._writePos + t > this._buffer.length) {
                                    var n = this._writePos - this._readPos
                                        , i = Math.max(this._buffer.length, n + 2 * t)
                                        , r = new Uint8Array(i);
                                    r.set(this._buffer.subarray(this._readPos, this._writePos)),
                                        this._buffer = r,
                                        this._readPos = 0,
                                        this._writePos = n
                                }
                                this._buffer.set(e, this._writePos),
                                    this._writePos += t
                            }
                        }]) && i(t.prototype, n),
                        s && i(t, s),
                            e
                    }();
                    e.exports = {
                        typeAudioAAC: 10,
                        typeAudioMP3: 2,
                        typeVideoH264: 7,
                        typeVideoH265: 12,
                        trackAudioAAC: -10,
                        trackAudioMP3: -2,
                        trackVideoH264: -7,
                        trackVideoH265: -12,
                        Sample: a,
                        FlvParser: s
                    }
                }
                , function(e, t) {
                    function n(e, t) {
                        var n;
                        if ("undefined" == typeof Symbol || null == e[Symbol.iterator]) {
                            if (Array.isArray(e) || (n = function(e, t) {
                                if (e) {
                                    if ("string" == typeof e)
                                        return i(e, t);
                                    var n = Object.prototype.toString.call(e).slice(8, -1);
                                    return "Object" === n && e.constructor && (n = e.constructor.name),
                                        "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? i(e, t) : void 0
                                }
                            }(e)) || t && e && "number" == typeof e.length) {
                                n && (e = n);
                                var r = 0
                                    , o = function() {};
                                return {
                                    s: o,
                                    n: function() {
                                        return r >= e.length ? {
                                            done: !0
                                        } : {
                                            done: !1,
                                            value: e[r++]
                                        }
                                    },
                                    e: function(e) {
                                        throw e
                                    },
                                    f: o
                                }
                            }
                            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                        }
                        var a, s = !0, l = !1;
                        return {
                            s: function() {
                                n = e[Symbol.iterator]()
                            },
                            n: function() {
                                var e = n.next();
                                return s = e.done,
                                    e
                            },
                            e: function(e) {
                                l = !0,
                                    a = e
                            },
                            f: function() {
                                try {
                                    s || null == n.return || n.return()
                                } finally {
                                    if (l)
                                        throw a
                                }
                            }
                        }
                    }
                    function i(e, t) {
                        (null == t || t > e.length) && (t = e.length);
                        for (var n = 0, i = new Array(t); n < t; n++)
                            i[n] = e[n];
                        return i
                    }
                    var r, o, a, s, l, c, u, d, h, f, p, v, y, g, m, _, b, E, S, T, w, C, A, k, x, L, R, I, P, M, D, O, N, U, B, F, z, j, V, G, Y, H = Math.pow(2, 32) - 1;
                    !function() {
                        for (var e in w = {
                            avc1: [97, 118, 99, 49],
                            avcC: [97, 118, 99, 67],
                            btrt: [98, 116, 114, 116],
                            dinf: [100, 105, 110, 102],
                            dref: [100, 114, 101, 102],
                            esds: [101, 115, 100, 115],
                            ftyp: [102, 116, 121, 112],
                            hdlr: [104, 100, 108, 114],
                            hvc1: [104, 118, 99, 49],
                            hvcC: [104, 118, 99, 67],
                            mdat: [109, 100, 97, 116],
                            mdhd: [109, 100, 104, 100],
                            mdia: [109, 100, 105, 97],
                            mfhd: [109, 102, 104, 100],
                            minf: [109, 105, 110, 102],
                            moof: [109, 111, 111, 102],
                            moov: [109, 111, 111, 118],
                            mp4a: [109, 112, 52, 97],
                            mvex: [109, 118, 101, 120],
                            mvhd: [109, 118, 104, 100],
                            pasp: [112, 97, 115, 112],
                            sdtp: [115, 100, 116, 112],
                            smhd: [115, 109, 104, 100],
                            stbl: [115, 116, 98, 108],
                            stco: [115, 116, 99, 111],
                            stsc: [115, 116, 115, 99],
                            stsd: [115, 116, 115, 100],
                            stss: [115, 116, 115, 115],
                            stsz: [115, 116, 115, 122],
                            stts: [115, 116, 116, 115],
                            styp: [115, 116, 121, 112],
                            tfdt: [116, 102, 100, 116],
                            tfhd: [116, 102, 104, 100],
                            traf: [116, 114, 97, 102],
                            trak: [116, 114, 97, 107],
                            trun: [116, 114, 117, 110],
                            trex: [116, 114, 101, 120],
                            tkhd: [116, 107, 104, 100],
                            vmhd: [118, 109, 104, 100]
                        })
                            w[e] = new Uint8Array(w[e]);
                        C = new Uint8Array([105, 115, 111, 109]),
                            k = new Uint8Array([97, 118, 99, 49]),
                            x = new Uint8Array([109, 112, 52, 50]),
                            L = new Uint8Array([100, 97, 115, 104]),
                            A = new Uint8Array([0, 0, 0, 1]),
                            R = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0]),
                            I = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0]),
                            P = {
                                video: R,
                                audio: I
                            },
                            O = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1]),
                            D = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]),
                            N = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]),
                            U = N,
                            B = N,
                            F = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]),
                            z = N,
                            M = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0])
                    }(),
                        r = function(e) {
                            var t, n, i = Array.prototype.slice.call(arguments, 1), r = 0;
                            for (t = 0; t < i.length; t++)
                                r += i[t].byteLength;
                            for ((n = new Uint8Array(r + 8))[0] = n.byteLength >>> 24 & 255,
                                     n[1] = n.byteLength >>> 16 & 255,
                                     n[2] = n.byteLength >>> 8 & 255,
                                     n[3] = 255 & n.byteLength,
                                     n.set(e, 4),
                                     t = 0,
                                     r = 8; t < i.length; t++)
                                n.set(i[t], r),
                                    r += i[t].byteLength;
                            return n
                        }
                        ,
                        o = function() {
                            return r(w.dinf, r(w.dref, O))
                        }
                        ,
                        a = function(e) {
                            var t = e.extraData ? e.extraData.length : 0
                                , n = 13 + (t > 0 ? t + 5 : 0)
                                , i = 8 + n + 5 + 1
                                , o = new Uint8Array([0, 0, 0, 0, 3, 128 | i >>> 21, 128 | i >>> 14, 128 | i >>> 7, 127 & i, 0, 1, 0, 4, 128 | n >>> 21, 128 | n >>> 14, 128 | n >>> 7, 127 & n, e.objectType, 21, 0, 0, 0, 0, 1, 89, 40, 0, 1, 89, 40])
                                , a = 0 === t ? null : new Uint8Array([5, 128 | t >>> 21, 128 | t >>> 14, 128 | t >>> 7, 127 & t])
                                , s = new Uint8Array([6, 128, 128, 128, 1, 2]);
                            return t > 0 ? r(w.esds, o, a, e.extraData, s) : r(w.esds, o, s)
                        }
                        ,
                        s = function() {
                            return r(w.ftyp, C, A, C, x, k, L)
                        }
                        ,
                        m = function(e) {
                            return r(w.hdlr, P[e])
                        }
                        ,
                        g = function(e) {
                            var t = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 3, 0, 1, 95, 144, e.duration >>> 24 & 255, e.duration >>> 16 & 255, e.duration >>> 8 & 255, 255 & e.duration, 85, 196, 0, 0]);
                            return e.sampleRate && (t[12] = e.sampleRate >>> 24 & 255,
                                t[13] = e.sampleRate >>> 16 & 255,
                                t[14] = e.sampleRate >>> 8 & 255,
                                t[15] = 255 & e.sampleRate),
                                r(w.mdhd, t)
                        }
                        ,
                        y = function(e) {
                            return r(w.mdia, g(e), m(e.type), c(e))
                        }
                        ,
                        l = function(e) {
                            return r(w.mfhd, new Uint8Array([0, 0, 0, 0, (4278190080 & e) >> 24, (16711680 & e) >> 16, (65280 & e) >> 8, 255 & e]))
                        }
                        ,
                        c = function(e) {
                            return r(w.minf, "video" === e.type ? r(w.vmhd, M) : r(w.smhd, D), o(), _(e))
                        }
                        ,
                        V = function(e) {
                            var t = 8;
                            t += 16;
                            var i, r = n(e);
                            try {
                                for (r.s(); !(i = r.n()).done; ) {
                                    var o = i.value
                                        , a = o.samples.length;
                                    a > 0 && (t += 8,
                                        t += 8 + (o.defaultDuration ? 4 : 0) + 16,
                                        t += 20,
                                        t += 24 + a * (o.defaultDuration ? 4 : 12))
                                }
                            } catch (e) {
                                r.e(e)
                            } finally {
                                r.f()
                            }
                            return t
                        }
                        ,
                        u = function(e, t) {
                            var i = [w.moof];
                            i.push(l(e));
                            var o, a = n(t);
                            try {
                                for (a.s(); !(o = a.n()).done; ) {
                                    var s = o.value;
                                    s.samples.length > 0 && i.push(E(s, 0))
                                }
                            } catch (e) {
                                a.e(e)
                            } finally {
                                a.f()
                            }
                            return r.apply(null, i)
                        }
                        ,
                        d = function(e) {
                            var t = [w.moov];
                            t.push(f(e.length + 1, 0));
                            var i, o = n(e);
                            try {
                                for (o.s(); !(i = o.n()).done; ) {
                                    var a = i.value;
                                    t.push(p(a))
                                }
                            } catch (e) {
                                o.e(e)
                            } finally {
                                o.f()
                            }
                            return t.push(h(e)),
                                r.apply(null, t)
                        }
                        ,
                        h = function(e) {
                            var t, i = [w.mvex], o = n(e);
                            try {
                                for (o.s(); !(t = o.n()).done; ) {
                                    var a = t.value;
                                    i.push(S(a))
                                }
                            } catch (e) {
                                o.e(e)
                            } finally {
                                o.f()
                            }
                            return r.apply(null, i)
                        }
                        ,
                        f = function(e, t) {
                            var n = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 1, 95, 144, (4278190080 & t) >> 24, (16711680 & t) >> 16, (65280 & t) >> 8, 255 & t, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, (4278190080 & e) >> 24, (16711680 & e) >> 16, (65280 & e) >> 8, 255 & e]);
                            return r(w.mvhd, n)
                        }
                        ,
                        _ = function(e) {
                            return "video" === e.type ? r(w.stbl, b(e), r(w.stts, z), r(w.stss, B), r(w.stsc, U), r(w.stsz, F), r(w.stco, N)) : r(w.stbl, b(e), r(w.stts, z), r(w.stsc, U), r(w.stsz, F), r(w.stco, N))
                        }
                        ,
                        b = function(e) {
                            return r(w.stsd, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]), "video" === e.type ? G(e) : Y(e))
                        }
                        ,
                        G = function(e) {
                            var t = w.avcC;
                            switch (e.tag) {
                                case w.avc1:
                                    t = w.avcC;
                                    break;
                                case w.hvc1:
                                    t = w.hvcC
                            }
                            var n = [e.tag, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, (65280 & e.width) >> 8, 255 & e.width, (65280 & e.height) >> 8, 255 & e.height, 0, 72, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 255, 255]), r(t, e.extraData)];
                            if (e.sarRatio) {
                                var i = e.sarRatio[0]
                                    , o = e.sarRatio[1];
                                n.push(r(w.pasp, new Uint8Array([(4278190080 & i) >> 24, (16711680 & i) >> 16, (65280 & i) >> 8, 255 & i, (4278190080 & o) >> 24, (16711680 & o) >> 16, (65280 & o) >> 8, 255 & o])))
                            }
                            return r.apply(null, n)
                        }
                        ,
                        Y = function(e) {
                            return r(e.tag, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, (65280 & e.channelCount) >> 8, 255 & e.channelCount, (65280 & e.sampleBits) >> 8, 255 & e.sampleBits, 0, 0, 0, 0, (65280 & e.sampleRate) >> 8, 255 & e.sampleRate, 0, 0]), a(e))
                        }
                        ,
                        v = function(e) {
                            var t = new Uint8Array([0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 0, (4278190080 & e.duration) >> 24, (16711680 & e.duration) >> 16, (65280 & e.duration) >> 8, 255 & e.duration, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, "audio" === e.type ? 1 : 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, (65280 & e.width) >> 8, 255 & e.width, 0, 0, (65280 & e.height) >> 8, 255 & e.height, 0, 0]);
                            return r(w.tkhd, t)
                        }
                        ,
                        E = function(e, t) {
                            var n, i, o, a, s, l = e.defaultDuration, c = l ? 131114 : 131106, u = "audio" === e.type ? 33554432 : 16842752;
                            return n = r(w.tfhd, new Uint8Array(l ? [0, (16711680 & c) >> 16, (65280 & c) >> 8, 255 & c, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 1, (4278190080 & l) >> 24, (16711680 & l) >> 16, (65280 & l) >> 8, 255 & l, u >>> 24 & 255, u >>> 16 & 255, u >>> 8 & 255, 255 & u] : [0, (16711680 & c) >> 16, (65280 & c) >> 8, 255 & c, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 1, u >>> 24 & 255, u >>> 16 & 255, u >>> 8 & 255, 255 & u])),
                                a = Math.floor(e.baseMediaDecodeTime / (H + 1)),
                                s = Math.floor(e.baseMediaDecodeTime % (H + 1)),
                                i = r(w.tfdt, new Uint8Array([1, 0, 0, 0, a >>> 24 & 255, a >>> 16 & 255, a >>> 8 & 255, 255 & a, s >>> 24 & 255, s >>> 16 & 255, s >>> 8 & 255, 255 & s])),
                                o = T(e, t),
                                r(w.traf, n, i, o)
                        }
                        ,
                        p = function(e) {
                            return r(w.trak, v(e), y(e))
                        }
                        ,
                        S = function(e) {
                            var t = new Uint8Array([0, 0, 0, 0, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);
                            return r(w.trex, t)
                        }
                        ,
                        T = function(e, t) {
                            var n = t + e.dataOffset
                                , i = e.samples
                                , o = i.length
                                , a = e.defaultDuration
                                , s = o > 0 && 1 === i[0].flags
                                , l = new Uint8Array(16 + o * (a ? 4 : 12))
                                , c = 517;
                            a || (c |= 2304),
                                l.set([1, (16711680 & c) >> 16, (65280 & c) >> 8, 255 & c, (4278190080 & o) >>> 24, (16711680 & o) >>> 16, (65280 & o) >>> 8, 255 & o, (4278190080 & n) >>> 24, (16711680 & n) >>> 16, (65280 & n) >>> 8, 255 & n], 0);
                            var u = 12;
                            if (l.set(s ? [2, 0, 0, 0] : [1, 1, 0, 0], u),
                                u += 4,
                                a)
                                for (var d = 0; d < o; d++) {
                                    var h = i[d].size;
                                    l.set([(4278190080 & h) >>> 24, (16711680 & h) >>> 16, (65280 & h) >>> 8, 255 & h], u),
                                        u += 4
                                }
                            else
                                for (d = 0; d < o; d++) {
                                    var f = i[d]
                                        , p = f.duration
                                        , v = f.size
                                        , y = f.cts;
                                    l.set([(4278190080 & p) >>> 24, (16711680 & p) >>> 16, (65280 & p) >>> 8, 255 & p, (4278190080 & v) >>> 24, (16711680 & v) >>> 16, (65280 & v) >>> 8, 255 & v, (4278190080 & y) >>> 24, (16711680 & y) >>> 16, (65280 & y) >>> 8, 255 & y], u),
                                        u += 12
                                }
                            return r(w.trun, l)
                        }
                        ,
                        j = function(e) {
                            var t, n = s(), i = d(e);
                            return (t = new Uint8Array(n.byteLength + i.byteLength)).set(n),
                                t.set(i, n.byteLength),
                                t
                        }
                        ,
                        e.exports = {
                            moof: u,
                            moov: d,
                            types: w,
                            initSegment: j,
                            moofSize: V
                        }
                }
                , function(e, t) {
                    function n(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n];
                            i.enumerable = i.enumerable || !1,
                                i.configurable = !0,
                            "value"in i && (i.writable = !0),
                                Object.defineProperty(e, i.key, i)
                        }
                    }
                    var i = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e)
                        }
                        var t, i;
                        return t = e,
                        (i = [{
                            key: "_readSeiNumber",
                            value: function(e, t) {
                                for (var n = 0; t.offset < e.byteLength; ) {
                                    var i = e[t.offset];
                                    if (t.offset += 1,
                                    255 !== i)
                                        return n + i;
                                    n += 255
                                }
                                return null
                            }
                        }, {
                            key: "_isEndOfSei",
                            value: function(e, t) {
                                return t.offset >= e.byteLength || 128 === e[t.offset] && (t.offset += 1,
                                    !0)
                            }
                        }, {
                            key: "_readSeiMessage",
                            value: function(e, t) {
                                var n = this._readSeiNumber(e, t)
                                    , i = this._readSeiNumber(e, t);
                                if (null !== n && null !== n) {
                                    var r = t.offset + i;
                                    if (r < e.byteLength) {
                                        var o = {
                                            payloadType: n,
                                            payloadData: e.subarray(t.offset, r)
                                        };
                                        return t.offset += i,
                                            o
                                    }
                                }
                                return null
                            }
                        }, {
                            key: "readSeiMessages",
                            value: function(e) {
                                for (var t = [], n = {
                                    offset: 0
                                }; !this._isEndOfSei(e, n); ) {
                                    var i = this._readSeiMessage(e, n);
                                    if (null === i)
                                        break;
                                    t.push(i)
                                }
                                return t
                            }
                        }]) && n(t, i),
                            e
                    }();
                    e.exports = {
                        SeiParser: i
                    }
                }
                , function(e, t) {
                    e.exports = {
                        lowerBound: function(e, t) {
                            for (var n = 0, i = e.length; 0 != i; ) {
                                var r = i >> 1
                                    , o = n + r;
                                e[o] < t ? (n = ++o,
                                    i -= r + 1) : i = r
                            }
                            return n
                        }
                    }
                }
                , function(e, t, n) {
                    function i(e) {
                        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                                    return typeof e
                                }
                                : function(e) {
                                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                                }
                        )(e)
                    }
                    function r(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n];
                            i.enumerable = i.enumerable || !1,
                                i.configurable = !0,
                            "value"in i && (i.writable = !0),
                                Object.defineProperty(e, i.key, i)
                        }
                    }
                    function o(e, t, n) {
                        return (o = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
                                var i = function(e, t) {
                                    for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = u(e)); )
                                        ;
                                    return e
                                }(e, t);
                                if (i) {
                                    var r = Object.getOwnPropertyDescriptor(i, t);
                                    return r.get ? r.get.call(n) : r.value
                                }
                            }
                        )(e, t, n || e)
                    }
                    function a(e, t) {
                        return (a = Object.setPrototypeOf || function(e, t) {
                                return e.__proto__ = t,
                                    e
                            }
                        )(e, t)
                    }
                    function s(e) {
                        var t = function() {
                            if ("undefined" == typeof Reflect || !Reflect.construct)
                                return !1;
                            if (Reflect.construct.sham)
                                return !1;
                            if ("function" == typeof Proxy)
                                return !0;
                            try {
                                return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
                                ))),
                                    !0
                            } catch (e) {
                                return !1
                            }
                        }();
                        return function() {
                            var n, i = u(e);
                            if (t) {
                                var r = u(this).constructor;
                                n = Reflect.construct(i, arguments, r)
                            } else
                                n = i.apply(this, arguments);
                            return l(this, n)
                        }
                    }
                    function l(e, t) {
                        return !t || "object" !== i(t) && "function" != typeof t ? c(e) : t
                    }
                    function c(e) {
                        if (void 0 === e)
                            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }
                    function u(e) {
                        return (u = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
                                return e.__proto__ || Object.getPrototypeOf(e)
                            }
                        )(e)
                    }
                    var d = n(0)
                        , h = n(2)
                        , f = n(7).Fetcher
                        , p = n(19).fMp4Parser
                        , v = n(20)
                        , y = function(e) {
                        !function(e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function");
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && a(e, t)
                        }(l, e);
                        var t, n, i = s(l);
                        function l(e, t) {
                            var n;
                            return function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, l),
                                n = i.call(this, e, t),
                                console.log("Hls7Player ".concat(n.version)),
                                n._playlist = null,
                                n._fetchM3u8Timer = void 0,
                                n._fetchM3u8Binder = n._fetchM3u8.bind(c(n)),
                                n._onM3u8ResponsedBinder = n._onM3u8Responsed.bind(c(n)),
                                n._onM3u8FetchedBinder = n._onM3u8Fetched.bind(c(n)),
                                n._fetchingBegin = 0,
                                n._lastFetchM3u8 = 0,
                                n._initDone = !1,
                                n._lastDuration = 0,
                                n._totalDuration = 0,
                                n._pendingBuffers = [],
                                n._onM4sResponsedBinder = n._onM4sResponsed.bind(c(n)),
                                n._onM4sFetchedBinder = n._onM4sFetched.bind(c(n)),
                                n._onNetworkErrorBinder = n._onNetworkError.bind(c(n)),
                                n._mp4Parser = null,
                                n._onM4sBoxParsedBinder = n._onM4sBoxParsed.bind(c(n)),
                                n._m3u8Fetcher = new f(n._onM3u8ResponsedBinder,n._onM3u8FetchedBinder,n._onNetworkErrorBinder,n._timeout),
                                n._m4sFetcher = new f(n._onM4sResponsedBinder,n._onM4sFetchedBinder,n._onNetworkErrorBinder,n._timeout),
                                n._savedFetchAsStream = n._m4sFetcher.fetchAsStream,
                                n._minBufferLength = 0,
                                n._onPlaylistUpdate = function(e, t) {}
                                ,
                                n
                        }
                        return t = l,
                        (n = [{
                            key: "destroy",
                            value: function() {
                                o(u(l.prototype), "destroy", this).call(this),
                                void 0 !== this._fetchM3u8Timer && (window.clearTimeout(this._fetchM3u8Timer),
                                    this._fetchM3u8Timer = void 0),
                                    this._mp4Parser = null,
                                    this._playlist = null,
                                    this._initDone = !1,
                                    this._lastDuration = 0,
                                    this._totalDuration = 0,
                                    this._pendingBuffers = []
                            }
                        }, {
                            key: "setP2PContext",
                            value: function(e) {
                                this._isDestroied || (e ? (null != e.P2PBufferLength && (this._minBufferLength = e.P2PBufferLength),
                                null != e.P2PFetchAsStream && (this._m4sFetcher.fetchAsStream = e.P2PFetchAsStream),
                                null != e.onPlaylistUpdate && (this._onPlaylistUpdate = e.onPlaylistUpdate)) : (this._minBufferLength = 0,
                                        this._m4sFetcher.fetchAsStream = this._savedFetchAsStream,
                                        this._onPlaylistUpdate = function(e, t) {}
                                ),
                                this._playlist && (this._playlist.onPlaylistUpdate = this._onPlaylistUpdate))
                            }
                        }, {
                            key: "_doNextFetch",
                            value: function() {
                                if (!this._isDestroied) {
                                    var e = this._playlist
                                        , t = e.count
                                        , n = e.endOfStream;
                                    if (0 === t && n)
                                        this._pushEnd();
                                    else if (t > 0 && (n || this._totalDuration < 4 || e.remainDuration > this._minBufferLength))
                                        this._fetchNextM4s();
                                    else {
                                        void 0 !== this._fetchM3u8Timer && (window.clearTimeout(this._fetchM3u8Timer),
                                            this._fetchM3u8Timer = void 0);
                                        var i = Date.now() - this._lastFetchM3u8
                                            , r = Math.floor(1e3 * this._lastDuration) - i;
                                        r > 0 ? this._fetchM3u8Timer = window.setTimeout(this._fetchM3u8Binder, r) : this._fetchM3u8()
                                    }
                                }
                            }
                        }, {
                            key: "_fetchM3u8",
                            value: function() {
                                try {
                                    this._fetchingBegin = this._lastFetchM3u8 = Date.now(),
                                        this._m3u8Fetcher.fetchAsText(this._url, !1, this._timeout)
                                } catch (e) {
                                    this._notifyNetworkError(d.errorNetworkFetch, {
                                        url: this._url,
                                        info: e
                                    })
                                }
                            }
                        }, {
                            key: "_fetchNextM4s",
                            value: function() {
                                var e = null;
                                try {
                                    var t = this._playlist.shift();
                                    t && (e = t.uri,
                                        this._lastDuration = t.duration,
                                        this._fetchingBegin = Date.now(),
                                        this._m4sFetcher.fetchAsStream(e, !1, this._timeout))
                                } catch (t) {
                                    this._notifyNetworkError(d.errorNetworkFetch, {
                                        url: e,
                                        info: t
                                    })
                                }
                                this._removeOutdated()
                            }
                        }, {
                            key: "_onM3u8Responsed",
                            value: function(e, t) {
                                t.ok ? !this._firstResponseNotified && this.onFirstResponse && (this._firstResponseNotified = !0,
                                    this.onFirstResponse(t)) : (this._playlist && (this._playlist.endOfStream = !0),
                                    this._notifyNetworkError(d.errorNetworkFetch, {
                                        url: e,
                                        status: t.status
                                    }))
                            }
                        }, {
                            key: "_onM3u8Fetched",
                            value: function(e, t) {
                                var n = Date.now()
                                    , i = this._playlist;
                                if (t && i) {
                                    var r = i.parse(t);
                                    if (r == v.parsedAsMaster)
                                        return this._url = i.streamUrls[0],
                                            console.log("stream url: ".concat(this._url)),
                                            i.setUrl(this._url),
                                            void this._fetchM3u8();
                                    if (r < 0 && 0 === i.count)
                                        return void this._notifyParserError(d.errorPlayList, {
                                            url: e,
                                            info: r
                                        })
                                }
                                if (i && i.count > 0 && !this._initDone) {
                                    var o = i.shift();
                                    try {
                                        new f(this._onM4sResponsedBinder,this._onInitM4sFetched.bind(this),this._onNetworkErrorBinder).fetchAsBuffer(o.uri)
                                    } catch (e) {
                                        this._notifyNetworkError(d.errorNetworkFetch, {
                                            url: o ? o.uri : null,
                                            info: e
                                        })
                                    }
                                }
                                this._doNextFetch(),
                                    this._onUrlFetchDone(e, n)
                            }
                        }, {
                            key: "_onM4sResponsed",
                            value: function(e, t) {
                                t.ok || this._notifyNetworkError(d.errorNetworkFetch, {
                                    url: e,
                                    status: t.status
                                })
                            }
                        }, {
                            key: "_onInitM4sFetched",
                            value: function(e, t, n) {
                                var i = Date.now();
                                t && (this._mp4Parser && this._mp4Parser.parse(t, n),
                                    this._receivedBytes += t.byteLength),
                                n && (this._initDone = !0,
                                    this._onUrlFetchDone(e, i))
                            }
                        }, {
                            key: "_onM4sFetched",
                            value: function(e, t, n) {
                                var i = Date.now();
                                n && (this._totalDuration += this._lastDuration,
                                    this._doNextFetch());
                                var r = this._mp4Parser;
                                if (t && r) {
                                    var o = this._pendingBuffers;
                                    if (this._initDone) {
                                        for (; o.length > 0; ) {
                                            var a = o.shift();
                                            r.parse(a.buffer, a.done)
                                        }
                                        r.parse(t, n)
                                    } else
                                        o.push({
                                            buffer: t,
                                            done: n
                                        });
                                    this._receivedBytes += t.byteLength
                                }
                                n && this._onUrlFetchDone(e, i)
                            }
                        }, {
                            key: "_onM4sBoxParsed",
                            value: function(e, t) {
                                1836019558 !== t || this._firstPacketNotified || (this._firstPacketNotified = !0,
                                this.onMetaData && this._mp4Parser && this._mp4Parser.metaData && this.onMetaData(this._mp4Parser.metaData),
                                this.onFirstPacket && this.onFirstPacket()),
                                this._mp4Parser && this._ensureMse(this._mp4Parser.mimeType, 1836019574 === t),
                                    this._pushBuffer(e)
                            }
                        }, {
                            key: "_onNetworkError",
                            value: function(e, t, n) {
                                this._notifyNetworkError(t, {
                                    url: e,
                                    info: n
                                })
                            }
                        }, {
                            key: "_onUrlFetchDone",
                            value: function(e, t) {
                                this.onFileFetched && this.onFileFetched(e, t - this._fetchingBegin)
                            }
                        }, {
                            key: "version",
                            get: function() {
                                return "v1.32"
                            }
                        }, {
                            key: "minBufferLength",
                            set: function(e) {
                                this._minBufferLength = e
                            }
                        }, {
                            key: "src",
                            set: function(e) {
                                this.destroy(),
                                    this._setup(e),
                                    this._playlist = new v.M3u8Parser,
                                    this._playlist.setUrl(this._url),
                                    this._playlist.onPlaylistUpdate = this._onPlaylistUpdate,
                                    this._mp4Parser = new p(this._onM4sBoxParsedBinder),
                                    this._fetchM3u8()
                            }
                        }]) && r(t.prototype, n),
                            l
                    }(h.LivePlayer);
                    e.exports = {
                        Hls7Player: y
                    }
                }
                , function(e, t, n) {
                    function i(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n];
                            i.enumerable = i.enumerable || !1,
                                i.configurable = !0,
                            "value"in i && (i.writable = !0),
                                Object.defineProperty(e, i.key, i)
                        }
                    }
                    var r = n(5).AmfParser
                        , o = n(3)
                        , a = n(6)
                        , s = n(1)
                        , l = function() {
                        function e(t) {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e);
                            var n = a.checkChromeVer();
                            this._chrome4x = n > 0 && n <= 49,
                                this.uint32_max = Math.pow(2, 32),
                                this.mimeType = null,
                                this.metaData = {},
                                this._audioChannel = void 0,
                                this._audioRate = void 0,
                                this._audioCodec = null,
                                this._videoWidth = void 0,
                                this._videoHeight = void 0,
                                this._videoCodec = null,
                                this._firstCtsFixed = !1,
                                this._lastTrackId = void 0,
                                this._baseDtsMap = [],
                                this._buffer = null,
                                this._bytesInBuffer = 0,
                                this._onParsed = t,
                                this._parseMoofBoxsBinder = this._parseMoofBoxs.bind(this),
                                this._parseMoovBoxsBinder = this._parseMoovBoxs.bind(this)
                        }
                        var t, n, l;
                        return t = e,
                            l = [{
                                key: "parseEncoder",
                                value: function(e, t) {
                                    var n = new Uint8Array(e.buffer,e.byteOffset,e.byteLength).subarray(t, t + 32);
                                    return (new r).decodeUtf8(n)
                                }
                            }, {
                                key: "parseH264Codec",
                                value: function(e, t) {
                                    t += 8;
                                    var n = e.getUint8(t + 1)
                                        , i = e.getUint8(t + 2)
                                        , r = e.getUint8(t + 3);
                                    return "avc1." + s.to02xString(n) + s.to02xString(i) + s.to02xString(r)
                                }
                            }, {
                                key: "parseH265Codec",
                                value: function(e, t) {
                                    t += 8;
                                    var n = e.getUint8(t + 1)
                                        , i = n >> 6 & 3
                                        , r = n >> 5 & 1
                                        , o = 31 & n
                                        , a = e.getUint32(t + 2)
                                        , s = e.getUint8(t + 12)
                                        , l = a;
                                    return l = (l = (l = (l = (l = l >>> 1 & 1431655765 | (1431655765 & l) << 1) >>> 2 & 858993459 | (858993459 & l) << 2) >>> 4 & 252645135 | (252645135 & l) << 4) >>> 8 & 16711935 | (16711935 & l) << 8) >>> 16 | l << 16,
                                    "hvc1." + ["", "A", "B", "C"][i % 4] + o.toString() + "." + l.toString(16).toLowerCase() + "." + ["L", "H"][r % 2] + s.toString()
                                }
                            }],
                        (n = [{
                            key: "clear",
                            value: function() {
                                this._buffer = null,
                                    this._bytesInBuffer = 0
                            }
                        }, {
                            key: "parse",
                            value: function(e, t) {
                                var n = 0 !== this._bytesInBuffer;
                                n && (this._appendBuffer(new Uint8Array(e)),
                                    e = this._buffer.subarray(0, this._bytesInBuffer));
                                for (var i = new Uint8Array(e), r = new DataView(i.buffer), o = i.byteLength, a = 0; a + 8 <= o; ) {
                                    var s = r.getUint32(a)
                                        , l = a + s;
                                    if (l > o)
                                        break;
                                    var c = r.getUint32(a + 4)
                                        , u = i.subarray(a, l);
                                    switch (c) {
                                        case 1836019558:
                                            if (this._lastTrackId = void 0,
                                                n)
                                                this._parseBox(r, a, l, this._parseMoofBoxsBinder);
                                            else {
                                                var d = new Uint8Array(u);
                                                this._parseBox(new DataView(d.buffer), 0, s, this._parseMoofBoxsBinder),
                                                    u = d
                                            }
                                            this._onParsed(u, c);
                                            break;
                                        case 1836019574:
                                            this._parseBox(r, a, l, this._parseMoovBoxsBinder) && (this._updateMediaInfo(),
                                                this._updateMimeType()),
                                                this._onParsed(u, c);
                                            break;
                                        case 1718773093:
                                            this._parseMetaDataBox(r, a, s) && this._updateMediaInfo();
                                            break;
                                        default:
                                            this._onParsed(u, c)
                                    }
                                    a = l
                                }
                                n && 0 === a || (a >= o ? this._bytesInBuffer = 0 : (this._bytesInBuffer = 0,
                                !t && a < o && this._appendBuffer(i.subarray(a))))
                            }
                        }, {
                            key: "_appendBuffer",
                            value: function(e) {
                                var t = this._bytesInBuffer + e.length
                                    , n = new Uint8Array(t);
                                this._buffer && this._bytesInBuffer && n.set(this._buffer.subarray(0, this._bytesInBuffer), 0),
                                    this._buffer = n,
                                    this._buffer.set(e, this._bytesInBuffer),
                                    this._bytesInBuffer = t
                            }
                        }, {
                            key: "_parseMoovBoxs",
                            value: function(e, t, n, i) {
                                switch (n) {
                                    case 1836019574:
                                    case 1953653099:
                                    case 1835297121:
                                    case 1835626086:
                                    case 1937007212:
                                        return this._parseBox(e, t + 8, t + i, this._parseMoovBoxsBinder);
                                    case 1937011556:
                                        return this._parseStsdBox(e, t, i)
                                }
                                return !0
                            }
                        }, {
                            key: "_parseMoofBoxs",
                            value: function(e, t, n, i) {
                                switch (n) {
                                    case 1836019558:
                                    case 1953653094:
                                        return this._parseBox(e, t + 8, t + i, this._parseMoofBoxsBinder);
                                    case 1952868452:
                                        this._lastTrackId = e.getUint32(t + 8 + 4);
                                        break;
                                    case 1952867444:
                                        t += 8;
                                        var r = e.getUint8(t);
                                        t += 4;
                                        var o = 1 === r ? this.getUint64(e, t) : e.getUint32(t);
                                        if (void 0 !== this._lastTrackId && this._lastTrackId < 8 && (void 0 === this._baseDtsMap[this._lastTrackId] && (this._baseDtsMap[this._lastTrackId] = o),
                                        0 !== this._baseDtsMap[this._lastTrackId])) {
                                            var a = o - this._baseDtsMap[this._lastTrackId];
                                            1 === r ? this.setUint64(e, t, a) : e.setUint32(t, a)
                                        }
                                        break;
                                    case 1953658222:
                                        if (t += 8,
                                        this._chrome4x && 0 != (4 & e.getUint32(t)) && e.setUint32(t + 12, 33554432),
                                            !this._firstCtsFixed) {
                                            var s = 16777215 & e.getUint32(t);
                                            t += 4;
                                            var l = e.getUint32(t);
                                            t += 4,
                                            l > 0 && 0 != (2048 & s) && (0 != (1 & s) && (t += 4),
                                            0 != (4 & s) && (t += 4),
                                            0 != (256 & s) && (t += 4),
                                            0 != (512 & s) && (t += 4),
                                            0 !== e.getInt32(t) && e.setInt32(t, 0),
                                                this._firstCtsFixed = !0)
                                        }
                                }
                                return !0
                            }
                        }, {
                            key: "_parseStsdBox",
                            value: function(t, n, i) {
                                n += 12;
                                var r = t.getUint32(n);
                                if (n += 4,
                                0 === r)
                                    return !0;
                                t.getUint32(n),
                                    n += 4;
                                var o = t.getUint32(n);
                                n += 4;
                                var a = 0;
                                switch (o) {
                                    case 1635148593:
                                    case 1752589105:
                                        this.metaData.fps = t.getUint32(n + 16) / 100,
                                            this.metaData.videodatarate = t.getUint32(n + 20) / 1e3,
                                            this._videoWidth = t.getUint16(n + 24),
                                            this._videoHeight = t.getUint16(n + 26),
                                            this.metaData.encoder = e.parseEncoder(t, n + 42),
                                            n += 78,
                                            a = t.getUint32(n),
                                            t.getUint32(n + 4),
                                            a >= 12 ? 1635148593 === o ? this._videoCodec = e.parseH264Codec(t, n) : 1752589105 === o && (this._videoCodec = e.parseH265Codec(t, n)) : 1635148593 === o ? this._videoCodec = "avc1.64002a" : 1752589105 === o && (this._videoCodec = "hvc1.1.6.L93.90");
                                        break;
                                    case 1836069985:
                                        this._audioChannel = t.getUint16(n + 16),
                                            this._audioRate = t.getUint32(n + 24) >>> 16,
                                            n += 28,
                                            a = t.getUint32(n),
                                            t.getUint32(n + 4),
                                            this._audioCodec = a >= 10 ? this._parseAudioCodec(t, n) : "mp4a.40.2";
                                        break;
                                    case 1700998451:
                                        this._audioChannel = t.getUint16(n + 16),
                                            this._audioRate = t.getUint32(n + 24) >>> 16,
                                            this._audioCodec = "ec-3"
                                }
                                return !0
                            }
                        }, {
                            key: "_parseAudioCodec",
                            value: function(e, t) {
                                t += 8,
                                    t += 4,
                                    t += 8,
                                    t += 5;
                                var n = e.getUint8(t);
                                if (107 == n || 105 == n)
                                    return "mp3";
                                t += 9,
                                    this.metaData.audiodatarate = e.getUint32(t) / 1e3,
                                    t += 4,
                                    t += 5;
                                var i = e.getUint8(t) >>> 3 & 31;
                                return o.getAacCodec(n, i)
                            }
                        }, {
                            key: "_parseMetaDataBox",
                            value: function(e, t, n) {
                                t += 8;
                                var i = e.getUint8(t);
                                if (t += 4,
                                1 !== i)
                                    return !1;
                                var o = e.getUint32(t);
                                if (t += 4,
                                16 + o > n)
                                    return !1;
                                try {
                                    var a = new r;
                                    this.metaData = a.parse(e, t, t + o),
                                    this.metaData.fps || (this.metaData.fps = this.metaData.framerate)
                                } catch (e) {
                                    console.warn("parse meta data ".concat(o, " failed"), e)
                                }
                                return !0
                            }
                        }, {
                            key: "_parseBox",
                            value: function(e, t, n, i) {
                                for (; t + 8 <= n; ) {
                                    var r = e.getUint32(t)
                                        , o = e.getUint32(t + 4);
                                    if (t + r > n || !i(e, t, o, r))
                                        return !1;
                                    t += r
                                }
                                return t <= n
                            }
                        }, {
                            key: "_updateMediaInfo",
                            value: function() {
                                void 0 !== this._audioRate && (this.metaData.audiosamplerate = this._audioRate),
                                void 0 !== this._audioChannel && (this.metaData.audiochannel = this._audioChannel),
                                void 0 !== this._videoWidth && (this.metaData.width = this._videoWidth),
                                void 0 !== this._videoHeight && (this.metaData.height = this._videoHeight)
                            }
                        }, {
                            key: "_updateMimeType",
                            value: function() {
                                var e = 'video/mp4; codecs="';
                                if (this._audioCodec && this._videoCodec)
                                    e += this._videoCodec + "," + this._audioCodec;
                                else if (this._audioCodec)
                                    e += this._audioCodec;
                                else {
                                    if (!this._videoCodec)
                                        return;
                                    e += this._videoCodec
                                }
                                this.mimeType = e + '"'
                            }
                        }, {
                            key: "getUint64",
                            value: function(e, t) {
                                var n = e.getUint32(t)
                                    , i = e.getUint32(t + 4);
                                return n * this.uint32_max + i
                            }
                        }, {
                            key: "setUint64",
                            value: function(e, t, n) {
                                e.setUint32(t, n >= this.uint32_max ? Math.floor(n / this.uint32_max) : 0),
                                    e.setUint32(t + 4, 4294967295 & n)
                            }
                        }]) && i(t.prototype, n),
                        l && i(t, l),
                            e
                    }();
                    e.exports = {
                        fMp4Parser: l
                    }
                }
                , function(e, t) {
                    function n(e, t) {
                        var n;
                        if ("undefined" == typeof Symbol || null == e[Symbol.iterator]) {
                            if (Array.isArray(e) || (n = function(e, t) {
                                if (e) {
                                    if ("string" == typeof e)
                                        return i(e, t);
                                    var n = Object.prototype.toString.call(e).slice(8, -1);
                                    return "Object" === n && e.constructor && (n = e.constructor.name),
                                        "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? i(e, t) : void 0
                                }
                            }(e)) || t && e && "number" == typeof e.length) {
                                n && (e = n);
                                var r = 0
                                    , o = function() {};
                                return {
                                    s: o,
                                    n: function() {
                                        return r >= e.length ? {
                                            done: !0
                                        } : {
                                            done: !1,
                                            value: e[r++]
                                        }
                                    },
                                    e: function(e) {
                                        throw e
                                    },
                                    f: o
                                }
                            }
                            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                        }
                        var a, s = !0, l = !1;
                        return {
                            s: function() {
                                n = e[Symbol.iterator]()
                            },
                            n: function() {
                                var e = n.next();
                                return s = e.done,
                                    e
                            },
                            e: function(e) {
                                l = !0,
                                    a = e
                            },
                            f: function() {
                                try {
                                    s || null == n.return || n.return()
                                } finally {
                                    if (l)
                                        throw a
                                }
                            }
                        }
                    }
                    function i(e, t) {
                        (null == t || t > e.length) && (t = e.length);
                        for (var n = 0, i = new Array(t); n < t; n++)
                            i[n] = e[n];
                        return i
                    }
                    function r(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n];
                            i.enumerable = i.enumerable || !1,
                                i.configurable = !0,
                            "value"in i && (i.writable = !0),
                                Object.defineProperty(e, i.key, i)
                        }
                    }
                    var o = ["trid"]
                        , a = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this.onPlaylistUpdate = function(e, t) {}
                                ,
                                this.endOfStream = !1,
                                this.mimeType = null,
                                this.streamUrls = [],
                                this._lastUri = null,
                                this._nextSequence = void 0,
                                this._remainDuration = 0,
                                this._totalCount = 0,
                                this._totalDuration = 0,
                                this._initUri = null,
                                this._dataUrls = [],
                                this._url = null
                        }
                        var t, i, a;
                        return t = e,
                            a = [{
                                key: "guessUri",
                                value: function(e, t, n) {
                                    var i = t.toString()
                                        , r = e.lastIndexOf(i);
                                    if (-1 === r)
                                        return null;
                                    var o = "";
                                    return r > 0 && (o += e.substring(0, r)),
                                        o += n.toString(),
                                    (r += i.length) < e.length && (o += e.substring(r)),
                                        o
                                }
                            }, {
                                key: "copyQueryParams",
                                value: function(e) {
                                    var t = e.split("&")
                                        , n = "";
                                    for (var i in t) {
                                        var r = t[i].split("=");
                                        r && 2 === r.length && -1 !== o.indexOf(r[0]) && (n += "&" + r[0] + "=" + r[1])
                                    }
                                    return n.length > 1 && (n = "?" + n.substring(1)),
                                        n
                                }
                            }],
                        (i = [{
                            key: "setUrl",
                            value: function(t) {
                                var n = t.lastIndexOf("/")
                                    , i = t.lastIndexOf("?");
                                if (this._relativePath = t.substring(0, n + 1),
                                    this._queryParams = null,
                                o.length && i > 0) {
                                    var r = t.substring(i + 1);
                                    this._queryParams = e.copyQueryParams(r)
                                }
                                this._url = t
                            }
                        }, {
                            key: "parse",
                            value: function(t) {
                                for (var i = void 0, r = void 0, o = void 0, a = null, s = null, l = null, c = 0, u = [], d = [], h = t.length, f = 0; f < h; ) {
                                    var p = t.indexOf("\n", f);
                                    -1 === p && (p = h);
                                    var v = t.substring(f, p);
                                    if (f = p + 1,
                                    0 !== v.length)
                                        if ("#" === v[0]) {
                                            var y = v.indexOf(":");
                                            if (y > 0) {
                                                var g = v.substring(0, y)
                                                    , m = v.substring(y + 1);
                                                if ("#EXTINF" === g) {
                                                    var _ = m.lastIndexOf(",");
                                                    a = -1 !== _ ? m.substring(0, _) : m.substring(0),
                                                        s = -1 !== _ ? m.substring(_ + 1, m.length) : null,
                                                        c = 1
                                                } else if ("#EXT-X-VERSION" === g)
                                                    i = parseInt(m.trim());
                                                else if ("#EXT-X-MEDIA-SEQUENCE" === g)
                                                    r = parseInt(m.trim());
                                                else if ("#EXT-X-MAP" === g) {
                                                    if ((l = m.trim()).length <= 5 || 'URI="' !== l.substring(0, 5))
                                                        return console.error("wrong #EXT-X-MAP: ".concat(m)),
                                                            -2;
                                                    var b = (l = l.substring(5)).lastIndexOf('"');
                                                    l = -1 !== b ? l.substring(0, b) : l.substring(0)
                                                } else
                                                    "#EXT-X-STREAM-INF" === g && (c = 2)
                                            } else
                                                "#EXT-X-ENDLIST" === v && (o = !0)
                                        } else
                                            1 === c ? (u.push({
                                                uri: v,
                                                duration: a,
                                                title: s
                                            }),
                                                a = null,
                                                s = null,
                                                c = 0) : 2 === c && (d.push(v),
                                                c = 0)
                                }
                                if (this.streamUrls = d,
                                d.length > 0)
                                    return 2;
                                if (void 0 === i || i < 6)
                                    return console.error("wrong #EXT-X-VERSION: ".concat(i)),
                                        -1;
                                void 0 !== o && (this.endOfStream = o);
                                var E = l && this._initUri !== l;
                                if (E) {
                                    this._initUri = l,
                                        this._dataUrls.length = 0;
                                    var S = {
                                        uri: l,
                                        duration: 0,
                                        title: null
                                    };
                                    S.uri = this._buildM4sUrl(S.uri.trim()),
                                        this._dataUrls.push(S),
                                        this.onPlaylistUpdate(!0, S),
                                        this._lastUri = null,
                                        this._nextSequence = void 0
                                }
                                if (!this._initUri && !this.endOfStream)
                                    return console.error("missing #EXT-X-MAP URI"),
                                        -2;
                                var T = r + u.length;
                                if (this._nextSequence !== T) {
                                    if (void 0 === this._nextSequence && (this._nextSequence = r),
                                    this._nextSequence < r) {
                                        console.warn("lost sequence: ".concat(this._nextSequence, " -> ").concat(r));
                                        for (var w = this.averageDuration, C = this._nextSequence - 1, A = this._lastUri, k = this._nextSequence; k < r; ) {
                                            var x = e.guessUri(A, C, k++);
                                            if (x) {
                                                var L = {
                                                    uri: x,
                                                    duration: w
                                                };
                                                L.uri = this._buildM4sUrl(L.uri),
                                                    this._dataUrls.push(L),
                                                    this.onPlaylistUpdate(!1, L),
                                                    this._remainDuration += w,
                                                    this._totalCount++,
                                                    this._totalDuration += w,
                                                    console.log("recover ".concat(x))
                                            }
                                        }
                                    }
                                    var R, I = n(u);
                                    try {
                                        for (I.s(); !(R = I.n()).done; ) {
                                            var P = R.value;
                                            r++ >= this._nextSequence && (P.duration = parseFloat(P.duration.trim()),
                                            isNaN(P.duration) && (P.duration = this.averageDuration),
                                                P.uri = this._buildM4sUrl(P.uri.trim()),
                                                this._dataUrls.push(P),
                                                this.onPlaylistUpdate(!1, P),
                                                this._remainDuration += P.duration,
                                                this._totalCount++,
                                                this._totalDuration += P.duration)
                                        }
                                    } catch (e) {
                                        I.e(e)
                                    } finally {
                                        I.f()
                                    }
                                    u.length > 0 && (this._lastUri = u[u.length - 1].uri),
                                        this._nextSequence = T
                                }
                                return E ? 1 : 0
                            }
                        }, {
                            key: "shift",
                            value: function() {
                                var e = this._dataUrls.length > 0 ? this._dataUrls.shift() : null;
                                return e && (this._remainDuration -= e.duration),
                                    e
                            }
                        }, {
                            key: "_buildM4sUrl",
                            value: function(e) {
                                var t = -1 !== e.indexOf("://") ? e : this._relativePath + e;
                                return null !== this._queryParams && (-1 !== e.indexOf("?") ? t += "&" + this._queryParams.substring(1) : t += this._queryParams),
                                    t
                            }
                        }, {
                            key: "count",
                            get: function() {
                                return this._dataUrls.length
                            }
                        }, {
                            key: "averageDuration",
                            get: function() {
                                return this._totalCount > 0 ? Math.floor(this._totalDuration / this._totalCount) : 0
                            }
                        }, {
                            key: "remainDuration",
                            get: function() {
                                return this._remainDuration
                            }
                        }]) && r(t.prototype, i),
                        a && r(t, a),
                            e
                    }();
                    e.exports = {
                        M3u8Parser: a,
                        parsedOk: 0,
                        parsedInitChanged: 1,
                        parsedAsMaster: 2,
                        parsedErrorVer: -1,
                        parsedErrorInit: -2
                    }
                }
            ])
    }
    , function(e, t, n) {
        (function(t) {
                window,
                    e.exports = function(e) {
                        var t = {};
                        function n(i) {
                            if (t[i])
                                return t[i].exports;
                            var r = t[i] = {
                                i: i,
                                l: !1,
                                exports: {}
                            };
                            return e[i].call(r.exports, r, r.exports, n),
                                r.l = !0,
                                r.exports
                        }
                        return n.m = e,
                            n.c = t,
                            n.d = function(e, t, i) {
                                n.o(e, t) || Object.defineProperty(e, t, {
                                    enumerable: !0,
                                    get: i
                                })
                            }
                            ,
                            n.r = function(e) {
                                "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                                    value: "Module"
                                }),
                                    Object.defineProperty(e, "__esModule", {
                                        value: !0
                                    })
                            }
                            ,
                            n.t = function(e, t) {
                                if (1 & t && (e = n(e)),
                                8 & t)
                                    return e;
                                if (4 & t && "object" == typeof e && e && e.__esModule)
                                    return e;
                                var i = Object.create(null);
                                if (n.r(i),
                                    Object.defineProperty(i, "default", {
                                        enumerable: !0,
                                        value: e
                                    }),
                                2 & t && "string" != typeof e)
                                    for (var r in e)
                                        n.d(i, r, function(t) {
                                            return e[t]
                                        }
                                            .bind(null, r));
                                return i
                            }
                            ,
                            n.n = function(e) {
                                var t = e && e.__esModule ? function() {
                                        return e.default
                                    }
                                    : function() {
                                        return e
                                    }
                                ;
                                return n.d(t, "a", t),
                                    t
                            }
                            ,
                            n.o = function(e, t) {
                                return Object.prototype.hasOwnProperty.call(e, t)
                            }
                            ,
                            n.p = "",
                            n(n.s = 324)
                    }([function(e, t, n) {
                        var i = n(143);
                        e.exports = function(e, t, n) {
                            return t in e ? i(e, t, {
                                value: n,
                                enumerable: !0,
                                configurable: !0,
                                writable: !0
                            }) : e[t] = n,
                                e
                        }
                    }
                        , function(e, t, n) {
                            e.exports = n(238)
                        }
                        , function(e, t) {
                            e.exports = function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }
                        }
                        , function(e, t, n) {
                            var i = n(143);
                            function r(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1,
                                        r.configurable = !0,
                                    "value"in r && (r.writable = !0),
                                        i(e, r.key, r)
                                }
                            }
                            e.exports = function(e, t, n) {
                                return t && r(e.prototype, t),
                                n && r(e, n),
                                    e
                            }
                        }
                        , function(e, t, n) {
                            e.exports = n(245)
                        }
                        , function(e, t, n) {
                            e.exports = n(175)
                        }
                        , function(e, t, n) {
                            var i = n(250);
                            function r(e, t, n, r, o, a, s) {
                                try {
                                    var l = e[a](s)
                                        , c = l.value
                                } catch (e) {
                                    return void n(e)
                                }
                                l.done ? t(c) : i.resolve(c).then(r, o)
                            }
                            e.exports = function(e) {
                                return function() {
                                    var t = this
                                        , n = arguments;
                                    return new i((function(i, o) {
                                            var a = e.apply(t, n);
                                            function s(e) {
                                                r(a, i, o, s, l, "next", e)
                                            }
                                            function l(e) {
                                                r(a, i, o, s, l, "throw", e)
                                            }
                                            s(void 0)
                                        }
                                    ))
                                }
                            }
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(12)
                                , r = n(68).f
                                , o = n(111)
                                , a = n(13)
                                , s = n(37)
                                , l = n(25)
                                , c = n(21)
                                , u = function(e) {
                                var t = function(t, n, i) {
                                    if (this instanceof e) {
                                        switch (arguments.length) {
                                            case 0:
                                                return new e;
                                            case 1:
                                                return new e(t);
                                            case 2:
                                                return new e(t,n)
                                        }
                                        return new e(t,n,i)
                                    }
                                    return e.apply(this, arguments)
                                };
                                return t.prototype = e.prototype,
                                    t
                            };
                            e.exports = function(e, t) {
                                var n, d, h, f, p, v, y, g, m = e.target, _ = e.global, b = e.stat, E = e.proto, S = _ ? i : b ? i[m] : (i[m] || {}).prototype, T = _ ? a : a[m] || (a[m] = {}), w = T.prototype;
                                for (h in t)
                                    n = !o(_ ? h : m + (b ? "." : "#") + h, e.forced) && S && c(S, h),
                                        p = T[h],
                                    n && (v = e.noTargetGet ? (g = r(S, h)) && g.value : S[h]),
                                        f = n && v ? v : t[h],
                                    n && typeof p == typeof f || (y = e.bind && n ? s(f, i) : e.wrap && n ? u(f) : E && "function" == typeof f ? s(Function.call, f) : f,
                                    (e.sham || f && f.sham || p && p.sham) && l(y, "sham", !0),
                                        T[h] = y,
                                    E && (c(a, d = m + "Prototype") || l(a, d, {}),
                                        a[d][h] = f,
                                    e.real && w && !w[h] && l(w, h, f)))
                            }
                        }
                        , function(e, t, n) {
                            "use strict";
                            (function(e) {
                                    n.d(t, "a", (function() {
                                            return i
                                        }
                                    )),
                                        n.d(t, "b", (function() {
                                                return o
                                            }
                                        )),
                                        n.d(t, "c", (function() {
                                                return R
                                            }
                                        ));
                                    var i, r, o, a = n(35), s = n.n(a), l = n(30), c = n.n(l), u = n(16), d = n.n(u), h = n(9), f = n.n(h), p = n(27), v = n.n(p), y = n(5), g = n.n(y), m = n(2), _ = n.n(m), b = n(3), E = n.n(b), S = n(0), T = n.n(S), w = n(19), C = n(159), A = n(15);
                                    !function(e) {
                                        e[e.SERVER = 0] = "SERVER",
                                            e[e.P2P = 1] = "P2P",
                                            e[e.TYPE_COUNT = 2] = "TYPE_COUNT"
                                    }(i || (i = {})),
                                        function(e) {
                                            e[e.SUCCESS = 0] = "SUCCESS",
                                                e[e.REPEAT_SETTINGS = 1] = "REPEAT_SETTINGS",
                                                e[e.UNDEFINED = 2] = "UNDEFINED",
                                                e[e.DATALENGTH_ERROR = 3] = "DATALENGTH_ERROR",
                                                e[e.NULL = 4] = "NULL",
                                                e[e.REVERTED_DUE_P2P = 5] = "REVERTED_DUE_P2P"
                                        }(r || (r = {})),
                                        function(e) {
                                            e[e.END_SUCCESS = 0] = "END_SUCCESS",
                                                e[e.END_ERROR = 1] = "END_ERROR",
                                                e[e.NULL = 2] = "NULL"
                                        }(o || (o = {}));
                                    var k = function() {
                                        function t(e) {
                                            _()(this, t),
                                                T()(this, "data", void 0),
                                                T()(this, "status", void 0),
                                                T()(this, "future", void 0),
                                                T()(this, "dataSourceType", void 0),
                                                T()(this, "dataSourcePeerId", void 0),
                                                this.data = e,
                                                this.status = r.NULL,
                                                this.future = new w.b
                                        }
                                        return E()(t, [{
                                            key: "getGhostPeerId",
                                            value: function() {
                                                return this.dataSourcePeerId
                                            }
                                        }, {
                                            key: "onDataResolved",
                                            value: function(e) {
                                                this.future.onResolved(e)
                                            }
                                        }, {
                                            key: "setData",
                                            value: function(t, n, i) {
                                                return this.status == r.SUCCESS ? r.REPEAT_SETTINGS : (void 0 !== t && t.byteLength == this.data.byteLength ? (void 0 !== i && (this.dataSourcePeerId = i),
                                                this.status == r.REVERTED_DUE_P2P && e.from(t.buffer).equals(e.from(this.data.buffer)) && (this.dataSourcePeerId = void 0),
                                                    this.data.set(t),
                                                    this.dataSourceType = n,
                                                    this.status = r.SUCCESS,
                                                    this.future.setResult(this.data)) : null == t ? (this.status = r.UNDEFINED,
                                                    this.future.setResult(void 0)) : void 0 !== t && t.byteLength !== this.data.byteLength && (this.status = r.DATALENGTH_ERROR),
                                                    this.status)
                                            }
                                        }, {
                                            key: "isSucceed",
                                            value: function() {
                                                return this.status == r.SUCCESS
                                            }
                                        }, {
                                            key: "resetStatus",
                                            value: function() {
                                                return this.dataSourceType == i.P2P && (this.status = r.REVERTED_DUE_P2P,
                                                    !0)
                                            }
                                        }]),
                                            t
                                    }()
                                        , x = function() {
                                        function e() {
                                            _()(this, e),
                                                T()(this, "startBlockId", void 0),
                                                T()(this, "nextFinishedBlockId", void 0),
                                                T()(this, "curCount", void 0),
                                                T()(this, "maxCount", void 0),
                                                T()(this, "sliceSize", void 0),
                                                T()(this, "shareSize", void 0),
                                                T()(this, "statArray", void 0),
                                                this.statArray = new Array;
                                            for (var t = 0; t < i.TYPE_COUNT; ++t)
                                                this.statArray[t] = 0
                                        }
                                        return E()(e, [{
                                            key: "addFinishedLargestBlockIdListener",
                                            value: function(e) {
                                                var t = this;
                                                e.onBlockFinished(this.nextFinishedBlockId, (function n(i) {
                                                        void 0 !== i && (t.nextFinishedBlockId++,
                                                        t.nextFinishedBlockId < t.startBlockId + t.maxCount && e.onBlockFinished(t.nextFinishedBlockId, n))
                                                    }
                                                ))
                                            }
                                        }]),
                                            e
                                    }()
                                        , L = function() {
                                        function e(t, n, r, a) {
                                            _()(this, e),
                                                T()(this, "p2pContext", void 0),
                                                T()(this, "blockCount", void 0),
                                                T()(this, "fragmentName", void 0),
                                                T()(this, "fragmentSize", void 0),
                                                T()(this, "buffer", void 0),
                                                T()(this, "fragStat", void 0),
                                                T()(this, "fragEndErrorMsg", void 0),
                                                T()(this, "trustedCrc", void 0),
                                                T()(this, "blockSize", void 0),
                                                T()(this, "blocks", void 0),
                                                T()(this, "sliceProgressArray", void 0),
                                                T()(this, "blockFinishCount", void 0),
                                                T()(this, "future", void 0),
                                                T()(this, "statArray", void 0),
                                                T()(this, "shareSize", void 0),
                                                T()(this, "shareQuota", void 0),
                                                T()(this, "sliceBlockRangeRecord", {}),
                                                T()(this, "sliceIdsInCharge", void 0),
                                                T()(this, "ghostPeerIds", void 0),
                                                T()(this, "queryServerNum", void 0),
                                                T()(this, "crcErrorCallback", void 0),
                                                T()(this, "isCrcErrorToRefetch", !1),
                                                this.p2pContext = t,
                                                this.fragmentName = n,
                                                this.fragmentSize = r,
                                                this.trustedCrc = a,
                                                this.fragStat = o.NULL,
                                                this.blocks = new Array,
                                                this.statArray = new Array;
                                            for (var s = 0; s < i.TYPE_COUNT; ++s)
                                                this.statArray[s] = 0;
                                            for (this.sliceProgressArray = new Array,
                                                     s = 0; s < this.p2pContext.Config.sliceCount; ++s)
                                                this.sliceProgressArray[s] = new x;
                                            this.blockFinishCount = 0,
                                                this.future = new w.b,
                                                this.shareSize = 0,
                                                this.sliceIdsInCharge = new v.a,
                                                this.ghostPeerIds = new v.a,
                                                this.queryServerNum = 0,
                                                this.initFragmentBySize(r)
                                        }
                                        return E()(e, [{
                                            key: "doOnceQueryServer",
                                            value: function() {
                                                this.queryServerNum++
                                            }
                                        }, {
                                            key: "getQueryServerNum",
                                            value: function() {
                                                return this.queryServerNum
                                            }
                                        }, {
                                            key: "setCrcErrorCallback",
                                            value: function(e) {
                                                this.crcErrorCallback = e
                                            }
                                        }, {
                                            key: "setSliceIds",
                                            value: function(e) {
                                                var t = this;
                                                g()(e).call(e, (function(e) {
                                                        t.sliceIdsInCharge.add(e)
                                                    }
                                                ))
                                            }
                                        }, {
                                            key: "getSliceIds",
                                            value: function() {
                                                return this.sliceIdsInCharge
                                            }
                                        }, {
                                            key: "getStatArray",
                                            value: function() {
                                                return this.statArray
                                            }
                                        }, {
                                            key: "getBlockCount",
                                            value: function() {
                                                return this.blockCount
                                            }
                                        }, {
                                            key: "getBlockSize",
                                            value: function() {
                                                return this.blockSize
                                            }
                                        }, {
                                            key: "getBlockByteRange",
                                            value: function(e) {
                                                if (e < 0 || e >= this.blockCount)
                                                    return new Array;
                                                var t = this.blockSize * e
                                                    , n = Math.min(this.fragmentSize, t + this.blockSize);
                                                return new Array(t,n)
                                            }
                                        }, {
                                            key: "getSliceBlockRange",
                                            value: function(e) {
                                                var t = this.sliceBlockRangeRecord[e];
                                                return e < 0 || e >= this.p2pContext.Config.sliceCount || null == t ? new Array : new Array(t.begin,t.end)
                                            }
                                        }, {
                                            key: "getBlockBelongSlice",
                                            value: function(e) {
                                                if (e < 0 || e >= this.blockCount)
                                                    return -1;
                                                for (var t = 0; t < this.p2pContext.Config.sliceCount; ++t) {
                                                    var n = this.sliceBlockRangeRecord[t];
                                                    if (null != n && e < n.end)
                                                        return t
                                                }
                                                return -1
                                            }
                                        }, {
                                            key: "getSliceByteRange",
                                            value: function(e) {
                                                var t = this.getSliceBlockRange(e);
                                                if (2 !== t.length || t[0] == t[1])
                                                    return new Array(0,0);
                                                var n = this.getBlockByteRange(t[0])
                                                    , i = this.getBlockByteRange(t[1] - 1);
                                                return 0 === n.length || 0 === i.length ? new Array(0,0) : new Array(n[0],i[1])
                                            }
                                        }, {
                                            key: "getBlock",
                                            value: function(e) {
                                                if (!(e < 0 || e >= this.blockCount || e >= this.blocks.length))
                                                    return this.blocks[e]
                                            }
                                        }]),
                                            E()(e, [{
                                                key: "initFragmentBySize",
                                                value: function(e) {
                                                    this.blockSize = this.p2pContext.Config.blockSize,
                                                        this.blockCount = Math.ceil(e / this.blockSize),
                                                        this.buffer = new Uint8Array(e),
                                                        this.shareQuota = this.fragmentSize * this.p2pContext.Config.fragmentShareOverride,
                                                    this.shareQuota > this.p2pContext.Config.fragmentShareOverrideMaxBytes && (this.shareQuota = this.p2pContext.Config.fragmentShareOverrideMaxBytes),
                                                        this.addShareQuotaBytes(this.p2pContext.P2P.P2PDataShareQuotaController.takeShareQuota(e * this.p2pContext.Config.fragmentExtraShareRatio));
                                                    for (var t = 0; t < this.p2pContext.Config.sliceCount; ++t) {
                                                        var n = Math.floor(this.blockCount / this.p2pContext.Config.sliceCount * t)
                                                            , i = Math.floor(this.blockCount / this.p2pContext.Config.sliceCount * (t + 1));
                                                        this.sliceBlockRangeRecord[t] = {
                                                            begin: n,
                                                            end: i
                                                        }
                                                    }
                                                    for (t = 0; t < this.blockCount; ++t) {
                                                        var r = this.getBlockByteRange(t);
                                                        this.blocks.push(new k(this.buffer.subarray(r[0], r[1])))
                                                    }
                                                    for (t = 0; t < this.p2pContext.Config.sliceCount; ++t) {
                                                        var o = this.getSliceBlockRange(t);
                                                        this.sliceProgressArray[t].curCount = 0,
                                                            this.sliceProgressArray[t].maxCount = o[1] - o[0],
                                                            this.sliceProgressArray[t].startBlockId = o[0],
                                                            this.sliceProgressArray[t].nextFinishedBlockId = o[0],
                                                            this.sliceProgressArray[t].addFinishedLargestBlockIdListener(this);
                                                        var a = this.getSliceByteRange(t);
                                                        this.sliceProgressArray[t].sliceSize = a[1] - a[0],
                                                            this.sliceProgressArray[t].shareSize = 0
                                                    }
                                                }
                                            }, {
                                                key: "getFragmentName",
                                                value: function() {
                                                    return this.fragmentName
                                                }
                                            }, {
                                                key: "getFragmentSize",
                                                value: function() {
                                                    return this.fragmentSize
                                                }
                                            }, {
                                                key: "getFragmentData",
                                                value: function() {
                                                    return this.getFragStat() == o.END_SUCCESS ? this.buffer : void 0
                                                }
                                            }, {
                                                key: "setBlockData",
                                                value: function(e, t, n, i) {
                                                    var o = this.getBlock(e);
                                                    if (void 0 === o)
                                                        return !1;
                                                    if (o.isSucceed())
                                                        return !1;
                                                    if (o.setData(t, n, i) == r.SUCCESS) {
                                                        this.statArray[n] += t.byteLength,
                                                        null != this.p2pContext.P2PDataCollectionStatus && this.p2pContext.P2PDataCollectionStatus.addDownloadSizeRealtime(t.byteLength, n);
                                                        var a, s = this.getBlockBelongSlice(e);
                                                        return ++this.sliceProgressArray[s].curCount,
                                                            this.sliceProgressArray[s].statArray[n] += t.byteLength,
                                                        this.isCrcErrorToRefetch && void 0 !== o.getGhostPeerId() && (this.p2pContext.GhostPeerIds.add(o.getGhostPeerId()),
                                                        null === (a = this.p2pContext.PeerSched) || void 0 === a || a.closePeer(o.getGhostPeerId())),
                                                            ++this.blockFinishCount,
                                                        this.blockFinishCount === this.blockCount && this.setFragmentData(this.buffer),
                                                            !0
                                                    }
                                                    return !1
                                                }
                                            }, {
                                                key: "isBlockFinished",
                                                value: function(e) {
                                                    var t = this.getBlock(e);
                                                    return void 0 !== t && t.isSucceed()
                                                }
                                            }, {
                                                key: "isSliceFinished",
                                                value: function(e) {
                                                    return this.sliceProgressArray[e].curCount === this.sliceProgressArray[e].maxCount
                                                }
                                            }, {
                                                key: "getSliceFinishedBlockRange",
                                                value: function(e) {
                                                    if (e < 0 || e >= this.p2pContext.Config.sliceCount)
                                                        return new Array(0,0);
                                                    var t = this.sliceProgressArray[e]
                                                        , n = t.startBlockId
                                                        , i = t.nextFinishedBlockId;
                                                    return new Array(n,i)
                                                }
                                            }, {
                                                key: "getSourceRatioForSlice",
                                                value: function(e, t) {
                                                    if (t < 0 || t >= this.p2pContext.Config.sliceCount)
                                                        return 0;
                                                    var n = this.sliceProgressArray[t];
                                                    return 0 == n.sliceSize ? 0 : n.statArray[e] / n.sliceSize
                                                }
                                            }, {
                                                key: "getSliceSharedRatio",
                                                value: function(e) {
                                                    if (e < 0 || e >= this.p2pContext.Config.sliceCount)
                                                        return 0;
                                                    var t = this.sliceProgressArray[e];
                                                    if (0 == t.sliceSize)
                                                        return 0;
                                                    var n = t.shareSize / t.sliceSize
                                                        , i = this.fragmentSize * this.p2pContext.Config.fragmentShareOverride;
                                                    return i > this.p2pContext.Config.fragmentShareOverrideMaxBytes && (n = n * i / this.p2pContext.Config.fragmentShareOverrideMaxBytes),
                                                        n
                                                }
                                            }, {
                                                key: "onBlockFinished",
                                                value: function(e, t) {
                                                    var n = this.getBlock(e);
                                                    return void 0 !== n && (n.onDataResolved(t),
                                                        !0)
                                                }
                                            }, {
                                                key: "setFragmentData",
                                                value: function(e, t) {
                                                    if (null == e || 0 !== this.buffer.byteLength && e.byteLength !== this.buffer.byteLength) {
                                                        if (this.fragStat !== o.NULL)
                                                            return void this.p2pContext.P2PDataCollectionStatus.addFetchError(A.FetchErrorType.ERROR_NO_EFFECT);
                                                        for (var n = 0; n < this.getBlockCount(); ++n) {
                                                            var r, a;
                                                            null !== (r = this.getBlock(n)) && void 0 !== r && r.isSucceed() || null === (a = this.getBlock(n)) || void 0 === a || a.setData(void 0, void 0)
                                                        }
                                                        this.fragStat = o.END_ERROR,
                                                            this.fragEndErrorMsg = t
                                                    } else if (e.byteLength == this.buffer.byteLength) {
                                                        if (null != this.trustedCrc && this.p2pContext.Config.crcVerifyEnable) {
                                                            var s = C.a.crc32(e, this.p2pContext.Config.crc32Interval);
                                                            if (s != this.trustedCrc) {
                                                                var l, c, u, d;
                                                                if (this.p2pContext.printExtLog(0, f()(l = f()(c = "frag name: ".concat(this.fragmentName, " local crc: ")).call(c, s.toString(16), " trust crc: ")).call(l, this.trustedCrc.toString(16))),
                                                                this.p2pContext.Config.allowPrintLog(0) && console.warn(f()(u = f()(d = "[SistersPlayer] frag name: ".concat(this.fragmentName, " local crc: ")).call(d, s.toString(16), " trust crc: ")).call(u, this.trustedCrc.toString(16))),
                                                                this.statArray[i.P2P] > 0) {
                                                                    this.isCrcErrorToRefetch = !0;
                                                                    for (var h = 0; h < this.p2pContext.Config.sliceCount; ++h)
                                                                        if (!this.sliceIdsInCharge.has(h)) {
                                                                            var p = this.getSliceBlockRange(h);
                                                                            this.sliceProgressArray[h].nextFinishedBlockId = p[0],
                                                                                this.statArray[i.P2P] -= this.sliceProgressArray[h].statArray[i.P2P],
                                                                                this.p2pContext.P2PDataCollectionStatus.addWastedDataSize(this.sliceProgressArray[h].statArray[i.P2P], A.WastedDataType.ERROR_DATA),
                                                                                this.sliceProgressArray[h].addFinishedLargestBlockIdListener(this),
                                                                                this.sliceProgressArray[h].statArray[i.P2P] = 0;
                                                                            for (var v = p[1] - 1; v >= p[0]; --v)
                                                                                this.getBlock(v).resetStatus() && (--this.blockFinishCount,
                                                                                    --this.sliceProgressArray[h].curCount)
                                                                        }
                                                                    return void this.crcErrorCallback()
                                                                }
                                                                this.p2pContext.printExtLog(1, "frag name: ".concat(this.fragmentName, " --- all from server , but crc is still error")),
                                                                this.p2pContext.Config.allowPrintLog(1) && console.warn("[SistersPlayer] frag name: ".concat(this.fragmentName, " --- all from server , but crc is still error"))
                                                            }
                                                        }
                                                        this.fragStat = o.END_SUCCESS,
                                                            this.buffer.set(e)
                                                    } else if (0 == this.buffer.byteLength) {
                                                        for (this.fragmentSize = e.byteLength,
                                                                 this.initFragmentBySize(this.fragmentSize),
                                                                 h = 0; h < this.blockCount; ++h) {
                                                            var y = this.getBlockByteRange(h);
                                                            this.setBlockData(h, e.subarray(y[0], y[1]), i.SERVER)
                                                        }
                                                        return
                                                    }
                                                    this.future.setResult(this)
                                                }
                                            }, {
                                                key: "onFinished",
                                                value: function(e) {
                                                    this.future.onResolved(e)
                                                }
                                            }, {
                                                key: "isFinished",
                                                value: function() {
                                                    return this.fragStat == o.END_SUCCESS
                                                }
                                            }, {
                                                key: "getFragStat",
                                                value: function() {
                                                    return this.fragStat
                                                }
                                            }, {
                                                key: "getFragEndErrorMsg",
                                                value: function() {
                                                    return this.fragEndErrorMsg
                                                }
                                            }, {
                                                key: "addShareData",
                                                value: function(e, t) {
                                                    var n = this.getBlockBelongSlice(e);
                                                    this.sliceProgressArray[n].shareSize += t,
                                                        this.shareSize += t
                                                }
                                            }, {
                                                key: "canShare",
                                                value: function() {
                                                    return this.shareSize < this.shareQuota
                                                }
                                            }, {
                                                key: "addShareQuotaBytes",
                                                value: function(e) {
                                                    this.shareQuota += e
                                                }
                                            }, {
                                                key: "getRemainingShareQuotaBytes",
                                                value: function() {
                                                    return Math.max(0, this.shareQuota - this.shareSize)
                                                }
                                            }, {
                                                key: "getShareSize",
                                                value: function() {
                                                    return this.shareSize
                                                }
                                            }, {
                                                key: "getSharedRatio",
                                                value: function() {
                                                    return 0 == this.fragmentSize ? 0 : this.shareSize / this.fragmentSize
                                                }
                                            }, {
                                                key: "destroy",
                                                value: function() {
                                                    this.fragStat == o.NULL && this.setFragmentData(void 0)
                                                }
                                            }]),
                                            e
                                    }()
                                        , R = function() {
                                        function e(t) {
                                            _()(this, e),
                                                T()(this, "p2pContext", void 0),
                                                T()(this, "collection", new d.a),
                                                T()(this, "queue", new Array),
                                                T()(this, "sliceIdController", void 0),
                                                this.p2pContext = t
                                        }
                                        return E()(e, [{
                                            key: "setSliceIdController",
                                            value: function(e) {
                                                this.sliceIdController = e
                                            }
                                        }, {
                                            key: "addFragment",
                                            value: function(e, t, n) {
                                                var i = this.collection.get(e);
                                                if (void 0 !== i)
                                                    return i.getFragmentSize() === t ? i : void 0;
                                                i = new L(this.p2pContext,e,t,n),
                                                    this.collection.set(e, i),
                                                    this.queue.push(e)
                                            }
                                        }, {
                                            key: "getFragment",
                                            value: function(e) {
                                                return this.collection.get(e)
                                            }
                                        }, {
                                            key: "deleteFragment",
                                            value: function(e) {
                                                var t, n, i = c()(t = this.queue).call(t, e);
                                                if (i >= 0 && s()(n = this.queue).call(n, i, 1),
                                                    this.collection.has(e)) {
                                                    var r = this.collection.get(e);
                                                    return null == r || r.destroy(),
                                                        this.collection.delete(e),
                                                        !0
                                                }
                                                return !1
                                            }
                                        }, {
                                            key: "deleteFragmentUntil",
                                            value: function(e) {
                                                for (var t, n = c()(t = this.queue).call(t, e); n > this.p2pContext.Config.fragmentCountOutdated; ) {
                                                    var i = this.queue.shift();
                                                    if (void 0 !== i) {
                                                        var r = this.collection.get(i);
                                                        void 0 !== r && (null != this.p2pContext.P2PDataCollectionStatus && (this.p2pContext.P2PDataCollectionStatus.addFragmentDataCollection(r),
                                                            this.p2pContext.P2P.P2PDataShareQuotaController.addFragmentDataCollection(r)),
                                                        void 0 !== this.sliceIdController && void 0 !== r && this.sliceIdController.addFragmentShareData(r),
                                                            r.destroy()),
                                                            this.collection.delete(i)
                                                    }
                                                    --n
                                                }
                                            }
                                        }, {
                                            key: "destroy",
                                            value: function() {
                                                var e;
                                                g()(e = this.collection).call(e, (function(e) {
                                                        e.destroy()
                                                    }
                                                ))
                                            }
                                        }]),
                                            e
                                    }()
                                }
                            ).call(this, n(270).Buffer)
                        }
                        , function(e, t, n) {
                            e.exports = n(281)
                        }
                        , function(e, t, n) {
                            e.exports = n(174)
                        }
                        , function(e, t, n) {
                            var i = n(12)
                                , r = n(96)
                                , o = n(21)
                                , a = n(72)
                                , s = n(99)
                                , l = n(119)
                                , c = r("wks")
                                , u = i.Symbol
                                , d = l ? u : u && u.withoutSetter || a;
                            e.exports = function(e) {
                                return o(c, e) || (s && o(u, e) ? c[e] = u[e] : c[e] = d("Symbol." + e)),
                                    c[e]
                            }
                        }
                        , function(e, t, n) {
                            (function(t) {
                                    var n = function(e) {
                                        return e && e.Math == Math && e
                                    };
                                    e.exports = n("object" == typeof globalThis && globalThis) || n("object" == typeof window && window) || n("object" == typeof self && self) || n("object" == typeof t && t) || function() {
                                        return this
                                    }() || Function("return this")()
                                }
                            ).call(this, n(89))
                        }
                        , function(e, t) {
                            e.exports = {}
                        }
                        , function(e, t) {
                            e.exports = function(e) {
                                try {
                                    return !!e()
                                } catch (e) {
                                    return !0
                                }
                            }
                        }
                        , function(e, t, n) {
                            "use strict";
                            n.r(t),
                                n.d(t, "WastedDataType", (function() {
                                        return i
                                    }
                                )),
                                n.d(t, "FetchErrorType", (function() {
                                        return r
                                    }
                                )),
                                n.d(t, "P2PDataCollection", (function() {
                                        return b
                                    }
                                ));
                            var i, r, o = n(46), a = n.n(o), s = n(22), l = n.n(s), c = n(5), u = n.n(c), d = n(27), h = n.n(d), f = n(2), p = n.n(f), v = n(3), y = n.n(v), g = n(0), m = n.n(g), _ = n(8);
                            !function(e) {
                                e[e.P2P_LATE = 0] = "P2P_LATE",
                                    e[e.ERROR_DATA = 1] = "ERROR_DATA",
                                    e[e.CDN_REPEAT = 2] = "CDN_REPEAT",
                                    e[e.TYPE_COUNT = 3] = "TYPE_COUNT"
                            }(i || (i = {})),
                                function(e) {
                                    e[e.ERROR_TO_RELOAD = 0] = "ERROR_TO_RELOAD",
                                        e[e.ERROR_NO_EFFECT = 1] = "ERROR_NO_EFFECT",
                                        e[e.TYPE_COUNT = 2] = "TYPE_COUNT"
                                }(r || (r = {}));
                            var b = function() {
                                function e() {
                                    p()(this, e),
                                        m()(this, "statArray", new Array),
                                        m()(this, "shareSize", 0),
                                        m()(this, "lastestDeleteFragName", "--"),
                                        m()(this, "statRealtimeArray", new Array),
                                        m()(this, "p2pSendSizeRealtime", 0),
                                        m()(this, "lastestFragName", "--"),
                                        m()(this, "lastestSaveRatio", "0.000"),
                                        m()(this, "lastestShareRatio", "0.000"),
                                        m()(this, "wastedDataArray", new Array),
                                        m()(this, "fetchRepeatFragmentNameList", new h.a),
                                        m()(this, "fetchErrorArray", new Array),
                                        m()(this, "queryServerInfo", {
                                            fragNum: 0,
                                            queryNum: 0,
                                            largestQPF: 0
                                        }),
                                        this.initToEmpty()
                                }
                                return y()(e, [{
                                    key: "initToEmpty",
                                    value: function() {
                                        for (var e = 0; e < _.a.TYPE_COUNT; ++e)
                                            this.statArray[e] = 0;
                                        for (this.shareSize = 0,
                                                 e = 0; e < _.a.TYPE_COUNT; ++e)
                                            this.statRealtimeArray[e] = 0;
                                        for (this.p2pSendSizeRealtime = 0,
                                                 e = 0; e < i.TYPE_COUNT; ++e)
                                            this.wastedDataArray[e] = 0;
                                        for (e = 0; e < r.TYPE_COUNT; ++e)
                                            this.fetchErrorArray[e] = 0;
                                        this.fetchRepeatFragmentNameList.clear(),
                                            this.queryServerInfo.fragNum = 0,
                                            this.queryServerInfo.queryNum = 0,
                                            this.queryServerInfo.largestQPF = 0
                                    }
                                }, {
                                    key: "addFragmentDataCollection",
                                    value: function(e) {
                                        var t, n = this;
                                        u()(t = e.getStatArray()).call(t, (function(e, t) {
                                                n.statArray[t] += e
                                            }
                                        )),
                                            this.shareSize += e.getShareSize(),
                                            this.lastestDeleteFragName = e.getFragmentName()
                                    }
                                }, {
                                    key: "addDownloadSizeDataCollection",
                                    value: function(e, t) {
                                        this.statArray[t] += e
                                    }
                                }, {
                                    key: "getP2PDownload",
                                    value: function() {
                                        return this.statArray[_.a.P2P]
                                    }
                                }, {
                                    key: "getServerDownload",
                                    value: function() {
                                        return this.statArray[_.a.SERVER]
                                    }
                                }, {
                                    key: "getP2PSend",
                                    value: function() {
                                        return this.shareSize
                                    }
                                }, {
                                    key: "getP2PSaveRatio",
                                    value: function() {
                                        var e = this.statArray[_.a.P2P] + this.statArray[_.a.SERVER];
                                        return 0 == e ? "0.000" : (this.statArray[_.a.P2P] / e * 100).toFixed(3)
                                    }
                                }, {
                                    key: "getP2PShareRatio",
                                    value: function() {
                                        var e = this.statArray[_.a.P2P] + this.statArray[_.a.SERVER];
                                        return 0 == e ? "0.000" : (this.shareSize / e * 100).toFixed(3)
                                    }
                                }, {
                                    key: "addDownloadSizeRealtime",
                                    value: function(e, t) {
                                        this.statRealtimeArray[t] += e
                                    }
                                }, {
                                    key: "addP2PSendSizeRealtime",
                                    value: function(e) {
                                        this.p2pSendSizeRealtime += e
                                    }
                                }, {
                                    key: "getServerSizeRealtime",
                                    value: function() {
                                        return this.statRealtimeArray[_.a.SERVER]
                                    }
                                }, {
                                    key: "getP2PSendSizeRealtime",
                                    value: function() {
                                        return this.p2pSendSizeRealtime
                                    }
                                }, {
                                    key: "getP2PDownloadSizeRealtime",
                                    value: function() {
                                        return this.statRealtimeArray[_.a.P2P]
                                    }
                                }, {
                                    key: "addLastestFragmentDataCollection",
                                    value: function(e) {
                                        if (this.lastestFragName = e.getFragmentName(),
                                        0 == e.getFragmentSize())
                                            this.lastestShareRatio = "0.000",
                                                this.lastestSaveRatio = "0.000";
                                        else {
                                            var t = e.getShareSize() / e.getFragmentSize();
                                            this.lastestShareRatio = (100 * t).toFixed(3);
                                            var n = e.getStatArray()[_.a.P2P] / e.getFragmentSize();
                                            this.lastestSaveRatio = (100 * n).toFixed(3)
                                        }
                                        this.queryServerInfo.fragNum++,
                                            this.queryServerInfo.queryNum += e.getQueryServerNum(),
                                        e.getQueryServerNum() > this.queryServerInfo.largestQPF && (this.queryServerInfo.largestQPF = e.getQueryServerNum())
                                    }
                                }, {
                                    key: "getLastestFragmentDataCollection",
                                    value: function() {
                                        return {
                                            lastestFragName: this.lastestFragName,
                                            lastestShareRatio: this.lastestShareRatio,
                                            lastestSaveRatio: this.lastestSaveRatio
                                        }
                                    }
                                }, {
                                    key: "getLastestDeleteFragmentName",
                                    value: function() {
                                        return this.lastestDeleteFragName
                                    }
                                }, {
                                    key: "addWastedDataSize",
                                    value: function(e, t, n) {
                                        this.wastedDataArray[t] += e,
                                        void 0 !== n && t == i.CDN_REPEAT && this.fetchRepeatFragmentNameList.add(n.fragname + " , " + l()(a()(n.sliceIds)))
                                    }
                                }, {
                                    key: "getWastedDataSize",
                                    value: function(e) {
                                        return this.wastedDataArray[e]
                                    }
                                }, {
                                    key: "getFetchRepeatFragnameListInfo",
                                    value: function() {
                                        return l()(a()(this.fetchRepeatFragmentNameList))
                                    }
                                }, {
                                    key: "addFetchError",
                                    value: function(e) {
                                        this.fetchErrorArray[e]++
                                    }
                                }, {
                                    key: "getFetchErrorNum",
                                    value: function(e) {
                                        return this.fetchErrorArray[e]
                                    }
                                }, {
                                    key: "getQueryServerInfo",
                                    value: function() {
                                        return this.queryServerInfo
                                    }
                                }, {
                                    key: "clearP2PDataInfo",
                                    value: function() {
                                        this.initToEmpty()
                                    }
                                }]),
                                    e
                            }()
                        }
                        , function(e, t, n) {
                            e.exports = n(278)
                        }
                        , function(e, t, n) {
                            var i = n(13)
                                , r = n(21)
                                , o = n(104)
                                , a = n(26).f;
                            e.exports = function(e) {
                                var t = i.Symbol || (i.Symbol = {});
                                r(t, e) || a(t, e, {
                                    value: o.f(e)
                                })
                            }
                        }
                        , function(e, t) {
                            e.exports = function(e) {
                                return "object" == typeof e ? null !== e : "function" == typeof e
                            }
                        }
                        , function(e, t, n) {
                            "use strict";
                            n.d(t, "d", (function() {
                                    return C
                                }
                            )),
                                n.d(t, "b", (function() {
                                        return A
                                    }
                                )),
                                n.d(t, "c", (function() {
                                        return k
                                    }
                                )),
                                n.d(t, "a", (function() {
                                        return x
                                    }
                                ));
                            var i = n(9)
                                , r = n.n(i)
                                , o = n(46)
                                , a = n.n(o)
                                , s = n(35)
                                , l = n.n(s)
                                , c = n(1)
                                , u = n.n(c)
                                , d = n(4)
                                , h = n.n(d)
                                , f = n(6)
                                , p = n.n(f)
                                , v = n(5)
                                , y = n.n(v)
                                , g = n(16)
                                , m = n.n(g)
                                , _ = n(2)
                                , b = n.n(_)
                                , E = n(3)
                                , S = n.n(E)
                                , T = n(0)
                                , w = n.n(T)
                                , C = function() {
                                function e() {
                                    b()(this, e),
                                        w()(this, "notifyList", void 0),
                                        w()(this, "notifyId", 0),
                                        this.notifyList = new m.a
                                }
                                return S()(e, [{
                                    key: "connect",
                                    value: function(e) {
                                        var t = this.notifyId++;
                                        return this.notifyList.set(t, e),
                                            t
                                    }
                                }, {
                                    key: "disconnect",
                                    value: function(e) {
                                        return this.notifyList.delete(e)
                                    }
                                }, {
                                    key: "call",
                                    value: function(e) {
                                        var t;
                                        y()(t = this.notifyList).call(t, (function(t) {
                                                t(e)
                                            }
                                        ))
                                    }
                                }]),
                                    e
                            }()
                                , A = function() {
                                function e() {
                                    b()(this, e),
                                        w()(this, "result", void 0),
                                        w()(this, "callbacks_res", new Array)
                                }
                                return S()(e, [{
                                    key: "setResult",
                                    value: function(e) {
                                        if (this.result = e,
                                        void 0 !== this.callbacks_res) {
                                            for (var t = 0; t < this.callbacks_res.length; ++t)
                                                this.callbacks_res[t](e);
                                            this.callbacks_res = void 0
                                        }
                                    }
                                }, {
                                    key: "onResolved",
                                    value: function(e) {
                                        return void 0 === this.callbacks_res ? e(this.result) : this.callbacks_res.push(e),
                                            this
                                    }
                                }, {
                                    key: "isResolved",
                                    value: function() {
                                        return void 0 === this.callbacks_res
                                    }
                                }]),
                                    e
                            }()
                                , k = function() {
                                function e() {
                                    b()(this, e),
                                        w()(this, "waitingList_", void 0),
                                        w()(this, "isLocked_", void 0),
                                        w()(this, "mutexId_", void 0),
                                        this.waitingList_ = new Array,
                                        this.isLocked_ = !1,
                                        this.mutexId_ = ++e.maxMutexId_
                                }
                                return S()(e, [{
                                    key: "lock",
                                    value: function() {
                                        var e = this;
                                        return !0 === this.isLocked_ ? new h.a((function(t) {
                                                return e.waitingList_.push(t)
                                            }
                                        )) : (this.isLocked_ = !0,
                                            h.a.resolve())
                                    }
                                }, {
                                    key: "unlock",
                                    value: function() {
                                        var e = this.waitingList_.shift();
                                        void 0 !== e ? e() : this.isLocked_ = !1
                                    }
                                }, {
                                    key: "isLocked",
                                    value: function() {
                                        return this.isLocked_
                                    }
                                }, {
                                    key: "getId",
                                    value: function() {
                                        return this.mutexId_
                                    }
                                }]),
                                    e
                            }();
                            w()(k, "maxMutexId_", 0);
                            var x = function() {
                                function e() {
                                    b()(this, e),
                                        w()(this, "notifyList", void 0),
                                        w()(this, "notifyingList", void 0),
                                        this.notifyList = new Array,
                                        this.notifyingList = new Array
                                }
                                var t;
                                return S()(e, [{
                                    key: "waitUntilAsync",
                                    value: (t = p()(u.a.mark((function e(t, n) {
                                                var i, r, o = this;
                                                return u.a.wrap((function(e) {
                                                        for (; ; )
                                                            switch (e.prev = e.next) {
                                                                case 0:
                                                                    return t.unlock(),
                                                                        e.next = 3,
                                                                        new h.a((function(e) {
                                                                                return o.notifyList.push(e)
                                                                            }
                                                                        ));
                                                                case 3:
                                                                    return i = e.sent,
                                                                        e.next = 6,
                                                                        t.lock();
                                                                case 6:
                                                                    if (r = n(),
                                                                    !0 !== i && !1 !== r || this.notify(i),
                                                                    !0 !== r) {
                                                                        e.next = 10;
                                                                        break
                                                                    }
                                                                    return e.abrupt("break", 12);
                                                                case 10:
                                                                    e.next = 0;
                                                                    break;
                                                                case 12:
                                                                case "end":
                                                                    return e.stop()
                                                            }
                                                    }
                                                ), e, this)
                                            }
                                        ))),
                                            function(e, n) {
                                                return t.apply(this, arguments)
                                            }
                                    )
                                }, {
                                    key: "waitUntil",
                                    value: function(e, t) {
                                        return !0 === t() ? h.a.resolve() : this.waitUntilAsync(e, t)
                                    }
                                }, {
                                    key: "prepareNotify",
                                    value: function() {
                                        var e, t, n, i;
                                        (t = l()(e = this.notifyingList)).call.apply(t, r()(n = [e, this.notifyingList.length, 0]).call(n, a()(this.notifyList))),
                                            l()(i = this.notifyList).call(i, 0, this.notifyList.length)
                                    }
                                }, {
                                    key: "notify",
                                    value: function(e) {
                                        var t = this.notifyingList.shift();
                                        void 0 !== t && t(e)
                                    }
                                }, {
                                    key: "notifyOne",
                                    value: function() {
                                        this.prepareNotify(),
                                            this.notify(!1)
                                    }
                                }, {
                                    key: "notifyAll",
                                    value: function() {
                                        this.prepareNotify(),
                                            this.notify(!0)
                                    }
                                }]),
                                    e
                            }()
                        }
                        , function(e, t, n) {
                            var i = n(14);
                            e.exports = !i((function() {
                                    return 7 != Object.defineProperty({}, 1, {
                                        get: function() {
                                            return 7
                                        }
                                    })[1]
                                }
                            ))
                        }
                        , function(e, t) {
                            var n = {}.hasOwnProperty;
                            e.exports = function(e, t) {
                                return n.call(e, t)
                            }
                        }
                        , function(e, t, n) {
                            e.exports = n(224)
                        }
                        , function(e, t, n) {
                            var i = n(18);
                            e.exports = function(e) {
                                if (!i(e))
                                    throw TypeError(String(e) + " is not an object");
                                return e
                            }
                        }
                        , function(e, t, n) {
                            var i = n(13);
                            e.exports = function(e) {
                                return i[e + "Prototype"]
                            }
                        }
                        , function(e, t, n) {
                            var i = n(20)
                                , r = n(26)
                                , o = n(42);
                            e.exports = i ? function(e, t, n) {
                                    return r.f(e, t, o(1, n))
                                }
                                : function(e, t, n) {
                                    return e[t] = n,
                                        e
                                }
                        }
                        , function(e, t, n) {
                            var i = n(20)
                                , r = n(110)
                                , o = n(23)
                                , a = n(70)
                                , s = Object.defineProperty;
                            t.f = i ? s : function(e, t, n) {
                                if (o(e),
                                    t = a(t, !0),
                                    o(n),
                                    r)
                                    try {
                                        return s(e, t, n)
                                    } catch (e) {}
                                if ("get"in n || "set"in n)
                                    throw TypeError("Accessors not supported");
                                return "value"in n && (e[t] = n.value),
                                    e
                            }
                        }
                        , function(e, t, n) {
                            e.exports = n(256)
                        }
                        , function(e, t, n) {
                            var i = n(267)
                                , r = n(102);
                            function o(t) {
                                return e.exports = o = "function" == typeof r && "symbol" == typeof i ? function(e) {
                                        return typeof e
                                    }
                                    : function(e) {
                                        return e && "function" == typeof r && e.constructor === r && e !== r.prototype ? "symbol" : typeof e
                                    }
                                    ,
                                    o(t)
                            }
                            e.exports = o
                        }
                        , function(e, t, n) {
                            var i = n(67)
                                , r = Math.min;
                            e.exports = function(e) {
                                return e > 0 ? r(i(e), 9007199254740991) : 0
                            }
                        }
                        , function(e, t, n) {
                            e.exports = n(170)
                        }
                        , function(e, t, n) {
                            var i = n(56);
                            e.exports = function(e) {
                                return Object(i(e))
                            }
                        }
                        , function(e, t, n) {
                            var i = n(13)
                                , r = n(12)
                                , o = function(e) {
                                return "function" == typeof e ? e : void 0
                            };
                            e.exports = function(e, t) {
                                return arguments.length < 2 ? o(i[e]) || o(r[e]) : i[e] && i[e][t] || r[e] && r[e][t]
                            }
                        }
                        , function(e, t, n) {
                            n(94);
                            var i = n(181)
                                , r = n(12)
                                , o = n(44)
                                , a = n(25)
                                , s = n(43)
                                , l = n(11)("toStringTag");
                            for (var c in i) {
                                var u = r[c]
                                    , d = u && u.prototype;
                                d && o(d) !== l && a(d, l, c),
                                    s[c] = s.Array
                            }
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(129).charAt
                                , r = n(39)
                                , o = n(97)
                                , a = r.set
                                , s = r.getterFor("String Iterator");
                            o(String, "String", (function(e) {
                                    a(this, {
                                        type: "String Iterator",
                                        string: String(e),
                                        index: 0
                                    })
                                }
                            ), (function() {
                                    var e, t = s(this), n = t.string, r = t.index;
                                    return r >= n.length ? {
                                        value: void 0,
                                        done: !0
                                    } : (e = i(n, r),
                                        t.index += e.length,
                                        {
                                            value: e,
                                            done: !1
                                        })
                                }
                            ))
                        }
                        , function(e, t, n) {
                            e.exports = n(274)
                        }
                        , function(e, t, n) {
                            var i = n(90)
                                , r = n(56);
                            e.exports = function(e) {
                                return i(r(e))
                            }
                        }
                        , function(e, t, n) {
                            var i = n(38);
                            e.exports = function(e, t, n) {
                                if (i(e),
                                void 0 === t)
                                    return e;
                                switch (n) {
                                    case 0:
                                        return function() {
                                            return e.call(t)
                                        }
                                            ;
                                    case 1:
                                        return function(n) {
                                            return e.call(t, n)
                                        }
                                            ;
                                    case 2:
                                        return function(n, i) {
                                            return e.call(t, n, i)
                                        }
                                            ;
                                    case 3:
                                        return function(n, i, r) {
                                            return e.call(t, n, i, r)
                                        }
                                }
                                return function() {
                                    return e.apply(t, arguments)
                                }
                            }
                        }
                        , function(e, t) {
                            e.exports = function(e) {
                                if ("function" != typeof e)
                                    throw TypeError(String(e) + " is not a function");
                                return e
                            }
                        }
                        , function(e, t, n) {
                            var i, r, o, a = n(176), s = n(12), l = n(18), c = n(25), u = n(21), d = n(95), h = n(71), f = n(57), p = s.WeakMap;
                            if (a) {
                                var v = d.state || (d.state = new p)
                                    , y = v.get
                                    , g = v.has
                                    , m = v.set;
                                i = function(e, t) {
                                    return t.facade = e,
                                        m.call(v, e, t),
                                        t
                                }
                                    ,
                                    r = function(e) {
                                        return y.call(v, e) || {}
                                    }
                                    ,
                                    o = function(e) {
                                        return g.call(v, e)
                                    }
                            } else {
                                var _ = h("state");
                                f[_] = !0,
                                    i = function(e, t) {
                                        return t.facade = e,
                                            c(e, _, t),
                                            t
                                    }
                                    ,
                                    r = function(e) {
                                        return u(e, _) ? e[_] : {}
                                    }
                                    ,
                                    o = function(e) {
                                        return u(e, _)
                                    }
                            }
                            e.exports = {
                                set: i,
                                get: r,
                                has: o,
                                enforce: function(e) {
                                    return o(e) ? r(e) : i(e, {})
                                },
                                getterFor: function(e) {
                                    return function(t) {
                                        var n;
                                        if (!l(t) || (n = r(t)).type !== e)
                                            throw TypeError("Incompatible receiver, " + e + " required");
                                        return n
                                    }
                                }
                            }
                        }
                        , function(e, t) {
                            e.exports = !0
                        }
                        , function(e, t, n) {
                            var i = n(101)
                                , r = n(26).f
                                , o = n(25)
                                , a = n(21)
                                , s = n(179)
                                , l = n(11)("toStringTag");
                            e.exports = function(e, t, n, c) {
                                if (e) {
                                    var u = n ? e : e.prototype;
                                    a(u, l) || r(u, l, {
                                        configurable: !0,
                                        value: t
                                    }),
                                    c && !i && o(u, "toString", s)
                                }
                            }
                        }
                        , function(e, t) {
                            e.exports = function(e, t) {
                                return {
                                    enumerable: !(1 & e),
                                    configurable: !(2 & e),
                                    writable: !(4 & e),
                                    value: t
                                }
                            }
                        }
                        , function(e, t) {
                            e.exports = {}
                        }
                        , function(e, t, n) {
                            var i = n(101)
                                , r = n(55)
                                , o = n(11)("toStringTag")
                                , a = "Arguments" == r(function() {
                                return arguments
                            }());
                            e.exports = i ? r : function(e) {
                                var t, n, i;
                                return void 0 === e ? "Undefined" : null === e ? "Null" : "string" == typeof (n = function(e, t) {
                                    try {
                                        return e[t]
                                    } catch (e) {}
                                }(t = Object(e), o)) ? n : a ? r(t) : "Object" == (i = r(t)) && "function" == typeof t.callee ? "Arguments" : i
                            }
                        }
                        , function(e, t, n) {
                            var i = n(25);
                            e.exports = function(e, t, n, r) {
                                r && r.enumerable ? e[t] = n : i(e, t, n)
                            }
                        }
                        , function(e, t, n) {
                            var i = n(186)
                                , r = n(189)
                                , o = n(140)
                                , a = n(223);
                            e.exports = function(e) {
                                return i(e) || r(e) || o(e) || a()
                            }
                        }
                        , function(e, t, n) {
                            var i = n(20)
                                , r = n(14)
                                , o = n(21)
                                , a = Object.defineProperty
                                , s = {}
                                , l = function(e) {
                                throw e
                            };
                            e.exports = function(e, t) {
                                if (o(s, e))
                                    return s[e];
                                t || (t = {});
                                var n = [][e]
                                    , c = !!o(t, "ACCESSORS") && t.ACCESSORS
                                    , u = o(t, 0) ? t[0] : l
                                    , d = o(t, 1) ? t[1] : void 0;
                                return s[e] = !!n && !r((function() {
                                        if (c && !i)
                                            return !0;
                                        var e = {
                                            length: -1
                                        };
                                        c ? a(e, 1, {
                                            enumerable: !0,
                                            get: l
                                        }) : e[1] = 1,
                                            n.call(e, u, d)
                                    }
                                ))
                            }
                        }
                        , function(e, t, n) {
                            e.exports = n(167)
                        }
                        , function(e, t, n) {
                            var i = n(55);
                            e.exports = Array.isArray || function(e) {
                                return "Array" == i(e)
                            }
                        }
                        , function(e, t, n) {
                            var i = n(23)
                                , r = n(132)
                                , o = n(29)
                                , a = n(37)
                                , s = n(61)
                                , l = n(131)
                                , c = function(e, t) {
                                this.stopped = e,
                                    this.result = t
                            };
                            e.exports = function(e, t, n) {
                                var u, d, h, f, p, v, y, g = n && n.that, m = !(!n || !n.AS_ENTRIES), _ = !(!n || !n.IS_ITERATOR), b = !(!n || !n.INTERRUPTED), E = a(t, g, 1 + m + b), S = function(e) {
                                    return u && l(u),
                                        new c(!0,e)
                                }, T = function(e) {
                                    return m ? (i(e),
                                        b ? E(e[0], e[1], S) : E(e[0], e[1])) : b ? E(e, S) : E(e)
                                };
                                if (_)
                                    u = e;
                                else {
                                    if ("function" != typeof (d = s(e)))
                                        throw TypeError("Target is not iterable");
                                    if (r(d)) {
                                        for (h = 0,
                                                 f = o(e.length); f > h; h++)
                                            if ((p = T(e[h])) && p instanceof c)
                                                return p;
                                        return new c(!1)
                                    }
                                    u = d.call(e)
                                }
                                for (v = u.next; !(y = v.call(u)).done; ) {
                                    try {
                                        p = T(y.value)
                                    } catch (e) {
                                        throw l(u),
                                            e
                                    }
                                    if ("object" == typeof p && p && p instanceof c)
                                        return p
                                }
                                return new c(!1)
                            }
                        }
                        , function(e, t, n) {
                            e.exports = n(242)
                        }
                        , function(e, t, n) {
                            e.exports = n(310)
                        }
                        , function(e, t, n) {
                            "use strict";
                            n.d(t, "a", (function() {
                                    return d
                                }
                            ));
                            var i = n(5)
                                , r = n.n(i)
                                , o = n(2)
                                , a = n.n(o)
                                , s = n(3)
                                , l = n.n(s)
                                , c = n(0)
                                , u = n.n(c)
                                , d = function() {
                                function e(t) {
                                    a()(this, e),
                                        u()(this, "elements", void 0),
                                        u()(this, "_size", void 0),
                                        this.elements = new Array,
                                        this._size = t
                                }
                                return l()(e, [{
                                    key: "push",
                                    value: function(e) {
                                        return this.elements.length == this._size && this.pop(),
                                            this.elements.push(e),
                                            !0
                                    }
                                }, {
                                    key: "pop",
                                    value: function() {
                                        return this.elements.shift()
                                    }
                                }, {
                                    key: "front",
                                    value: function() {
                                        return this.elements.length > 0 ? this.elements[0] : void 0
                                    }
                                }, {
                                    key: "forEach",
                                    value: function(e, t) {
                                        var n;
                                        r()(n = this.elements).call(n, e)
                                    }
                                }, {
                                    key: "size",
                                    value: function() {
                                        return this.elements.length
                                    }
                                }, {
                                    key: "empty",
                                    value: function() {
                                        return 0 == this.size()
                                    }
                                }, {
                                    key: "clear",
                                    value: function() {
                                        this.elements = new Array
                                    }
                                }]),
                                    e
                            }()
                        }
                        , function(e, t, n) {
                            "use strict";
                            n.r(t),
                                n.d(t, "Configuration", (function() {
                                        return c
                                    }
                                ));
                            var i = n(2)
                                , r = n.n(i)
                                , o = n(3)
                                , a = n.n(o)
                                , s = n(0)
                                , l = n.n(s)
                                , c = function() {
                                function e() {
                                    r()(this, e),
                                        l()(this, "ProtocolVersion", 4),
                                        l()(this, "trackerServer", "wss://tracker.chat.bilibili.com/"),
                                        l()(this, "stunServers", ["stun:stun6.chat.bilibili.com:3478", "stun:stun.chat.bilibili.com:3478"]),
                                        l()(this, "allowedChangeBooleanValues", ["p2pTransferSecondhandDataEnable"]),
                                        l()(this, "iceCandidatePoolSizeAllowedRange", [0, 10]),
                                        l()(this, "iceCandidatePoolSize", 10),
                                        l()(this, "serverTimeoutMsAllowedRange", [1e3, 1e4]),
                                        l()(this, "serverTimeoutMs", 3e3),
                                        l()(this, "peerConnectionTimeoutMsAllowedRange", [1e3, 1e4]),
                                        l()(this, "peerConnectionTimeoutMs", 5e3),
                                        l()(this, "peerTimeoutMsAllowedRange", [1e3, 1e4]),
                                        l()(this, "peerTimeoutMs", 3e3),
                                        l()(this, "refreshPeerProgressIntervalMsAllowedRange", [100, 1e3]),
                                        l()(this, "refreshPeerProgressIntervalMs", 200),
                                        l()(this, "sliceCount", 4),
                                        l()(this, "blockSize", 40960),
                                        l()(this, "connectingLimitAllowedRange", [1, 64]),
                                        l()(this, "connectingLimit", 8),
                                        l()(this, "connectedLimitAllowedRange", [1, 64]),
                                        l()(this, "connectedLimit", 20),
                                        l()(this, "revisibleMarkAllowedRange", [1, 64]),
                                        l()(this, "revisibleMark", 12),
                                        l()(this, "reconnectWaitTimeSecAllowedRange", [1, 120]),
                                        l()(this, "reconnectWaitTimeSec", 10),
                                        l()(this, "fragmentCountOutdatedAllowedRange", [2, 120]),
                                        l()(this, "fragmentCountOutdated", 8),
                                        l()(this, "fragmentShareOverrideAllowedRange", [0, 100]),
                                        l()(this, "fragmentShareOverride", 1),
                                        l()(this, "fragmentShareOverrideMaxBytesAllowedRange", [0, 1e7]),
                                        l()(this, "fragmentShareOverrideMaxBytes", 4e6),
                                        l()(this, "fragmentExtraShareRatioAllowedRange", [0, 50]),
                                        l()(this, "fragmentExtraShareRatio", this.fragmentShareOverride / 2),
                                        l()(this, "totalDownloadInstancesAllowedRange", [2, 48]),
                                        l()(this, "totalDownloadInstances", 1.5 * this.connectedLimit),
                                        l()(this, "minDownloadInstancesPerPeer", 1),
                                        l()(this, "maxDownloadInstancesPerPeerAllowedRange", [1, 32]),
                                        l()(this, "maxDownloadInstancesPerPeer", 4),
                                        l()(this, "cdnFetchInstancesAllowedRange", [1, 32]),
                                        l()(this, "cdnFetchInstances", 4),
                                        l()(this, "fallbackCDNFetchInstancesAllowedRange", [1, 64]),
                                        l()(this, "fallbackCDNFetchInstances", 8),
                                        l()(this, "fetchCDNTimeoutMsAllowedRange", [500, 6e4]),
                                        l()(this, "fetchCDNTimeoutMs", 7e3),
                                        l()(this, "crcVerifyEnable", !0),
                                        l()(this, "crc32Interval", 1),
                                        l()(this, "developmentLogLevel", 2),
                                        l()(this, "productionLogLevel", 0),
                                        l()(this, "developmentExtLogLevel", 2),
                                        l()(this, "productionExtLogLevel", 1),
                                        l()(this, "p2pSafeBufferDurationForDelayStopMsAllowedRange", [0, 15e3]),
                                        l()(this, "p2pSafeBufferDurationForDelayStopMs", 2e3),
                                        l()(this, "p2pDelayStopMaxMsAllowedRange", [0, 15e3]),
                                        l()(this, "p2pDelayStopMaxMs", 500),
                                        l()(this, "p2pFetchDataObCycleCountAllowedRange", [1, 32]),
                                        l()(this, "p2pFetchDataObCycleCount", 4),
                                        l()(this, "p2pShareDataObCycleCountAllowedRange", [1, 32]),
                                        l()(this, "p2pShareDataObCycleCount", 3),
                                        l()(this, "p2pSliceIdControlFetchCheckIntervalMsAllowedRange", [2e3, 3e4]),
                                        l()(this, "p2pSliceIdControlFetchCheckIntervalMs", 4e3),
                                        l()(this, "p2pSliceIdControlShareCheckIntervalMsAllowedRange", [2e3, 3e4]),
                                        l()(this, "p2pSliceIdControlShareCheckIntervalMs", 3e3),
                                        l()(this, "p2pFetchLowestRatioAllowedRange", [.2, 1]),
                                        l()(this, "p2pFetchLowestRatio", .65),
                                        l()(this, "p2pShareLargestAllowedFetchRatioAllowedRange", [.2, 1]),
                                        l()(this, "p2pShareLargestAllowedFetchRatio", .8),
                                        l()(this, "p2pShareLowestRatioAllowedRange", [.2, 1]),
                                        l()(this, "p2pShareLowestRatio", .3),
                                        l()(this, "p2pAddSliceProbabilityAllowedRange", [0, 1]),
                                        l()(this, "p2pAddSliceProbability", .125),
                                        l()(this, "p2pDeleteSliceProbabilityAllowedRange", [0, 1]),
                                        l()(this, "p2pDeleteSliceProbability", .25),
                                        l()(this, "p2pTransferSecondhandDataEnable", !0)
                                }
                                return a()(e, [{
                                    key: "allowPrintLog",
                                    value: function(t) {
                                        return "development" === e.curNodeEnv ? t <= this.developmentLogLevel : t <= this.productionLogLevel
                                    }
                                }, {
                                    key: "allowPrintExtLog",
                                    value: function(t) {
                                        return "development" === e.curNodeEnv ? t <= this.developmentExtLogLevel : t <= this.productionExtLogLevel
                                    }
                                }]),
                                    e
                            }();
                            l()(c, "curNodeEnv", "production"),
                                l()(c, "failbackFetchCDNTimeoutMs", 7e3)
                        }
                        , function(e, t) {
                            var n = {}.toString;
                            e.exports = function(e) {
                                return n.call(e).slice(8, -1)
                            }
                        }
                        , function(e, t) {
                            e.exports = function(e) {
                                if (null == e)
                                    throw TypeError("Can't call method on " + e);
                                return e
                            }
                        }
                        , function(e, t) {
                            e.exports = {}
                        }
                        , function(e, t, n) {
                            var i, r = n(23), o = n(120), a = n(100), s = n(57), l = n(122), c = n(91), u = n(71)("IE_PROTO"), d = function() {}, h = function(e) {
                                return "<script>" + e + "<\/script>"
                            }, f = function() {
                                try {
                                    i = document.domain && new ActiveXObject("htmlfile")
                                } catch (e) {}
                                var e, t;
                                f = i ? function(e) {
                                    e.write(h("")),
                                        e.close();
                                    var t = e.parentWindow.Object;
                                    return e = null,
                                        t
                                }(i) : ((t = c("iframe")).style.display = "none",
                                    l.appendChild(t),
                                    t.src = String("javascript:"),
                                    (e = t.contentWindow.document).open(),
                                    e.write(h("document.F=Object")),
                                    e.close(),
                                    e.F);
                                for (var n = a.length; n--; )
                                    delete f.prototype[a[n]];
                                return f()
                            };
                            s[u] = !0,
                                e.exports = Object.create || function(e, t) {
                                    var n;
                                    return null !== e ? (d.prototype = r(e),
                                        n = new d,
                                        d.prototype = null,
                                        n[u] = e) : n = f(),
                                        void 0 === t ? n : o(n, t)
                                }
                        }
                        , function(e, t, n) {
                            var i = n(121)
                                , r = n(100);
                            e.exports = Object.keys || function(e) {
                                return i(e, r)
                            }
                        }
                        , function(e, t, n) {
                            var i = n(37)
                                , r = n(90)
                                , o = n(31)
                                , a = n(29)
                                , s = n(73)
                                , l = [].push
                                , c = function(e) {
                                var t = 1 == e
                                    , n = 2 == e
                                    , c = 3 == e
                                    , u = 4 == e
                                    , d = 6 == e
                                    , h = 7 == e
                                    , f = 5 == e || d;
                                return function(p, v, y, g) {
                                    for (var m, _, b = o(p), E = r(b), S = i(v, y, 3), T = a(E.length), w = 0, C = g || s, A = t ? C(p, T) : n || h ? C(p, 0) : void 0; T > w; w++)
                                        if ((f || w in E) && (_ = S(m = E[w], w, b),
                                            e))
                                            if (t)
                                                A[w] = _;
                                            else if (_)
                                                switch (e) {
                                                    case 3:
                                                        return !0;
                                                    case 5:
                                                        return m;
                                                    case 6:
                                                        return w;
                                                    case 2:
                                                        l.call(A, m)
                                                }
                                            else
                                                switch (e) {
                                                    case 4:
                                                        return !1;
                                                    case 7:
                                                        l.call(A, m)
                                                }
                                    return d ? -1 : c || u ? u : A
                                }
                            };
                            e.exports = {
                                forEach: c(0),
                                map: c(1),
                                filter: c(2),
                                some: c(3),
                                every: c(4),
                                find: c(5),
                                findIndex: c(6),
                                filterOut: c(7)
                            }
                        }
                        , function(e, t, n) {
                            var i = n(44)
                                , r = n(43)
                                , o = n(11)("iterator");
                            e.exports = function(e) {
                                if (null != e)
                                    return e[o] || e["@@iterator"] || r[i(e)]
                            }
                        }
                        , function(e, t, n) {
                            var i = n(14)
                                , r = n(11)
                                , o = n(103)
                                , a = r("species");
                            e.exports = function(e) {
                                return o >= 51 || !i((function() {
                                        var t = [];
                                        return (t.constructor = {})[a] = function() {
                                            return {
                                                foo: 1
                                            }
                                        }
                                            ,
                                        1 !== t[e](Boolean).foo
                                    }
                                ))
                            }
                        }
                        , function(e, t) {
                            e.exports = function(e, t, n) {
                                if (!(e instanceof t))
                                    throw TypeError("Incorrect " + (n ? n + " " : "") + "invocation");
                                return e
                            }
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(38)
                                , r = function(e) {
                                var t, n;
                                this.promise = new e((function(e, i) {
                                        if (void 0 !== t || void 0 !== n)
                                            throw TypeError("Bad Promise constructor");
                                        t = e,
                                            n = i
                                    }
                                )),
                                    this.resolve = i(t),
                                    this.reject = i(n)
                            };
                            e.exports.f = function(e) {
                                return new r(e)
                            }
                        }
                        , function(e, t, n) {
                            e.exports = n(229)
                        }
                        , function(e, t, n) {
                            e.exports = n(260)
                        }
                        , function(e, t) {
                            var n = Math.ceil
                                , i = Math.floor;
                            e.exports = function(e) {
                                return isNaN(e = +e) ? 0 : (e > 0 ? i : n)(e)
                            }
                        }
                        , function(e, t, n) {
                            var i = n(20)
                                , r = n(69)
                                , o = n(42)
                                , a = n(36)
                                , s = n(70)
                                , l = n(21)
                                , c = n(110)
                                , u = Object.getOwnPropertyDescriptor;
                            t.f = i ? u : function(e, t) {
                                if (e = a(e),
                                    t = s(t, !0),
                                    c)
                                    try {
                                        return u(e, t)
                                    } catch (e) {}
                                if (l(e, t))
                                    return o(!r.f.call(e, t), e[t])
                            }
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = {}.propertyIsEnumerable
                                , r = Object.getOwnPropertyDescriptor
                                , o = r && !i.call({
                                1: 2
                            }, 1);
                            t.f = o ? function(e) {
                                    var t = r(this, e);
                                    return !!t && t.enumerable
                                }
                                : i
                        }
                        , function(e, t, n) {
                            var i = n(18);
                            e.exports = function(e, t) {
                                if (!i(e))
                                    return e;
                                var n, r;
                                if (t && "function" == typeof (n = e.toString) && !i(r = n.call(e)))
                                    return r;
                                if ("function" == typeof (n = e.valueOf) && !i(r = n.call(e)))
                                    return r;
                                if (!t && "function" == typeof (n = e.toString) && !i(r = n.call(e)))
                                    return r;
                                throw TypeError("Can't convert object to primitive value")
                            }
                        }
                        , function(e, t, n) {
                            var i = n(96)
                                , r = n(72)
                                , o = i("keys");
                            e.exports = function(e) {
                                return o[e] || (o[e] = r(e))
                            }
                        }
                        , function(e, t) {
                            var n = 0
                                , i = Math.random();
                            e.exports = function(e) {
                                return "Symbol(" + String(void 0 === e ? "" : e) + ")_" + (++n + i).toString(36)
                            }
                        }
                        , function(e, t, n) {
                            var i = n(18)
                                , r = n(49)
                                , o = n(11)("species");
                            e.exports = function(e, t) {
                                var n;
                                return r(e) && ("function" != typeof (n = e.constructor) || n !== Array && !r(n.prototype) ? i(n) && null === (n = n[o]) && (n = void 0) : n = void 0),
                                    new (void 0 === n ? Array : n)(0 === t ? 0 : t)
                            }
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(70)
                                , r = n(26)
                                , o = n(42);
                            e.exports = function(e, t, n) {
                                var a = i(t);
                                a in e ? r.f(e, a, o(0, n)) : e[a] = n
                            }
                        }
                        , function(e, t) {}
                        , function(e, t) {
                            e.exports = function(e) {
                                try {
                                    return {
                                        error: !1,
                                        value: e()
                                    }
                                } catch (e) {
                                    return {
                                        error: !0,
                                        value: e
                                    }
                                }
                            }
                        }
                        , function(e, t, n) {
                            var i = n(227)
                                , r = n(228)
                                , o = n(140)
                                , a = n(230);
                            e.exports = function(e, t) {
                                return i(e) || r(e, t) || o(e, t) || a()
                            }
                        }
                        , function(e, t, n) {
                            e.exports = n(231)
                        }
                        , function(e, t, n) {
                            e.exports = n(284)
                        }
                        , function(e, t, n) {
                            e.exports = n(285)
                        }
                        , function(e, t, n) {
                            e.exports = n(286)
                        }
                        , function(e, t, n) {
                            e.exports = n(287)
                        }
                        , function(e, t, n) {
                            e.exports = n(288)
                        }
                        , function(e, t, n) {
                            e.exports = n(289)
                        }
                        , function(e, t, n) {
                            e.exports = n(321)
                        }
                        , function(e, t, n) {
                            e.exports = n(293)
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(14);
                            e.exports = function(e, t) {
                                var n = [][e];
                                return !!n && i((function() {
                                        n.call(null, t || function() {
                                            throw 1
                                        }
                                            , 1)
                                    }
                                ))
                            }
                        }
                        , function(e, t, n) {
                            "use strict";
                            n.r(t),
                                n.d(t, "UrlHelper", (function() {
                                        return s
                                    }
                                ));
                            var i = n(2)
                                , r = n.n(i)
                                , o = n(3)
                                , a = n.n(o)
                                , s = function() {
                                function e() {
                                    r()(this, e)
                                }
                                return a()(e, null, [{
                                    key: "urlElementGet",
                                    value: function(e, t) {
                                        var n, i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
                                        return null !== (n = e.exec(t)) && n[i] ? n[i] : void 0
                                    }
                                }, {
                                    key: "getFileName",
                                    value: function(e) {
                                        return this.urlElementGet(/.+[\\|\/](.*?)(?=\?|$)/gm, e)
                                    }
                                }, {
                                    key: "getUrlWithoutArguments",
                                    value: function(e) {
                                        return this.urlElementGet(/^(.*?)(?=\?|$)/gm, e)
                                    }
                                }, {
                                    key: "getStreamName",
                                    value: function(e) {
                                        return this.urlElementGet(/(\/?)(live-bvc)\/(\d{3,9})\/(live_.*?)(\/|\.(flv|m3u8|mpd))/gm, e, 4)
                                    }
                                }]),
                                    e
                            }()
                        }
                        , function(e, t) {
                            var n;
                            n = function() {
                                return this
                            }();
                            try {
                                n = n || new Function("return this")()
                            } catch (e) {
                                "object" == typeof window && (n = window)
                            }
                            e.exports = n
                        }
                        , function(e, t, n) {
                            var i = n(14)
                                , r = n(55)
                                , o = "".split;
                            e.exports = i((function() {
                                    return !Object("z").propertyIsEnumerable(0)
                                }
                            )) ? function(e) {
                                    return "String" == r(e) ? o.call(e, "") : Object(e)
                                }
                                : Object
                        }
                        , function(e, t, n) {
                            var i = n(12)
                                , r = n(18)
                                , o = i.document
                                , a = r(o) && r(o.createElement);
                            e.exports = function(e) {
                                return a ? o.createElement(e) : {}
                            }
                        }
                        , function(e, t, n) {
                            var i = n(67)
                                , r = Math.max
                                , o = Math.min;
                            e.exports = function(e, t) {
                                var n = i(e);
                                return n < 0 ? r(n + t, 0) : o(n, t)
                            }
                        }
                        , function(e, t, n) {
                            var i = n(32);
                            e.exports = i("navigator", "userAgent") || ""
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(36)
                                , r = n(115)
                                , o = n(43)
                                , a = n(39)
                                , s = n(97)
                                , l = a.set
                                , c = a.getterFor("Array Iterator");
                            e.exports = s(Array, "Array", (function(e, t) {
                                    l(this, {
                                        type: "Array Iterator",
                                        target: i(e),
                                        index: 0,
                                        kind: t
                                    })
                                }
                            ), (function() {
                                    var e = c(this)
                                        , t = e.target
                                        , n = e.kind
                                        , i = e.index++;
                                    return !t || i >= t.length ? (e.target = void 0,
                                        {
                                            value: void 0,
                                            done: !0
                                        }) : "keys" == n ? {
                                        value: i,
                                        done: !1
                                    } : "values" == n ? {
                                        value: t[i],
                                        done: !1
                                    } : {
                                        value: [i, t[i]],
                                        done: !1
                                    }
                                }
                            ), "values"),
                                o.Arguments = o.Array,
                                r("keys"),
                                r("values"),
                                r("entries")
                        }
                        , function(e, t, n) {
                            var i = n(12)
                                , r = n(177)
                                , o = i["__core-js_shared__"] || r("__core-js_shared__", {});
                            e.exports = o
                        }
                        , function(e, t, n) {
                            var i = n(40)
                                , r = n(95);
                            (e.exports = function(e, t) {
                                    return r[e] || (r[e] = void 0 !== t ? t : {})
                                }
                            )("versions", []).push({
                                version: "3.8.0",
                                mode: i ? "pure" : "global",
                                copyright: "© 2020 Denis Pushkarev (zloirock.ru)"
                            })
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(7)
                                , r = n(117)
                                , o = n(98)
                                , a = n(123)
                                , s = n(41)
                                , l = n(25)
                                , c = n(45)
                                , u = n(11)
                                , d = n(40)
                                , h = n(43)
                                , f = n(118)
                                , p = f.IteratorPrototype
                                , v = f.BUGGY_SAFARI_ITERATORS
                                , y = u("iterator")
                                , g = function() {
                                return this
                            };
                            e.exports = function(e, t, n, u, f, m, _) {
                                r(n, t, u);
                                var b, E, S, T = function(e) {
                                    if (e === f && x)
                                        return x;
                                    if (!v && e in A)
                                        return A[e];
                                    switch (e) {
                                        case "keys":
                                        case "values":
                                        case "entries":
                                            return function() {
                                                return new n(this,e)
                                            }
                                    }
                                    return function() {
                                        return new n(this)
                                    }
                                }, w = t + " Iterator", C = !1, A = e.prototype, k = A[y] || A["@@iterator"] || f && A[f], x = !v && k || T(f), L = "Array" == t && A.entries || k;
                                if (L && (b = o(L.call(new e)),
                                p !== Object.prototype && b.next && (d || o(b) === p || (a ? a(b, p) : "function" != typeof b[y] && l(b, y, g)),
                                    s(b, w, !0, !0),
                                d && (h[w] = g))),
                                "values" == f && k && "values" !== k.name && (C = !0,
                                        x = function() {
                                            return k.call(this)
                                        }
                                ),
                                d && !_ || A[y] === x || l(A, y, x),
                                    h[t] = x,
                                    f)
                                    if (E = {
                                        values: T("values"),
                                        keys: m ? x : T("keys"),
                                        entries: T("entries")
                                    },
                                        _)
                                        for (S in E)
                                            (v || C || !(S in A)) && c(A, S, E[S]);
                                    else
                                        i({
                                            target: t,
                                            proto: !0,
                                            forced: v || C
                                        }, E);
                                return E
                            }
                        }
                        , function(e, t, n) {
                            var i = n(21)
                                , r = n(31)
                                , o = n(71)
                                , a = n(178)
                                , s = o("IE_PROTO")
                                , l = Object.prototype;
                            e.exports = a ? Object.getPrototypeOf : function(e) {
                                return e = r(e),
                                    i(e, s) ? e[s] : "function" == typeof e.constructor && e instanceof e.constructor ? e.constructor.prototype : e instanceof Object ? l : null
                            }
                        }
                        , function(e, t, n) {
                            var i = n(14);
                            e.exports = !!Object.getOwnPropertySymbols && !i((function() {
                                    return !String(Symbol())
                                }
                            ))
                        }
                        , function(e, t) {
                            e.exports = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"]
                        }
                        , function(e, t, n) {
                            var i = {};
                            i[n(11)("toStringTag")] = "z",
                                e.exports = "[object z]" === String(i)
                        }
                        , function(e, t, n) {
                            e.exports = n(195)
                        }
                        , function(e, t, n) {
                            var i, r, o = n(12), a = n(93), s = o.process, l = s && s.versions, c = l && l.v8;
                            c ? r = (i = c.split("."))[0] + i[1] : a && (!(i = a.match(/Edge\/(\d+)/)) || i[1] >= 74) && (i = a.match(/Chrome\/(\d+)/)) && (r = i[1]),
                                e.exports = r && +r
                        }
                        , function(e, t, n) {
                            var i = n(11);
                            t.f = i
                        }
                        , function(e, t, n) {
                            var i = n(45);
                            e.exports = function(e, t, n) {
                                for (var r in t)
                                    n && n.unsafe && e[r] ? e[r] = t[r] : i(e, r, t[r], n);
                                return e
                            }
                        }
                        , function(e, t, n) {
                            var i = n(55)
                                , r = n(12);
                            e.exports = "process" == i(r.process)
                        }
                        , function(e, t, n) {
                            e.exports = n(239)
                        }
                        , function(e, t, n) {
                            e.exports = n(306)
                        }
                        , function(e, t) {
                            e.exports = "\t\n\v\f\r                　\u2028\u2029\ufeff"
                        }
                        , function(e, t, n) {
                            var i = n(20)
                                , r = n(14)
                                , o = n(91);
                            e.exports = !i && !r((function() {
                                    return 7 != Object.defineProperty(o("div"), "a", {
                                        get: function() {
                                            return 7
                                        }
                                    }).a
                                }
                            ))
                        }
                        , function(e, t, n) {
                            var i = n(14)
                                , r = /#|\.prototype\./
                                , o = function(e, t) {
                                var n = s[a(e)];
                                return n == c || n != l && ("function" == typeof t ? i(t) : !!t)
                            }
                                , a = o.normalize = function(e) {
                                return String(e).replace(r, ".").toLowerCase()
                            }
                                , s = o.data = {}
                                , l = o.NATIVE = "N"
                                , c = o.POLYFILL = "P";
                            e.exports = o
                        }
                        , function(e, t, n) {
                            var i = n(12)
                                , r = n(165).trim
                                , o = n(109)
                                , a = i.parseInt
                                , s = /^[+-]?0[Xx]/
                                , l = 8 !== a(o + "08") || 22 !== a(o + "0x16");
                            e.exports = l ? function(e, t) {
                                    var n = r(String(e));
                                    return a(n, t >>> 0 || (s.test(n) ? 16 : 10))
                                }
                                : a
                        }
                        , function(e, t, n) {
                            var i = n(36)
                                , r = n(29)
                                , o = n(92)
                                , a = function(e) {
                                return function(t, n, a) {
                                    var s, l = i(t), c = r(l.length), u = o(a, c);
                                    if (e && n != n) {
                                        for (; c > u; )
                                            if ((s = l[u++]) != s)
                                                return !0
                                    } else
                                        for (; c > u; u++)
                                            if ((e || u in l) && l[u] === n)
                                                return e || u || 0;
                                    return !e && -1
                                }
                            };
                            e.exports = {
                                includes: a(!0),
                                indexOf: a(!1)
                            }
                        }
                        , function(e, t, n) {
                            var i = n(7)
                                , r = n(12)
                                , o = n(93)
                                , a = [].slice
                                , s = function(e) {
                                return function(t, n) {
                                    var i = arguments.length > 2
                                        , r = i ? a.call(arguments, 2) : void 0;
                                    return e(i ? function() {
                                            ("function" == typeof t ? t : Function(t)).apply(this, r)
                                        }
                                        : t, n)
                                }
                            };
                            i({
                                global: !0,
                                bind: !0,
                                forced: /MSIE .\./.test(o)
                            }, {
                                setTimeout: s(r.setTimeout),
                                setInterval: s(r.setInterval)
                            })
                        }
                        , function(e, t) {
                            e.exports = function() {}
                        }
                        , function(e, t, n) {
                            var i = n(95)
                                , r = Function.toString;
                            "function" != typeof i.inspectSource && (i.inspectSource = function(e) {
                                    return r.call(e)
                                }
                            ),
                                e.exports = i.inspectSource
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(118).IteratorPrototype
                                , r = n(58)
                                , o = n(42)
                                , a = n(41)
                                , s = n(43)
                                , l = function() {
                                return this
                            };
                            e.exports = function(e, t, n) {
                                var c = t + " Iterator";
                                return e.prototype = r(i, {
                                    next: o(1, n)
                                }),
                                    a(e, c, !1, !0),
                                    s[c] = l,
                                    e
                            }
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i, r, o, a = n(98), s = n(25), l = n(21), c = n(11), u = n(40), d = c("iterator"), h = !1;
                            [].keys && ("next"in (o = [].keys()) ? (r = a(a(o))) !== Object.prototype && (i = r) : h = !0),
                            null == i && (i = {}),
                            u || l(i, d) || s(i, d, (function() {
                                    return this
                                }
                            )),
                                e.exports = {
                                    IteratorPrototype: i,
                                    BUGGY_SAFARI_ITERATORS: h
                                }
                        }
                        , function(e, t, n) {
                            var i = n(99);
                            e.exports = i && !Symbol.sham && "symbol" == typeof Symbol.iterator
                        }
                        , function(e, t, n) {
                            var i = n(20)
                                , r = n(26)
                                , o = n(23)
                                , a = n(59);
                            e.exports = i ? Object.defineProperties : function(e, t) {
                                o(e);
                                for (var n, i = a(t), s = i.length, l = 0; s > l; )
                                    r.f(e, n = i[l++], t[n]);
                                return e
                            }
                        }
                        , function(e, t, n) {
                            var i = n(21)
                                , r = n(36)
                                , o = n(113).indexOf
                                , a = n(57);
                            e.exports = function(e, t) {
                                var n, s = r(e), l = 0, c = [];
                                for (n in s)
                                    !i(a, n) && i(s, n) && c.push(n);
                                for (; t.length > l; )
                                    i(s, n = t[l++]) && (~o(c, n) || c.push(n));
                                return c
                            }
                        }
                        , function(e, t, n) {
                            var i = n(32);
                            e.exports = i("document", "documentElement")
                        }
                        , function(e, t, n) {
                            var i = n(23)
                                , r = n(180);
                            e.exports = Object.setPrototypeOf || ("__proto__"in {} ? function() {
                                var e, t = !1, n = {};
                                try {
                                    (e = Object.getOwnPropertyDescriptor(Object.prototype, "__proto__").set).call(n, []),
                                        t = n instanceof Array
                                } catch (e) {}
                                return function(n, o) {
                                    return i(n),
                                        r(o),
                                        t ? e.call(n, o) : n.__proto__ = o,
                                        n
                                }
                            }() : void 0)
                        }
                        , function(e, t, n) {
                            e.exports = n(187)
                        }
                        , function(e, t, n) {
                            n(188);
                            var i = n(13);
                            e.exports = i.Array.isArray
                        }
                        , function(e, t) {
                            e.exports = function(e, t) {
                                (null == t || t > e.length) && (t = e.length);
                                for (var n = 0, i = new Array(t); n < t; n++)
                                    i[n] = e[n];
                                return i
                            }
                        }
                        , function(e, t, n) {
                            e.exports = n(190)
                        }
                        , function(e, t, n) {
                            n(34),
                                n(191);
                            var i = n(13);
                            e.exports = i.Array.from
                        }
                        , function(e, t, n) {
                            var i = n(67)
                                , r = n(56)
                                , o = function(e) {
                                return function(t, n) {
                                    var o, a, s = String(r(t)), l = i(n), c = s.length;
                                    return l < 0 || l >= c ? e ? "" : void 0 : (o = s.charCodeAt(l)) < 55296 || o > 56319 || l + 1 === c || (a = s.charCodeAt(l + 1)) < 56320 || a > 57343 ? e ? s.charAt(l) : o : e ? s.slice(l, l + 2) : a - 56320 + (o - 55296 << 10) + 65536
                                }
                            };
                            e.exports = {
                                codeAt: o(!1),
                                charAt: o(!0)
                            }
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(37)
                                , r = n(31)
                                , o = n(192)
                                , a = n(132)
                                , s = n(29)
                                , l = n(74)
                                , c = n(61);
                            e.exports = function(e) {
                                var t, n, u, d, h, f, p = r(e), v = "function" == typeof this ? this : Array, y = arguments.length, g = y > 1 ? arguments[1] : void 0, m = void 0 !== g, _ = c(p), b = 0;
                                if (m && (g = i(g, y > 2 ? arguments[2] : void 0, 2)),
                                null == _ || v == Array && a(_))
                                    for (n = new v(t = s(p.length)); t > b; b++)
                                        f = m ? g(p[b], b) : p[b],
                                            l(n, b, f);
                                else
                                    for (h = (d = _.call(p)).next,
                                             n = new v; !(u = h.call(d)).done; b++)
                                        f = m ? o(d, g, [u.value, b], !0) : u.value,
                                            l(n, b, f);
                                return n.length = b,
                                    n
                            }
                        }
                        , function(e, t, n) {
                            var i = n(23);
                            e.exports = function(e) {
                                var t = e.return;
                                if (void 0 !== t)
                                    return i(t.call(e)).value
                            }
                        }
                        , function(e, t, n) {
                            var i = n(11)
                                , r = n(43)
                                , o = i("iterator")
                                , a = Array.prototype;
                            e.exports = function(e) {
                                return void 0 !== e && (r.Array === e || a[o] === e)
                            }
                        }
                        , function(e, t, n) {
                            var i = n(11)("iterator")
                                , r = !1;
                            try {
                                var o = 0
                                    , a = {
                                    next: function() {
                                        return {
                                            done: !!o++
                                        }
                                    },
                                    return: function() {
                                        r = !0
                                    }
                                };
                                a[i] = function() {
                                    return this
                                }
                                    ,
                                    Array.from(a, (function() {
                                            throw 2
                                        }
                                    ))
                            } catch (e) {}
                            e.exports = function(e, t) {
                                if (!t && !r)
                                    return !1;
                                var n = !1;
                                try {
                                    var o = {};
                                    o[i] = function() {
                                        return {
                                            next: function() {
                                                return {
                                                    done: n = !0
                                                }
                                            }
                                        }
                                    }
                                        ,
                                        e(o)
                                } catch (e) {}
                                return n
                            }
                        }
                        , function(e, t, n) {
                            e.exports = n(193)
                        }
                        , function(e, t, n) {
                            n(136),
                                n(75),
                                n(196),
                                n(198),
                                n(199),
                                n(200),
                                n(201),
                                n(139),
                                n(202),
                                n(203),
                                n(204),
                                n(205),
                                n(206),
                                n(207),
                                n(208),
                                n(209),
                                n(210),
                                n(211),
                                n(212),
                                n(213);
                            var i = n(13);
                            e.exports = i.Symbol
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(7)
                                , r = n(14)
                                , o = n(49)
                                , a = n(18)
                                , s = n(31)
                                , l = n(29)
                                , c = n(74)
                                , u = n(73)
                                , d = n(62)
                                , h = n(11)
                                , f = n(103)
                                , p = h("isConcatSpreadable")
                                , v = f >= 51 || !r((function() {
                                    var e = [];
                                    return e[p] = !1,
                                    e.concat()[0] !== e
                                }
                            ))
                                , y = d("concat")
                                , g = function(e) {
                                if (!a(e))
                                    return !1;
                                var t = e[p];
                                return void 0 !== t ? !!t : o(e)
                            };
                            i({
                                target: "Array",
                                proto: !0,
                                forced: !v || !y
                            }, {
                                concat: function(e) {
                                    var t, n, i, r, o, a = s(this), d = u(a, 0), h = 0;
                                    for (t = -1,
                                             i = arguments.length; t < i; t++)
                                        if (g(o = -1 === t ? a : arguments[t])) {
                                            if (h + (r = l(o.length)) > 9007199254740991)
                                                throw TypeError("Maximum allowed index exceeded");
                                            for (n = 0; n < r; n++,
                                                h++)
                                                n in o && c(d, h, o[n])
                                        } else {
                                            if (h >= 9007199254740991)
                                                throw TypeError("Maximum allowed index exceeded");
                                            c(d, h++, o)
                                        }
                                    return d.length = h,
                                        d
                                }
                            })
                        }
                        , function(e, t, n) {
                            var i = n(121)
                                , r = n(100).concat("length", "prototype");
                            t.f = Object.getOwnPropertyNames || function(e) {
                                return i(e, r)
                            }
                        }
                        , function(e, t) {
                            t.f = Object.getOwnPropertySymbols
                        }
                        , function(e, t, n) {
                            n(17)("iterator")
                        }
                        , function(e, t, n) {
                            var i = n(127)
                                , r = n(219)
                                , o = n(126);
                            e.exports = function(e, t) {
                                var n;
                                if (e) {
                                    if ("string" == typeof e)
                                        return o(e, t);
                                    var a = r(n = Object.prototype.toString.call(e)).call(n, 8, -1);
                                    return "Object" === a && e.constructor && (a = e.constructor.name),
                                        "Map" === a || "Set" === a ? i(e) : "Arguments" === a || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a) ? o(e, t) : void 0
                                }
                            }
                        }
                        , function(e, t, n) {
                            var i = n(221)
                                , r = Array.prototype;
                            e.exports = function(e) {
                                var t = e.slice;
                                return e === r || e instanceof Array && t === r.slice ? i : t
                            }
                        }
                        , function(e, t, n) {
                            var i = n(23)
                                , r = n(61);
                            e.exports = function(e) {
                                var t = r(e);
                                if ("function" != typeof t)
                                    throw TypeError(String(e) + " is not iterable");
                                return i(t.call(e))
                            }
                        }
                        , function(e, t, n) {
                            e.exports = n(235)
                        }
                        , function(e, t, n) {
                            n(145),
                                n(75),
                                n(246),
                                n(152),
                                n(153),
                                n(249),
                                n(34),
                                n(33);
                            var i = n(13);
                            e.exports = i.Promise
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(7)
                                , r = n(98)
                                , o = n(123)
                                , a = n(58)
                                , s = n(25)
                                , l = n(42)
                                , c = n(50)
                                , u = function(e, t) {
                                var n = this;
                                if (!(n instanceof u))
                                    return new u(e,t);
                                o && (n = o(new Error(void 0), r(n))),
                                void 0 !== t && s(n, "message", String(t));
                                var i = [];
                                return c(e, i.push, {
                                    that: i
                                }),
                                    s(n, "errors", i),
                                    n
                            };
                            u.prototype = a(Error.prototype, {
                                constructor: l(5, u),
                                message: l(5, ""),
                                name: l(5, "AggregateError")
                            }),
                                i({
                                    global: !0
                                }, {
                                    AggregateError: u
                                })
                        }
                        , function(e, t, n) {
                            var i = n(12);
                            e.exports = i.Promise
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(32)
                                , r = n(26)
                                , o = n(11)
                                , a = n(20)
                                , s = o("species");
                            e.exports = function(e) {
                                var t = i(e)
                                    , n = r.f;
                                a && t && !t[s] && n(t, s, {
                                    configurable: !0,
                                    get: function() {
                                        return this
                                    }
                                })
                            }
                        }
                        , function(e, t, n) {
                            var i = n(23)
                                , r = n(38)
                                , o = n(11)("species");
                            e.exports = function(e, t) {
                                var n, a = i(e).constructor;
                                return void 0 === a || null == (n = i(a)[o]) ? t : r(n)
                            }
                        }
                        , function(e, t, n) {
                            var i, r, o, a = n(12), s = n(14), l = n(37), c = n(122), u = n(91), d = n(150), h = n(106), f = a.location, p = a.setImmediate, v = a.clearImmediate, y = a.process, g = a.MessageChannel, m = a.Dispatch, _ = 0, b = {}, E = function(e) {
                                if (b.hasOwnProperty(e)) {
                                    var t = b[e];
                                    delete b[e],
                                        t()
                                }
                            }, S = function(e) {
                                return function() {
                                    E(e)
                                }
                            }, T = function(e) {
                                E(e.data)
                            }, w = function(e) {
                                a.postMessage(e + "", f.protocol + "//" + f.host)
                            };
                            p && v || (p = function(e) {
                                    for (var t = [], n = 1; arguments.length > n; )
                                        t.push(arguments[n++]);
                                    return b[++_] = function() {
                                        ("function" == typeof e ? e : Function(e)).apply(void 0, t)
                                    }
                                        ,
                                        i(_),
                                        _
                                }
                                    ,
                                    v = function(e) {
                                        delete b[e]
                                    }
                                    ,
                                    h ? i = function(e) {
                                            y.nextTick(S(e))
                                        }
                                        : m && m.now ? i = function(e) {
                                            m.now(S(e))
                                        }
                                        : g && !d ? (o = (r = new g).port2,
                                            r.port1.onmessage = T,
                                            i = l(o.postMessage, o, 1)) : a.addEventListener && "function" == typeof postMessage && !a.importScripts && f && "file:" !== f.protocol && !s(w) ? (i = w,
                                            a.addEventListener("message", T, !1)) : i = "onreadystatechange"in u("script") ? function(e) {
                                                c.appendChild(u("script")).onreadystatechange = function() {
                                                    c.removeChild(this),
                                                        E(e)
                                                }
                                            }
                                            : function(e) {
                                                setTimeout(S(e), 0)
                                            }
                            ),
                                e.exports = {
                                    set: p,
                                    clear: v
                                }
                        }
                        , function(e, t, n) {
                            var i = n(93);
                            e.exports = /(iphone|ipod|ipad).*applewebkit/i.test(i)
                        }
                        , function(e, t, n) {
                            var i = n(23)
                                , r = n(18)
                                , o = n(64);
                            e.exports = function(e, t) {
                                if (i(e),
                                r(t) && t.constructor === e)
                                    return t;
                                var n = o.f(e);
                                return (0,
                                    n.resolve)(t),
                                    n.promise
                            }
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(7)
                                , r = n(38)
                                , o = n(64)
                                , a = n(76)
                                , s = n(50);
                            i({
                                target: "Promise",
                                stat: !0
                            }, {
                                allSettled: function(e) {
                                    var t = this
                                        , n = o.f(t)
                                        , i = n.resolve
                                        , l = n.reject
                                        , c = a((function() {
                                            var n = r(t.resolve)
                                                , o = []
                                                , a = 0
                                                , l = 1;
                                            s(e, (function(e) {
                                                    var r = a++
                                                        , s = !1;
                                                    o.push(void 0),
                                                        l++,
                                                        n.call(t, e).then((function(e) {
                                                                s || (s = !0,
                                                                    o[r] = {
                                                                        status: "fulfilled",
                                                                        value: e
                                                                    },
                                                                --l || i(o))
                                                            }
                                                        ), (function(e) {
                                                                s || (s = !0,
                                                                    o[r] = {
                                                                        status: "rejected",
                                                                        reason: e
                                                                    },
                                                                --l || i(o))
                                                            }
                                                        ))
                                                }
                                            )),
                                            --l || i(o)
                                        }
                                    ));
                                    return c.error && l(c.value),
                                        n.promise
                                }
                            })
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(7)
                                , r = n(38)
                                , o = n(32)
                                , a = n(64)
                                , s = n(76)
                                , l = n(50);
                            i({
                                target: "Promise",
                                stat: !0
                            }, {
                                any: function(e) {
                                    var t = this
                                        , n = a.f(t)
                                        , i = n.resolve
                                        , c = n.reject
                                        , u = s((function() {
                                            var n = r(t.resolve)
                                                , a = []
                                                , s = 0
                                                , u = 1
                                                , d = !1;
                                            l(e, (function(e) {
                                                    var r = s++
                                                        , l = !1;
                                                    a.push(void 0),
                                                        u++,
                                                        n.call(t, e).then((function(e) {
                                                                l || d || (d = !0,
                                                                    i(e))
                                                            }
                                                        ), (function(e) {
                                                                l || d || (l = !0,
                                                                    a[r] = e,
                                                                --u || c(new (o("AggregateError"))(a,"No one promise resolved")))
                                                            }
                                                        ))
                                                }
                                            )),
                                            --u || c(new (o("AggregateError"))(a,"No one promise resolved"))
                                        }
                                    ));
                                    return u.error && c(u.value),
                                        n.promise
                                }
                            })
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(7)
                                , r = n(12)
                                , o = n(155)
                                , a = n(14)
                                , s = n(25)
                                , l = n(50)
                                , c = n(63)
                                , u = n(18)
                                , d = n(41)
                                , h = n(26).f
                                , f = n(60).forEach
                                , p = n(20)
                                , v = n(39)
                                , y = v.set
                                , g = v.getterFor;
                            e.exports = function(e, t, n) {
                                var v, m = -1 !== e.indexOf("Map"), _ = -1 !== e.indexOf("Weak"), b = m ? "set" : "add", E = r[e], S = E && E.prototype, T = {};
                                if (p && "function" == typeof E && (_ || S.forEach && !a((function() {
                                        (new E).entries().next()
                                    }
                                )))) {
                                    v = t((function(t, n) {
                                            y(c(t, v, e), {
                                                type: e,
                                                collection: new E
                                            }),
                                            null != n && l(n, t[b], {
                                                that: t,
                                                AS_ENTRIES: m
                                            })
                                        }
                                    ));
                                    var w = g(e);
                                    f(["add", "clear", "delete", "forEach", "get", "has", "set", "keys", "values", "entries"], (function(e) {
                                            var t = "add" == e || "set" == e;
                                            !(e in S) || _ && "clear" == e || s(v.prototype, e, (function(n, i) {
                                                    var r = w(this).collection;
                                                    if (!t && _ && !u(n))
                                                        return "get" == e && void 0;
                                                    var o = r[e](0 === n ? 0 : n, i);
                                                    return t ? this : o
                                                }
                                            ))
                                        }
                                    )),
                                    _ || h(v.prototype, "size", {
                                        configurable: !0,
                                        get: function() {
                                            return w(this).collection.size
                                        }
                                    })
                                } else
                                    v = n.getConstructor(t, e, m, b),
                                        o.REQUIRED = !0;
                                return d(v, e, !1, !0),
                                    T[e] = v,
                                    i({
                                        global: !0,
                                        forced: !0
                                    }, T),
                                _ || n.setStrong(v, e, m),
                                    v
                            }
                        }
                        , function(e, t, n) {
                            var i = n(57)
                                , r = n(18)
                                , o = n(21)
                                , a = n(26).f
                                , s = n(72)
                                , l = n(259)
                                , c = s("meta")
                                , u = 0
                                , d = Object.isExtensible || function() {
                                return !0
                            }
                                , h = function(e) {
                                a(e, c, {
                                    value: {
                                        objectID: "O" + ++u,
                                        weakData: {}
                                    }
                                })
                            }
                                , f = e.exports = {
                                REQUIRED: !1,
                                fastKey: function(e, t) {
                                    if (!r(e))
                                        return "symbol" == typeof e ? e : ("string" == typeof e ? "S" : "P") + e;
                                    if (!o(e, c)) {
                                        if (!d(e))
                                            return "F";
                                        if (!t)
                                            return "E";
                                        h(e)
                                    }
                                    return e[c].objectID
                                },
                                getWeakData: function(e, t) {
                                    if (!o(e, c)) {
                                        if (!d(e))
                                            return !0;
                                        if (!t)
                                            return !1;
                                        h(e)
                                    }
                                    return e[c].weakData
                                },
                                onFreeze: function(e) {
                                    return l && f.REQUIRED && d(e) && !o(e, c) && h(e),
                                        e
                                }
                            };
                            i[c] = !0
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(26).f
                                , r = n(58)
                                , o = n(105)
                                , a = n(37)
                                , s = n(63)
                                , l = n(50)
                                , c = n(97)
                                , u = n(147)
                                , d = n(20)
                                , h = n(155).fastKey
                                , f = n(39)
                                , p = f.set
                                , v = f.getterFor;
                            e.exports = {
                                getConstructor: function(e, t, n, c) {
                                    var u = e((function(e, i) {
                                            s(e, u, t),
                                                p(e, {
                                                    type: t,
                                                    index: r(null),
                                                    first: void 0,
                                                    last: void 0,
                                                    size: 0
                                                }),
                                            d || (e.size = 0),
                                            null != i && l(i, e[c], {
                                                that: e,
                                                AS_ENTRIES: n
                                            })
                                        }
                                    ))
                                        , f = v(t)
                                        , y = function(e, t, n) {
                                        var i, r, o = f(e), a = g(e, t);
                                        return a ? a.value = n : (o.last = a = {
                                            index: r = h(t, !0),
                                            key: t,
                                            value: n,
                                            previous: i = o.last,
                                            next: void 0,
                                            removed: !1
                                        },
                                        o.first || (o.first = a),
                                        i && (i.next = a),
                                            d ? o.size++ : e.size++,
                                        "F" !== r && (o.index[r] = a)),
                                            e
                                    }
                                        , g = function(e, t) {
                                        var n, i = f(e), r = h(t);
                                        if ("F" !== r)
                                            return i.index[r];
                                        for (n = i.first; n; n = n.next)
                                            if (n.key == t)
                                                return n
                                    };
                                    return o(u.prototype, {
                                        clear: function() {
                                            for (var e = f(this), t = e.index, n = e.first; n; )
                                                n.removed = !0,
                                                n.previous && (n.previous = n.previous.next = void 0),
                                                    delete t[n.index],
                                                    n = n.next;
                                            e.first = e.last = void 0,
                                                d ? e.size = 0 : this.size = 0
                                        },
                                        delete: function(e) {
                                            var t = f(this)
                                                , n = g(this, e);
                                            if (n) {
                                                var i = n.next
                                                    , r = n.previous;
                                                delete t.index[n.index],
                                                    n.removed = !0,
                                                r && (r.next = i),
                                                i && (i.previous = r),
                                                t.first == n && (t.first = i),
                                                t.last == n && (t.last = r),
                                                    d ? t.size-- : this.size--
                                            }
                                            return !!n
                                        },
                                        forEach: function(e) {
                                            for (var t, n = f(this), i = a(e, arguments.length > 1 ? arguments[1] : void 0, 3); t = t ? t.next : n.first; )
                                                for (i(t.value, t.key, this); t && t.removed; )
                                                    t = t.previous
                                        },
                                        has: function(e) {
                                            return !!g(this, e)
                                        }
                                    }),
                                        o(u.prototype, n ? {
                                            get: function(e) {
                                                var t = g(this, e);
                                                return t && t.value
                                            },
                                            set: function(e, t) {
                                                return y(this, 0 === e ? 0 : e, t)
                                            }
                                        } : {
                                            add: function(e) {
                                                return y(this, e = 0 === e ? 0 : e, e)
                                            }
                                        }),
                                    d && i(u.prototype, "size", {
                                        get: function() {
                                            return f(this).size
                                        }
                                    }),
                                        u
                                },
                                setStrong: function(e, t, n) {
                                    var i = t + " Iterator"
                                        , r = v(t)
                                        , o = v(i);
                                    c(e, t, (function(e, t) {
                                            p(this, {
                                                type: i,
                                                target: e,
                                                state: r(e),
                                                kind: t,
                                                last: void 0
                                            })
                                        }
                                    ), (function() {
                                            for (var e = o(this), t = e.kind, n = e.last; n && n.removed; )
                                                n = n.previous;
                                            return e.target && (e.last = n = n ? n.next : e.state.first) ? "keys" == t ? {
                                                value: n.key,
                                                done: !1
                                            } : "values" == t ? {
                                                value: n.value,
                                                done: !1
                                            } : {
                                                value: [n.key, n.value],
                                                done: !1
                                            } : (e.target = void 0,
                                                {
                                                    value: void 0,
                                                    done: !0
                                                })
                                        }
                                    ), n ? "entries" : "values", !n, !0),
                                        u(t)
                                }
                            }
                        }
                        , function(e, t, n) {
                            var i = n(14)
                                , r = n(11)
                                , o = n(40)
                                , a = r("iterator");
                            e.exports = !i((function() {
                                    var e = new URL("b?a=1&b=2&c=3","http://a")
                                        , t = e.searchParams
                                        , n = "";
                                    return e.pathname = "c%20d",
                                        t.forEach((function(e, i) {
                                                t.delete("b"),
                                                    n += i + e
                                            }
                                        )),
                                    o && !e.toJSON || !t.sort || "http://a/c%20d?a=1&c=3" !== e.href || "3" !== t.get("c") || "a=1" !== String(new URLSearchParams("?a=1")) || !t[a] || "a" !== new URL("https://a@b").username || "b" !== new URLSearchParams(new URLSearchParams("a=b")).get("a") || "xn--e1aybc" !== new URL("http://тест").host || "#%D0%B1" !== new URL("http://a#б").hash || "a1c3" !== n || "x" !== new URL("http://x",void 0).host
                                }
                            ))
                        }
                        , function(e, t, n) {
                            "use strict";
                            n(94);
                            var i = n(7)
                                , r = n(32)
                                , o = n(157)
                                , a = n(45)
                                , s = n(105)
                                , l = n(41)
                                , c = n(117)
                                , u = n(39)
                                , d = n(63)
                                , h = n(21)
                                , f = n(37)
                                , p = n(44)
                                , v = n(23)
                                , y = n(18)
                                , g = n(58)
                                , m = n(42)
                                , _ = n(142)
                                , b = n(61)
                                , E = n(11)
                                , S = r("fetch")
                                , T = r("Headers")
                                , w = E("iterator")
                                , C = u.set
                                , A = u.getterFor("URLSearchParams")
                                , k = u.getterFor("URLSearchParamsIterator")
                                , x = /\+/g
                                , L = Array(4)
                                , R = function(e) {
                                return L[e - 1] || (L[e - 1] = RegExp("((?:%[\\da-f]{2}){" + e + "})", "gi"))
                            }
                                , I = function(e) {
                                try {
                                    return decodeURIComponent(e)
                                } catch (t) {
                                    return e
                                }
                            }
                                , P = function(e) {
                                var t = e.replace(x, " ")
                                    , n = 4;
                                try {
                                    return decodeURIComponent(t)
                                } catch (e) {
                                    for (; n; )
                                        t = t.replace(R(n--), I);
                                    return t
                                }
                            }
                                , M = /[!'()~]|%20/g
                                , D = {
                                "!": "%21",
                                "'": "%27",
                                "(": "%28",
                                ")": "%29",
                                "~": "%7E",
                                "%20": "+"
                            }
                                , O = function(e) {
                                return D[e]
                            }
                                , N = function(e) {
                                return encodeURIComponent(e).replace(M, O)
                            }
                                , U = function(e, t) {
                                if (t)
                                    for (var n, i, r = t.split("&"), o = 0; o < r.length; )
                                        (n = r[o++]).length && (i = n.split("="),
                                            e.push({
                                                key: P(i.shift()),
                                                value: P(i.join("="))
                                            }))
                            }
                                , B = function(e) {
                                this.entries.length = 0,
                                    U(this.entries, e)
                            }
                                , F = function(e, t) {
                                if (e < t)
                                    throw TypeError("Not enough arguments")
                            }
                                , z = c((function(e, t) {
                                    C(this, {
                                        type: "URLSearchParamsIterator",
                                        iterator: _(A(e).entries),
                                        kind: t
                                    })
                                }
                            ), "Iterator", (function() {
                                    var e = k(this)
                                        , t = e.kind
                                        , n = e.iterator.next()
                                        , i = n.value;
                                    return n.done || (n.value = "keys" === t ? i.key : "values" === t ? i.value : [i.key, i.value]),
                                        n
                                }
                            ))
                                , j = function() {
                                d(this, j, "URLSearchParams");
                                var e, t, n, i, r, o, a, s, l, c = arguments.length > 0 ? arguments[0] : void 0, u = this, f = [];
                                if (C(u, {
                                    type: "URLSearchParams",
                                    entries: f,
                                    updateURL: function() {},
                                    updateSearchParams: B
                                }),
                                void 0 !== c)
                                    if (y(c))
                                        if ("function" == typeof (e = b(c)))
                                            for (n = (t = e.call(c)).next; !(i = n.call(t)).done; ) {
                                                if ((a = (o = (r = _(v(i.value))).next).call(r)).done || (s = o.call(r)).done || !o.call(r).done)
                                                    throw TypeError("Expected sequence with length 2");
                                                f.push({
                                                    key: a.value + "",
                                                    value: s.value + ""
                                                })
                                            }
                                        else
                                            for (l in c)
                                                h(c, l) && f.push({
                                                    key: l,
                                                    value: c[l] + ""
                                                });
                                    else
                                        U(f, "string" == typeof c ? "?" === c.charAt(0) ? c.slice(1) : c : c + "")
                            }
                                , V = j.prototype;
                            s(V, {
                                append: function(e, t) {
                                    F(arguments.length, 2);
                                    var n = A(this);
                                    n.entries.push({
                                        key: e + "",
                                        value: t + ""
                                    }),
                                        n.updateURL()
                                },
                                delete: function(e) {
                                    F(arguments.length, 1);
                                    for (var t = A(this), n = t.entries, i = e + "", r = 0; r < n.length; )
                                        n[r].key === i ? n.splice(r, 1) : r++;
                                    t.updateURL()
                                },
                                get: function(e) {
                                    F(arguments.length, 1);
                                    for (var t = A(this).entries, n = e + "", i = 0; i < t.length; i++)
                                        if (t[i].key === n)
                                            return t[i].value;
                                    return null
                                },
                                getAll: function(e) {
                                    F(arguments.length, 1);
                                    for (var t = A(this).entries, n = e + "", i = [], r = 0; r < t.length; r++)
                                        t[r].key === n && i.push(t[r].value);
                                    return i
                                },
                                has: function(e) {
                                    F(arguments.length, 1);
                                    for (var t = A(this).entries, n = e + "", i = 0; i < t.length; )
                                        if (t[i++].key === n)
                                            return !0;
                                    return !1
                                },
                                set: function(e, t) {
                                    F(arguments.length, 1);
                                    for (var n, i = A(this), r = i.entries, o = !1, a = e + "", s = t + "", l = 0; l < r.length; l++)
                                        (n = r[l]).key === a && (o ? r.splice(l--, 1) : (o = !0,
                                            n.value = s));
                                    o || r.push({
                                        key: a,
                                        value: s
                                    }),
                                        i.updateURL()
                                },
                                sort: function() {
                                    var e, t, n, i = A(this), r = i.entries, o = r.slice();
                                    for (r.length = 0,
                                             n = 0; n < o.length; n++) {
                                        for (e = o[n],
                                                 t = 0; t < n; t++)
                                            if (r[t].key > e.key) {
                                                r.splice(t, 0, e);
                                                break
                                            }
                                        t === n && r.push(e)
                                    }
                                    i.updateURL()
                                },
                                forEach: function(e) {
                                    for (var t, n = A(this).entries, i = f(e, arguments.length > 1 ? arguments[1] : void 0, 3), r = 0; r < n.length; )
                                        i((t = n[r++]).value, t.key, this)
                                },
                                keys: function() {
                                    return new z(this,"keys")
                                },
                                values: function() {
                                    return new z(this,"values")
                                },
                                entries: function() {
                                    return new z(this,"entries")
                                }
                            }, {
                                enumerable: !0
                            }),
                                a(V, w, V.entries),
                                a(V, "toString", (function() {
                                        for (var e, t = A(this).entries, n = [], i = 0; i < t.length; )
                                            e = t[i++],
                                                n.push(N(e.key) + "=" + N(e.value));
                                        return n.join("&")
                                    }
                                ), {
                                    enumerable: !0
                                }),
                                l(j, "URLSearchParams"),
                                i({
                                    global: !0,
                                    forced: !o
                                }, {
                                    URLSearchParams: j
                                }),
                            o || "function" != typeof S || "function" != typeof T || i({
                                global: !0,
                                enumerable: !0,
                                forced: !0
                            }, {
                                fetch: function(e) {
                                    var t, n, i, r = [e];
                                    return arguments.length > 1 && (y(t = arguments[1]) && (n = t.body,
                                    "URLSearchParams" === p(n) && ((i = t.headers ? new T(t.headers) : new T).has("content-type") || i.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8"),
                                        t = g(t, {
                                            body: m(0, String(n)),
                                            headers: m(0, i)
                                        }))),
                                        r.push(t)),
                                        S.apply(this, r)
                                }
                            }),
                                e.exports = {
                                    URLSearchParams: j,
                                    getState: A
                                }
                        }
                        , function(e, t, n) {
                            "use strict";
                            n.d(t, "a", (function() {
                                    return c
                                }
                            ));
                            var i = n(2)
                                , r = n.n(i)
                                , o = n(3)
                                , a = n.n(o)
                                , s = n(0)
                                , l = n.n(s)
                                , c = function() {
                                function e() {
                                    r()(this, e)
                                }
                                return a()(e, null, [{
                                    key: "crc32",
                                    value: function(e) {
                                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1
                                            , n = new Uint32Array(1)
                                            , i = new Uint32Array(1);
                                        i[0] = t;
                                        var r = new Uint32Array(1);
                                        for (r[0] = 0,
                                                 r[0] ^= 4294967295,
                                                 n[0] = 0; n[0] < e.length; n[0] += t)
                                            r[0] = this.crc32_tab[255 & (r[0] ^ e[n[0]])] ^ r[0] >> 8 & 16777215;
                                        return r[0] = 4294967295 ^ r[0],
                                        r[0] < 0 && (r[0] += 4294967296),
                                            r[0]
                                    }
                                }]),
                                    e
                            }();
                            l()(c, "crc32_tab", new Uint32Array([0, 1996959894, 3993919788, 2567524794, 124634137, 1886057615, 3915621685, 2657392035, 249268274, 2044508324, 3772115230, 2547177864, 162941995, 2125561021, 3887607047, 2428444049, 498536548, 1789927666, 4089016648, 2227061214, 450548861, 1843258603, 4107580753, 2211677639, 325883990, 1684777152, 4251122042, 2321926636, 335633487, 1661365465, 4195302755, 2366115317, 997073096, 1281953886, 3579855332, 2724688242, 1006888145, 1258607687, 3524101629, 2768942443, 901097722, 1119000684, 3686517206, 2898065728, 853044451, 1172266101, 3705015759, 2882616665, 651767980, 1373503546, 3369554304, 3218104598, 565507253, 1454621731, 3485111705, 3099436303, 671266974, 1594198024, 3322730930, 2970347812, 795835527, 1483230225, 3244367275, 3060149565, 1994146192, 31158534, 2563907772, 4023717930, 1907459465, 112637215, 2680153253, 3904427059, 2013776290, 251722036, 2517215374, 3775830040, 2137656763, 141376813, 2439277719, 3865271297, 1802195444, 476864866, 2238001368, 4066508878, 1812370925, 453092731, 2181625025, 4111451223, 1706088902, 314042704, 2344532202, 4240017532, 1658658271, 366619977, 2362670323, 4224994405, 1303535960, 984961486, 2747007092, 3569037538, 1256170817, 1037604311, 2765210733, 3554079995, 1131014506, 879679996, 2909243462, 3663771856, 1141124467, 855842277, 2852801631, 3708648649, 1342533948, 654459306, 3188396048, 3373015174, 1466479909, 544179635, 3110523913, 3462522015, 1591671054, 702138776, 2966460450, 3352799412, 1504918807, 783551873, 3082640443, 3233442989, 3988292384, 2596254646, 62317068, 1957810842, 3939845945, 2647816111, 81470997, 1943803523, 3814918930, 2489596804, 225274430, 2053790376, 3826175755, 2466906013, 167816743, 2097651377, 4027552580, 2265490386, 503444072, 1762050814, 4150417245, 2154129355, 426522225, 1852507879, 4275313526, 2312317920, 282753626, 1742555852, 4189708143, 2394877945, 397917763, 1622183637, 3604390888, 2714866558, 953729732, 1340076626, 3518719985, 2797360999, 1068828381, 1219638859, 3624741850, 2936675148, 906185462, 1090812512, 3747672003, 2825379669, 829329135, 1181335161, 3412177804, 3160834842, 628085408, 1382605366, 3423369109, 3138078467, 570562233, 1426400815, 3317316542, 2998733608, 733239954, 1555261956, 3268935591, 3050360625, 752459403, 1541320221, 2607071920, 3965973030, 1969922972, 40735498, 2617837225, 3943577151, 1913087877, 83908371, 2512341634, 3803740692, 2075208622, 213261112, 2463272603, 3855990285, 2094854071, 198958881, 2262029012, 4057260610, 1759359992, 534414190, 2176718541, 4139329115, 1873836001, 414664567, 2282248934, 4279200368, 1711684554, 285281116, 2405801727, 4167216745, 1634467795, 376229701, 2685067896, 3608007406, 1308918612, 956543938, 2808555105, 3495958263, 1231636301, 1047427035, 2932959818, 3654703836, 1088359270, 936918e3, 2847714899, 3736837829, 1202900863, 817233897, 3183342108, 3401237130, 1404277552, 615818150, 3134207493, 3453421203, 1423857449, 601450431, 3009837614, 3294710456, 1567103746, 711928724, 3020668471, 3272380065, 1510334235, 755167117]))
                        }
                        , function(e, t, n) {
                            e.exports = n(296)
                        }
                        , function(e, t, n) {
                            e.exports = n(302)
                        }
                        , function(e, t, n) {
                            e.exports = n(314)
                        }
                        , function(e, t, n) {
                            "use strict";
                            (function(e) {
                                    n.d(t, "a", (function() {
                                            return v
                                        }
                                    ));
                                    var i = n(5)
                                        , r = n.n(i)
                                        , o = n(27)
                                        , a = n.n(o)
                                        , s = n(2)
                                        , l = n.n(s)
                                        , c = n(3)
                                        , u = n.n(c)
                                        , d = n(0)
                                        , h = n.n(d)
                                        , f = n(8)
                                        , p = n(53)
                                        , v = function() {
                                        function t(e, n) {
                                            var i = this;
                                            l()(this, t),
                                                h()(this, "p2pContext", void 0),
                                                h()(this, "fetchDataArray", void 0),
                                                h()(this, "currentShareDataLMQueue", void 0),
                                                h()(this, "lastestShareDataArray", void 0),
                                                h()(this, "sched", void 0),
                                                h()(this, "fetchControlIntervalId", void 0),
                                                h()(this, "shareControlIntervalId", void 0),
                                                h()(this, "lastestShareSliceIds", new a.a),
                                                h()(this, "intervalMSChangeId", void 0),
                                                this.p2pContext = e,
                                                this.sched = n,
                                                this.fetchDataArray = new Array(this.p2pContext.Config.sliceCount),
                                                this.currentShareDataLMQueue = new p.a(this.p2pContext.Config.p2pFetchDataObCycleCount),
                                                this.lastestShareDataArray = new Array(this.p2pContext.Config.sliceCount);
                                            for (var r = 0; r < this.p2pContext.Config.sliceCount; ++r)
                                                this.fetchDataArray[r] = new p.a(this.p2pContext.Config.p2pFetchDataObCycleCount),
                                                    this.lastestShareDataArray[r] = new p.a(this.p2pContext.Config.p2pShareDataObCycleCount);
                                            this.startSliceIdControl(),
                                                this.intervalMSChangeId = e.sliceIdAutoChangeIntervalSignal.connect((function() {
                                                        i.startSliceIdControl()
                                                    }
                                                ))
                                        }
                                        return u()(t, [{
                                            key: "startSliceIdControl",
                                            value: function() {
                                                var t = this;
                                                this.stopSliceIdControl(),
                                                    this.fetchControlIntervalId = e.setInterval((function() {
                                                            t.checkFetch()
                                                        }
                                                    ), this.p2pContext.Config.p2pSliceIdControlFetchCheckIntervalMs),
                                                    this.shareControlIntervalId = e.setInterval((function() {
                                                            t.checkShare()
                                                        }
                                                    ), this.p2pContext.Config.p2pSliceIdControlShareCheckIntervalMs)
                                            }
                                        }, {
                                            key: "stopSliceIdControl",
                                            value: function() {
                                                void 0 !== this.fetchControlIntervalId && (clearInterval(this.fetchControlIntervalId),
                                                    this.fetchControlIntervalId = void 0),
                                                void 0 !== this.shareControlIntervalId && (clearInterval(this.shareControlIntervalId),
                                                    this.shareControlIntervalId = void 0),
                                                    this.currentShareDataLMQueue.clear();
                                                for (var e = 0; e < this.p2pContext.Config.sliceCount; ++e)
                                                    this.fetchDataArray[e].clear(),
                                                        this.lastestShareDataArray[e].clear()
                                            }
                                        }, {
                                            key: "addFragmentFetchData",
                                            value: function(e) {
                                                if (void 0 === this.p2pContext.PeerSched || 0 != this.p2pContext.PeerSched.getConnectedPeers().length) {
                                                    if (!this.isSame(this.sched.getSliceIds(), e.getSliceIds())) {
                                                        void 0 !== this.fetchControlIntervalId && this.checkFetch();
                                                        for (var t = 0; t < this.p2pContext.Config.sliceCount; ++t)
                                                            this.fetchDataArray[t].clear(),
                                                                this.currentShareDataLMQueue.clear()
                                                    }
                                                    for (t = 0; t < this.p2pContext.Config.sliceCount; ++t)
                                                        this.fetchDataArray[t].push(e.getSourceRatioForSlice(f.a.SERVER, t));
                                                    this.currentShareDataLMQueue.push(e.getSharedRatio())
                                                } else
                                                    this.p2pContext.PeerSched.getSliceIds().clear()
                                            }
                                        }, {
                                            key: "isSame",
                                            value: function(e, t) {
                                                if (e.size == t.size) {
                                                    var n = !0;
                                                    return r()(e).call(e, (function(e) {
                                                            t.has(e) || (n = !1)
                                                        }
                                                    )),
                                                        n
                                                }
                                                return !1
                                            }
                                        }, {
                                            key: "addFragmentShareData",
                                            value: function(e) {
                                                if (void 0 === this.p2pContext.PeerSched || 0 != this.p2pContext.PeerSched.getConnectedPeers().length) {
                                                    var t = !0;
                                                    if (void 0 !== this.lastestShareSliceIds && (t = this.isSame(this.lastestShareSliceIds, e.getSliceIds())),
                                                        !t) {
                                                        void 0 !== this.shareControlIntervalId && this.checkShare();
                                                        for (var n = 0; n < this.p2pContext.Config.sliceCount; ++n)
                                                            this.lastestShareDataArray[n].clear()
                                                    }
                                                    for (n = 0; n < this.p2pContext.Config.sliceCount; ++n)
                                                        this.lastestShareDataArray[n].push(e.getSliceSharedRatio(n));
                                                    this.lastestShareSliceIds = e.getSliceIds()
                                                } else
                                                    this.p2pContext.PeerSched.getSliceIds().clear()
                                            }
                                        }, {
                                            key: "checkFetch",
                                            value: function() {
                                                if (void 0 === this.p2pContext.PeerSched || 0 != this.p2pContext.PeerSched.getConnectedPeers().length) {
                                                    if (!(this.fetchDataArray[0].size() < this.p2pContext.Config.p2pFetchDataObCycleCount))
                                                        for (var e = 0; e < this.p2pContext.Config.sliceCount; ++e) {
                                                            var t, n, i = 0;
                                                            r()(t = this.fetchDataArray[e]).call(t, (function(e) {
                                                                    i += e
                                                                }
                                                            )),
                                                                i /= this.fetchDataArray[e].size();
                                                            var o = 0;
                                                            r()(n = this.currentShareDataLMQueue).call(n, (function(e) {
                                                                    o += e
                                                                }
                                                            )),
                                                                o /= this.currentShareDataLMQueue.size(),
                                                            !this.sched.getSliceIds().has(e) && o < this.p2pContext.Config.p2pShareLargestAllowedFetchRatio * this.p2pContext.Config.fragmentShareOverride && i >= this.p2pContext.Config.p2pFetchLowestRatio && (this.p2pContext.printExtLog(3, "fetch: want to add " + e),
                                                            this.p2pContext.Config.allowPrintLog(3) && console.log("fetch: want to add " + e),
                                                            Math.random() < this.p2pContext.Config.p2pAddSliceProbability && this.sched.addSliceId(e))
                                                        }
                                                } else
                                                    this.p2pContext.PeerSched.getSliceIds().clear()
                                            }
                                        }, {
                                            key: "checkShare",
                                            value: function() {
                                                if (void 0 === this.p2pContext.PeerSched || 0 != this.p2pContext.PeerSched.getConnectedPeers().length) {
                                                    if (!(this.lastestShareDataArray[0].size() < this.p2pContext.Config.p2pShareDataObCycleCount))
                                                        for (var e = 0; e < this.p2pContext.Config.sliceCount; ++e) {
                                                            var t, n = 0;
                                                            r()(t = this.lastestShareDataArray[e]).call(t, (function(e) {
                                                                    n += e
                                                                }
                                                            )),
                                                                n /= this.lastestShareDataArray[e].size(),
                                                            this.lastestShareSliceIds.has(e) && n <= this.p2pContext.Config.p2pShareLowestRatio && (this.p2pContext.printExtLog(3, "share: want to delete " + e),
                                                            this.p2pContext.Config.allowPrintLog(3) && console.log("share: want to delete " + e),
                                                            Math.random() < this.p2pContext.Config.p2pDeleteSliceProbability && this.sched.deleteSliceId(e))
                                                        }
                                                } else
                                                    this.p2pContext.PeerSched.getSliceIds().clear()
                                            }
                                        }, {
                                            key: "destroy",
                                            value: function() {
                                                this.stopSliceIdControl(),
                                                void 0 !== this.intervalMSChangeId && this.p2pContext.sliceIdAutoChangeIntervalSignal.disconnect(this.intervalMSChangeId)
                                            }
                                        }]),
                                            t
                                    }()
                                }
                            ).call(this, n(89))
                        }
                        , function(e, t, n) {
                            e.exports = n(320)
                        }
                        , function(e, t, n) {
                            var i = n(56)
                                , r = "[" + n(109) + "]"
                                , o = RegExp("^" + r + r + "*")
                                , a = RegExp(r + r + "*$")
                                , s = function(e) {
                                return function(t) {
                                    var n = String(i(t));
                                    return 1 & e && (n = n.replace(o, "")),
                                    2 & e && (n = n.replace(a, "")),
                                        n
                                }
                            };
                            e.exports = {
                                start: s(1),
                                end: s(2),
                                trim: s(3)
                            }
                        }
                        , , function(e, t, n) {
                            var i = n(168);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            n(169);
                            var i = n(13);
                            e.exports = i.Number.parseInt
                        }
                        , function(e, t, n) {
                            var i = n(7)
                                , r = n(112);
                            i({
                                target: "Number",
                                stat: !0,
                                forced: Number.parseInt != r
                            }, {
                                parseInt: r
                            })
                        }
                        , function(e, t, n) {
                            var i = n(171);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            var i = n(172)
                                , r = Array.prototype;
                            e.exports = function(e) {
                                var t = e.indexOf;
                                return e === r || e instanceof Array && t === r.indexOf ? i : t
                            }
                        }
                        , function(e, t, n) {
                            n(173);
                            var i = n(24);
                            e.exports = i("Array").indexOf
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(7)
                                , r = n(113).indexOf
                                , o = n(87)
                                , a = n(47)
                                , s = [].indexOf
                                , l = !!s && 1 / [1].indexOf(1, -0) < 0
                                , c = o("indexOf")
                                , u = a("indexOf", {
                                ACCESSORS: !0,
                                1: 0
                            });
                            i({
                                target: "Array",
                                proto: !0,
                                forced: l || !c || !u
                            }, {
                                indexOf: function(e) {
                                    return l ? s.apply(this, arguments) || 0 : r(this, e, arguments.length > 1 ? arguments[1] : void 0)
                                }
                            })
                        }
                        , function(e, t, n) {
                            n(114);
                            var i = n(13);
                            e.exports = i.setTimeout
                        }
                        , function(e, t, n) {
                            n(33);
                            var i = n(182)
                                , r = n(44)
                                , o = Array.prototype
                                , a = {
                                DOMTokenList: !0,
                                NodeList: !0
                            };
                            e.exports = function(e) {
                                var t = e.forEach;
                                return e === o || e instanceof Array && t === o.forEach || a.hasOwnProperty(r(e)) ? i : t
                            }
                        }
                        , function(e, t, n) {
                            var i = n(12)
                                , r = n(116)
                                , o = i.WeakMap;
                            e.exports = "function" == typeof o && /native code/.test(r(o))
                        }
                        , function(e, t, n) {
                            var i = n(12)
                                , r = n(25);
                            e.exports = function(e, t) {
                                try {
                                    r(i, e, t)
                                } catch (n) {
                                    i[e] = t
                                }
                                return t
                            }
                        }
                        , function(e, t, n) {
                            var i = n(14);
                            e.exports = !i((function() {
                                    function e() {}
                                    return e.prototype.constructor = null,
                                    Object.getPrototypeOf(new e) !== e.prototype
                                }
                            ))
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(101)
                                , r = n(44);
                            e.exports = i ? {}.toString : function() {
                                return "[object " + r(this) + "]"
                            }
                        }
                        , function(e, t, n) {
                            var i = n(18);
                            e.exports = function(e) {
                                if (!i(e) && null !== e)
                                    throw TypeError("Can't set " + String(e) + " as a prototype");
                                return e
                            }
                        }
                        , function(e, t) {
                            e.exports = {
                                CSSRuleList: 0,
                                CSSStyleDeclaration: 0,
                                CSSValueList: 0,
                                ClientRectList: 0,
                                DOMRectList: 0,
                                DOMStringList: 0,
                                DOMTokenList: 1,
                                DataTransferItemList: 0,
                                FileList: 0,
                                HTMLAllCollection: 0,
                                HTMLCollection: 0,
                                HTMLFormElement: 0,
                                HTMLSelectElement: 0,
                                MediaList: 0,
                                MimeTypeArray: 0,
                                NamedNodeMap: 0,
                                NodeList: 1,
                                PaintRequestList: 0,
                                Plugin: 0,
                                PluginArray: 0,
                                SVGLengthList: 0,
                                SVGNumberList: 0,
                                SVGPathSegList: 0,
                                SVGPointList: 0,
                                SVGStringList: 0,
                                SVGTransformList: 0,
                                SourceBufferList: 0,
                                StyleSheetList: 0,
                                TextTrackCueList: 0,
                                TextTrackList: 0,
                                TouchList: 0
                            }
                        }
                        , function(e, t, n) {
                            var i = n(183);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            n(184);
                            var i = n(24);
                            e.exports = i("Array").forEach
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(7)
                                , r = n(185);
                            i({
                                target: "Array",
                                proto: !0,
                                forced: [].forEach != r
                            }, {
                                forEach: r
                            })
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(60).forEach
                                , r = n(87)
                                , o = n(47)
                                , a = r("forEach")
                                , s = o("forEach");
                            e.exports = a && s ? [].forEach : function(e) {
                                return i(this, e, arguments.length > 1 ? arguments[1] : void 0)
                            }
                        }
                        , function(e, t, n) {
                            var i = n(124)
                                , r = n(126);
                            e.exports = function(e) {
                                if (i(e))
                                    return r(e)
                            }
                        }
                        , function(e, t, n) {
                            var i = n(125);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            n(7)({
                                target: "Array",
                                stat: !0
                            }, {
                                isArray: n(49)
                            })
                        }
                        , function(e, t, n) {
                            var i = n(127)
                                , r = n(134)
                                , o = n(102);
                            e.exports = function(e) {
                                if (void 0 !== o && r(Object(e)))
                                    return i(e)
                            }
                        }
                        , function(e, t, n) {
                            var i = n(128);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            var i = n(7)
                                , r = n(130);
                            i({
                                target: "Array",
                                stat: !0,
                                forced: !n(133)((function(e) {
                                        Array.from(e)
                                    }
                                ))
                            }, {
                                from: r
                            })
                        }
                        , function(e, t, n) {
                            var i = n(23)
                                , r = n(131);
                            e.exports = function(e, t, n, o) {
                                try {
                                    return o ? t(i(n)[0], n[1]) : t(n)
                                } catch (t) {
                                    throw r(e),
                                        t
                                }
                            }
                        }
                        , function(e, t, n) {
                            n(33),
                                n(34);
                            var i = n(194);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            var i = n(44)
                                , r = n(11)
                                , o = n(43)
                                , a = r("iterator");
                            e.exports = function(e) {
                                var t = Object(e);
                                return void 0 !== t[a] || "@@iterator"in t || o.hasOwnProperty(i(t))
                            }
                        }
                        , function(e, t, n) {
                            var i = n(135);
                            n(214),
                                n(215),
                                n(216),
                                n(217),
                                n(218),
                                e.exports = i
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(7)
                                , r = n(12)
                                , o = n(32)
                                , a = n(40)
                                , s = n(20)
                                , l = n(99)
                                , c = n(119)
                                , u = n(14)
                                , d = n(21)
                                , h = n(49)
                                , f = n(18)
                                , p = n(23)
                                , v = n(31)
                                , y = n(36)
                                , g = n(70)
                                , m = n(42)
                                , _ = n(58)
                                , b = n(59)
                                , E = n(137)
                                , S = n(197)
                                , T = n(138)
                                , w = n(68)
                                , C = n(26)
                                , A = n(69)
                                , k = n(25)
                                , x = n(45)
                                , L = n(96)
                                , R = n(71)
                                , I = n(57)
                                , P = n(72)
                                , M = n(11)
                                , D = n(104)
                                , O = n(17)
                                , N = n(41)
                                , U = n(39)
                                , B = n(60).forEach
                                , F = R("hidden")
                                , z = M("toPrimitive")
                                , j = U.set
                                , V = U.getterFor("Symbol")
                                , G = Object.prototype
                                , Y = r.Symbol
                                , H = o("JSON", "stringify")
                                , W = w.f
                                , K = C.f
                                , Q = S.f
                                , Z = A.f
                                , q = L("symbols")
                                , J = L("op-symbols")
                                , X = L("string-to-symbol-registry")
                                , $ = L("symbol-to-string-registry")
                                , ee = L("wks")
                                , te = r.QObject
                                , ne = !te || !te.prototype || !te.prototype.findChild
                                , ie = s && u((function() {
                                    return 7 != _(K({}, "a", {
                                        get: function() {
                                            return K(this, "a", {
                                                value: 7
                                            }).a
                                        }
                                    })).a
                                }
                            )) ? function(e, t, n) {
                                    var i = W(G, t);
                                    i && delete G[t],
                                        K(e, t, n),
                                    i && e !== G && K(G, t, i)
                                }
                                : K
                                , re = function(e, t) {
                                var n = q[e] = _(Y.prototype);
                                return j(n, {
                                    type: "Symbol",
                                    tag: e,
                                    description: t
                                }),
                                s || (n.description = t),
                                    n
                            }
                                , oe = c ? function(e) {
                                    return "symbol" == typeof e
                                }
                                : function(e) {
                                    return Object(e)instanceof Y
                                }
                                , ae = function(e, t, n) {
                                e === G && ae(J, t, n),
                                    p(e);
                                var i = g(t, !0);
                                return p(n),
                                    d(q, i) ? (n.enumerable ? (d(e, F) && e[F][i] && (e[F][i] = !1),
                                        n = _(n, {
                                            enumerable: m(0, !1)
                                        })) : (d(e, F) || K(e, F, m(1, {})),
                                        e[F][i] = !0),
                                        ie(e, i, n)) : K(e, i, n)
                            }
                                , se = function(e, t) {
                                p(e);
                                var n = y(t)
                                    , i = b(n).concat(de(n));
                                return B(i, (function(t) {
                                        s && !le.call(n, t) || ae(e, t, n[t])
                                    }
                                )),
                                    e
                            }
                                , le = function(e) {
                                var t = g(e, !0)
                                    , n = Z.call(this, t);
                                return !(this === G && d(q, t) && !d(J, t)) && (!(n || !d(this, t) || !d(q, t) || d(this, F) && this[F][t]) || n)
                            }
                                , ce = function(e, t) {
                                var n = y(e)
                                    , i = g(t, !0);
                                if (n !== G || !d(q, i) || d(J, i)) {
                                    var r = W(n, i);
                                    return !r || !d(q, i) || d(n, F) && n[F][i] || (r.enumerable = !0),
                                        r
                                }
                            }
                                , ue = function(e) {
                                var t = Q(y(e))
                                    , n = [];
                                return B(t, (function(e) {
                                        d(q, e) || d(I, e) || n.push(e)
                                    }
                                )),
                                    n
                            }
                                , de = function(e) {
                                var t = e === G
                                    , n = Q(t ? J : y(e))
                                    , i = [];
                                return B(n, (function(e) {
                                        !d(q, e) || t && !d(G, e) || i.push(q[e])
                                    }
                                )),
                                    i
                            };
                            l || (x((Y = function() {
                                    if (this instanceof Y)
                                        throw TypeError("Symbol is not a constructor");
                                    var e = arguments.length && void 0 !== arguments[0] ? String(arguments[0]) : void 0
                                        , t = P(e)
                                        , n = function(e) {
                                        this === G && n.call(J, e),
                                        d(this, F) && d(this[F], t) && (this[F][t] = !1),
                                            ie(this, t, m(1, e))
                                    };
                                    return s && ne && ie(G, t, {
                                        configurable: !0,
                                        set: n
                                    }),
                                        re(t, e)
                                }
                            ).prototype, "toString", (function() {
                                    return V(this).tag
                                }
                            )),
                                x(Y, "withoutSetter", (function(e) {
                                        return re(P(e), e)
                                    }
                                )),
                                A.f = le,
                                C.f = ae,
                                w.f = ce,
                                E.f = S.f = ue,
                                T.f = de,
                                D.f = function(e) {
                                    return re(M(e), e)
                                }
                                ,
                            s && (K(Y.prototype, "description", {
                                configurable: !0,
                                get: function() {
                                    return V(this).description
                                }
                            }),
                            a || x(G, "propertyIsEnumerable", le, {
                                unsafe: !0
                            }))),
                                i({
                                    global: !0,
                                    wrap: !0,
                                    forced: !l,
                                    sham: !l
                                }, {
                                    Symbol: Y
                                }),
                                B(b(ee), (function(e) {
                                        O(e)
                                    }
                                )),
                                i({
                                    target: "Symbol",
                                    stat: !0,
                                    forced: !l
                                }, {
                                    for: function(e) {
                                        var t = String(e);
                                        if (d(X, t))
                                            return X[t];
                                        var n = Y(t);
                                        return X[t] = n,
                                            $[n] = t,
                                            n
                                    },
                                    keyFor: function(e) {
                                        if (!oe(e))
                                            throw TypeError(e + " is not a symbol");
                                        if (d($, e))
                                            return $[e]
                                    },
                                    useSetter: function() {
                                        ne = !0
                                    },
                                    useSimple: function() {
                                        ne = !1
                                    }
                                }),
                                i({
                                    target: "Object",
                                    stat: !0,
                                    forced: !l,
                                    sham: !s
                                }, {
                                    create: function(e, t) {
                                        return void 0 === t ? _(e) : se(_(e), t)
                                    },
                                    defineProperty: ae,
                                    defineProperties: se,
                                    getOwnPropertyDescriptor: ce
                                }),
                                i({
                                    target: "Object",
                                    stat: !0,
                                    forced: !l
                                }, {
                                    getOwnPropertyNames: ue,
                                    getOwnPropertySymbols: de
                                }),
                                i({
                                    target: "Object",
                                    stat: !0,
                                    forced: u((function() {
                                            T.f(1)
                                        }
                                    ))
                                }, {
                                    getOwnPropertySymbols: function(e) {
                                        return T.f(v(e))
                                    }
                                }),
                            H && i({
                                target: "JSON",
                                stat: !0,
                                forced: !l || u((function() {
                                        var e = Y();
                                        return "[null]" != H([e]) || "{}" != H({
                                            a: e
                                        }) || "{}" != H(Object(e))
                                    }
                                ))
                            }, {
                                stringify: function(e, t, n) {
                                    for (var i, r = [e], o = 1; arguments.length > o; )
                                        r.push(arguments[o++]);
                                    if (i = t,
                                    (f(t) || void 0 !== e) && !oe(e))
                                        return h(t) || (t = function(e, t) {
                                                if ("function" == typeof i && (t = i.call(this, e, t)),
                                                    !oe(t))
                                                    return t
                                            }
                                        ),
                                            r[1] = t,
                                            H.apply(null, r)
                                }
                            }),
                            Y.prototype[z] || k(Y.prototype, z, Y.prototype.valueOf),
                                N(Y, "Symbol"),
                                I[F] = !0
                        }
                        , function(e, t, n) {
                            var i = n(36)
                                , r = n(137).f
                                , o = {}.toString
                                , a = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];
                            e.exports.f = function(e) {
                                return a && "[object Window]" == o.call(e) ? function(e) {
                                    try {
                                        return r(e)
                                    } catch (e) {
                                        return a.slice()
                                    }
                                }(e) : r(i(e))
                            }
                        }
                        , function(e, t, n) {
                            n(17)("asyncIterator")
                        }
                        , function(e, t) {}
                        , function(e, t, n) {
                            n(17)("hasInstance")
                        }
                        , function(e, t, n) {
                            n(17)("isConcatSpreadable")
                        }
                        , function(e, t, n) {
                            n(17)("match")
                        }
                        , function(e, t, n) {
                            n(17)("matchAll")
                        }
                        , function(e, t, n) {
                            n(17)("replace")
                        }
                        , function(e, t, n) {
                            n(17)("search")
                        }
                        , function(e, t, n) {
                            n(17)("species")
                        }
                        , function(e, t, n) {
                            n(17)("split")
                        }
                        , function(e, t, n) {
                            n(17)("toPrimitive")
                        }
                        , function(e, t, n) {
                            n(17)("toStringTag")
                        }
                        , function(e, t, n) {
                            n(17)("unscopables")
                        }
                        , function(e, t, n) {
                            var i = n(12);
                            n(41)(i.JSON, "JSON", !0)
                        }
                        , function(e, t) {}
                        , function(e, t) {}
                        , function(e, t, n) {
                            n(17)("asyncDispose")
                        }
                        , function(e, t, n) {
                            n(17)("dispose")
                        }
                        , function(e, t, n) {
                            n(17)("observable")
                        }
                        , function(e, t, n) {
                            n(17)("patternMatch")
                        }
                        , function(e, t, n) {
                            n(17)("replaceAll")
                        }
                        , function(e, t, n) {
                            e.exports = n(220)
                        }
                        , function(e, t, n) {
                            var i = n(141);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            n(222);
                            var i = n(24);
                            e.exports = i("Array").slice
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(7)
                                , r = n(18)
                                , o = n(49)
                                , a = n(92)
                                , s = n(29)
                                , l = n(36)
                                , c = n(74)
                                , u = n(11)
                                , d = n(62)
                                , h = n(47)
                                , f = d("slice")
                                , p = h("slice", {
                                ACCESSORS: !0,
                                0: 0,
                                1: 2
                            })
                                , v = u("species")
                                , y = [].slice
                                , g = Math.max;
                            i({
                                target: "Array",
                                proto: !0,
                                forced: !f || !p
                            }, {
                                slice: function(e, t) {
                                    var n, i, u, d = l(this), h = s(d.length), f = a(e, h), p = a(void 0 === t ? h : t, h);
                                    if (o(d) && ("function" != typeof (n = d.constructor) || n !== Array && !o(n.prototype) ? r(n) && null === (n = n[v]) && (n = void 0) : n = void 0,
                                    n === Array || void 0 === n))
                                        return y.call(d, f, p);
                                    for (i = new (void 0 === n ? Array : n)(g(p - f, 0)),
                                             u = 0; f < p; f++,
                                             u++)
                                        f in d && c(i, u, d[f]);
                                    return i.length = u,
                                        i
                                }
                            })
                        }
                        , function(e, t) {
                            e.exports = function() {
                                throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                            }
                        }
                        , function(e, t, n) {
                            var i = n(225);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            n(226);
                            var i = n(13);
                            i.JSON || (i.JSON = {
                                stringify: JSON.stringify
                            }),
                                e.exports = function(e, t, n) {
                                    return i.JSON.stringify.apply(null, arguments)
                                }
                        }
                        , function(e, t, n) {
                            var i = n(7)
                                , r = n(32)
                                , o = n(14)
                                , a = r("JSON", "stringify")
                                , s = /[\uD800-\uDFFF]/g
                                , l = /^[\uD800-\uDBFF]$/
                                , c = /^[\uDC00-\uDFFF]$/
                                , u = function(e, t, n) {
                                var i = n.charAt(t - 1)
                                    , r = n.charAt(t + 1);
                                return l.test(e) && !c.test(r) || c.test(e) && !l.test(i) ? "\\u" + e.charCodeAt(0).toString(16) : e
                            }
                                , d = o((function() {
                                    return '"\\udf06\\ud834"' !== a("\udf06\ud834") || '"\\udead"' !== a("\udead")
                                }
                            ));
                            a && i({
                                target: "JSON",
                                stat: !0,
                                forced: d
                            }, {
                                stringify: function(e, t, n) {
                                    var i = a.apply(null, arguments);
                                    return "string" == typeof i ? i.replace(s, u) : i
                                }
                            })
                        }
                        , function(e, t, n) {
                            var i = n(124);
                            e.exports = function(e) {
                                if (i(e))
                                    return e
                            }
                        }
                        , function(e, t, n) {
                            var i = n(65)
                                , r = n(134)
                                , o = n(102);
                            e.exports = function(e, t) {
                                if (void 0 !== o && r(Object(e))) {
                                    var n = []
                                        , a = !0
                                        , s = !1
                                        , l = void 0;
                                    try {
                                        for (var c, u = i(e); !(a = (c = u.next()).done) && (n.push(c.value),
                                        !t || n.length !== t); a = !0)
                                            ;
                                    } catch (e) {
                                        s = !0,
                                            l = e
                                    } finally {
                                        try {
                                            a || null == u.return || u.return()
                                        } finally {
                                            if (s)
                                                throw l
                                        }
                                    }
                                    return n
                                }
                            }
                        }
                        , function(e, t, n) {
                            n(33),
                                n(34);
                            var i = n(142);
                            e.exports = i
                        }
                        , function(e, t) {
                            e.exports = function() {
                                throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                            }
                        }
                        , function(e, t, n) {
                            var i = n(232);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            n(233);
                            var i = n(13);
                            e.exports = i.Object.entries
                        }
                        , function(e, t, n) {
                            var i = n(7)
                                , r = n(234).entries;
                            i({
                                target: "Object",
                                stat: !0
                            }, {
                                entries: function(e) {
                                    return r(e)
                                }
                            })
                        }
                        , function(e, t, n) {
                            var i = n(20)
                                , r = n(59)
                                , o = n(36)
                                , a = n(69).f
                                , s = function(e) {
                                return function(t) {
                                    for (var n, s = o(t), l = r(s), c = l.length, u = 0, d = []; c > u; )
                                        n = l[u++],
                                        i && !a.call(s, n) || d.push(e ? [n, s[n]] : s[n]);
                                    return d
                                }
                            };
                            e.exports = {
                                entries: s(!0),
                                values: s(!1)
                            }
                        }
                        , function(e, t, n) {
                            var i = n(236);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            n(237);
                            var i = n(13).Object
                                , r = e.exports = function(e, t, n) {
                                    return i.defineProperty(e, t, n)
                                }
                            ;
                            i.defineProperty.sham && (r.sham = !0)
                        }
                        , function(e, t, n) {
                            var i = n(7)
                                , r = n(20);
                            i({
                                target: "Object",
                                stat: !0,
                                forced: !r,
                                sham: !r
                            }, {
                                defineProperty: n(26).f
                            })
                        }
                        , function(e, t, n) {
                            var i = function(e) {
                                "use strict";
                                var t = Object.prototype
                                    , n = t.hasOwnProperty
                                    , i = "function" == typeof Symbol ? Symbol : {}
                                    , r = i.iterator || "@@iterator"
                                    , o = i.asyncIterator || "@@asyncIterator"
                                    , a = i.toStringTag || "@@toStringTag";
                                function s(e, t, n) {
                                    return Object.defineProperty(e, t, {
                                        value: n,
                                        enumerable: !0,
                                        configurable: !0,
                                        writable: !0
                                    }),
                                        e[t]
                                }
                                try {
                                    s({}, "")
                                } catch (e) {
                                    s = function(e, t, n) {
                                        return e[t] = n
                                    }
                                }
                                function l(e, t, n, i) {
                                    var r = t && t.prototype instanceof d ? t : d
                                        , o = Object.create(r.prototype)
                                        , a = new T(i || []);
                                    return o._invoke = function(e, t, n) {
                                        var i = "suspendedStart";
                                        return function(r, o) {
                                            if ("executing" === i)
                                                throw new Error("Generator is already running");
                                            if ("completed" === i) {
                                                if ("throw" === r)
                                                    throw o;
                                                return {
                                                    value: void 0,
                                                    done: !0
                                                }
                                            }
                                            for (n.method = r,
                                                     n.arg = o; ; ) {
                                                var a = n.delegate;
                                                if (a) {
                                                    var s = b(a, n);
                                                    if (s) {
                                                        if (s === u)
                                                            continue;
                                                        return s
                                                    }
                                                }
                                                if ("next" === n.method)
                                                    n.sent = n._sent = n.arg;
                                                else if ("throw" === n.method) {
                                                    if ("suspendedStart" === i)
                                                        throw i = "completed",
                                                            n.arg;
                                                    n.dispatchException(n.arg)
                                                } else
                                                    "return" === n.method && n.abrupt("return", n.arg);
                                                i = "executing";
                                                var l = c(e, t, n);
                                                if ("normal" === l.type) {
                                                    if (i = n.done ? "completed" : "suspendedYield",
                                                    l.arg === u)
                                                        continue;
                                                    return {
                                                        value: l.arg,
                                                        done: n.done
                                                    }
                                                }
                                                "throw" === l.type && (i = "completed",
                                                    n.method = "throw",
                                                    n.arg = l.arg)
                                            }
                                        }
                                    }(e, n, a),
                                        o
                                }
                                function c(e, t, n) {
                                    try {
                                        return {
                                            type: "normal",
                                            arg: e.call(t, n)
                                        }
                                    } catch (e) {
                                        return {
                                            type: "throw",
                                            arg: e
                                        }
                                    }
                                }
                                e.wrap = l;
                                var u = {};
                                function d() {}
                                function h() {}
                                function f() {}
                                var p = {};
                                p[r] = function() {
                                    return this
                                }
                                ;
                                var v = Object.getPrototypeOf
                                    , y = v && v(v(w([])));
                                y && y !== t && n.call(y, r) && (p = y);
                                var g = f.prototype = d.prototype = Object.create(p);
                                function m(e) {
                                    ["next", "throw", "return"].forEach((function(t) {
                                            s(e, t, (function(e) {
                                                    return this._invoke(t, e)
                                                }
                                            ))
                                        }
                                    ))
                                }
                                function _(e, t) {
                                    var i;
                                    this._invoke = function(r, o) {
                                        function a() {
                                            return new t((function(i, a) {
                                                    !function i(r, o, a, s) {
                                                        var l = c(e[r], e, o);
                                                        if ("throw" !== l.type) {
                                                            var u = l.arg
                                                                , d = u.value;
                                                            return d && "object" == typeof d && n.call(d, "__await") ? t.resolve(d.__await).then((function(e) {
                                                                    i("next", e, a, s)
                                                                }
                                                            ), (function(e) {
                                                                    i("throw", e, a, s)
                                                                }
                                                            )) : t.resolve(d).then((function(e) {
                                                                    u.value = e,
                                                                        a(u)
                                                                }
                                                            ), (function(e) {
                                                                    return i("throw", e, a, s)
                                                                }
                                                            ))
                                                        }
                                                        s(l.arg)
                                                    }(r, o, i, a)
                                                }
                                            ))
                                        }
                                        return i = i ? i.then(a, a) : a()
                                    }
                                }
                                function b(e, t) {
                                    var n = e.iterator[t.method];
                                    if (void 0 === n) {
                                        if (t.delegate = null,
                                        "throw" === t.method) {
                                            if (e.iterator.return && (t.method = "return",
                                                t.arg = void 0,
                                                b(e, t),
                                            "throw" === t.method))
                                                return u;
                                            t.method = "throw",
                                                t.arg = new TypeError("The iterator does not provide a 'throw' method")
                                        }
                                        return u
                                    }
                                    var i = c(n, e.iterator, t.arg);
                                    if ("throw" === i.type)
                                        return t.method = "throw",
                                            t.arg = i.arg,
                                            t.delegate = null,
                                            u;
                                    var r = i.arg;
                                    return r ? r.done ? (t[e.resultName] = r.value,
                                        t.next = e.nextLoc,
                                    "return" !== t.method && (t.method = "next",
                                        t.arg = void 0),
                                        t.delegate = null,
                                        u) : r : (t.method = "throw",
                                        t.arg = new TypeError("iterator result is not an object"),
                                        t.delegate = null,
                                        u)
                                }
                                function E(e) {
                                    var t = {
                                        tryLoc: e[0]
                                    };
                                    1 in e && (t.catchLoc = e[1]),
                                    2 in e && (t.finallyLoc = e[2],
                                        t.afterLoc = e[3]),
                                        this.tryEntries.push(t)
                                }
                                function S(e) {
                                    var t = e.completion || {};
                                    t.type = "normal",
                                        delete t.arg,
                                        e.completion = t
                                }
                                function T(e) {
                                    this.tryEntries = [{
                                        tryLoc: "root"
                                    }],
                                        e.forEach(E, this),
                                        this.reset(!0)
                                }
                                function w(e) {
                                    if (e) {
                                        var t = e[r];
                                        if (t)
                                            return t.call(e);
                                        if ("function" == typeof e.next)
                                            return e;
                                        if (!isNaN(e.length)) {
                                            var i = -1
                                                , o = function t() {
                                                for (; ++i < e.length; )
                                                    if (n.call(e, i))
                                                        return t.value = e[i],
                                                            t.done = !1,
                                                            t;
                                                return t.value = void 0,
                                                    t.done = !0,
                                                    t
                                            };
                                            return o.next = o
                                        }
                                    }
                                    return {
                                        next: C
                                    }
                                }
                                function C() {
                                    return {
                                        value: void 0,
                                        done: !0
                                    }
                                }
                                return h.prototype = g.constructor = f,
                                    f.constructor = h,
                                    h.displayName = s(f, a, "GeneratorFunction"),
                                    e.isGeneratorFunction = function(e) {
                                        var t = "function" == typeof e && e.constructor;
                                        return !!t && (t === h || "GeneratorFunction" === (t.displayName || t.name))
                                    }
                                    ,
                                    e.mark = function(e) {
                                        return Object.setPrototypeOf ? Object.setPrototypeOf(e, f) : (e.__proto__ = f,
                                            s(e, a, "GeneratorFunction")),
                                            e.prototype = Object.create(g),
                                            e
                                    }
                                    ,
                                    e.awrap = function(e) {
                                        return {
                                            __await: e
                                        }
                                    }
                                    ,
                                    m(_.prototype),
                                    _.prototype[o] = function() {
                                        return this
                                    }
                                    ,
                                    e.AsyncIterator = _,
                                    e.async = function(t, n, i, r, o) {
                                        void 0 === o && (o = Promise);
                                        var a = new _(l(t, n, i, r),o);
                                        return e.isGeneratorFunction(n) ? a : a.next().then((function(e) {
                                                return e.done ? e.value : a.next()
                                            }
                                        ))
                                    }
                                    ,
                                    m(g),
                                    s(g, a, "Generator"),
                                    g[r] = function() {
                                        return this
                                    }
                                    ,
                                    g.toString = function() {
                                        return "[object Generator]"
                                    }
                                    ,
                                    e.keys = function(e) {
                                        var t = [];
                                        for (var n in e)
                                            t.push(n);
                                        return t.reverse(),
                                            function n() {
                                                for (; t.length; ) {
                                                    var i = t.pop();
                                                    if (i in e)
                                                        return n.value = i,
                                                            n.done = !1,
                                                            n
                                                }
                                                return n.done = !0,
                                                    n
                                            }
                                    }
                                    ,
                                    e.values = w,
                                    T.prototype = {
                                        constructor: T,
                                        reset: function(e) {
                                            if (this.prev = 0,
                                                this.next = 0,
                                                this.sent = this._sent = void 0,
                                                this.done = !1,
                                                this.delegate = null,
                                                this.method = "next",
                                                this.arg = void 0,
                                                this.tryEntries.forEach(S),
                                                !e)
                                                for (var t in this)
                                                    "t" === t.charAt(0) && n.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = void 0)
                                        },
                                        stop: function() {
                                            this.done = !0;
                                            var e = this.tryEntries[0].completion;
                                            if ("throw" === e.type)
                                                throw e.arg;
                                            return this.rval
                                        },
                                        dispatchException: function(e) {
                                            if (this.done)
                                                throw e;
                                            var t = this;
                                            function i(n, i) {
                                                return a.type = "throw",
                                                    a.arg = e,
                                                    t.next = n,
                                                i && (t.method = "next",
                                                    t.arg = void 0),
                                                    !!i
                                            }
                                            for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                                                var o = this.tryEntries[r]
                                                    , a = o.completion;
                                                if ("root" === o.tryLoc)
                                                    return i("end");
                                                if (o.tryLoc <= this.prev) {
                                                    var s = n.call(o, "catchLoc")
                                                        , l = n.call(o, "finallyLoc");
                                                    if (s && l) {
                                                        if (this.prev < o.catchLoc)
                                                            return i(o.catchLoc, !0);
                                                        if (this.prev < o.finallyLoc)
                                                            return i(o.finallyLoc)
                                                    } else if (s) {
                                                        if (this.prev < o.catchLoc)
                                                            return i(o.catchLoc, !0)
                                                    } else {
                                                        if (!l)
                                                            throw new Error("try statement without catch or finally");
                                                        if (this.prev < o.finallyLoc)
                                                            return i(o.finallyLoc)
                                                    }
                                                }
                                            }
                                        },
                                        abrupt: function(e, t) {
                                            for (var i = this.tryEntries.length - 1; i >= 0; --i) {
                                                var r = this.tryEntries[i];
                                                if (r.tryLoc <= this.prev && n.call(r, "finallyLoc") && this.prev < r.finallyLoc) {
                                                    var o = r;
                                                    break
                                                }
                                            }
                                            o && ("break" === e || "continue" === e) && o.tryLoc <= t && t <= o.finallyLoc && (o = null);
                                            var a = o ? o.completion : {};
                                            return a.type = e,
                                                a.arg = t,
                                                o ? (this.method = "next",
                                                    this.next = o.finallyLoc,
                                                    u) : this.complete(a)
                                        },
                                        complete: function(e, t) {
                                            if ("throw" === e.type)
                                                throw e.arg;
                                            return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg,
                                                this.method = "return",
                                                this.next = "end") : "normal" === e.type && t && (this.next = t),
                                                u
                                        },
                                        finish: function(e) {
                                            for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                                                var n = this.tryEntries[t];
                                                if (n.finallyLoc === e)
                                                    return this.complete(n.completion, n.afterLoc),
                                                        S(n),
                                                        u
                                            }
                                        },
                                        catch: function(e) {
                                            for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                                                var n = this.tryEntries[t];
                                                if (n.tryLoc === e) {
                                                    var i = n.completion;
                                                    if ("throw" === i.type) {
                                                        var r = i.arg;
                                                        S(n)
                                                    }
                                                    return r
                                                }
                                            }
                                            throw new Error("illegal catch attempt")
                                        },
                                        delegateYield: function(e, t, n) {
                                            return this.delegate = {
                                                iterator: w(e),
                                                resultName: t,
                                                nextLoc: n
                                            },
                                            "next" === this.method && (this.arg = void 0),
                                                u
                                        }
                                    },
                                    e
                            }(e.exports);
                            try {
                                regeneratorRuntime = i
                            } catch (e) {
                                Function("r", "regeneratorRuntime = r")(i)
                            }
                        }
                        , function(e, t, n) {
                            var i = n(240);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            n(241);
                            var i = n(13);
                            e.exports = i.Object.keys
                        }
                        , function(e, t, n) {
                            var i = n(7)
                                , r = n(31)
                                , o = n(59);
                            i({
                                target: "Object",
                                stat: !0,
                                forced: n(14)((function() {
                                        o(1)
                                    }
                                ))
                            }, {
                                keys: function(e) {
                                    return o(r(e))
                                }
                            })
                        }
                        , function(e, t, n) {
                            var i = n(243);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            n(244);
                            var i = n(13);
                            e.exports = i.parseInt
                        }
                        , function(e, t, n) {
                            var i = n(7)
                                , r = n(112);
                            i({
                                global: !0,
                                forced: parseInt != r
                            }, {
                                parseInt: r
                            })
                        }
                        , function(e, t, n) {
                            var i = n(144);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i, r, o, a, s = n(7), l = n(40), c = n(12), u = n(32), d = n(146), h = n(45), f = n(105), p = n(41), v = n(147), y = n(18), g = n(38), m = n(63), _ = n(116), b = n(50), E = n(133), S = n(148), T = n(149).set, w = n(247), C = n(151), A = n(248), k = n(64), x = n(76), L = n(39), R = n(111), I = n(11), P = n(106), M = n(103), D = I("species"), O = "Promise", N = L.get, U = L.set, B = L.getterFor(O), F = d, z = c.TypeError, j = c.document, V = c.process, G = u("fetch"), Y = k.f, H = Y, W = !!(j && j.createEvent && c.dispatchEvent), K = "function" == typeof PromiseRejectionEvent, Q = R(O, (function() {
                                    if (_(F) === String(F)) {
                                        if (66 === M)
                                            return !0;
                                        if (!P && !K)
                                            return !0
                                    }
                                    if (l && !F.prototype.finally)
                                        return !0;
                                    if (M >= 51 && /native code/.test(F))
                                        return !1;
                                    var e = F.resolve(1)
                                        , t = function(e) {
                                        e((function() {}
                                        ), (function() {}
                                        ))
                                    };
                                    return (e.constructor = {})[D] = t,
                                        !(e.then((function() {}
                                        ))instanceof t)
                                }
                            )), Z = Q || !E((function(e) {
                                    F.all(e).catch((function() {}
                                    ))
                                }
                            )), q = function(e) {
                                var t;
                                return !(!y(e) || "function" != typeof (t = e.then)) && t
                            }, J = function(e, t) {
                                if (!e.notified) {
                                    e.notified = !0;
                                    var n = e.reactions;
                                    w((function() {
                                            for (var i = e.value, r = 1 == e.state, o = 0; n.length > o; ) {
                                                var a, s, l, c = n[o++], u = r ? c.ok : c.fail, d = c.resolve, h = c.reject, f = c.domain;
                                                try {
                                                    u ? (r || (2 === e.rejection && te(e),
                                                        e.rejection = 1),
                                                        !0 === u ? a = i : (f && f.enter(),
                                                            a = u(i),
                                                        f && (f.exit(),
                                                            l = !0)),
                                                        a === c.promise ? h(z("Promise-chain cycle")) : (s = q(a)) ? s.call(a, d, h) : d(a)) : h(i)
                                                } catch (e) {
                                                    f && !l && f.exit(),
                                                        h(e)
                                                }
                                            }
                                            e.reactions = [],
                                                e.notified = !1,
                                            t && !e.rejection && $(e)
                                        }
                                    ))
                                }
                            }, X = function(e, t, n) {
                                var i, r;
                                W ? ((i = j.createEvent("Event")).promise = t,
                                    i.reason = n,
                                    i.initEvent(e, !1, !0),
                                    c.dispatchEvent(i)) : i = {
                                    promise: t,
                                    reason: n
                                },
                                    !K && (r = c["on" + e]) ? r(i) : "unhandledrejection" === e && A("Unhandled promise rejection", n)
                            }, $ = function(e) {
                                T.call(c, (function() {
                                        var t, n = e.facade, i = e.value;
                                        if (ee(e) && (t = x((function() {
                                                P ? V.emit("unhandledRejection", i, n) : X("unhandledrejection", n, i)
                                            }
                                        )),
                                            e.rejection = P || ee(e) ? 2 : 1,
                                            t.error))
                                            throw t.value
                                    }
                                ))
                            }, ee = function(e) {
                                return 1 !== e.rejection && !e.parent
                            }, te = function(e) {
                                T.call(c, (function() {
                                        var t = e.facade;
                                        P ? V.emit("rejectionHandled", t) : X("rejectionhandled", t, e.value)
                                    }
                                ))
                            }, ne = function(e, t, n) {
                                return function(i) {
                                    e(t, i, n)
                                }
                            }, ie = function(e, t, n) {
                                e.done || (e.done = !0,
                                n && (e = n),
                                    e.value = t,
                                    e.state = 2,
                                    J(e, !0))
                            }, re = function(e, t, n) {
                                if (!e.done) {
                                    e.done = !0,
                                    n && (e = n);
                                    try {
                                        if (e.facade === t)
                                            throw z("Promise can't be resolved itself");
                                        var i = q(t);
                                        i ? w((function() {
                                                var n = {
                                                    done: !1
                                                };
                                                try {
                                                    i.call(t, ne(re, n, e), ne(ie, n, e))
                                                } catch (t) {
                                                    ie(n, t, e)
                                                }
                                            }
                                        )) : (e.value = t,
                                            e.state = 1,
                                            J(e, !1))
                                    } catch (t) {
                                        ie({
                                            done: !1
                                        }, t, e)
                                    }
                                }
                            };
                            Q && (F = function(e) {
                                m(this, F, O),
                                    g(e),
                                    i.call(this);
                                var t = N(this);
                                try {
                                    e(ne(re, t), ne(ie, t))
                                } catch (e) {
                                    ie(t, e)
                                }
                            }
                                ,
                                (i = function(e) {
                                        U(this, {
                                            type: O,
                                            done: !1,
                                            notified: !1,
                                            parent: !1,
                                            reactions: [],
                                            rejection: !1,
                                            state: 0,
                                            value: void 0
                                        })
                                    }
                                ).prototype = f(F.prototype, {
                                    then: function(e, t) {
                                        var n = B(this)
                                            , i = Y(S(this, F));
                                        return i.ok = "function" != typeof e || e,
                                            i.fail = "function" == typeof t && t,
                                            i.domain = P ? V.domain : void 0,
                                            n.parent = !0,
                                            n.reactions.push(i),
                                        0 != n.state && J(n, !1),
                                            i.promise
                                    },
                                    catch: function(e) {
                                        return this.then(void 0, e)
                                    }
                                }),
                                r = function() {
                                    var e = new i
                                        , t = N(e);
                                    this.promise = e,
                                        this.resolve = ne(re, t),
                                        this.reject = ne(ie, t)
                                }
                                ,
                                k.f = Y = function(e) {
                                    return e === F || e === o ? new r(e) : H(e)
                                }
                                ,
                            l || "function" != typeof d || (a = d.prototype.then,
                                h(d.prototype, "then", (function(e, t) {
                                        var n = this;
                                        return new F((function(e, t) {
                                                a.call(n, e, t)
                                            }
                                        )).then(e, t)
                                    }
                                ), {
                                    unsafe: !0
                                }),
                            "function" == typeof G && s({
                                global: !0,
                                enumerable: !0,
                                forced: !0
                            }, {
                                fetch: function(e) {
                                    return C(F, G.apply(c, arguments))
                                }
                            }))),
                                s({
                                    global: !0,
                                    wrap: !0,
                                    forced: Q
                                }, {
                                    Promise: F
                                }),
                                p(F, O, !1, !0),
                                v(O),
                                o = u(O),
                                s({
                                    target: O,
                                    stat: !0,
                                    forced: Q
                                }, {
                                    reject: function(e) {
                                        var t = Y(this);
                                        return t.reject.call(void 0, e),
                                            t.promise
                                    }
                                }),
                                s({
                                    target: O,
                                    stat: !0,
                                    forced: l || Q
                                }, {
                                    resolve: function(e) {
                                        return C(l && this === o ? F : this, e)
                                    }
                                }),
                                s({
                                    target: O,
                                    stat: !0,
                                    forced: Z
                                }, {
                                    all: function(e) {
                                        var t = this
                                            , n = Y(t)
                                            , i = n.resolve
                                            , r = n.reject
                                            , o = x((function() {
                                                var n = g(t.resolve)
                                                    , o = []
                                                    , a = 0
                                                    , s = 1;
                                                b(e, (function(e) {
                                                        var l = a++
                                                            , c = !1;
                                                        o.push(void 0),
                                                            s++,
                                                            n.call(t, e).then((function(e) {
                                                                    c || (c = !0,
                                                                        o[l] = e,
                                                                    --s || i(o))
                                                                }
                                                            ), r)
                                                    }
                                                )),
                                                --s || i(o)
                                            }
                                        ));
                                        return o.error && r(o.value),
                                            n.promise
                                    },
                                    race: function(e) {
                                        var t = this
                                            , n = Y(t)
                                            , i = n.reject
                                            , r = x((function() {
                                                var r = g(t.resolve);
                                                b(e, (function(e) {
                                                        r.call(t, e).then(n.resolve, i)
                                                    }
                                                ))
                                            }
                                        ));
                                        return r.error && i(r.value),
                                            n.promise
                                    }
                                })
                        }
                        , function(e, t, n) {
                            var i, r, o, a, s, l, c, u, d = n(12), h = n(68).f, f = n(149).set, p = n(150), v = n(106), y = d.MutationObserver || d.WebKitMutationObserver, g = d.document, m = d.process, _ = d.Promise, b = h(d, "queueMicrotask"), E = b && b.value;
                            E || (i = function() {
                                    var e, t;
                                    for (v && (e = m.domain) && e.exit(); r; ) {
                                        t = r.fn,
                                            r = r.next;
                                        try {
                                            t()
                                        } catch (e) {
                                            throw r ? a() : o = void 0,
                                                e
                                        }
                                    }
                                    o = void 0,
                                    e && e.enter()
                                }
                                    ,
                                    !p && !v && y && g ? (s = !0,
                                            l = g.createTextNode(""),
                                            new y(i).observe(l, {
                                                characterData: !0
                                            }),
                                            a = function() {
                                                l.data = s = !s
                                            }
                                    ) : _ && _.resolve ? (c = _.resolve(void 0),
                                            u = c.then,
                                            a = function() {
                                                u.call(c, i)
                                            }
                                    ) : a = v ? function() {
                                            m.nextTick(i)
                                        }
                                        : function() {
                                            f.call(d, i)
                                        }
                            ),
                                e.exports = E || function(e) {
                                    var t = {
                                        fn: e,
                                        next: void 0
                                    };
                                    o && (o.next = t),
                                    r || (r = t,
                                        a()),
                                        o = t
                                }
                        }
                        , function(e, t, n) {
                            var i = n(12);
                            e.exports = function(e, t) {
                                var n = i.console;
                                n && n.error && (1 === arguments.length ? n.error(e) : n.error(e, t))
                            }
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(7)
                                , r = n(40)
                                , o = n(146)
                                , a = n(14)
                                , s = n(32)
                                , l = n(148)
                                , c = n(151)
                                , u = n(45);
                            i({
                                target: "Promise",
                                proto: !0,
                                real: !0,
                                forced: !!o && a((function() {
                                        o.prototype.finally.call({
                                            then: function() {}
                                        }, (function() {}
                                        ))
                                    }
                                ))
                            }, {
                                finally: function(e) {
                                    var t = l(this, s("Promise"))
                                        , n = "function" == typeof e;
                                    return this.then(n ? function(n) {
                                            return c(t, e()).then((function() {
                                                    return n
                                                }
                                            ))
                                        }
                                        : e, n ? function(n) {
                                            return c(t, e()).then((function() {
                                                    throw n
                                                }
                                            ))
                                        }
                                        : e)
                                }
                            }),
                            r || "function" != typeof o || o.prototype.finally || u(o.prototype, "finally", s("Promise").prototype.finally)
                        }
                        , function(e, t, n) {
                            e.exports = n(251)
                        }
                        , function(e, t, n) {
                            var i = n(144);
                            n(252),
                                n(253),
                                n(254),
                                n(255),
                                e.exports = i
                        }
                        , function(e, t, n) {
                            n(145)
                        }
                        , function(e, t, n) {
                            n(152)
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(7)
                                , r = n(64)
                                , o = n(76);
                            i({
                                target: "Promise",
                                stat: !0
                            }, {
                                try: function(e) {
                                    var t = r.f(this)
                                        , n = o(e);
                                    return (n.error ? t.reject : t.resolve)(n.value),
                                        t.promise
                                }
                            })
                        }
                        , function(e, t, n) {
                            n(153)
                        }
                        , function(e, t, n) {
                            var i = n(257);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            n(258),
                                n(75),
                                n(34),
                                n(33);
                            var i = n(13);
                            e.exports = i.Set
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(154)
                                , r = n(156);
                            e.exports = i("Set", (function(e) {
                                    return function() {
                                        return e(this, arguments.length ? arguments[0] : void 0)
                                    }
                                }
                            ), r)
                        }
                        , function(e, t, n) {
                            var i = n(14);
                            e.exports = !i((function() {
                                    return Object.isExtensible(Object.preventExtensions({}))
                                }
                            ))
                        }
                        , function(e, t, n) {
                            var i = n(261);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            var i = n(262)
                                , r = String.prototype;
                            e.exports = function(e) {
                                var t = e.startsWith;
                                return "string" == typeof e || e === r || e instanceof String && t === r.startsWith ? i : t
                            }
                        }
                        , function(e, t, n) {
                            n(263);
                            var i = n(24);
                            e.exports = i("String").startsWith
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i, r = n(7), o = n(68).f, a = n(29), s = n(264), l = n(56), c = n(266), u = n(40), d = "".startsWith, h = Math.min, f = c("startsWith");
                            r({
                                target: "String",
                                proto: !0,
                                forced: !(!u && !f && (i = o(String.prototype, "startsWith"),
                                i && !i.writable) || f)
                            }, {
                                startsWith: function(e) {
                                    var t = String(l(this));
                                    s(e);
                                    var n = a(h(arguments.length > 1 ? arguments[1] : void 0, t.length))
                                        , i = String(e);
                                    return d ? d.call(t, i, n) : t.slice(n, n + i.length) === i
                                }
                            })
                        }
                        , function(e, t, n) {
                            var i = n(265);
                            e.exports = function(e) {
                                if (i(e))
                                    throw TypeError("The method doesn't accept regular expressions");
                                return e
                            }
                        }
                        , function(e, t, n) {
                            var i = n(18)
                                , r = n(55)
                                , o = n(11)("match");
                            e.exports = function(e) {
                                var t;
                                return i(e) && (void 0 !== (t = e[o]) ? !!t : "RegExp" == r(e))
                            }
                        }
                        , function(e, t, n) {
                            var i = n(11)("match");
                            e.exports = function(e) {
                                var t = /./;
                                try {
                                    "/./"[e](t)
                                } catch (n) {
                                    try {
                                        return t[i] = !1,
                                            "/./"[e](t)
                                    } catch (e) {}
                                }
                                return !1
                            }
                        }
                        , function(e, t, n) {
                            e.exports = n(268)
                        }
                        , function(e, t, n) {
                            var i = n(269);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            n(139),
                                n(34),
                                n(33);
                            var i = n(104);
                            e.exports = i.f("iterator")
                        }
                        , function(e, t, n) {
                            "use strict";
                            (function(e) {
                                    /*!
       * The buffer module from node.js, for the browser.
       *
       * @author   Feross Aboukhadijeh <http://feross.org>
       * @license  MIT
       */
                                    var i = n(271)
                                        , r = n(272)
                                        , o = n(273);
                                    function a() {
                                        return l.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823
                                    }
                                    function s(e, t) {
                                        if (a() < t)
                                            throw new RangeError("Invalid typed array length");
                                        return l.TYPED_ARRAY_SUPPORT ? (e = new Uint8Array(t)).__proto__ = l.prototype : (null === e && (e = new l(t)),
                                            e.length = t),
                                            e
                                    }
                                    function l(e, t, n) {
                                        if (!(l.TYPED_ARRAY_SUPPORT || this instanceof l))
                                            return new l(e,t,n);
                                        if ("number" == typeof e) {
                                            if ("string" == typeof t)
                                                throw new Error("If encoding is specified then the first argument must be a string");
                                            return d(this, e)
                                        }
                                        return c(this, e, t, n)
                                    }
                                    function c(e, t, n, i) {
                                        if ("number" == typeof t)
                                            throw new TypeError('"value" argument must not be a number');
                                        return "undefined" != typeof ArrayBuffer && t instanceof ArrayBuffer ? function(e, t, n, i) {
                                            if (t.byteLength,
                                            n < 0 || t.byteLength < n)
                                                throw new RangeError("'offset' is out of bounds");
                                            if (t.byteLength < n + (i || 0))
                                                throw new RangeError("'length' is out of bounds");
                                            return t = void 0 === n && void 0 === i ? new Uint8Array(t) : void 0 === i ? new Uint8Array(t,n) : new Uint8Array(t,n,i),
                                                l.TYPED_ARRAY_SUPPORT ? (e = t).__proto__ = l.prototype : e = h(e, t),
                                                e
                                        }(e, t, n, i) : "string" == typeof t ? function(e, t, n) {
                                            if ("string" == typeof n && "" !== n || (n = "utf8"),
                                                !l.isEncoding(n))
                                                throw new TypeError('"encoding" must be a valid string encoding');
                                            var i = 0 | p(t, n)
                                                , r = (e = s(e, i)).write(t, n);
                                            return r !== i && (e = e.slice(0, r)),
                                                e
                                        }(e, t, n) : function(e, t) {
                                            if (l.isBuffer(t)) {
                                                var n = 0 | f(t.length);
                                                return 0 === (e = s(e, n)).length || t.copy(e, 0, 0, n),
                                                    e
                                            }
                                            if (t) {
                                                if ("undefined" != typeof ArrayBuffer && t.buffer instanceof ArrayBuffer || "length"in t)
                                                    return "number" != typeof t.length || (i = t.length) != i ? s(e, 0) : h(e, t);
                                                if ("Buffer" === t.type && o(t.data))
                                                    return h(e, t.data)
                                            }
                                            var i;
                                            throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")
                                        }(e, t)
                                    }
                                    function u(e) {
                                        if ("number" != typeof e)
                                            throw new TypeError('"size" argument must be a number');
                                        if (e < 0)
                                            throw new RangeError('"size" argument must not be negative')
                                    }
                                    function d(e, t) {
                                        if (u(t),
                                            e = s(e, t < 0 ? 0 : 0 | f(t)),
                                            !l.TYPED_ARRAY_SUPPORT)
                                            for (var n = 0; n < t; ++n)
                                                e[n] = 0;
                                        return e
                                    }
                                    function h(e, t) {
                                        var n = t.length < 0 ? 0 : 0 | f(t.length);
                                        e = s(e, n);
                                        for (var i = 0; i < n; i += 1)
                                            e[i] = 255 & t[i];
                                        return e
                                    }
                                    function f(e) {
                                        if (e >= a())
                                            throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + a().toString(16) + " bytes");
                                        return 0 | e
                                    }
                                    function p(e, t) {
                                        if (l.isBuffer(e))
                                            return e.length;
                                        if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(e) || e instanceof ArrayBuffer))
                                            return e.byteLength;
                                        "string" != typeof e && (e = "" + e);
                                        var n = e.length;
                                        if (0 === n)
                                            return 0;
                                        for (var i = !1; ; )
                                            switch (t) {
                                                case "ascii":
                                                case "latin1":
                                                case "binary":
                                                    return n;
                                                case "utf8":
                                                case "utf-8":
                                                case void 0:
                                                    return z(e).length;
                                                case "ucs2":
                                                case "ucs-2":
                                                case "utf16le":
                                                case "utf-16le":
                                                    return 2 * n;
                                                case "hex":
                                                    return n >>> 1;
                                                case "base64":
                                                    return j(e).length;
                                                default:
                                                    if (i)
                                                        return z(e).length;
                                                    t = ("" + t).toLowerCase(),
                                                        i = !0
                                            }
                                    }
                                    function v(e, t, n) {
                                        var i = !1;
                                        if ((void 0 === t || t < 0) && (t = 0),
                                        t > this.length)
                                            return "";
                                        if ((void 0 === n || n > this.length) && (n = this.length),
                                        n <= 0)
                                            return "";
                                        if ((n >>>= 0) <= (t >>>= 0))
                                            return "";
                                        for (e || (e = "utf8"); ; )
                                            switch (e) {
                                                case "hex":
                                                    return L(this, t, n);
                                                case "utf8":
                                                case "utf-8":
                                                    return A(this, t, n);
                                                case "ascii":
                                                    return k(this, t, n);
                                                case "latin1":
                                                case "binary":
                                                    return x(this, t, n);
                                                case "base64":
                                                    return C(this, t, n);
                                                case "ucs2":
                                                case "ucs-2":
                                                case "utf16le":
                                                case "utf-16le":
                                                    return R(this, t, n);
                                                default:
                                                    if (i)
                                                        throw new TypeError("Unknown encoding: " + e);
                                                    e = (e + "").toLowerCase(),
                                                        i = !0
                                            }
                                    }
                                    function y(e, t, n) {
                                        var i = e[t];
                                        e[t] = e[n],
                                            e[n] = i
                                    }
                                    function g(e, t, n, i, r) {
                                        if (0 === e.length)
                                            return -1;
                                        if ("string" == typeof n ? (i = n,
                                            n = 0) : n > 2147483647 ? n = 2147483647 : n < -2147483648 && (n = -2147483648),
                                            n = +n,
                                        isNaN(n) && (n = r ? 0 : e.length - 1),
                                        n < 0 && (n = e.length + n),
                                        n >= e.length) {
                                            if (r)
                                                return -1;
                                            n = e.length - 1
                                        } else if (n < 0) {
                                            if (!r)
                                                return -1;
                                            n = 0
                                        }
                                        if ("string" == typeof t && (t = l.from(t, i)),
                                            l.isBuffer(t))
                                            return 0 === t.length ? -1 : m(e, t, n, i, r);
                                        if ("number" == typeof t)
                                            return t &= 255,
                                                l.TYPED_ARRAY_SUPPORT && "function" == typeof Uint8Array.prototype.indexOf ? r ? Uint8Array.prototype.indexOf.call(e, t, n) : Uint8Array.prototype.lastIndexOf.call(e, t, n) : m(e, [t], n, i, r);
                                        throw new TypeError("val must be string, number or Buffer")
                                    }
                                    function m(e, t, n, i, r) {
                                        var o, a = 1, s = e.length, l = t.length;
                                        if (void 0 !== i && ("ucs2" === (i = String(i).toLowerCase()) || "ucs-2" === i || "utf16le" === i || "utf-16le" === i)) {
                                            if (e.length < 2 || t.length < 2)
                                                return -1;
                                            a = 2,
                                                s /= 2,
                                                l /= 2,
                                                n /= 2
                                        }
                                        function c(e, t) {
                                            return 1 === a ? e[t] : e.readUInt16BE(t * a)
                                        }
                                        if (r) {
                                            var u = -1;
                                            for (o = n; o < s; o++)
                                                if (c(e, o) === c(t, -1 === u ? 0 : o - u)) {
                                                    if (-1 === u && (u = o),
                                                    o - u + 1 === l)
                                                        return u * a
                                                } else
                                                    -1 !== u && (o -= o - u),
                                                        u = -1
                                        } else
                                            for (n + l > s && (n = s - l),
                                                     o = n; o >= 0; o--) {
                                                for (var d = !0, h = 0; h < l; h++)
                                                    if (c(e, o + h) !== c(t, h)) {
                                                        d = !1;
                                                        break
                                                    }
                                                if (d)
                                                    return o
                                            }
                                        return -1
                                    }
                                    function _(e, t, n, i) {
                                        n = Number(n) || 0;
                                        var r = e.length - n;
                                        i ? (i = Number(i)) > r && (i = r) : i = r;
                                        var o = t.length;
                                        if (o % 2 != 0)
                                            throw new TypeError("Invalid hex string");
                                        i > o / 2 && (i = o / 2);
                                        for (var a = 0; a < i; ++a) {
                                            var s = parseInt(t.substr(2 * a, 2), 16);
                                            if (isNaN(s))
                                                return a;
                                            e[n + a] = s
                                        }
                                        return a
                                    }
                                    function b(e, t, n, i) {
                                        return V(z(t, e.length - n), e, n, i)
                                    }
                                    function E(e, t, n, i) {
                                        return V(function(e) {
                                            for (var t = [], n = 0; n < e.length; ++n)
                                                t.push(255 & e.charCodeAt(n));
                                            return t
                                        }(t), e, n, i)
                                    }
                                    function S(e, t, n, i) {
                                        return E(e, t, n, i)
                                    }
                                    function T(e, t, n, i) {
                                        return V(j(t), e, n, i)
                                    }
                                    function w(e, t, n, i) {
                                        return V(function(e, t) {
                                            for (var n, i, r, o = [], a = 0; a < e.length && !((t -= 2) < 0); ++a)
                                                i = (n = e.charCodeAt(a)) >> 8,
                                                    r = n % 256,
                                                    o.push(r),
                                                    o.push(i);
                                            return o
                                        }(t, e.length - n), e, n, i)
                                    }
                                    function C(e, t, n) {
                                        return 0 === t && n === e.length ? i.fromByteArray(e) : i.fromByteArray(e.slice(t, n))
                                    }
                                    function A(e, t, n) {
                                        n = Math.min(e.length, n);
                                        for (var i = [], r = t; r < n; ) {
                                            var o, a, s, l, c = e[r], u = null, d = c > 239 ? 4 : c > 223 ? 3 : c > 191 ? 2 : 1;
                                            if (r + d <= n)
                                                switch (d) {
                                                    case 1:
                                                        c < 128 && (u = c);
                                                        break;
                                                    case 2:
                                                        128 == (192 & (o = e[r + 1])) && (l = (31 & c) << 6 | 63 & o) > 127 && (u = l);
                                                        break;
                                                    case 3:
                                                        o = e[r + 1],
                                                            a = e[r + 2],
                                                        128 == (192 & o) && 128 == (192 & a) && (l = (15 & c) << 12 | (63 & o) << 6 | 63 & a) > 2047 && (l < 55296 || l > 57343) && (u = l);
                                                        break;
                                                    case 4:
                                                        o = e[r + 1],
                                                            a = e[r + 2],
                                                            s = e[r + 3],
                                                        128 == (192 & o) && 128 == (192 & a) && 128 == (192 & s) && (l = (15 & c) << 18 | (63 & o) << 12 | (63 & a) << 6 | 63 & s) > 65535 && l < 1114112 && (u = l)
                                                }
                                            null === u ? (u = 65533,
                                                d = 1) : u > 65535 && (u -= 65536,
                                                i.push(u >>> 10 & 1023 | 55296),
                                                u = 56320 | 1023 & u),
                                                i.push(u),
                                                r += d
                                        }
                                        return function(e) {
                                            var t = e.length;
                                            if (t <= 4096)
                                                return String.fromCharCode.apply(String, e);
                                            for (var n = "", i = 0; i < t; )
                                                n += String.fromCharCode.apply(String, e.slice(i, i += 4096));
                                            return n
                                        }(i)
                                    }
                                    function k(e, t, n) {
                                        var i = "";
                                        n = Math.min(e.length, n);
                                        for (var r = t; r < n; ++r)
                                            i += String.fromCharCode(127 & e[r]);
                                        return i
                                    }
                                    function x(e, t, n) {
                                        var i = "";
                                        n = Math.min(e.length, n);
                                        for (var r = t; r < n; ++r)
                                            i += String.fromCharCode(e[r]);
                                        return i
                                    }
                                    function L(e, t, n) {
                                        var i = e.length;
                                        (!t || t < 0) && (t = 0),
                                        (!n || n < 0 || n > i) && (n = i);
                                        for (var r = "", o = t; o < n; ++o)
                                            r += F(e[o]);
                                        return r
                                    }
                                    function R(e, t, n) {
                                        for (var i = e.slice(t, n), r = "", o = 0; o < i.length; o += 2)
                                            r += String.fromCharCode(i[o] + 256 * i[o + 1]);
                                        return r
                                    }
                                    function I(e, t, n) {
                                        if (e % 1 != 0 || e < 0)
                                            throw new RangeError("offset is not uint");
                                        if (e + t > n)
                                            throw new RangeError("Trying to access beyond buffer length")
                                    }
                                    function P(e, t, n, i, r, o) {
                                        if (!l.isBuffer(e))
                                            throw new TypeError('"buffer" argument must be a Buffer instance');
                                        if (t > r || t < o)
                                            throw new RangeError('"value" argument is out of bounds');
                                        if (n + i > e.length)
                                            throw new RangeError("Index out of range")
                                    }
                                    function M(e, t, n, i) {
                                        t < 0 && (t = 65535 + t + 1);
                                        for (var r = 0, o = Math.min(e.length - n, 2); r < o; ++r)
                                            e[n + r] = (t & 255 << 8 * (i ? r : 1 - r)) >>> 8 * (i ? r : 1 - r)
                                    }
                                    function D(e, t, n, i) {
                                        t < 0 && (t = 4294967295 + t + 1);
                                        for (var r = 0, o = Math.min(e.length - n, 4); r < o; ++r)
                                            e[n + r] = t >>> 8 * (i ? r : 3 - r) & 255
                                    }
                                    function O(e, t, n, i, r, o) {
                                        if (n + i > e.length)
                                            throw new RangeError("Index out of range");
                                        if (n < 0)
                                            throw new RangeError("Index out of range")
                                    }
                                    function N(e, t, n, i, o) {
                                        return o || O(e, 0, n, 4),
                                            r.write(e, t, n, i, 23, 4),
                                        n + 4
                                    }
                                    function U(e, t, n, i, o) {
                                        return o || O(e, 0, n, 8),
                                            r.write(e, t, n, i, 52, 8),
                                        n + 8
                                    }
                                    t.Buffer = l,
                                        t.SlowBuffer = function(e) {
                                            return +e != e && (e = 0),
                                                l.alloc(+e)
                                        }
                                        ,
                                        t.INSPECT_MAX_BYTES = 50,
                                        l.TYPED_ARRAY_SUPPORT = void 0 !== e.TYPED_ARRAY_SUPPORT ? e.TYPED_ARRAY_SUPPORT : function() {
                                            try {
                                                var e = new Uint8Array(1);
                                                return e.__proto__ = {
                                                    __proto__: Uint8Array.prototype,
                                                    foo: function() {
                                                        return 42
                                                    }
                                                },
                                                42 === e.foo() && "function" == typeof e.subarray && 0 === e.subarray(1, 1).byteLength
                                            } catch (e) {
                                                return !1
                                            }
                                        }(),
                                        t.kMaxLength = a(),
                                        l.poolSize = 8192,
                                        l._augment = function(e) {
                                            return e.__proto__ = l.prototype,
                                                e
                                        }
                                        ,
                                        l.from = function(e, t, n) {
                                            return c(null, e, t, n)
                                        }
                                        ,
                                    l.TYPED_ARRAY_SUPPORT && (l.prototype.__proto__ = Uint8Array.prototype,
                                        l.__proto__ = Uint8Array,
                                    "undefined" != typeof Symbol && Symbol.species && l[Symbol.species] === l && Object.defineProperty(l, Symbol.species, {
                                        value: null,
                                        configurable: !0
                                    })),
                                        l.alloc = function(e, t, n) {
                                            return function(e, t, n, i) {
                                                return u(t),
                                                    t <= 0 ? s(e, t) : void 0 !== n ? "string" == typeof i ? s(e, t).fill(n, i) : s(e, t).fill(n) : s(e, t)
                                            }(null, e, t, n)
                                        }
                                        ,
                                        l.allocUnsafe = function(e) {
                                            return d(null, e)
                                        }
                                        ,
                                        l.allocUnsafeSlow = function(e) {
                                            return d(null, e)
                                        }
                                        ,
                                        l.isBuffer = function(e) {
                                            return !(null == e || !e._isBuffer)
                                        }
                                        ,
                                        l.compare = function(e, t) {
                                            if (!l.isBuffer(e) || !l.isBuffer(t))
                                                throw new TypeError("Arguments must be Buffers");
                                            if (e === t)
                                                return 0;
                                            for (var n = e.length, i = t.length, r = 0, o = Math.min(n, i); r < o; ++r)
                                                if (e[r] !== t[r]) {
                                                    n = e[r],
                                                        i = t[r];
                                                    break
                                                }
                                            return n < i ? -1 : i < n ? 1 : 0
                                        }
                                        ,
                                        l.isEncoding = function(e) {
                                            switch (String(e).toLowerCase()) {
                                                case "hex":
                                                case "utf8":
                                                case "utf-8":
                                                case "ascii":
                                                case "latin1":
                                                case "binary":
                                                case "base64":
                                                case "ucs2":
                                                case "ucs-2":
                                                case "utf16le":
                                                case "utf-16le":
                                                    return !0;
                                                default:
                                                    return !1
                                            }
                                        }
                                        ,
                                        l.concat = function(e, t) {
                                            if (!o(e))
                                                throw new TypeError('"list" argument must be an Array of Buffers');
                                            if (0 === e.length)
                                                return l.alloc(0);
                                            var n;
                                            if (void 0 === t)
                                                for (t = 0,
                                                         n = 0; n < e.length; ++n)
                                                    t += e[n].length;
                                            var i = l.allocUnsafe(t)
                                                , r = 0;
                                            for (n = 0; n < e.length; ++n) {
                                                var a = e[n];
                                                if (!l.isBuffer(a))
                                                    throw new TypeError('"list" argument must be an Array of Buffers');
                                                a.copy(i, r),
                                                    r += a.length
                                            }
                                            return i
                                        }
                                        ,
                                        l.byteLength = p,
                                        l.prototype._isBuffer = !0,
                                        l.prototype.swap16 = function() {
                                            var e = this.length;
                                            if (e % 2 != 0)
                                                throw new RangeError("Buffer size must be a multiple of 16-bits");
                                            for (var t = 0; t < e; t += 2)
                                                y(this, t, t + 1);
                                            return this
                                        }
                                        ,
                                        l.prototype.swap32 = function() {
                                            var e = this.length;
                                            if (e % 4 != 0)
                                                throw new RangeError("Buffer size must be a multiple of 32-bits");
                                            for (var t = 0; t < e; t += 4)
                                                y(this, t, t + 3),
                                                    y(this, t + 1, t + 2);
                                            return this
                                        }
                                        ,
                                        l.prototype.swap64 = function() {
                                            var e = this.length;
                                            if (e % 8 != 0)
                                                throw new RangeError("Buffer size must be a multiple of 64-bits");
                                            for (var t = 0; t < e; t += 8)
                                                y(this, t, t + 7),
                                                    y(this, t + 1, t + 6),
                                                    y(this, t + 2, t + 5),
                                                    y(this, t + 3, t + 4);
                                            return this
                                        }
                                        ,
                                        l.prototype.toString = function() {
                                            var e = 0 | this.length;
                                            return 0 === e ? "" : 0 === arguments.length ? A(this, 0, e) : v.apply(this, arguments)
                                        }
                                        ,
                                        l.prototype.equals = function(e) {
                                            if (!l.isBuffer(e))
                                                throw new TypeError("Argument must be a Buffer");
                                            return this === e || 0 === l.compare(this, e)
                                        }
                                        ,
                                        l.prototype.inspect = function() {
                                            var e = ""
                                                , n = t.INSPECT_MAX_BYTES;
                                            return this.length > 0 && (e = this.toString("hex", 0, n).match(/.{2}/g).join(" "),
                                            this.length > n && (e += " ... ")),
                                            "<Buffer " + e + ">"
                                        }
                                        ,
                                        l.prototype.compare = function(e, t, n, i, r) {
                                            if (!l.isBuffer(e))
                                                throw new TypeError("Argument must be a Buffer");
                                            if (void 0 === t && (t = 0),
                                            void 0 === n && (n = e ? e.length : 0),
                                            void 0 === i && (i = 0),
                                            void 0 === r && (r = this.length),
                                            t < 0 || n > e.length || i < 0 || r > this.length)
                                                throw new RangeError("out of range index");
                                            if (i >= r && t >= n)
                                                return 0;
                                            if (i >= r)
                                                return -1;
                                            if (t >= n)
                                                return 1;
                                            if (this === e)
                                                return 0;
                                            for (var o = (r >>>= 0) - (i >>>= 0), a = (n >>>= 0) - (t >>>= 0), s = Math.min(o, a), c = this.slice(i, r), u = e.slice(t, n), d = 0; d < s; ++d)
                                                if (c[d] !== u[d]) {
                                                    o = c[d],
                                                        a = u[d];
                                                    break
                                                }
                                            return o < a ? -1 : a < o ? 1 : 0
                                        }
                                        ,
                                        l.prototype.includes = function(e, t, n) {
                                            return -1 !== this.indexOf(e, t, n)
                                        }
                                        ,
                                        l.prototype.indexOf = function(e, t, n) {
                                            return g(this, e, t, n, !0)
                                        }
                                        ,
                                        l.prototype.lastIndexOf = function(e, t, n) {
                                            return g(this, e, t, n, !1)
                                        }
                                        ,
                                        l.prototype.write = function(e, t, n, i) {
                                            if (void 0 === t)
                                                i = "utf8",
                                                    n = this.length,
                                                    t = 0;
                                            else if (void 0 === n && "string" == typeof t)
                                                i = t,
                                                    n = this.length,
                                                    t = 0;
                                            else {
                                                if (!isFinite(t))
                                                    throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
                                                t |= 0,
                                                    isFinite(n) ? (n |= 0,
                                                    void 0 === i && (i = "utf8")) : (i = n,
                                                        n = void 0)
                                            }
                                            var r = this.length - t;
                                            if ((void 0 === n || n > r) && (n = r),
                                            e.length > 0 && (n < 0 || t < 0) || t > this.length)
                                                throw new RangeError("Attempt to write outside buffer bounds");
                                            i || (i = "utf8");
                                            for (var o = !1; ; )
                                                switch (i) {
                                                    case "hex":
                                                        return _(this, e, t, n);
                                                    case "utf8":
                                                    case "utf-8":
                                                        return b(this, e, t, n);
                                                    case "ascii":
                                                        return E(this, e, t, n);
                                                    case "latin1":
                                                    case "binary":
                                                        return S(this, e, t, n);
                                                    case "base64":
                                                        return T(this, e, t, n);
                                                    case "ucs2":
                                                    case "ucs-2":
                                                    case "utf16le":
                                                    case "utf-16le":
                                                        return w(this, e, t, n);
                                                    default:
                                                        if (o)
                                                            throw new TypeError("Unknown encoding: " + i);
                                                        i = ("" + i).toLowerCase(),
                                                            o = !0
                                                }
                                        }
                                        ,
                                        l.prototype.toJSON = function() {
                                            return {
                                                type: "Buffer",
                                                data: Array.prototype.slice.call(this._arr || this, 0)
                                            }
                                        }
                                        ,
                                        l.prototype.slice = function(e, t) {
                                            var n, i = this.length;
                                            if ((e = ~~e) < 0 ? (e += i) < 0 && (e = 0) : e > i && (e = i),
                                                (t = void 0 === t ? i : ~~t) < 0 ? (t += i) < 0 && (t = 0) : t > i && (t = i),
                                            t < e && (t = e),
                                                l.TYPED_ARRAY_SUPPORT)
                                                (n = this.subarray(e, t)).__proto__ = l.prototype;
                                            else {
                                                var r = t - e;
                                                n = new l(r,void 0);
                                                for (var o = 0; o < r; ++o)
                                                    n[o] = this[o + e]
                                            }
                                            return n
                                        }
                                        ,
                                        l.prototype.readUIntLE = function(e, t, n) {
                                            e |= 0,
                                                t |= 0,
                                            n || I(e, t, this.length);
                                            for (var i = this[e], r = 1, o = 0; ++o < t && (r *= 256); )
                                                i += this[e + o] * r;
                                            return i
                                        }
                                        ,
                                        l.prototype.readUIntBE = function(e, t, n) {
                                            e |= 0,
                                                t |= 0,
                                            n || I(e, t, this.length);
                                            for (var i = this[e + --t], r = 1; t > 0 && (r *= 256); )
                                                i += this[e + --t] * r;
                                            return i
                                        }
                                        ,
                                        l.prototype.readUInt8 = function(e, t) {
                                            return t || I(e, 1, this.length),
                                                this[e]
                                        }
                                        ,
                                        l.prototype.readUInt16LE = function(e, t) {
                                            return t || I(e, 2, this.length),
                                            this[e] | this[e + 1] << 8
                                        }
                                        ,
                                        l.prototype.readUInt16BE = function(e, t) {
                                            return t || I(e, 2, this.length),
                                            this[e] << 8 | this[e + 1]
                                        }
                                        ,
                                        l.prototype.readUInt32LE = function(e, t) {
                                            return t || I(e, 4, this.length),
                                            (this[e] | this[e + 1] << 8 | this[e + 2] << 16) + 16777216 * this[e + 3]
                                        }
                                        ,
                                        l.prototype.readUInt32BE = function(e, t) {
                                            return t || I(e, 4, this.length),
                                            16777216 * this[e] + (this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3])
                                        }
                                        ,
                                        l.prototype.readIntLE = function(e, t, n) {
                                            e |= 0,
                                                t |= 0,
                                            n || I(e, t, this.length);
                                            for (var i = this[e], r = 1, o = 0; ++o < t && (r *= 256); )
                                                i += this[e + o] * r;
                                            return i >= (r *= 128) && (i -= Math.pow(2, 8 * t)),
                                                i
                                        }
                                        ,
                                        l.prototype.readIntBE = function(e, t, n) {
                                            e |= 0,
                                                t |= 0,
                                            n || I(e, t, this.length);
                                            for (var i = t, r = 1, o = this[e + --i]; i > 0 && (r *= 256); )
                                                o += this[e + --i] * r;
                                            return o >= (r *= 128) && (o -= Math.pow(2, 8 * t)),
                                                o
                                        }
                                        ,
                                        l.prototype.readInt8 = function(e, t) {
                                            return t || I(e, 1, this.length),
                                                128 & this[e] ? -1 * (255 - this[e] + 1) : this[e]
                                        }
                                        ,
                                        l.prototype.readInt16LE = function(e, t) {
                                            t || I(e, 2, this.length);
                                            var n = this[e] | this[e + 1] << 8;
                                            return 32768 & n ? 4294901760 | n : n
                                        }
                                        ,
                                        l.prototype.readInt16BE = function(e, t) {
                                            t || I(e, 2, this.length);
                                            var n = this[e + 1] | this[e] << 8;
                                            return 32768 & n ? 4294901760 | n : n
                                        }
                                        ,
                                        l.prototype.readInt32LE = function(e, t) {
                                            return t || I(e, 4, this.length),
                                            this[e] | this[e + 1] << 8 | this[e + 2] << 16 | this[e + 3] << 24
                                        }
                                        ,
                                        l.prototype.readInt32BE = function(e, t) {
                                            return t || I(e, 4, this.length),
                                            this[e] << 24 | this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3]
                                        }
                                        ,
                                        l.prototype.readFloatLE = function(e, t) {
                                            return t || I(e, 4, this.length),
                                                r.read(this, e, !0, 23, 4)
                                        }
                                        ,
                                        l.prototype.readFloatBE = function(e, t) {
                                            return t || I(e, 4, this.length),
                                                r.read(this, e, !1, 23, 4)
                                        }
                                        ,
                                        l.prototype.readDoubleLE = function(e, t) {
                                            return t || I(e, 8, this.length),
                                                r.read(this, e, !0, 52, 8)
                                        }
                                        ,
                                        l.prototype.readDoubleBE = function(e, t) {
                                            return t || I(e, 8, this.length),
                                                r.read(this, e, !1, 52, 8)
                                        }
                                        ,
                                        l.prototype.writeUIntLE = function(e, t, n, i) {
                                            e = +e,
                                                t |= 0,
                                                n |= 0,
                                            i || P(this, e, t, n, Math.pow(2, 8 * n) - 1, 0);
                                            var r = 1
                                                , o = 0;
                                            for (this[t] = 255 & e; ++o < n && (r *= 256); )
                                                this[t + o] = e / r & 255;
                                            return t + n
                                        }
                                        ,
                                        l.prototype.writeUIntBE = function(e, t, n, i) {
                                            e = +e,
                                                t |= 0,
                                                n |= 0,
                                            i || P(this, e, t, n, Math.pow(2, 8 * n) - 1, 0);
                                            var r = n - 1
                                                , o = 1;
                                            for (this[t + r] = 255 & e; --r >= 0 && (o *= 256); )
                                                this[t + r] = e / o & 255;
                                            return t + n
                                        }
                                        ,
                                        l.prototype.writeUInt8 = function(e, t, n) {
                                            return e = +e,
                                                t |= 0,
                                            n || P(this, e, t, 1, 255, 0),
                                            l.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)),
                                                this[t] = 255 & e,
                                            t + 1
                                        }
                                        ,
                                        l.prototype.writeUInt16LE = function(e, t, n) {
                                            return e = +e,
                                                t |= 0,
                                            n || P(this, e, t, 2, 65535, 0),
                                                l.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e,
                                                    this[t + 1] = e >>> 8) : M(this, e, t, !0),
                                            t + 2
                                        }
                                        ,
                                        l.prototype.writeUInt16BE = function(e, t, n) {
                                            return e = +e,
                                                t |= 0,
                                            n || P(this, e, t, 2, 65535, 0),
                                                l.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8,
                                                    this[t + 1] = 255 & e) : M(this, e, t, !1),
                                            t + 2
                                        }
                                        ,
                                        l.prototype.writeUInt32LE = function(e, t, n) {
                                            return e = +e,
                                                t |= 0,
                                            n || P(this, e, t, 4, 4294967295, 0),
                                                l.TYPED_ARRAY_SUPPORT ? (this[t + 3] = e >>> 24,
                                                    this[t + 2] = e >>> 16,
                                                    this[t + 1] = e >>> 8,
                                                    this[t] = 255 & e) : D(this, e, t, !0),
                                            t + 4
                                        }
                                        ,
                                        l.prototype.writeUInt32BE = function(e, t, n) {
                                            return e = +e,
                                                t |= 0,
                                            n || P(this, e, t, 4, 4294967295, 0),
                                                l.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24,
                                                    this[t + 1] = e >>> 16,
                                                    this[t + 2] = e >>> 8,
                                                    this[t + 3] = 255 & e) : D(this, e, t, !1),
                                            t + 4
                                        }
                                        ,
                                        l.prototype.writeIntLE = function(e, t, n, i) {
                                            if (e = +e,
                                                t |= 0,
                                                !i) {
                                                var r = Math.pow(2, 8 * n - 1);
                                                P(this, e, t, n, r - 1, -r)
                                            }
                                            var o = 0
                                                , a = 1
                                                , s = 0;
                                            for (this[t] = 255 & e; ++o < n && (a *= 256); )
                                                e < 0 && 0 === s && 0 !== this[t + o - 1] && (s = 1),
                                                    this[t + o] = (e / a >> 0) - s & 255;
                                            return t + n
                                        }
                                        ,
                                        l.prototype.writeIntBE = function(e, t, n, i) {
                                            if (e = +e,
                                                t |= 0,
                                                !i) {
                                                var r = Math.pow(2, 8 * n - 1);
                                                P(this, e, t, n, r - 1, -r)
                                            }
                                            var o = n - 1
                                                , a = 1
                                                , s = 0;
                                            for (this[t + o] = 255 & e; --o >= 0 && (a *= 256); )
                                                e < 0 && 0 === s && 0 !== this[t + o + 1] && (s = 1),
                                                    this[t + o] = (e / a >> 0) - s & 255;
                                            return t + n
                                        }
                                        ,
                                        l.prototype.writeInt8 = function(e, t, n) {
                                            return e = +e,
                                                t |= 0,
                                            n || P(this, e, t, 1, 127, -128),
                                            l.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)),
                                            e < 0 && (e = 255 + e + 1),
                                                this[t] = 255 & e,
                                            t + 1
                                        }
                                        ,
                                        l.prototype.writeInt16LE = function(e, t, n) {
                                            return e = +e,
                                                t |= 0,
                                            n || P(this, e, t, 2, 32767, -32768),
                                                l.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e,
                                                    this[t + 1] = e >>> 8) : M(this, e, t, !0),
                                            t + 2
                                        }
                                        ,
                                        l.prototype.writeInt16BE = function(e, t, n) {
                                            return e = +e,
                                                t |= 0,
                                            n || P(this, e, t, 2, 32767, -32768),
                                                l.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8,
                                                    this[t + 1] = 255 & e) : M(this, e, t, !1),
                                            t + 2
                                        }
                                        ,
                                        l.prototype.writeInt32LE = function(e, t, n) {
                                            return e = +e,
                                                t |= 0,
                                            n || P(this, e, t, 4, 2147483647, -2147483648),
                                                l.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e,
                                                    this[t + 1] = e >>> 8,
                                                    this[t + 2] = e >>> 16,
                                                    this[t + 3] = e >>> 24) : D(this, e, t, !0),
                                            t + 4
                                        }
                                        ,
                                        l.prototype.writeInt32BE = function(e, t, n) {
                                            return e = +e,
                                                t |= 0,
                                            n || P(this, e, t, 4, 2147483647, -2147483648),
                                            e < 0 && (e = 4294967295 + e + 1),
                                                l.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24,
                                                    this[t + 1] = e >>> 16,
                                                    this[t + 2] = e >>> 8,
                                                    this[t + 3] = 255 & e) : D(this, e, t, !1),
                                            t + 4
                                        }
                                        ,
                                        l.prototype.writeFloatLE = function(e, t, n) {
                                            return N(this, e, t, !0, n)
                                        }
                                        ,
                                        l.prototype.writeFloatBE = function(e, t, n) {
                                            return N(this, e, t, !1, n)
                                        }
                                        ,
                                        l.prototype.writeDoubleLE = function(e, t, n) {
                                            return U(this, e, t, !0, n)
                                        }
                                        ,
                                        l.prototype.writeDoubleBE = function(e, t, n) {
                                            return U(this, e, t, !1, n)
                                        }
                                        ,
                                        l.prototype.copy = function(e, t, n, i) {
                                            if (n || (n = 0),
                                            i || 0 === i || (i = this.length),
                                            t >= e.length && (t = e.length),
                                            t || (t = 0),
                                            i > 0 && i < n && (i = n),
                                            i === n)
                                                return 0;
                                            if (0 === e.length || 0 === this.length)
                                                return 0;
                                            if (t < 0)
                                                throw new RangeError("targetStart out of bounds");
                                            if (n < 0 || n >= this.length)
                                                throw new RangeError("sourceStart out of bounds");
                                            if (i < 0)
                                                throw new RangeError("sourceEnd out of bounds");
                                            i > this.length && (i = this.length),
                                            e.length - t < i - n && (i = e.length - t + n);
                                            var r, o = i - n;
                                            if (this === e && n < t && t < i)
                                                for (r = o - 1; r >= 0; --r)
                                                    e[r + t] = this[r + n];
                                            else if (o < 1e3 || !l.TYPED_ARRAY_SUPPORT)
                                                for (r = 0; r < o; ++r)
                                                    e[r + t] = this[r + n];
                                            else
                                                Uint8Array.prototype.set.call(e, this.subarray(n, n + o), t);
                                            return o
                                        }
                                        ,
                                        l.prototype.fill = function(e, t, n, i) {
                                            if ("string" == typeof e) {
                                                if ("string" == typeof t ? (i = t,
                                                    t = 0,
                                                    n = this.length) : "string" == typeof n && (i = n,
                                                    n = this.length),
                                                1 === e.length) {
                                                    var r = e.charCodeAt(0);
                                                    r < 256 && (e = r)
                                                }
                                                if (void 0 !== i && "string" != typeof i)
                                                    throw new TypeError("encoding must be a string");
                                                if ("string" == typeof i && !l.isEncoding(i))
                                                    throw new TypeError("Unknown encoding: " + i)
                                            } else
                                                "number" == typeof e && (e &= 255);
                                            if (t < 0 || this.length < t || this.length < n)
                                                throw new RangeError("Out of range index");
                                            if (n <= t)
                                                return this;
                                            var o;
                                            if (t >>>= 0,
                                                n = void 0 === n ? this.length : n >>> 0,
                                            e || (e = 0),
                                            "number" == typeof e)
                                                for (o = t; o < n; ++o)
                                                    this[o] = e;
                                            else {
                                                var a = l.isBuffer(e) ? e : z(new l(e,i).toString())
                                                    , s = a.length;
                                                for (o = 0; o < n - t; ++o)
                                                    this[o + t] = a[o % s]
                                            }
                                            return this
                                        }
                                    ;
                                    var B = /[^+\/0-9A-Za-z-_]/g;
                                    function F(e) {
                                        return e < 16 ? "0" + e.toString(16) : e.toString(16)
                                    }
                                    function z(e, t) {
                                        var n;
                                        t = t || 1 / 0;
                                        for (var i = e.length, r = null, o = [], a = 0; a < i; ++a) {
                                            if ((n = e.charCodeAt(a)) > 55295 && n < 57344) {
                                                if (!r) {
                                                    if (n > 56319) {
                                                        (t -= 3) > -1 && o.push(239, 191, 189);
                                                        continue
                                                    }
                                                    if (a + 1 === i) {
                                                        (t -= 3) > -1 && o.push(239, 191, 189);
                                                        continue
                                                    }
                                                    r = n;
                                                    continue
                                                }
                                                if (n < 56320) {
                                                    (t -= 3) > -1 && o.push(239, 191, 189),
                                                        r = n;
                                                    continue
                                                }
                                                n = 65536 + (r - 55296 << 10 | n - 56320)
                                            } else
                                                r && (t -= 3) > -1 && o.push(239, 191, 189);
                                            if (r = null,
                                            n < 128) {
                                                if ((t -= 1) < 0)
                                                    break;
                                                o.push(n)
                                            } else if (n < 2048) {
                                                if ((t -= 2) < 0)
                                                    break;
                                                o.push(n >> 6 | 192, 63 & n | 128)
                                            } else if (n < 65536) {
                                                if ((t -= 3) < 0)
                                                    break;
                                                o.push(n >> 12 | 224, n >> 6 & 63 | 128, 63 & n | 128)
                                            } else {
                                                if (!(n < 1114112))
                                                    throw new Error("Invalid code point");
                                                if ((t -= 4) < 0)
                                                    break;
                                                o.push(n >> 18 | 240, n >> 12 & 63 | 128, n >> 6 & 63 | 128, 63 & n | 128)
                                            }
                                        }
                                        return o
                                    }
                                    function j(e) {
                                        return i.toByteArray(function(e) {
                                            if ((e = function(e) {
                                                return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, "")
                                            }(e).replace(B, "")).length < 2)
                                                return "";
                                            for (; e.length % 4 != 0; )
                                                e += "=";
                                            return e
                                        }(e))
                                    }
                                    function V(e, t, n, i) {
                                        for (var r = 0; r < i && !(r + n >= t.length || r >= e.length); ++r)
                                            t[r + n] = e[r];
                                        return r
                                    }
                                }
                            ).call(this, n(89))
                        }
                        , function(e, t, n) {
                            "use strict";
                            t.byteLength = function(e) {
                                var t = c(e)
                                    , n = t[0]
                                    , i = t[1];
                                return 3 * (n + i) / 4 - i
                            }
                                ,
                                t.toByteArray = function(e) {
                                    var t, n, i = c(e), a = i[0], s = i[1], l = new o(function(e, t, n) {
                                        return 3 * (t + n) / 4 - n
                                    }(0, a, s)), u = 0, d = s > 0 ? a - 4 : a;
                                    for (n = 0; n < d; n += 4)
                                        t = r[e.charCodeAt(n)] << 18 | r[e.charCodeAt(n + 1)] << 12 | r[e.charCodeAt(n + 2)] << 6 | r[e.charCodeAt(n + 3)],
                                            l[u++] = t >> 16 & 255,
                                            l[u++] = t >> 8 & 255,
                                            l[u++] = 255 & t;
                                    return 2 === s && (t = r[e.charCodeAt(n)] << 2 | r[e.charCodeAt(n + 1)] >> 4,
                                        l[u++] = 255 & t),
                                    1 === s && (t = r[e.charCodeAt(n)] << 10 | r[e.charCodeAt(n + 1)] << 4 | r[e.charCodeAt(n + 2)] >> 2,
                                        l[u++] = t >> 8 & 255,
                                        l[u++] = 255 & t),
                                        l
                                }
                                ,
                                t.fromByteArray = function(e) {
                                    for (var t, n = e.length, r = n % 3, o = [], a = 0, s = n - r; a < s; a += 16383)
                                        o.push(u(e, a, a + 16383 > s ? s : a + 16383));
                                    return 1 === r ? (t = e[n - 1],
                                        o.push(i[t >> 2] + i[t << 4 & 63] + "==")) : 2 === r && (t = (e[n - 2] << 8) + e[n - 1],
                                        o.push(i[t >> 10] + i[t >> 4 & 63] + i[t << 2 & 63] + "=")),
                                        o.join("")
                                }
                            ;
                            for (var i = [], r = [], o = "undefined" != typeof Uint8Array ? Uint8Array : Array, a = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", s = 0, l = a.length; s < l; ++s)
                                i[s] = a[s],
                                    r[a.charCodeAt(s)] = s;
                            function c(e) {
                                var t = e.length;
                                if (t % 4 > 0)
                                    throw new Error("Invalid string. Length must be a multiple of 4");
                                var n = e.indexOf("=");
                                return -1 === n && (n = t),
                                    [n, n === t ? 0 : 4 - n % 4]
                            }
                            function u(e, t, n) {
                                for (var r, o, a = [], s = t; s < n; s += 3)
                                    r = (e[s] << 16 & 16711680) + (e[s + 1] << 8 & 65280) + (255 & e[s + 2]),
                                        a.push(i[(o = r) >> 18 & 63] + i[o >> 12 & 63] + i[o >> 6 & 63] + i[63 & o]);
                                return a.join("")
                            }
                            r["-".charCodeAt(0)] = 62,
                                r["_".charCodeAt(0)] = 63
                        }
                        , function(e, t) {
                            /*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
                            t.read = function(e, t, n, i, r) {
                                var o, a, s = 8 * r - i - 1, l = (1 << s) - 1, c = l >> 1, u = -7, d = n ? r - 1 : 0, h = n ? -1 : 1, f = e[t + d];
                                for (d += h,
                                         o = f & (1 << -u) - 1,
                                         f >>= -u,
                                         u += s; u > 0; o = 256 * o + e[t + d],
                                         d += h,
                                         u -= 8)
                                    ;
                                for (a = o & (1 << -u) - 1,
                                         o >>= -u,
                                         u += i; u > 0; a = 256 * a + e[t + d],
                                         d += h,
                                         u -= 8)
                                    ;
                                if (0 === o)
                                    o = 1 - c;
                                else {
                                    if (o === l)
                                        return a ? NaN : 1 / 0 * (f ? -1 : 1);
                                    a += Math.pow(2, i),
                                        o -= c
                                }
                                return (f ? -1 : 1) * a * Math.pow(2, o - i)
                            }
                                ,
                                t.write = function(e, t, n, i, r, o) {
                                    var a, s, l, c = 8 * o - r - 1, u = (1 << c) - 1, d = u >> 1, h = 23 === r ? Math.pow(2, -24) - Math.pow(2, -77) : 0, f = i ? 0 : o - 1, p = i ? 1 : -1, v = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;
                                    for (t = Math.abs(t),
                                             isNaN(t) || t === 1 / 0 ? (s = isNaN(t) ? 1 : 0,
                                                 a = u) : (a = Math.floor(Math.log(t) / Math.LN2),
                                             t * (l = Math.pow(2, -a)) < 1 && (a--,
                                                 l *= 2),
                                             (t += a + d >= 1 ? h / l : h * Math.pow(2, 1 - d)) * l >= 2 && (a++,
                                                 l /= 2),
                                                 a + d >= u ? (s = 0,
                                                     a = u) : a + d >= 1 ? (s = (t * l - 1) * Math.pow(2, r),
                                                     a += d) : (s = t * Math.pow(2, d - 1) * Math.pow(2, r),
                                                     a = 0)); r >= 8; e[n + f] = 255 & s,
                                             f += p,
                                             s /= 256,
                                             r -= 8)
                                        ;
                                    for (a = a << r | s,
                                             c += r; c > 0; e[n + f] = 255 & a,
                                             f += p,
                                             a /= 256,
                                             c -= 8)
                                        ;
                                    e[n + f - p] |= 128 * v
                                }
                        }
                        , function(e, t) {
                            var n = {}.toString;
                            e.exports = Array.isArray || function(e) {
                                return "[object Array]" == n.call(e)
                            }
                        }
                        , function(e, t, n) {
                            var i = n(275);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            var i = n(276)
                                , r = Array.prototype;
                            e.exports = function(e) {
                                var t = e.splice;
                                return e === r || e instanceof Array && t === r.splice ? i : t
                            }
                        }
                        , function(e, t, n) {
                            n(277);
                            var i = n(24);
                            e.exports = i("Array").splice
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(7)
                                , r = n(92)
                                , o = n(67)
                                , a = n(29)
                                , s = n(31)
                                , l = n(73)
                                , c = n(74)
                                , u = n(62)
                                , d = n(47)
                                , h = u("splice")
                                , f = d("splice", {
                                ACCESSORS: !0,
                                0: 0,
                                1: 2
                            })
                                , p = Math.max
                                , v = Math.min;
                            i({
                                target: "Array",
                                proto: !0,
                                forced: !h || !f
                            }, {
                                splice: function(e, t) {
                                    var n, i, u, d, h, f, y = s(this), g = a(y.length), m = r(e, g), _ = arguments.length;
                                    if (0 === _ ? n = i = 0 : 1 === _ ? (n = 0,
                                        i = g - m) : (n = _ - 2,
                                        i = v(p(o(t), 0), g - m)),
                                    g + n - i > 9007199254740991)
                                        throw TypeError("Maximum allowed length exceeded");
                                    for (u = l(y, i),
                                             d = 0; d < i; d++)
                                        (h = m + d)in y && c(u, d, y[h]);
                                    if (u.length = i,
                                    n < i) {
                                        for (d = m; d < g - i; d++)
                                            f = d + n,
                                                (h = d + i)in y ? y[f] = y[h] : delete y[f];
                                        for (d = g; d > g - i + n; d--)
                                            delete y[d - 1]
                                    } else if (n > i)
                                        for (d = g - i; d > m; d--)
                                            f = d + n - 1,
                                                (h = d + i - 1)in y ? y[f] = y[h] : delete y[f];
                                    for (d = 0; d < n; d++)
                                        y[d + m] = arguments[d + 2];
                                    return y.length = g - i + n,
                                        u
                                }
                            })
                        }
                        , function(e, t, n) {
                            var i = n(279);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            n(280),
                                n(75),
                                n(34),
                                n(33);
                            var i = n(13);
                            e.exports = i.Map
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(154)
                                , r = n(156);
                            e.exports = i("Map", (function(e) {
                                    return function() {
                                        return e(this, arguments.length ? arguments[0] : void 0)
                                    }
                                }
                            ), r)
                        }
                        , function(e, t, n) {
                            var i = n(282);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            var i = n(283)
                                , r = Array.prototype;
                            e.exports = function(e) {
                                var t = e.concat;
                                return e === r || e instanceof Array && t === r.concat ? i : t
                            }
                        }
                        , function(e, t, n) {
                            n(136);
                            var i = n(24);
                            e.exports = i("Array").concat
                        }
                        , function(e, t, n) {
                            var i = n(125);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            n(33),
                                n(34);
                            var i = n(61);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            var i = n(135);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            var i = n(128);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            var i = n(141);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            var i = n(290);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            var i = n(291)
                                , r = Array.prototype;
                            e.exports = function(e) {
                                var t = e.filter;
                                return e === r || e instanceof Array && t === r.filter ? i : t
                            }
                        }
                        , function(e, t, n) {
                            n(292);
                            var i = n(24);
                            e.exports = i("Array").filter
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(7)
                                , r = n(60).filter
                                , o = n(62)
                                , a = n(47)
                                , s = o("filter")
                                , l = a("filter");
                            i({
                                target: "Array",
                                proto: !0,
                                forced: !s || !l
                            }, {
                                filter: function(e) {
                                    return r(this, e, arguments.length > 1 ? arguments[1] : void 0)
                                }
                            })
                        }
                        , function(e, t, n) {
                            n(33);
                            var i = n(294)
                                , r = n(44)
                                , o = Array.prototype
                                , a = {
                                DOMTokenList: !0,
                                NodeList: !0
                            };
                            e.exports = function(e) {
                                var t = e.values;
                                return e === o || e instanceof Array && t === o.values || a.hasOwnProperty(r(e)) ? i : t
                            }
                        }
                        , function(e, t, n) {
                            var i = n(295);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            n(94);
                            var i = n(24);
                            e.exports = i("Array").values
                        }
                        , function(e, t, n) {
                            var i = n(297);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            var i = n(298)
                                , r = Array.prototype;
                            e.exports = function(e) {
                                var t = e.flatMap;
                                return e === r || e instanceof Array && t === r.flatMap ? i : t
                            }
                        }
                        , function(e, t, n) {
                            n(299),
                                n(301);
                            var i = n(24);
                            e.exports = i("Array").flatMap
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(7)
                                , r = n(300)
                                , o = n(31)
                                , a = n(29)
                                , s = n(38)
                                , l = n(73);
                            i({
                                target: "Array",
                                proto: !0
                            }, {
                                flatMap: function(e) {
                                    var t, n = o(this), i = a(n.length);
                                    return s(e),
                                        (t = l(n, 0)).length = r(t, n, n, i, 0, 1, e, arguments.length > 1 ? arguments[1] : void 0),
                                        t
                                }
                            })
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(49)
                                , r = n(29)
                                , o = n(37)
                                , a = function(e, t, n, s, l, c, u, d) {
                                for (var h, f = l, p = 0, v = !!u && o(u, d, 3); p < s; ) {
                                    if (p in n) {
                                        if (h = v ? v(n[p], p, t) : n[p],
                                        c > 0 && i(h))
                                            f = a(e, t, h, r(h.length), f, c - 1) - 1;
                                        else {
                                            if (f >= 9007199254740991)
                                                throw TypeError("Exceed the acceptable array length");
                                            e[f] = h
                                        }
                                        f++
                                    }
                                    p++
                                }
                                return f
                            };
                            e.exports = a
                        }
                        , function(e, t, n) {
                            n(115)("flatMap")
                        }
                        , function(e, t, n) {
                            var i = n(303);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            var i = n(304)
                                , r = Array.prototype;
                            e.exports = function(e) {
                                var t = e.sort;
                                return e === r || e instanceof Array && t === r.sort ? i : t
                            }
                        }
                        , function(e, t, n) {
                            n(305);
                            var i = n(24);
                            e.exports = i("Array").sort
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(7)
                                , r = n(38)
                                , o = n(31)
                                , a = n(14)
                                , s = n(87)
                                , l = []
                                , c = l.sort
                                , u = a((function() {
                                    l.sort(void 0)
                                }
                            ))
                                , d = a((function() {
                                    l.sort(null)
                                }
                            ))
                                , h = s("sort");
                            i({
                                target: "Array",
                                proto: !0,
                                forced: u || !d || !h
                            }, {
                                sort: function(e) {
                                    return void 0 === e ? c.call(o(this)) : c.call(o(this), r(e))
                                }
                            })
                        }
                        , function(e, t, n) {
                            var i = n(307);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            var i = n(308)
                                , r = Array.prototype;
                            e.exports = function(e) {
                                var t = e.map;
                                return e === r || e instanceof Array && t === r.map ? i : t
                            }
                        }
                        , function(e, t, n) {
                            n(309);
                            var i = n(24);
                            e.exports = i("Array").map
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(7)
                                , r = n(60).map
                                , o = n(62)
                                , a = n(47)
                                , s = o("map")
                                , l = a("map");
                            i({
                                target: "Array",
                                proto: !0,
                                forced: !s || !l
                            }, {
                                map: function(e) {
                                    return r(this, e, arguments.length > 1 ? arguments[1] : void 0)
                                }
                            })
                        }
                        , function(e, t, n) {
                            var i = n(311);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            n(312);
                            var i = n(13);
                            e.exports = i.Number.isInteger
                        }
                        , function(e, t, n) {
                            n(7)({
                                target: "Number",
                                stat: !0
                            }, {
                                isInteger: n(313)
                            })
                        }
                        , function(e, t, n) {
                            var i = n(18)
                                , r = Math.floor;
                            e.exports = function(e) {
                                return !i(e) && isFinite(e) && r(e) === e
                            }
                        }
                        , function(e, t, n) {
                            var i = n(315);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            n(316),
                                n(319),
                                n(158);
                            var i = n(13);
                            e.exports = i.URL
                        }
                        , function(e, t, n) {
                            "use strict";
                            n(34);
                            var i, r = n(7), o = n(20), a = n(157), s = n(12), l = n(120), c = n(45), u = n(63), d = n(21), h = n(317), f = n(130), p = n(129).codeAt, v = n(318), y = n(41), g = n(158), m = n(39), _ = s.URL, b = g.URLSearchParams, E = g.getState, S = m.set, T = m.getterFor("URL"), w = Math.floor, C = Math.pow, A = /[A-Za-z]/, k = /[\d+-.A-Za-z]/, x = /\d/, L = /^(0x|0X)/, R = /^[0-7]+$/, I = /^\d+$/, P = /^[\dA-Fa-f]+$/, M = /[\u0000\u0009\u000A\u000D #%/:?@[\\]]/, D = /[\u0000\u0009\u000A\u000D #/:?@[\\]]/, O = /^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g, N = /[\u0009\u000A\u000D]/g, U = function(e, t) {
                                var n, i, r;
                                if ("[" == t.charAt(0)) {
                                    if ("]" != t.charAt(t.length - 1))
                                        return "Invalid host";
                                    if (!(n = F(t.slice(1, -1))))
                                        return "Invalid host";
                                    e.host = n
                                } else if (K(e)) {
                                    if (t = v(t),
                                        M.test(t))
                                        return "Invalid host";
                                    if (null === (n = B(t)))
                                        return "Invalid host";
                                    e.host = n
                                } else {
                                    if (D.test(t))
                                        return "Invalid host";
                                    for (n = "",
                                             i = f(t),
                                             r = 0; r < i.length; r++)
                                        n += H(i[r], j);
                                    e.host = n
                                }
                            }, B = function(e) {
                                var t, n, i, r, o, a, s, l = e.split(".");
                                if (l.length && "" == l[l.length - 1] && l.pop(),
                                (t = l.length) > 4)
                                    return e;
                                for (n = [],
                                         i = 0; i < t; i++) {
                                    if ("" == (r = l[i]))
                                        return e;
                                    if (o = 10,
                                    r.length > 1 && "0" == r.charAt(0) && (o = L.test(r) ? 16 : 8,
                                        r = r.slice(8 == o ? 1 : 2)),
                                    "" === r)
                                        a = 0;
                                    else {
                                        if (!(10 == o ? I : 8 == o ? R : P).test(r))
                                            return e;
                                        a = parseInt(r, o)
                                    }
                                    n.push(a)
                                }
                                for (i = 0; i < t; i++)
                                    if (a = n[i],
                                    i == t - 1) {
                                        if (a >= C(256, 5 - t))
                                            return null
                                    } else if (a > 255)
                                        return null;
                                for (s = n.pop(),
                                         i = 0; i < n.length; i++)
                                    s += n[i] * C(256, 3 - i);
                                return s
                            }, F = function(e) {
                                var t, n, i, r, o, a, s, l = [0, 0, 0, 0, 0, 0, 0, 0], c = 0, u = null, d = 0, h = function() {
                                    return e.charAt(d)
                                };
                                if (":" == h()) {
                                    if (":" != e.charAt(1))
                                        return;
                                    d += 2,
                                        u = ++c
                                }
                                for (; h(); ) {
                                    if (8 == c)
                                        return;
                                    if (":" != h()) {
                                        for (t = n = 0; n < 4 && P.test(h()); )
                                            t = 16 * t + parseInt(h(), 16),
                                                d++,
                                                n++;
                                        if ("." == h()) {
                                            if (0 == n)
                                                return;
                                            if (d -= n,
                                            c > 6)
                                                return;
                                            for (i = 0; h(); ) {
                                                if (r = null,
                                                i > 0) {
                                                    if (!("." == h() && i < 4))
                                                        return;
                                                    d++
                                                }
                                                if (!x.test(h()))
                                                    return;
                                                for (; x.test(h()); ) {
                                                    if (o = parseInt(h(), 10),
                                                    null === r)
                                                        r = o;
                                                    else {
                                                        if (0 == r)
                                                            return;
                                                        r = 10 * r + o
                                                    }
                                                    if (r > 255)
                                                        return;
                                                    d++
                                                }
                                                l[c] = 256 * l[c] + r,
                                                2 != ++i && 4 != i || c++
                                            }
                                            if (4 != i)
                                                return;
                                            break
                                        }
                                        if (":" == h()) {
                                            if (d++,
                                                !h())
                                                return
                                        } else if (h())
                                            return;
                                        l[c++] = t
                                    } else {
                                        if (null !== u)
                                            return;
                                        d++,
                                            u = ++c
                                    }
                                }
                                if (null !== u)
                                    for (a = c - u,
                                             c = 7; 0 != c && a > 0; )
                                        s = l[c],
                                            l[c--] = l[u + a - 1],
                                            l[u + --a] = s;
                                else if (8 != c)
                                    return;
                                return l
                            }, z = function(e) {
                                var t, n, i, r;
                                if ("number" == typeof e) {
                                    for (t = [],
                                             n = 0; n < 4; n++)
                                        t.unshift(e % 256),
                                            e = w(e / 256);
                                    return t.join(".")
                                }
                                if ("object" == typeof e) {
                                    for (t = "",
                                             i = function(e) {
                                                 for (var t = null, n = 1, i = null, r = 0, o = 0; o < 8; o++)
                                                     0 !== e[o] ? (r > n && (t = i,
                                                         n = r),
                                                         i = null,
                                                         r = 0) : (null === i && (i = o),
                                                         ++r);
                                                 return r > n && (t = i,
                                                     n = r),
                                                     t
                                             }(e),
                                             n = 0; n < 8; n++)
                                        r && 0 === e[n] || (r && (r = !1),
                                            i === n ? (t += n ? ":" : "::",
                                                r = !0) : (t += e[n].toString(16),
                                            n < 7 && (t += ":")));
                                    return "[" + t + "]"
                                }
                                return e
                            }, j = {}, V = h({}, j, {
                                " ": 1,
                                '"': 1,
                                "<": 1,
                                ">": 1,
                                "`": 1
                            }), G = h({}, V, {
                                "#": 1,
                                "?": 1,
                                "{": 1,
                                "}": 1
                            }), Y = h({}, G, {
                                "/": 1,
                                ":": 1,
                                ";": 1,
                                "=": 1,
                                "@": 1,
                                "[": 1,
                                "\\": 1,
                                "]": 1,
                                "^": 1,
                                "|": 1
                            }), H = function(e, t) {
                                var n = p(e, 0);
                                return n > 32 && n < 127 && !d(t, e) ? e : encodeURIComponent(e)
                            }, W = {
                                ftp: 21,
                                file: null,
                                http: 80,
                                https: 443,
                                ws: 80,
                                wss: 443
                            }, K = function(e) {
                                return d(W, e.scheme)
                            }, Q = function(e) {
                                return "" != e.username || "" != e.password
                            }, Z = function(e) {
                                return !e.host || e.cannotBeABaseURL || "file" == e.scheme
                            }, q = function(e, t) {
                                var n;
                                return 2 == e.length && A.test(e.charAt(0)) && (":" == (n = e.charAt(1)) || !t && "|" == n)
                            }, J = function(e) {
                                var t;
                                return e.length > 1 && q(e.slice(0, 2)) && (2 == e.length || "/" === (t = e.charAt(2)) || "\\" === t || "?" === t || "#" === t)
                            }, X = function(e) {
                                var t = e.path
                                    , n = t.length;
                                !n || "file" == e.scheme && 1 == n && q(t[0], !0) || t.pop()
                            }, $ = function(e) {
                                return "." === e || "%2e" === e.toLowerCase()
                            }, ee = {}, te = {}, ne = {}, ie = {}, re = {}, oe = {}, ae = {}, se = {}, le = {}, ce = {}, ue = {}, de = {}, he = {}, fe = {}, pe = {}, ve = {}, ye = {}, ge = {}, me = {}, _e = {}, be = {}, Ee = function(e, t, n, r) {
                                var o, a, s, l, c, u = n || ee, h = 0, p = "", v = !1, y = !1, g = !1;
                                for (n || (e.scheme = "",
                                    e.username = "",
                                    e.password = "",
                                    e.host = null,
                                    e.port = null,
                                    e.path = [],
                                    e.query = null,
                                    e.fragment = null,
                                    e.cannotBeABaseURL = !1,
                                    t = t.replace(O, "")),
                                         t = t.replace(N, ""),
                                         o = f(t); h <= o.length; ) {
                                    switch (a = o[h],
                                        u) {
                                        case ee:
                                            if (!a || !A.test(a)) {
                                                if (n)
                                                    return "Invalid scheme";
                                                u = ne;
                                                continue
                                            }
                                            p += a.toLowerCase(),
                                                u = te;
                                            break;
                                        case te:
                                            if (a && (k.test(a) || "+" == a || "-" == a || "." == a))
                                                p += a.toLowerCase();
                                            else {
                                                if (":" != a) {
                                                    if (n)
                                                        return "Invalid scheme";
                                                    p = "",
                                                        u = ne,
                                                        h = 0;
                                                    continue
                                                }
                                                if (n && (K(e) != d(W, p) || "file" == p && (Q(e) || null !== e.port) || "file" == e.scheme && !e.host))
                                                    return;
                                                if (e.scheme = p,
                                                    n)
                                                    return void (K(e) && W[e.scheme] == e.port && (e.port = null));
                                                p = "",
                                                    "file" == e.scheme ? u = fe : K(e) && r && r.scheme == e.scheme ? u = ie : K(e) ? u = se : "/" == o[h + 1] ? (u = re,
                                                        h++) : (e.cannotBeABaseURL = !0,
                                                        e.path.push(""),
                                                        u = me)
                                            }
                                            break;
                                        case ne:
                                            if (!r || r.cannotBeABaseURL && "#" != a)
                                                return "Invalid scheme";
                                            if (r.cannotBeABaseURL && "#" == a) {
                                                e.scheme = r.scheme,
                                                    e.path = r.path.slice(),
                                                    e.query = r.query,
                                                    e.fragment = "",
                                                    e.cannotBeABaseURL = !0,
                                                    u = be;
                                                break
                                            }
                                            u = "file" == r.scheme ? fe : oe;
                                            continue;
                                        case ie:
                                            if ("/" != a || "/" != o[h + 1]) {
                                                u = oe;
                                                continue
                                            }
                                            u = le,
                                                h++;
                                            break;
                                        case re:
                                            if ("/" == a) {
                                                u = ce;
                                                break
                                            }
                                            u = ge;
                                            continue;
                                        case oe:
                                            if (e.scheme = r.scheme,
                                            a == i)
                                                e.username = r.username,
                                                    e.password = r.password,
                                                    e.host = r.host,
                                                    e.port = r.port,
                                                    e.path = r.path.slice(),
                                                    e.query = r.query;
                                            else if ("/" == a || "\\" == a && K(e))
                                                u = ae;
                                            else if ("?" == a)
                                                e.username = r.username,
                                                    e.password = r.password,
                                                    e.host = r.host,
                                                    e.port = r.port,
                                                    e.path = r.path.slice(),
                                                    e.query = "",
                                                    u = _e;
                                            else {
                                                if ("#" != a) {
                                                    e.username = r.username,
                                                        e.password = r.password,
                                                        e.host = r.host,
                                                        e.port = r.port,
                                                        e.path = r.path.slice(),
                                                        e.path.pop(),
                                                        u = ge;
                                                    continue
                                                }
                                                e.username = r.username,
                                                    e.password = r.password,
                                                    e.host = r.host,
                                                    e.port = r.port,
                                                    e.path = r.path.slice(),
                                                    e.query = r.query,
                                                    e.fragment = "",
                                                    u = be
                                            }
                                            break;
                                        case ae:
                                            if (!K(e) || "/" != a && "\\" != a) {
                                                if ("/" != a) {
                                                    e.username = r.username,
                                                        e.password = r.password,
                                                        e.host = r.host,
                                                        e.port = r.port,
                                                        u = ge;
                                                    continue
                                                }
                                                u = ce
                                            } else
                                                u = le;
                                            break;
                                        case se:
                                            if (u = le,
                                            "/" != a || "/" != p.charAt(h + 1))
                                                continue;
                                            h++;
                                            break;
                                        case le:
                                            if ("/" != a && "\\" != a) {
                                                u = ce;
                                                continue
                                            }
                                            break;
                                        case ce:
                                            if ("@" == a) {
                                                v && (p = "%40" + p),
                                                    v = !0,
                                                    s = f(p);
                                                for (var m = 0; m < s.length; m++) {
                                                    var _ = s[m];
                                                    if (":" != _ || g) {
                                                        var b = H(_, Y);
                                                        g ? e.password += b : e.username += b
                                                    } else
                                                        g = !0
                                                }
                                                p = ""
                                            } else if (a == i || "/" == a || "?" == a || "#" == a || "\\" == a && K(e)) {
                                                if (v && "" == p)
                                                    return "Invalid authority";
                                                h -= f(p).length + 1,
                                                    p = "",
                                                    u = ue
                                            } else
                                                p += a;
                                            break;
                                        case ue:
                                        case de:
                                            if (n && "file" == e.scheme) {
                                                u = ve;
                                                continue
                                            }
                                            if (":" != a || y) {
                                                if (a == i || "/" == a || "?" == a || "#" == a || "\\" == a && K(e)) {
                                                    if (K(e) && "" == p)
                                                        return "Invalid host";
                                                    if (n && "" == p && (Q(e) || null !== e.port))
                                                        return;
                                                    if (l = U(e, p))
                                                        return l;
                                                    if (p = "",
                                                        u = ye,
                                                        n)
                                                        return;
                                                    continue
                                                }
                                                "[" == a ? y = !0 : "]" == a && (y = !1),
                                                    p += a
                                            } else {
                                                if ("" == p)
                                                    return "Invalid host";
                                                if (l = U(e, p))
                                                    return l;
                                                if (p = "",
                                                    u = he,
                                                n == de)
                                                    return
                                            }
                                            break;
                                        case he:
                                            if (!x.test(a)) {
                                                if (a == i || "/" == a || "?" == a || "#" == a || "\\" == a && K(e) || n) {
                                                    if ("" != p) {
                                                        var E = parseInt(p, 10);
                                                        if (E > 65535)
                                                            return "Invalid port";
                                                        e.port = K(e) && E === W[e.scheme] ? null : E,
                                                            p = ""
                                                    }
                                                    if (n)
                                                        return;
                                                    u = ye;
                                                    continue
                                                }
                                                return "Invalid port"
                                            }
                                            p += a;
                                            break;
                                        case fe:
                                            if (e.scheme = "file",
                                            "/" == a || "\\" == a)
                                                u = pe;
                                            else {
                                                if (!r || "file" != r.scheme) {
                                                    u = ge;
                                                    continue
                                                }
                                                if (a == i)
                                                    e.host = r.host,
                                                        e.path = r.path.slice(),
                                                        e.query = r.query;
                                                else if ("?" == a)
                                                    e.host = r.host,
                                                        e.path = r.path.slice(),
                                                        e.query = "",
                                                        u = _e;
                                                else {
                                                    if ("#" != a) {
                                                        J(o.slice(h).join("")) || (e.host = r.host,
                                                            e.path = r.path.slice(),
                                                            X(e)),
                                                            u = ge;
                                                        continue
                                                    }
                                                    e.host = r.host,
                                                        e.path = r.path.slice(),
                                                        e.query = r.query,
                                                        e.fragment = "",
                                                        u = be
                                                }
                                            }
                                            break;
                                        case pe:
                                            if ("/" == a || "\\" == a) {
                                                u = ve;
                                                break
                                            }
                                            r && "file" == r.scheme && !J(o.slice(h).join("")) && (q(r.path[0], !0) ? e.path.push(r.path[0]) : e.host = r.host),
                                                u = ge;
                                            continue;
                                        case ve:
                                            if (a == i || "/" == a || "\\" == a || "?" == a || "#" == a) {
                                                if (!n && q(p))
                                                    u = ge;
                                                else if ("" == p) {
                                                    if (e.host = "",
                                                        n)
                                                        return;
                                                    u = ye
                                                } else {
                                                    if (l = U(e, p))
                                                        return l;
                                                    if ("localhost" == e.host && (e.host = ""),
                                                        n)
                                                        return;
                                                    p = "",
                                                        u = ye
                                                }
                                                continue
                                            }
                                            p += a;
                                            break;
                                        case ye:
                                            if (K(e)) {
                                                if (u = ge,
                                                "/" != a && "\\" != a)
                                                    continue
                                            } else if (n || "?" != a)
                                                if (n || "#" != a) {
                                                    if (a != i && (u = ge,
                                                    "/" != a))
                                                        continue
                                                } else
                                                    e.fragment = "",
                                                        u = be;
                                            else
                                                e.query = "",
                                                    u = _e;
                                            break;
                                        case ge:
                                            if (a == i || "/" == a || "\\" == a && K(e) || !n && ("?" == a || "#" == a)) {
                                                if (".." === (c = (c = p).toLowerCase()) || "%2e." === c || ".%2e" === c || "%2e%2e" === c ? (X(e),
                                                "/" == a || "\\" == a && K(e) || e.path.push("")) : $(p) ? "/" == a || "\\" == a && K(e) || e.path.push("") : ("file" == e.scheme && !e.path.length && q(p) && (e.host && (e.host = ""),
                                                    p = p.charAt(0) + ":"),
                                                    e.path.push(p)),
                                                    p = "",
                                                "file" == e.scheme && (a == i || "?" == a || "#" == a))
                                                    for (; e.path.length > 1 && "" === e.path[0]; )
                                                        e.path.shift();
                                                "?" == a ? (e.query = "",
                                                    u = _e) : "#" == a && (e.fragment = "",
                                                    u = be)
                                            } else
                                                p += H(a, G);
                                            break;
                                        case me:
                                            "?" == a ? (e.query = "",
                                                u = _e) : "#" == a ? (e.fragment = "",
                                                u = be) : a != i && (e.path[0] += H(a, j));
                                            break;
                                        case _e:
                                            n || "#" != a ? a != i && ("'" == a && K(e) ? e.query += "%27" : e.query += "#" == a ? "%23" : H(a, j)) : (e.fragment = "",
                                                u = be);
                                            break;
                                        case be:
                                            a != i && (e.fragment += H(a, V))
                                    }
                                    h++
                                }
                            }, Se = function(e) {
                                var t, n, i = u(this, Se, "URL"), r = arguments.length > 1 ? arguments[1] : void 0, a = String(e), s = S(i, {
                                    type: "URL"
                                });
                                if (void 0 !== r)
                                    if (r instanceof Se)
                                        t = T(r);
                                    else if (n = Ee(t = {}, String(r)))
                                        throw TypeError(n);
                                if (n = Ee(s, a, null, t))
                                    throw TypeError(n);
                                var l = s.searchParams = new b
                                    , c = E(l);
                                c.updateSearchParams(s.query),
                                    c.updateURL = function() {
                                        s.query = String(l) || null
                                    }
                                    ,
                                o || (i.href = we.call(i),
                                    i.origin = Ce.call(i),
                                    i.protocol = Ae.call(i),
                                    i.username = ke.call(i),
                                    i.password = xe.call(i),
                                    i.host = Le.call(i),
                                    i.hostname = Re.call(i),
                                    i.port = Ie.call(i),
                                    i.pathname = Pe.call(i),
                                    i.search = Me.call(i),
                                    i.searchParams = De.call(i),
                                    i.hash = Oe.call(i))
                            }, Te = Se.prototype, we = function() {
                                var e = T(this)
                                    , t = e.scheme
                                    , n = e.username
                                    , i = e.password
                                    , r = e.host
                                    , o = e.port
                                    , a = e.path
                                    , s = e.query
                                    , l = e.fragment
                                    , c = t + ":";
                                return null !== r ? (c += "//",
                                Q(e) && (c += n + (i ? ":" + i : "") + "@"),
                                    c += z(r),
                                null !== o && (c += ":" + o)) : "file" == t && (c += "//"),
                                    c += e.cannotBeABaseURL ? a[0] : a.length ? "/" + a.join("/") : "",
                                null !== s && (c += "?" + s),
                                null !== l && (c += "#" + l),
                                    c
                            }, Ce = function() {
                                var e = T(this)
                                    , t = e.scheme
                                    , n = e.port;
                                if ("blob" == t)
                                    try {
                                        return new URL(t.path[0]).origin
                                    } catch (e) {
                                        return "null"
                                    }
                                return "file" != t && K(e) ? t + "://" + z(e.host) + (null !== n ? ":" + n : "") : "null"
                            }, Ae = function() {
                                return T(this).scheme + ":"
                            }, ke = function() {
                                return T(this).username
                            }, xe = function() {
                                return T(this).password
                            }, Le = function() {
                                var e = T(this)
                                    , t = e.host
                                    , n = e.port;
                                return null === t ? "" : null === n ? z(t) : z(t) + ":" + n
                            }, Re = function() {
                                var e = T(this).host;
                                return null === e ? "" : z(e)
                            }, Ie = function() {
                                var e = T(this).port;
                                return null === e ? "" : String(e)
                            }, Pe = function() {
                                var e = T(this)
                                    , t = e.path;
                                return e.cannotBeABaseURL ? t[0] : t.length ? "/" + t.join("/") : ""
                            }, Me = function() {
                                var e = T(this).query;
                                return e ? "?" + e : ""
                            }, De = function() {
                                return T(this).searchParams
                            }, Oe = function() {
                                var e = T(this).fragment;
                                return e ? "#" + e : ""
                            }, Ne = function(e, t) {
                                return {
                                    get: e,
                                    set: t,
                                    configurable: !0,
                                    enumerable: !0
                                }
                            };
                            if (o && l(Te, {
                                href: Ne(we, (function(e) {
                                        var t = T(this)
                                            , n = String(e)
                                            , i = Ee(t, n);
                                        if (i)
                                            throw TypeError(i);
                                        E(t.searchParams).updateSearchParams(t.query)
                                    }
                                )),
                                origin: Ne(Ce),
                                protocol: Ne(Ae, (function(e) {
                                        var t = T(this);
                                        Ee(t, String(e) + ":", ee)
                                    }
                                )),
                                username: Ne(ke, (function(e) {
                                        var t = T(this)
                                            , n = f(String(e));
                                        if (!Z(t)) {
                                            t.username = "";
                                            for (var i = 0; i < n.length; i++)
                                                t.username += H(n[i], Y)
                                        }
                                    }
                                )),
                                password: Ne(xe, (function(e) {
                                        var t = T(this)
                                            , n = f(String(e));
                                        if (!Z(t)) {
                                            t.password = "";
                                            for (var i = 0; i < n.length; i++)
                                                t.password += H(n[i], Y)
                                        }
                                    }
                                )),
                                host: Ne(Le, (function(e) {
                                        var t = T(this);
                                        t.cannotBeABaseURL || Ee(t, String(e), ue)
                                    }
                                )),
                                hostname: Ne(Re, (function(e) {
                                        var t = T(this);
                                        t.cannotBeABaseURL || Ee(t, String(e), de)
                                    }
                                )),
                                port: Ne(Ie, (function(e) {
                                        var t = T(this);
                                        Z(t) || ("" == (e = String(e)) ? t.port = null : Ee(t, e, he))
                                    }
                                )),
                                pathname: Ne(Pe, (function(e) {
                                        var t = T(this);
                                        t.cannotBeABaseURL || (t.path = [],
                                            Ee(t, e + "", ye))
                                    }
                                )),
                                search: Ne(Me, (function(e) {
                                        var t = T(this);
                                        "" == (e = String(e)) ? t.query = null : ("?" == e.charAt(0) && (e = e.slice(1)),
                                            t.query = "",
                                            Ee(t, e, _e)),
                                            E(t.searchParams).updateSearchParams(t.query)
                                    }
                                )),
                                searchParams: Ne(De),
                                hash: Ne(Oe, (function(e) {
                                        var t = T(this);
                                        "" != (e = String(e)) ? ("#" == e.charAt(0) && (e = e.slice(1)),
                                            t.fragment = "",
                                            Ee(t, e, be)) : t.fragment = null
                                    }
                                ))
                            }),
                                c(Te, "toJSON", (function() {
                                        return we.call(this)
                                    }
                                ), {
                                    enumerable: !0
                                }),
                                c(Te, "toString", (function() {
                                        return we.call(this)
                                    }
                                ), {
                                    enumerable: !0
                                }),
                                _) {
                                var Ue = _.createObjectURL
                                    , Be = _.revokeObjectURL;
                                Ue && c(Se, "createObjectURL", (function(e) {
                                        return Ue.apply(_, arguments)
                                    }
                                )),
                                Be && c(Se, "revokeObjectURL", (function(e) {
                                        return Be.apply(_, arguments)
                                    }
                                ))
                            }
                            y(Se, "URL"),
                                r({
                                    global: !0,
                                    forced: !a,
                                    sham: !o
                                }, {
                                    URL: Se
                                })
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = n(20)
                                , r = n(14)
                                , o = n(59)
                                , a = n(138)
                                , s = n(69)
                                , l = n(31)
                                , c = n(90)
                                , u = Object.assign
                                , d = Object.defineProperty;
                            e.exports = !u || r((function() {
                                    if (i && 1 !== u({
                                        b: 1
                                    }, u(d({}, "a", {
                                        enumerable: !0,
                                        get: function() {
                                            d(this, "b", {
                                                value: 3,
                                                enumerable: !1
                                            })
                                        }
                                    }), {
                                        b: 2
                                    })).b)
                                        return !0;
                                    var e = {}
                                        , t = {}
                                        , n = Symbol();
                                    return e[n] = 7,
                                        "abcdefghijklmnopqrst".split("").forEach((function(e) {
                                                t[e] = e
                                            }
                                        )),
                                    7 != u({}, e)[n] || "abcdefghijklmnopqrst" != o(u({}, t)).join("")
                                }
                            )) ? function(e, t) {
                                    for (var n = l(e), r = arguments.length, u = 1, d = a.f, h = s.f; r > u; )
                                        for (var f, p = c(arguments[u++]), v = d ? o(p).concat(d(p)) : o(p), y = v.length, g = 0; y > g; )
                                            f = v[g++],
                                            i && !h.call(p, f) || (n[f] = p[f]);
                                    return n
                                }
                                : u
                        }
                        , function(e, t, n) {
                            "use strict";
                            var i = /[^\0-\u007E]/
                                , r = /[.\u3002\uFF0E\uFF61]/g
                                , o = "Overflow: input needs wider integers to process"
                                , a = Math.floor
                                , s = String.fromCharCode
                                , l = function(e) {
                                return e + 22 + 75 * (e < 26)
                            }
                                , c = function(e, t, n) {
                                var i = 0;
                                for (e = n ? a(e / 700) : e >> 1,
                                         e += a(e / t); e > 455; i += 36)
                                    e = a(e / 35);
                                return a(i + 36 * e / (e + 38))
                            }
                                , u = function(e) {
                                var t, n, i = [], r = (e = function(e) {
                                    for (var t = [], n = 0, i = e.length; n < i; ) {
                                        var r = e.charCodeAt(n++);
                                        if (r >= 55296 && r <= 56319 && n < i) {
                                            var o = e.charCodeAt(n++);
                                            56320 == (64512 & o) ? t.push(((1023 & r) << 10) + (1023 & o) + 65536) : (t.push(r),
                                                n--)
                                        } else
                                            t.push(r)
                                    }
                                    return t
                                }(e)).length, u = 128, d = 0, h = 72;
                                for (t = 0; t < e.length; t++)
                                    (n = e[t]) < 128 && i.push(s(n));
                                var f = i.length
                                    , p = f;
                                for (f && i.push("-"); p < r; ) {
                                    var v = 2147483647;
                                    for (t = 0; t < e.length; t++)
                                        (n = e[t]) >= u && n < v && (v = n);
                                    var y = p + 1;
                                    if (v - u > a((2147483647 - d) / y))
                                        throw RangeError(o);
                                    for (d += (v - u) * y,
                                             u = v,
                                             t = 0; t < e.length; t++) {
                                        if ((n = e[t]) < u && ++d > 2147483647)
                                            throw RangeError(o);
                                        if (n == u) {
                                            for (var g = d, m = 36; ; m += 36) {
                                                var _ = m <= h ? 1 : m >= h + 26 ? 26 : m - h;
                                                if (g < _)
                                                    break;
                                                var b = g - _
                                                    , E = 36 - _;
                                                i.push(s(l(_ + b % E))),
                                                    g = a(b / E)
                                            }
                                            i.push(s(l(g))),
                                                h = c(d, y, p == f),
                                                d = 0,
                                                ++p
                                        }
                                    }
                                    ++d,
                                        ++u
                                }
                                return i.join("")
                            };
                            e.exports = function(e) {
                                var t, n, o = [], a = e.toLowerCase().replace(r, ".").split(".");
                                for (t = 0; t < a.length; t++)
                                    n = a[t],
                                        o.push(i.test(n) ? "xn--" + u(n) : n);
                                return o.join(".")
                            }
                        }
                        , function(e, t) {}
                        , function(e, t, n) {
                            n(114);
                            var i = n(13);
                            e.exports = i.setInterval
                        }
                        , function(e, t, n) {
                            var i = n(322);
                            e.exports = i
                        }
                        , function(e, t, n) {
                            n(323);
                            var i = n(13);
                            e.exports = i.Date.now
                        }
                        , function(e, t, n) {
                            n(7)({
                                target: "Date",
                                stat: !0
                            }, {
                                now: function() {
                                    return (new Date).getTime()
                                }
                            })
                        }
                        , function(e, n, i) {
                            "use strict";
                            i.r(n),
                                i.d(n, "WastedDataType", (function() {
                                        return Ke.WastedDataType
                                    }
                                )),
                                i.d(n, "FetchErrorType", (function() {
                                        return Ke.FetchErrorType
                                    }
                                )),
                                i.d(n, "SistersPlayerContext", (function() {
                                        return kt
                                    }
                                ));
                            var r = i(48)
                                , o = i.n(r)
                                , a = i(30)
                                , s = i.n(a)
                                , l = i(10)
                                , c = i.n(l)
                                , u = i(5)
                                , d = i.n(u)
                                , h = i(46)
                                , f = i.n(h)
                                , p = i(22)
                                , v = i.n(p)
                                , y = i(77)
                                , g = i.n(y)
                                , m = i(78)
                                , _ = i.n(m)
                                , b = i(2)
                                , E = i.n(b)
                                , S = i(3)
                                , T = i.n(S)
                                , w = i(0)
                                , C = i.n(w)
                                , A = i(1)
                                , k = i.n(A)
                                , x = i(107)
                                , L = i.n(x)
                                , R = i(51)
                                , I = i.n(R)
                                , P = i(4)
                                , M = i.n(P)
                                , D = i(6)
                                , O = i.n(D)
                                , N = i(27)
                                , U = i.n(N)
                                , B = i(66)
                                , F = i.n(B)
                                , z = i(28)
                                , j = i.n(z)
                                , V = i(8)
                                , G = i(65)
                                , Y = i.n(G)
                                , H = i(79)
                                , W = i.n(H)
                                , K = i(80)
                                , Q = i.n(K)
                                , Z = i(81)
                                , q = i.n(Z)
                                , J = i(82)
                                , X = i.n(J)
                                , $ = i(83)
                                , ee = i.n($)
                                , te = i(84)
                                , ne = i.n(te)
                                , ie = i(9)
                                , re = i.n(ie)
                                , oe = i(86)
                                , ae = i.n(oe)
                                , se = i(160)
                                , le = i.n(se)
                                , ce = i(161)
                                , ue = i.n(ce)
                                , de = i(108)
                                , he = i.n(de)
                                , fe = i(16)
                                , pe = i.n(fe)
                                , ve = i(52)
                                , ye = i.n(ve)
                                , ge = void 0 !== t && "never" !== Object({
                                NODE_ENV: "release"
                            }).TEXT_ENCODING && "undefined" != typeof TextEncoder && "undefined" != typeof TextDecoder;
                            function me(e) {
                                for (var t = e.length, n = 0, i = 0; i < t; ) {
                                    var r = e.charCodeAt(i++);
                                    if (0 != (4294967168 & r))
                                        if (0 == (4294965248 & r))
                                            n += 2;
                                        else {
                                            if (r >= 55296 && r <= 56319 && i < t) {
                                                var o = e.charCodeAt(i);
                                                56320 == (64512 & o) && (++i,
                                                    r = ((1023 & r) << 10) + (1023 & o) + 65536)
                                            }
                                            n += 0 == (4294901760 & r) ? 3 : 4
                                        }
                                    else
                                        n++
                                }
                                return n
                            }
                            var _e = ge ? new TextEncoder : void 0
                                , be = ge ? void 0 !== t && "force" !== Object({
                                    NODE_ENV: "release"
                                }).TEXT_ENCODING ? 200 : 0 : 4294967295
                                , Ee = (null == _e ? void 0 : _e.encodeInto) ? function(e, t, n) {
                                    _e.encodeInto(e, t.subarray(n))
                                }
                                : function(e, t, n) {
                                    t.set(_e.encode(e), n)
                                }
                            ;
                            function Se(e, t, n) {
                                for (var i = t, r = i + n, o = [], a = ""; i < r; ) {
                                    var s = e[i++];
                                    if (0 == (128 & s))
                                        o.push(s);
                                    else if (192 == (224 & s)) {
                                        var l = 63 & e[i++];
                                        o.push((31 & s) << 6 | l)
                                    } else if (224 == (240 & s)) {
                                        l = 63 & e[i++];
                                        var c = 63 & e[i++];
                                        o.push((31 & s) << 12 | l << 6 | c)
                                    } else if (240 == (248 & s)) {
                                        var u = (7 & s) << 18 | (l = 63 & e[i++]) << 12 | (c = 63 & e[i++]) << 6 | 63 & e[i++];
                                        u > 65535 && (u -= 65536,
                                            o.push(u >>> 10 & 1023 | 55296),
                                            u = 56320 | 1023 & u),
                                            o.push(u)
                                    } else
                                        o.push(s);
                                    o.length >= 4096 && (a += String.fromCharCode.apply(String, o),
                                        o.length = 0)
                                }
                                return o.length > 0 && (a += String.fromCharCode.apply(String, o)),
                                    a
                            }
                            var Te = ge ? new TextDecoder : null
                                , we = ge ? void 0 !== t && "force" !== Object({
                                NODE_ENV: "release"
                            }).TEXT_DECODER ? 200 : 0 : 4294967295
                                , Ce = function(e, t) {
                                this.type = e,
                                    this.data = t
                            };
                            function Ae(e, t, n) {
                                var i = Math.floor(n / 4294967296)
                                    , r = n;
                                e.setUint32(t, i),
                                    e.setUint32(t + 4, r)
                            }
                            function ke(e, t) {
                                return 4294967296 * e.getInt32(t) + e.getUint32(t + 4)
                            }
                            var xe = {
                                type: -1,
                                encode: function(e) {
                                    var t, n, i, r;
                                    return e instanceof Date ? function(e) {
                                        var t, n = e.sec, i = e.nsec;
                                        if (n >= 0 && i >= 0 && n <= 17179869183) {
                                            if (0 === i && n <= 4294967295) {
                                                var r = new Uint8Array(4);
                                                return (t = new DataView(r.buffer)).setUint32(0, n),
                                                    r
                                            }
                                            var o = n / 4294967296
                                                , a = 4294967295 & n;
                                            return r = new Uint8Array(8),
                                                (t = new DataView(r.buffer)).setUint32(0, i << 2 | 3 & o),
                                                t.setUint32(4, a),
                                                r
                                        }
                                        return r = new Uint8Array(12),
                                            (t = new DataView(r.buffer)).setUint32(0, i),
                                            Ae(t, 4, n),
                                            r
                                    }((i = 1e6 * ((t = e.getTime()) - 1e3 * (n = Math.floor(t / 1e3))),
                                        {
                                            sec: n + (r = Math.floor(i / 1e9)),
                                            nsec: i - 1e9 * r
                                        })) : null
                                },
                                decode: function(e) {
                                    var t = function(e) {
                                        var t = new DataView(e.buffer,e.byteOffset,e.byteLength);
                                        switch (e.byteLength) {
                                            case 4:
                                                return {
                                                    sec: t.getUint32(0),
                                                    nsec: 0
                                                };
                                            case 8:
                                                var n = t.getUint32(0);
                                                return {
                                                    sec: 4294967296 * (3 & n) + t.getUint32(4),
                                                    nsec: n >>> 2
                                                };
                                            case 12:
                                                return {
                                                    sec: ke(t, 4),
                                                    nsec: t.getUint32(0)
                                                };
                                            default:
                                                throw new Error("Unrecognized data size for timestamp: " + e.length)
                                        }
                                    }(e);
                                    return new Date(1e3 * t.sec + t.nsec / 1e6)
                                }
                            }
                                , Le = function() {
                                function e() {
                                    this.builtInEncoders = [],
                                        this.builtInDecoders = [],
                                        this.encoders = [],
                                        this.decoders = [],
                                        this.register(xe)
                                }
                                return e.prototype.register = function(e) {
                                    var t = e.type
                                        , n = e.encode
                                        , i = e.decode;
                                    if (t >= 0)
                                        this.encoders[t] = n,
                                            this.decoders[t] = i;
                                    else {
                                        var r = 1 + t;
                                        this.builtInEncoders[r] = n,
                                            this.builtInDecoders[r] = i
                                    }
                                }
                                    ,
                                    e.prototype.tryToEncode = function(e, t) {
                                        for (var n = 0; n < this.builtInEncoders.length; n++)
                                            if (null != (i = this.builtInEncoders[n]) && null != (r = i(e, t)))
                                                return new Ce(-1 - n,r);
                                        for (n = 0; n < this.encoders.length; n++) {
                                            var i, r;
                                            if (null != (i = this.encoders[n]) && null != (r = i(e, t)))
                                                return new Ce(n,r)
                                        }
                                        return e instanceof Ce ? e : null
                                    }
                                    ,
                                    e.prototype.decode = function(e, t, n) {
                                        var i = t < 0 ? this.builtInDecoders[-1 - t] : this.decoders[t];
                                        return i ? i(e, t, n) : new Ce(t,e)
                                    }
                                    ,
                                    e.defaultCodec = new e,
                                    e
                            }();
                            function Re(e) {
                                return e instanceof Uint8Array ? e : ArrayBuffer.isView(e) ? new Uint8Array(e.buffer,e.byteOffset,e.byteLength) : e instanceof ArrayBuffer ? new Uint8Array(e) : Uint8Array.from(e)
                            }
                            var Ie = function() {
                                function e(e, t, n, i, r, o, a, s) {
                                    void 0 === e && (e = Le.defaultCodec),
                                    void 0 === t && (t = void 0),
                                    void 0 === n && (n = 100),
                                    void 0 === i && (i = 2048),
                                    void 0 === r && (r = !1),
                                    void 0 === o && (o = !1),
                                    void 0 === a && (a = !1),
                                    void 0 === s && (s = !1),
                                        this.extensionCodec = e,
                                        this.context = t,
                                        this.maxDepth = n,
                                        this.initialBufferSize = i,
                                        this.sortKeys = r,
                                        this.forceFloat32 = o,
                                        this.ignoreUndefined = a,
                                        this.forceIntegerToFloat = s,
                                        this.pos = 0,
                                        this.view = new DataView(new ArrayBuffer(this.initialBufferSize)),
                                        this.bytes = new Uint8Array(this.view.buffer)
                                }
                                return e.prototype.getUint8Array = function() {
                                    return this.bytes.subarray(0, this.pos)
                                }
                                    ,
                                    e.prototype.reinitializeState = function() {
                                        this.pos = 0
                                    }
                                    ,
                                    e.prototype.encode = function(e) {
                                        return this.reinitializeState(),
                                            this.doEncode(e, 1),
                                            this.getUint8Array()
                                    }
                                    ,
                                    e.prototype.doEncode = function(e, t) {
                                        if (t > this.maxDepth)
                                            throw new Error("Too deep objects in depth " + t);
                                        null == e ? this.encodeNil() : "boolean" == typeof e ? this.encodeBoolean(e) : "number" == typeof e ? this.encodeNumber(e) : "string" == typeof e ? this.encodeString(e) : this.encodeObject(e, t)
                                    }
                                    ,
                                    e.prototype.ensureBufferSizeToWrite = function(e) {
                                        var t = this.pos + e;
                                        this.view.byteLength < t && this.resizeBuffer(2 * t)
                                    }
                                    ,
                                    e.prototype.resizeBuffer = function(e) {
                                        var t = new ArrayBuffer(e)
                                            , n = new Uint8Array(t)
                                            , i = new DataView(t);
                                        n.set(this.bytes),
                                            this.view = i,
                                            this.bytes = n
                                    }
                                    ,
                                    e.prototype.encodeNil = function() {
                                        this.writeU8(192)
                                    }
                                    ,
                                    e.prototype.encodeBoolean = function(e) {
                                        !1 === e ? this.writeU8(194) : this.writeU8(195)
                                    }
                                    ,
                                    e.prototype.encodeNumber = function(e) {
                                        Number.isSafeInteger(e) && !this.forceIntegerToFloat ? e >= 0 ? e < 128 ? this.writeU8(e) : e < 256 ? (this.writeU8(204),
                                            this.writeU8(e)) : e < 65536 ? (this.writeU8(205),
                                            this.writeU16(e)) : e < 4294967296 ? (this.writeU8(206),
                                            this.writeU32(e)) : (this.writeU8(207),
                                            this.writeU64(e)) : e >= -32 ? this.writeU8(224 | e + 32) : e >= -128 ? (this.writeU8(208),
                                            this.writeI8(e)) : e >= -32768 ? (this.writeU8(209),
                                            this.writeI16(e)) : e >= -2147483648 ? (this.writeU8(210),
                                            this.writeI32(e)) : (this.writeU8(211),
                                            this.writeI64(e)) : this.forceFloat32 ? (this.writeU8(202),
                                            this.writeF32(e)) : (this.writeU8(203),
                                            this.writeF64(e))
                                    }
                                    ,
                                    e.prototype.writeStringHeader = function(e) {
                                        if (e < 32)
                                            this.writeU8(160 + e);
                                        else if (e < 256)
                                            this.writeU8(217),
                                                this.writeU8(e);
                                        else if (e < 65536)
                                            this.writeU8(218),
                                                this.writeU16(e);
                                        else {
                                            if (!(e < 4294967296))
                                                throw new Error("Too long string: " + e + " bytes in UTF-8");
                                            this.writeU8(219),
                                                this.writeU32(e)
                                        }
                                    }
                                    ,
                                    e.prototype.encodeString = function(e) {
                                        if (e.length > be) {
                                            var t = me(e);
                                            this.ensureBufferSizeToWrite(5 + t),
                                                this.writeStringHeader(t),
                                                Ee(e, this.bytes, this.pos),
                                                this.pos += t
                                        } else
                                            t = me(e),
                                                this.ensureBufferSizeToWrite(5 + t),
                                                this.writeStringHeader(t),
                                                function(e, t, n) {
                                                    for (var i = e.length, r = n, o = 0; o < i; ) {
                                                        var a = e.charCodeAt(o++);
                                                        if (0 != (4294967168 & a)) {
                                                            if (0 == (4294965248 & a))
                                                                t[r++] = a >> 6 & 31 | 192;
                                                            else {
                                                                if (a >= 55296 && a <= 56319 && o < i) {
                                                                    var s = e.charCodeAt(o);
                                                                    56320 == (64512 & s) && (++o,
                                                                        a = ((1023 & a) << 10) + (1023 & s) + 65536)
                                                                }
                                                                0 == (4294901760 & a) ? (t[r++] = a >> 12 & 15 | 224,
                                                                    t[r++] = a >> 6 & 63 | 128) : (t[r++] = a >> 18 & 7 | 240,
                                                                    t[r++] = a >> 12 & 63 | 128,
                                                                    t[r++] = a >> 6 & 63 | 128)
                                                            }
                                                            t[r++] = 63 & a | 128
                                                        } else
                                                            t[r++] = a
                                                    }
                                                }(e, this.bytes, this.pos),
                                                this.pos += t
                                    }
                                    ,
                                    e.prototype.encodeObject = function(e, t) {
                                        var n = this.extensionCodec.tryToEncode(e, this.context);
                                        if (null != n)
                                            this.encodeExtension(n);
                                        else if (Array.isArray(e))
                                            this.encodeArray(e, t);
                                        else if (ArrayBuffer.isView(e))
                                            this.encodeBinary(e);
                                        else {
                                            if ("object" != typeof e)
                                                throw new Error("Unrecognized object: " + Object.prototype.toString.apply(e));
                                            this.encodeMap(e, t)
                                        }
                                    }
                                    ,
                                    e.prototype.encodeBinary = function(e) {
                                        var t = e.byteLength;
                                        if (t < 256)
                                            this.writeU8(196),
                                                this.writeU8(t);
                                        else if (t < 65536)
                                            this.writeU8(197),
                                                this.writeU16(t);
                                        else {
                                            if (!(t < 4294967296))
                                                throw new Error("Too large binary: " + t);
                                            this.writeU8(198),
                                                this.writeU32(t)
                                        }
                                        var n = Re(e);
                                        this.writeU8a(n)
                                    }
                                    ,
                                    e.prototype.encodeArray = function(e, t) {
                                        var n = e.length;
                                        if (n < 16)
                                            this.writeU8(144 + n);
                                        else if (n < 65536)
                                            this.writeU8(220),
                                                this.writeU16(n);
                                        else {
                                            if (!(n < 4294967296))
                                                throw new Error("Too large array: " + n);
                                            this.writeU8(221),
                                                this.writeU32(n)
                                        }
                                        for (var i = 0, r = e; i < r.length; i++) {
                                            var o = r[i];
                                            this.doEncode(o, t + 1)
                                        }
                                    }
                                    ,
                                    e.prototype.countWithoutUndefined = function(e, t) {
                                        for (var n = 0, i = 0, r = t; i < r.length; i++)
                                            void 0 !== e[r[i]] && n++;
                                        return n
                                    }
                                    ,
                                    e.prototype.encodeMap = function(e, t) {
                                        var n = Object.keys(e);
                                        this.sortKeys && n.sort();
                                        var i = this.ignoreUndefined ? this.countWithoutUndefined(e, n) : n.length;
                                        if (i < 16)
                                            this.writeU8(128 + i);
                                        else if (i < 65536)
                                            this.writeU8(222),
                                                this.writeU16(i);
                                        else {
                                            if (!(i < 4294967296))
                                                throw new Error("Too large map object: " + i);
                                            this.writeU8(223),
                                                this.writeU32(i)
                                        }
                                        for (var r = 0, o = n; r < o.length; r++) {
                                            var a = o[r]
                                                , s = e[a];
                                            this.ignoreUndefined && void 0 === s || (this.encodeString(a),
                                                this.doEncode(s, t + 1))
                                        }
                                    }
                                    ,
                                    e.prototype.encodeExtension = function(e) {
                                        var t = e.data.length;
                                        if (1 === t)
                                            this.writeU8(212);
                                        else if (2 === t)
                                            this.writeU8(213);
                                        else if (4 === t)
                                            this.writeU8(214);
                                        else if (8 === t)
                                            this.writeU8(215);
                                        else if (16 === t)
                                            this.writeU8(216);
                                        else if (t < 256)
                                            this.writeU8(199),
                                                this.writeU8(t);
                                        else if (t < 65536)
                                            this.writeU8(200),
                                                this.writeU16(t);
                                        else {
                                            if (!(t < 4294967296))
                                                throw new Error("Too large extension object: " + t);
                                            this.writeU8(201),
                                                this.writeU32(t)
                                        }
                                        this.writeI8(e.type),
                                            this.writeU8a(e.data)
                                    }
                                    ,
                                    e.prototype.writeU8 = function(e) {
                                        this.ensureBufferSizeToWrite(1),
                                            this.view.setUint8(this.pos, e),
                                            this.pos++
                                    }
                                    ,
                                    e.prototype.writeU8a = function(e) {
                                        var t = e.length;
                                        this.ensureBufferSizeToWrite(t),
                                            this.bytes.set(e, this.pos),
                                            this.pos += t
                                    }
                                    ,
                                    e.prototype.writeI8 = function(e) {
                                        this.ensureBufferSizeToWrite(1),
                                            this.view.setInt8(this.pos, e),
                                            this.pos++
                                    }
                                    ,
                                    e.prototype.writeU16 = function(e) {
                                        this.ensureBufferSizeToWrite(2),
                                            this.view.setUint16(this.pos, e),
                                            this.pos += 2
                                    }
                                    ,
                                    e.prototype.writeI16 = function(e) {
                                        this.ensureBufferSizeToWrite(2),
                                            this.view.setInt16(this.pos, e),
                                            this.pos += 2
                                    }
                                    ,
                                    e.prototype.writeU32 = function(e) {
                                        this.ensureBufferSizeToWrite(4),
                                            this.view.setUint32(this.pos, e),
                                            this.pos += 4
                                    }
                                    ,
                                    e.prototype.writeI32 = function(e) {
                                        this.ensureBufferSizeToWrite(4),
                                            this.view.setInt32(this.pos, e),
                                            this.pos += 4
                                    }
                                    ,
                                    e.prototype.writeF32 = function(e) {
                                        this.ensureBufferSizeToWrite(4),
                                            this.view.setFloat32(this.pos, e),
                                            this.pos += 4
                                    }
                                    ,
                                    e.prototype.writeF64 = function(e) {
                                        this.ensureBufferSizeToWrite(8),
                                            this.view.setFloat64(this.pos, e),
                                            this.pos += 8
                                    }
                                    ,
                                    e.prototype.writeU64 = function(e) {
                                        this.ensureBufferSizeToWrite(8),
                                            function(e, t, n) {
                                                var i = n / 4294967296
                                                    , r = n;
                                                e.setUint32(t, i),
                                                    e.setUint32(t + 4, r)
                                            }(this.view, this.pos, e),
                                            this.pos += 8
                                    }
                                    ,
                                    e.prototype.writeI64 = function(e) {
                                        this.ensureBufferSizeToWrite(8),
                                            Ae(this.view, this.pos, e),
                                            this.pos += 8
                                    }
                                    ,
                                    e
                            }()
                                , Pe = {};
                            function Me(e) {
                                return (e < 0 ? "-" : "") + "0x" + Math.abs(e).toString(16).padStart(2, "0")
                            }
                            var De = function() {
                                function e(e, t) {
                                    void 0 === e && (e = 16),
                                    void 0 === t && (t = 16),
                                        this.maxKeyLength = e,
                                        this.maxLengthPerKey = t,
                                        this.hit = 0,
                                        this.miss = 0,
                                        this.caches = [];
                                    for (var n = 0; n < this.maxKeyLength; n++)
                                        this.caches.push([])
                                }
                                return e.prototype.canBeCached = function(e) {
                                    return e > 0 && e <= this.maxKeyLength
                                }
                                    ,
                                    e.prototype.get = function(e, t, n) {
                                        var i = this.caches[n - 1]
                                            , r = i.length;
                                        e: for (var o = 0; o < r; o++) {
                                            for (var a = i[o], s = a.bytes, l = 0; l < n; l++)
                                                if (s[l] !== e[t + l])
                                                    continue e;
                                            return a.value
                                        }
                                        return null
                                    }
                                    ,
                                    e.prototype.store = function(e, t) {
                                        var n = this.caches[e.length - 1]
                                            , i = {
                                            bytes: e,
                                            value: t
                                        };
                                        n.length >= this.maxLengthPerKey ? n[Math.random() * n.length | 0] = i : n.push(i)
                                    }
                                    ,
                                    e.prototype.decode = function(e, t, n) {
                                        var i = this.get(e, t, n);
                                        if (null != i)
                                            return this.hit++,
                                                i;
                                        this.miss++;
                                        var r = Se(e, t, n)
                                            , o = Uint8Array.prototype.slice.call(e, t, t + n);
                                        return this.store(o, r),
                                            r
                                    }
                                    ,
                                    e
                            }()
                                , Oe = function(e, t) {
                                var n, i, r, o, a = {
                                    label: 0,
                                    sent: function() {
                                        if (1 & r[0])
                                            throw r[1];
                                        return r[1]
                                    },
                                    trys: [],
                                    ops: []
                                };
                                return o = {
                                    next: s(0),
                                    throw: s(1),
                                    return: s(2)
                                },
                                "function" == typeof Symbol && (o[Symbol.iterator] = function() {
                                        return this
                                    }
                                ),
                                    o;
                                function s(o) {
                                    return function(s) {
                                        return function(o) {
                                            if (n)
                                                throw new TypeError("Generator is already executing.");
                                            for (; a; )
                                                try {
                                                    if (n = 1,
                                                    i && (r = 2 & o[0] ? i.return : o[0] ? i.throw || ((r = i.return) && r.call(i),
                                                        0) : i.next) && !(r = r.call(i, o[1])).done)
                                                        return r;
                                                    switch (i = 0,
                                                    r && (o = [2 & o[0], r.value]),
                                                        o[0]) {
                                                        case 0:
                                                        case 1:
                                                            r = o;
                                                            break;
                                                        case 4:
                                                            return a.label++,
                                                                {
                                                                    value: o[1],
                                                                    done: !1
                                                                };
                                                        case 5:
                                                            a.label++,
                                                                i = o[1],
                                                                o = [0];
                                                            continue;
                                                        case 7:
                                                            o = a.ops.pop(),
                                                                a.trys.pop();
                                                            continue;
                                                        default:
                                                            if (!((r = (r = a.trys).length > 0 && r[r.length - 1]) || 6 !== o[0] && 2 !== o[0])) {
                                                                a = 0;
                                                                continue
                                                            }
                                                            if (3 === o[0] && (!r || o[1] > r[0] && o[1] < r[3])) {
                                                                a.label = o[1];
                                                                break
                                                            }
                                                            if (6 === o[0] && a.label < r[1]) {
                                                                a.label = r[1],
                                                                    r = o;
                                                                break
                                                            }
                                                            if (r && a.label < r[2]) {
                                                                a.label = r[2],
                                                                    a.ops.push(o);
                                                                break
                                                            }
                                                            r[2] && a.ops.pop(),
                                                                a.trys.pop();
                                                            continue
                                                    }
                                                    o = t.call(e, a)
                                                } catch (e) {
                                                    o = [6, e],
                                                        i = 0
                                                } finally {
                                                    n = r = 0
                                                }
                                            if (5 & o[0])
                                                throw o[1];
                                            return {
                                                value: o[0] ? o[1] : void 0,
                                                done: !0
                                            }
                                        }([o, s])
                                    }
                                }
                            }
                                , Ne = function(e) {
                                if (!Symbol.asyncIterator)
                                    throw new TypeError("Symbol.asyncIterator is not defined.");
                                var t, n = e[Symbol.asyncIterator];
                                return n ? n.call(e) : (e = "function" == typeof __values ? __values(e) : e[Symbol.iterator](),
                                    t = {},
                                    i("next"),
                                    i("throw"),
                                    i("return"),
                                    t[Symbol.asyncIterator] = function() {
                                        return this
                                    }
                                    ,
                                    t);
                                function i(n) {
                                    t[n] = e[n] && function(t) {
                                        return new Promise((function(i, r) {
                                                !function(e, t, n, i) {
                                                    Promise.resolve(i).then((function(t) {
                                                            e({
                                                                value: t,
                                                                done: n
                                                            })
                                                        }
                                                    ), t)
                                                }(i, r, (t = e[n](t)).done, t.value)
                                            }
                                        ))
                                    }
                                }
                            }
                                , Ue = function(e) {
                                return this instanceof Ue ? (this.v = e,
                                    this) : new Ue(e)
                            }
                                , Be = function(e, t, n) {
                                if (!Symbol.asyncIterator)
                                    throw new TypeError("Symbol.asyncIterator is not defined.");
                                var i, r = n.apply(e, t || []), o = [];
                                return i = {},
                                    a("next"),
                                    a("throw"),
                                    a("return"),
                                    i[Symbol.asyncIterator] = function() {
                                        return this
                                    }
                                    ,
                                    i;
                                function a(e) {
                                    r[e] && (i[e] = function(t) {
                                            return new Promise((function(n, i) {
                                                    o.push([e, t, n, i]) > 1 || s(e, t)
                                                }
                                            ))
                                        }
                                    )
                                }
                                function s(e, t) {
                                    try {
                                        (n = r[e](t)).value instanceof Ue ? Promise.resolve(n.value.v).then(l, c) : u(o[0][2], n)
                                    } catch (e) {
                                        u(o[0][3], e)
                                    }
                                    var n
                                }
                                function l(e) {
                                    s("next", e)
                                }
                                function c(e) {
                                    s("throw", e)
                                }
                                function u(e, t) {
                                    e(t),
                                        o.shift(),
                                    o.length && s(o[0][0], o[0][1])
                                }
                            }
                                , Fe = new DataView(new ArrayBuffer(0))
                                , ze = new Uint8Array(Fe.buffer)
                                , je = function() {
                                try {
                                    Fe.getInt8(0)
                                } catch (e) {
                                    return e.constructor
                                }
                                throw new Error("never reached")
                            }()
                                , Ve = new je("Insufficient data")
                                , Ge = new De
                                , Ye = function() {
                                function e(e, t, n, i, r, o, a, s) {
                                    void 0 === e && (e = Le.defaultCodec),
                                    void 0 === t && (t = void 0),
                                    void 0 === n && (n = 4294967295),
                                    void 0 === i && (i = 4294967295),
                                    void 0 === r && (r = 4294967295),
                                    void 0 === o && (o = 4294967295),
                                    void 0 === a && (a = 4294967295),
                                    void 0 === s && (s = Ge),
                                        this.extensionCodec = e,
                                        this.context = t,
                                        this.maxStrLength = n,
                                        this.maxBinLength = i,
                                        this.maxArrayLength = r,
                                        this.maxMapLength = o,
                                        this.maxExtLength = a,
                                        this.keyDecoder = s,
                                        this.totalPos = 0,
                                        this.pos = 0,
                                        this.view = Fe,
                                        this.bytes = ze,
                                        this.headByte = -1,
                                        this.stack = []
                                }
                                return e.prototype.reinitializeState = function() {
                                    this.totalPos = 0,
                                        this.headByte = -1
                                }
                                    ,
                                    e.prototype.setBuffer = function(e) {
                                        this.bytes = Re(e),
                                            this.view = function(e) {
                                                if (e instanceof ArrayBuffer)
                                                    return new DataView(e);
                                                var t = Re(e);
                                                return new DataView(t.buffer,t.byteOffset,t.byteLength)
                                            }(this.bytes),
                                            this.pos = 0
                                    }
                                    ,
                                    e.prototype.appendBuffer = function(e) {
                                        if (-1 !== this.headByte || this.hasRemaining()) {
                                            var t = this.bytes.subarray(this.pos)
                                                , n = Re(e)
                                                , i = new Uint8Array(t.length + n.length);
                                            i.set(t),
                                                i.set(n, t.length),
                                                this.setBuffer(i)
                                        } else
                                            this.setBuffer(e)
                                    }
                                    ,
                                    e.prototype.hasRemaining = function(e) {
                                        return void 0 === e && (e = 1),
                                        this.view.byteLength - this.pos >= e
                                    }
                                    ,
                                    e.prototype.createExtraByteError = function(e) {
                                        var t = this.view
                                            , n = this.pos;
                                        return new RangeError("Extra " + (t.byteLength - n) + " of " + t.byteLength + " byte(s) found at buffer[" + e + "]")
                                    }
                                    ,
                                    e.prototype.decode = function(e) {
                                        this.reinitializeState(),
                                            this.setBuffer(e);
                                        var t = this.doDecodeSync();
                                        if (this.hasRemaining())
                                            throw this.createExtraByteError(this.pos);
                                        return t
                                    }
                                    ,
                                    e.prototype.decodeAsync = function(e) {
                                        var t, n, i, r;
                                        return function(e, t, n, i) {
                                            return new (n || (n = Promise))((function(r, o) {
                                                    function a(e) {
                                                        try {
                                                            l(i.next(e))
                                                        } catch (e) {
                                                            o(e)
                                                        }
                                                    }
                                                    function s(e) {
                                                        try {
                                                            l(i.throw(e))
                                                        } catch (e) {
                                                            o(e)
                                                        }
                                                    }
                                                    function l(e) {
                                                        var t;
                                                        e.done ? r(e.value) : (t = e.value,
                                                            t instanceof n ? t : new n((function(e) {
                                                                    e(t)
                                                                }
                                                            ))).then(a, s)
                                                    }
                                                    l((i = i.apply(e, t || [])).next())
                                                }
                                            ))
                                        }(this, void 0, void 0, (function() {
                                                var o, a, s, l, c, u, d, h;
                                                return Oe(this, (function(f) {
                                                        switch (f.label) {
                                                            case 0:
                                                                o = !1,
                                                                    f.label = 1;
                                                            case 1:
                                                                f.trys.push([1, 6, 7, 12]),
                                                                    t = Ne(e),
                                                                    f.label = 2;
                                                            case 2:
                                                                return [4, t.next()];
                                                            case 3:
                                                                if ((n = f.sent()).done)
                                                                    return [3, 5];
                                                                if (s = n.value,
                                                                    o)
                                                                    throw this.createExtraByteError(this.totalPos);
                                                                this.appendBuffer(s);
                                                                try {
                                                                    a = this.doDecodeSync(),
                                                                        o = !0
                                                                } catch (e) {
                                                                    if (!(e instanceof je))
                                                                        throw e
                                                                }
                                                                this.totalPos += this.pos,
                                                                    f.label = 4;
                                                            case 4:
                                                                return [3, 2];
                                                            case 5:
                                                                return [3, 12];
                                                            case 6:
                                                                return l = f.sent(),
                                                                    i = {
                                                                        error: l
                                                                    },
                                                                    [3, 12];
                                                            case 7:
                                                                return f.trys.push([7, , 10, 11]),
                                                                    n && !n.done && (r = t.return) ? [4, r.call(t)] : [3, 9];
                                                            case 8:
                                                                f.sent(),
                                                                    f.label = 9;
                                                            case 9:
                                                                return [3, 11];
                                                            case 10:
                                                                if (i)
                                                                    throw i.error;
                                                                return [7];
                                                            case 11:
                                                                return [7];
                                                            case 12:
                                                                if (o) {
                                                                    if (this.hasRemaining())
                                                                        throw this.createExtraByteError(this.totalPos);
                                                                    return [2, a]
                                                                }
                                                                throw u = (c = this).headByte,
                                                                    d = c.pos,
                                                                    h = c.totalPos,
                                                                    new RangeError("Insufficient data in parsing " + Me(u) + " at " + h + " (" + d + " in the current buffer)")
                                                        }
                                                    }
                                                ))
                                            }
                                        ))
                                    }
                                    ,
                                    e.prototype.decodeArrayStream = function(e) {
                                        return this.decodeMultiAsync(e, !0)
                                    }
                                    ,
                                    e.prototype.decodeStream = function(e) {
                                        return this.decodeMultiAsync(e, !1)
                                    }
                                    ,
                                    e.prototype.decodeMultiAsync = function(e, t) {
                                        return Be(this, arguments, (function() {
                                                var n, i, r, o, a, s, l, c, u;
                                                return Oe(this, (function(d) {
                                                        switch (d.label) {
                                                            case 0:
                                                                n = t,
                                                                    i = -1,
                                                                    d.label = 1;
                                                            case 1:
                                                                d.trys.push([1, 13, 14, 19]),
                                                                    r = Ne(e),
                                                                    d.label = 2;
                                                            case 2:
                                                                return [4, Ue(r.next())];
                                                            case 3:
                                                                if ((o = d.sent()).done)
                                                                    return [3, 12];
                                                                if (a = o.value,
                                                                t && 0 === i)
                                                                    throw this.createExtraByteError(this.totalPos);
                                                                this.appendBuffer(a),
                                                                n && (i = this.readArraySize(),
                                                                    n = !1,
                                                                    this.complete()),
                                                                    d.label = 4;
                                                            case 4:
                                                                d.trys.push([4, 9, , 10]),
                                                                    d.label = 5;
                                                            case 5:
                                                                return [4, Ue(this.doDecodeSync())];
                                                            case 6:
                                                                return [4, d.sent()];
                                                            case 7:
                                                                return d.sent(),
                                                                    0 == --i ? [3, 8] : [3, 5];
                                                            case 8:
                                                                return [3, 10];
                                                            case 9:
                                                                if (!((s = d.sent())instanceof je))
                                                                    throw s;
                                                                return [3, 10];
                                                            case 10:
                                                                this.totalPos += this.pos,
                                                                    d.label = 11;
                                                            case 11:
                                                                return [3, 2];
                                                            case 12:
                                                                return [3, 19];
                                                            case 13:
                                                                return l = d.sent(),
                                                                    c = {
                                                                        error: l
                                                                    },
                                                                    [3, 19];
                                                            case 14:
                                                                return d.trys.push([14, , 17, 18]),
                                                                    o && !o.done && (u = r.return) ? [4, Ue(u.call(r))] : [3, 16];
                                                            case 15:
                                                                d.sent(),
                                                                    d.label = 16;
                                                            case 16:
                                                                return [3, 18];
                                                            case 17:
                                                                if (c)
                                                                    throw c.error;
                                                                return [7];
                                                            case 18:
                                                                return [7];
                                                            case 19:
                                                                return [2]
                                                        }
                                                    }
                                                ))
                                            }
                                        ))
                                    }
                                    ,
                                    e.prototype.doDecodeSync = function() {
                                        e: for (; ; ) {
                                            var e = this.readHeadByte()
                                                , t = void 0;
                                            if (e >= 224)
                                                t = e - 256;
                                            else if (e < 192)
                                                if (e < 128)
                                                    t = e;
                                                else if (e < 144) {
                                                    if (0 != (i = e - 128)) {
                                                        this.pushMapState(i),
                                                            this.complete();
                                                        continue e
                                                    }
                                                    t = {}
                                                } else if (e < 160) {
                                                    if (0 != (i = e - 144)) {
                                                        this.pushArrayState(i),
                                                            this.complete();
                                                        continue e
                                                    }
                                                    t = []
                                                } else {
                                                    var n = e - 160;
                                                    t = this.decodeUtf8String(n, 0)
                                                }
                                            else if (192 === e)
                                                t = null;
                                            else if (194 === e)
                                                t = !1;
                                            else if (195 === e)
                                                t = !0;
                                            else if (202 === e)
                                                t = this.readF32();
                                            else if (203 === e)
                                                t = this.readF64();
                                            else if (204 === e)
                                                t = this.readU8();
                                            else if (205 === e)
                                                t = this.readU16();
                                            else if (206 === e)
                                                t = this.readU32();
                                            else if (207 === e)
                                                t = this.readU64();
                                            else if (208 === e)
                                                t = this.readI8();
                                            else if (209 === e)
                                                t = this.readI16();
                                            else if (210 === e)
                                                t = this.readI32();
                                            else if (211 === e)
                                                t = this.readI64();
                                            else if (217 === e)
                                                n = this.lookU8(),
                                                    t = this.decodeUtf8String(n, 1);
                                            else if (218 === e)
                                                n = this.lookU16(),
                                                    t = this.decodeUtf8String(n, 2);
                                            else if (219 === e)
                                                n = this.lookU32(),
                                                    t = this.decodeUtf8String(n, 4);
                                            else if (220 === e) {
                                                if (0 !== (i = this.readU16())) {
                                                    this.pushArrayState(i),
                                                        this.complete();
                                                    continue e
                                                }
                                                t = []
                                            } else if (221 === e) {
                                                if (0 !== (i = this.readU32())) {
                                                    this.pushArrayState(i),
                                                        this.complete();
                                                    continue e
                                                }
                                                t = []
                                            } else if (222 === e) {
                                                if (0 !== (i = this.readU16())) {
                                                    this.pushMapState(i),
                                                        this.complete();
                                                    continue e
                                                }
                                                t = {}
                                            } else if (223 === e) {
                                                if (0 !== (i = this.readU32())) {
                                                    this.pushMapState(i),
                                                        this.complete();
                                                    continue e
                                                }
                                                t = {}
                                            } else if (196 === e) {
                                                var i = this.lookU8();
                                                t = this.decodeBinary(i, 1)
                                            } else if (197 === e)
                                                i = this.lookU16(),
                                                    t = this.decodeBinary(i, 2);
                                            else if (198 === e)
                                                i = this.lookU32(),
                                                    t = this.decodeBinary(i, 4);
                                            else if (212 === e)
                                                t = this.decodeExtension(1, 0);
                                            else if (213 === e)
                                                t = this.decodeExtension(2, 0);
                                            else if (214 === e)
                                                t = this.decodeExtension(4, 0);
                                            else if (215 === e)
                                                t = this.decodeExtension(8, 0);
                                            else if (216 === e)
                                                t = this.decodeExtension(16, 0);
                                            else if (199 === e)
                                                i = this.lookU8(),
                                                    t = this.decodeExtension(i, 1);
                                            else if (200 === e)
                                                i = this.lookU16(),
                                                    t = this.decodeExtension(i, 2);
                                            else {
                                                if (201 !== e)
                                                    throw new Error("Unrecognized type byte: " + Me(e));
                                                i = this.lookU32(),
                                                    t = this.decodeExtension(i, 4)
                                            }
                                            this.complete();
                                            for (var r = this.stack; r.length > 0; ) {
                                                var o = r[r.length - 1];
                                                if (0 === o.type) {
                                                    if (o.array[o.position] = t,
                                                        o.position++,
                                                    o.position !== o.size)
                                                        continue e;
                                                    r.pop(),
                                                        t = o.array
                                                } else {
                                                    if (1 === o.type) {
                                                        if ("string" != (a = typeof t) && "number" !== a)
                                                            throw new Error("The type of key must be string or number but " + typeof t);
                                                        o.key = t,
                                                            o.type = 2;
                                                        continue e
                                                    }
                                                    if (o.map[o.key] = t,
                                                        o.readCount++,
                                                    o.readCount !== o.size) {
                                                        o.key = null,
                                                            o.type = 1;
                                                        continue e
                                                    }
                                                    r.pop(),
                                                        t = o.map
                                                }
                                            }
                                            return t
                                        }
                                        var a
                                    }
                                    ,
                                    e.prototype.readHeadByte = function() {
                                        return -1 === this.headByte && (this.headByte = this.readU8()),
                                            this.headByte
                                    }
                                    ,
                                    e.prototype.complete = function() {
                                        this.headByte = -1
                                    }
                                    ,
                                    e.prototype.readArraySize = function() {
                                        var e = this.readHeadByte();
                                        switch (e) {
                                            case 220:
                                                return this.readU16();
                                            case 221:
                                                return this.readU32();
                                            default:
                                                if (e < 160)
                                                    return e - 144;
                                                throw new Error("Unrecognized array type byte: " + Me(e))
                                        }
                                    }
                                    ,
                                    e.prototype.pushMapState = function(e) {
                                        if (e > this.maxMapLength)
                                            throw new Error("Max length exceeded: map length (" + e + ") > maxMapLengthLength (" + this.maxMapLength + ")");
                                        this.stack.push({
                                            type: 1,
                                            size: e,
                                            key: null,
                                            readCount: 0,
                                            map: {}
                                        })
                                    }
                                    ,
                                    e.prototype.pushArrayState = function(e) {
                                        if (e > this.maxArrayLength)
                                            throw new Error("Max length exceeded: array length (" + e + ") > maxArrayLength (" + this.maxArrayLength + ")");
                                        this.stack.push({
                                            type: 0,
                                            size: e,
                                            array: new Array(e),
                                            position: 0
                                        })
                                    }
                                    ,
                                    e.prototype.decodeUtf8String = function(e, t) {
                                        var n;
                                        if (e > this.maxStrLength)
                                            throw new Error("Max length exceeded: UTF-8 byte length (" + e + ") > maxStrLength (" + this.maxStrLength + ")");
                                        if (this.bytes.byteLength < this.pos + t + e)
                                            throw Ve;
                                        var i, r = this.pos + t;
                                        return i = this.stateIsMapKey() && (null === (n = this.keyDecoder) || void 0 === n ? void 0 : n.canBeCached(e)) ? this.keyDecoder.decode(this.bytes, r, e) : e > we ? function(e, t, n) {
                                            var i = e.subarray(t, t + n);
                                            return Te.decode(i)
                                        }(this.bytes, r, e) : Se(this.bytes, r, e),
                                            this.pos += t + e,
                                            i
                                    }
                                    ,
                                    e.prototype.stateIsMapKey = function() {
                                        return this.stack.length > 0 && 1 === this.stack[this.stack.length - 1].type
                                    }
                                    ,
                                    e.prototype.decodeBinary = function(e, t) {
                                        if (e > this.maxBinLength)
                                            throw new Error("Max length exceeded: bin length (" + e + ") > maxBinLength (" + this.maxBinLength + ")");
                                        if (!this.hasRemaining(e + t))
                                            throw Ve;
                                        var n = this.pos + t
                                            , i = this.bytes.subarray(n, n + e);
                                        return this.pos += t + e,
                                            i
                                    }
                                    ,
                                    e.prototype.decodeExtension = function(e, t) {
                                        if (e > this.maxExtLength)
                                            throw new Error("Max length exceeded: ext length (" + e + ") > maxExtLength (" + this.maxExtLength + ")");
                                        var n = this.view.getInt8(this.pos + t)
                                            , i = this.decodeBinary(e, t + 1);
                                        return this.extensionCodec.decode(i, n, this.context)
                                    }
                                    ,
                                    e.prototype.lookU8 = function() {
                                        return this.view.getUint8(this.pos)
                                    }
                                    ,
                                    e.prototype.lookU16 = function() {
                                        return this.view.getUint16(this.pos)
                                    }
                                    ,
                                    e.prototype.lookU32 = function() {
                                        return this.view.getUint32(this.pos)
                                    }
                                    ,
                                    e.prototype.readU8 = function() {
                                        var e = this.view.getUint8(this.pos);
                                        return this.pos++,
                                            e
                                    }
                                    ,
                                    e.prototype.readI8 = function() {
                                        var e = this.view.getInt8(this.pos);
                                        return this.pos++,
                                            e
                                    }
                                    ,
                                    e.prototype.readU16 = function() {
                                        var e = this.view.getUint16(this.pos);
                                        return this.pos += 2,
                                            e
                                    }
                                    ,
                                    e.prototype.readI16 = function() {
                                        var e = this.view.getInt16(this.pos);
                                        return this.pos += 2,
                                            e
                                    }
                                    ,
                                    e.prototype.readU32 = function() {
                                        var e = this.view.getUint32(this.pos);
                                        return this.pos += 4,
                                            e
                                    }
                                    ,
                                    e.prototype.readI32 = function() {
                                        var e = this.view.getInt32(this.pos);
                                        return this.pos += 4,
                                            e
                                    }
                                    ,
                                    e.prototype.readU64 = function() {
                                        var e, t, n = (e = this.view,
                                            t = this.pos,
                                        4294967296 * e.getUint32(t) + e.getUint32(t + 4));
                                        return this.pos += 8,
                                            n
                                    }
                                    ,
                                    e.prototype.readI64 = function() {
                                        var e = ke(this.view, this.pos);
                                        return this.pos += 8,
                                            e
                                    }
                                    ,
                                    e.prototype.readF32 = function() {
                                        var e = this.view.getFloat32(this.pos);
                                        return this.pos += 4,
                                            e
                                    }
                                    ,
                                    e.prototype.readF64 = function() {
                                        var e = this.view.getFloat64(this.pos);
                                        return this.pos += 8,
                                            e
                                    }
                                    ,
                                    e
                            }()
                                , He = {}
                                , We = i(19)
                                , Ke = i(15)
                                , Qe = function e() {
                                E()(this, e),
                                    C()(this, "peerId", ""),
                                    C()(this, "guid", "00000000-0000-4000-8000-000000000000"),
                                    C()(this, "isDownloadBlockReport", !1)
                            }
                                , Ze = function e(t) {
                                var n = this;
                                E()(this, e),
                                    C()(this, "buf", void 0),
                                    C()(this, "promise", void 0),
                                    C()(this, "resolver", void 0),
                                    this.buf = t,
                                    this.promise = new M.a((function(e) {
                                            n.resolver = e
                                        }
                                    ))
                            }
                                , qe = function() {
                                function e(t, n) {
                                    var i = this;
                                    E()(this, e),
                                        C()(this, "p2pContext", void 0),
                                        C()(this, "dc", void 0),
                                        C()(this, "sendQueue", new Array),
                                        C()(this, "isSending", !1),
                                        this.p2pContext = t,
                                        this.dc = n,
                                        this.dc.binaryType = "arraybuffer",
                                        this.dc.bufferedAmountLowThreshold = 262144,
                                        this.dc.onbufferedamountlow = function() {
                                            return i.onDCWritable()
                                        }
                                }
                                return T()(e, [{
                                    key: "onDCWritable",
                                    value: function() {
                                        var e = this;
                                        this.isSending = !0;
                                        for (var t, n, i = this.dc.bufferedAmount; i < 1048576; ) {
                                            var r, o = this.sendQueue.shift();
                                            if (void 0 === o) {
                                                this.isSending = !1;
                                                break
                                            }
                                            void 0 !== o.buf.data && null !== o.buf.data && void 0 !== o.buf.data.length && o.buf.data.length > 1024 || (this.p2pContext.printExtLog(4, "send: " + o.buf),
                                            this.p2pContext.Config.allowPrintLog(4) && console.log("send: " + o.buf));
                                            try {
                                                if ("open" === this.dc.readyState) {
                                                    var a = (t = o.buf,
                                                    void 0 === (n = void 0) && (n = Pe),
                                                        new Ie(n.extensionCodec,n.context,n.maxDepth,n.initialBufferSize,n.sortKeys,n.forceFloat32,n.ignoreUndefined,n.forceIntegerToFloat).encode(t));
                                                    this.dc.send(a),
                                                        i += a.length
                                                }
                                            } catch (e) {
                                                this.p2pContext.printExtLog(0, "One sister forcibly disconnected from the Misaka Network. QwQ"),
                                                this.p2pContext.Config.allowPrintLog(0) && console.info("[SistersPlayer] One sister forcibly disconnected from the Misaka Network. QwQ")
                                            }
                                            null === (r = o.resolver) || void 0 === r || r.call(o)
                                        }
                                        this.sendQueue.length > 0 && i > 1048576 && this.dc.bufferedAmount < this.dc.bufferedAmountLowThreshold && c()((function() {
                                                return e.onDCWritable()
                                            }
                                        ), 0)
                                    }
                                }]),
                                    T()(e, [{
                                        key: "dataChannel",
                                        value: function() {
                                            return this.dc
                                        }
                                    }, {
                                        key: "send",
                                        value: function(e) {
                                            var t = new Ze(e);
                                            return this.sendQueue.push(t),
                                            !1 === this.isSending && this.onDCWritable(),
                                                t.promise
                                        }
                                    }]),
                                    e
                            }()
                                , Je = function() {
                                function e(t, n, i) {
                                    var r, o = this;
                                    E()(this, e),
                                        C()(this, "p2pContext", void 0),
                                        C()(this, "peerSched", void 0),
                                        C()(this, "incoming", void 0),
                                        C()(this, "pc", void 0),
                                        C()(this, "dc", void 0),
                                        C()(this, "requestId", 0),
                                        C()(this, "pendingRequests", new pe.a),
                                        C()(this, "dc_resolver", void 0),
                                        C()(this, "dc_future", void 0),
                                        C()(this, "extData", new Qe),
                                        C()(this, "onCandidate", void 0),
                                        C()(this, "candidates", new Array),
                                        this.p2pContext = t,
                                        this.incoming = i,
                                        this.peerSched = n;
                                    var a = [];
                                    d()(r = this.p2pContext.Config.stunServers).call(r, (function(e) {
                                            var t = {
                                                urls: e
                                            };
                                            a.push(t)
                                        }
                                    )),
                                        this.pc = new RTCPeerConnection({
                                            iceServers: a,
                                            iceCandidatePoolSize: this.p2pContext.Config.iceCandidatePoolSize,
                                            iceTransportPolicy: "all"
                                        }),
                                        this.pc.addEventListener("datachannel", (function(e) {
                                                "misaka-denpa" === e.channel.label && (o.dc = new qe(o.p2pContext,e.channel),
                                                    o.dc.dataChannel().onmessage = function(e) {
                                                        return o.onMessageReceived(e.data)
                                                    }
                                                    ,
                                                void 0 !== o.dc_resolver && o.dc_resolver())
                                            }
                                        )),
                                        this.pc.addEventListener("iceconnectionstatechange", (function(e) {
                                                switch (o.p2pContext.printExtLog(3, "peer " + o.extData.peerId + " iceconnection state: " + o.pc.iceConnectionState),
                                                o.p2pContext.Config.allowPrintLog(3) && console.log("peer " + o.extData.peerId + " iceconnection state: " + o.pc.iceConnectionState),
                                                    o.pc.iceConnectionState) {
                                                    case "new":
                                                    case "checking":
                                                    case "connected":
                                                    case "completed":
                                                        break;
                                                    case "disconnected":
                                                        o.peerSched.onPeerDisConnected(o);
                                                        break;
                                                    case "failed":
                                                        o.peerSched.onPeerConnectComplete(o, !1);
                                                        break;
                                                    case "closed":
                                                        o.peerSched.onPeerDisConnected(o)
                                                }
                                            }
                                        )),
                                        this.pc.addEventListener("signalingstatechange", (function(e) {
                                                o.p2pContext.printExtLog(3, "peer " + o.extData.peerId + " signaling state: " + o.pc.iceConnectionState),
                                                o.p2pContext.Config.allowPrintLog(3) && console.log("peer " + o.extData.peerId + " signaling state: " + o.pc.iceConnectionState),
                                                    o.pc.signalingState
                                            }
                                        )),
                                        this.pc.addEventListener("icecandidate", (function(e) {
                                                null != e.candidate && o.onCandidate(e.candidate)
                                            }
                                        )),
                                        this.onCandidate = function(e) {
                                            null != e && o.candidates.push(e)
                                        }
                                }
                                var t, n, i, r, o, a;
                                return T()(e, [{
                                    key: "close",
                                    value: function() {
                                        var e;
                                        null === (e = this.dc) || void 0 === e || e.dataChannel().close(),
                                        "closed" != this.pc.signalingState && this.pc.close()
                                    }
                                }, {
                                    key: "isIncoming",
                                    value: function() {
                                        return this.incoming
                                    }
                                }, {
                                    key: "setCandidateCallback",
                                    value: function(e) {
                                        var t = this;
                                        new M.a((function(e) {
                                                return e(t.candidates)
                                            }
                                        )).then((function(t) {
                                                d()(t).call(t, (function(t) {
                                                        return e(t)
                                                    }
                                                ))
                                            }
                                        )),
                                            this.onCandidate = e,
                                            this.candidates = new Array
                                    }
                                }, {
                                    key: "createNyaOffer",
                                    value: (a = O()(k.a.mark((function e(t) {
                                                var n, i = this;
                                                return k.a.wrap((function(e) {
                                                        for (; ; )
                                                            switch (e.prev = e.next) {
                                                                case 0:
                                                                    return this.dc = new qe(this.p2pContext,this.pc.createDataChannel("misaka-denpa", {
                                                                        ordered: !1,
                                                                        negotiated: !1
                                                                    })),
                                                                        this.dc_future = M.a.resolve(),
                                                                        this.dc.dataChannel().onmessage = function(e) {
                                                                            return i.onMessageReceived(e.data)
                                                                        }
                                                                        ,
                                                                        this.setCandidateCallback(t),
                                                                        e.next = 6,
                                                                        this.pc.createOffer({
                                                                            iceRestart: !0,
                                                                            offerToReceiveAudio: !1,
                                                                            offerToReceiveVideo: !1
                                                                        });
                                                                case 6:
                                                                    return n = e.sent,
                                                                        this.pc.setLocalDescription(n),
                                                                        e.abrupt("return", n);
                                                                case 9:
                                                                case "end":
                                                                    return e.stop()
                                                            }
                                                    }
                                                ), e, this)
                                            }
                                        ))),
                                            function(e) {
                                                return a.apply(this, arguments)
                                            }
                                    )
                                }, {
                                    key: "answerNyaOffer",
                                    value: (o = O()(k.a.mark((function e(t, n) {
                                                var i, r = this;
                                                return k.a.wrap((function(e) {
                                                        for (; ; )
                                                            switch (e.prev = e.next) {
                                                                case 0:
                                                                    return this.dc_future = new M.a((function(e) {
                                                                            return r.dc_resolver = e
                                                                        }
                                                                    )),
                                                                        this.setCandidateCallback(n),
                                                                        e.next = 4,
                                                                        this.pc.setRemoteDescription(t);
                                                                case 4:
                                                                    return e.next = 6,
                                                                        this.pc.createAnswer({
                                                                            iceRestart: !0,
                                                                            offerToReceiveAudio: !1,
                                                                            offerToReceiveVideo: !1
                                                                        });
                                                                case 6:
                                                                    return i = e.sent,
                                                                        this.pc.setLocalDescription(i),
                                                                        e.abrupt("return", i);
                                                                case 9:
                                                                case "end":
                                                                    return e.stop()
                                                            }
                                                    }
                                                ), e, this)
                                            }
                                        ))),
                                            function(e, t) {
                                                return o.apply(this, arguments)
                                            }
                                    )
                                }, {
                                    key: "acceptNyaAnswer",
                                    value: (r = O()(k.a.mark((function e(t) {
                                                var n = this;
                                                return k.a.wrap((function(e) {
                                                        for (; ; )
                                                            switch (e.prev = e.next) {
                                                                case 0:
                                                                    return this.pc.setRemoteDescription(t).catch((function(e) {
                                                                            n.p2pContext.printExtLog(2, "accept answer failed: " + e.message),
                                                                            n.p2pContext.Config.allowPrintLog(2) && console.warn("accept answer failed: " + e.message)
                                                                        }
                                                                    )),
                                                                        e.next = 3,
                                                                        this.waitForConnected();
                                                                case 3:
                                                                    return e.abrupt("return", e.sent);
                                                                case 4:
                                                                case "end":
                                                                    return e.stop()
                                                            }
                                                    }
                                                ), e, this)
                                            }
                                        ))),
                                            function(e) {
                                                return r.apply(this, arguments)
                                            }
                                    )
                                }, {
                                    key: "addRemoteCandidate",
                                    value: (i = O()(k.a.mark((function e(t) {
                                                return k.a.wrap((function(e) {
                                                        for (; ; )
                                                            switch (e.prev = e.next) {
                                                                case 0:
                                                                    return e.prev = 0,
                                                                        e.next = 3,
                                                                        this.pc.addIceCandidate(t);
                                                                case 3:
                                                                    return e.abrupt("return", e.sent);
                                                                case 6:
                                                                    return e.prev = 6,
                                                                        e.t0 = e.catch(0),
                                                                        e.abrupt("return");
                                                                case 9:
                                                                case "end":
                                                                    return e.stop()
                                                            }
                                                    }
                                                ), e, this, [[0, 6]])
                                            }
                                        ))),
                                            function(e) {
                                                return i.apply(this, arguments)
                                            }
                                    )
                                }, {
                                    key: "waitForConnected",
                                    value: (n = O()(k.a.mark((function e() {
                                                var t, n, i, r, o, a = this;
                                                return k.a.wrap((function(e) {
                                                        for (; ; )
                                                            switch (e.prev = e.next) {
                                                                case 0:
                                                                    if (t = new We.b,
                                                                    void 0 === this.dc_future) {
                                                                        e.next = 6;
                                                                        break
                                                                    }
                                                                    return n = void 0,
                                                                        e.next = 5,
                                                                        M.a.race([this.dc_future, new M.a((function(e) {
                                                                                n = c()(e, a.p2pContext.Config.peerConnectionTimeoutMs)
                                                                            }
                                                                        ))]);
                                                                case 5:
                                                                    void 0 !== n && clearTimeout(n);
                                                                case 6:
                                                                    if (void 0 !== this.dc) {
                                                                        e.next = 8;
                                                                        break
                                                                    }
                                                                    return e.abrupt("return", !1);
                                                                case 8:
                                                                    if (i = void 0,
                                                                    "open" !== this.dc.dataChannel().readyState && (i = new M.a((function(e) {
                                                                            if (void 0 !== a.dc) {
                                                                                a.dc.dataChannel().onopen = function(t) {
                                                                                    return e(!0)
                                                                                }
                                                                                    ,
                                                                                    a.dc.dataChannel().onerror = function(t) {
                                                                                        return e(!1)
                                                                                    }
                                                                                ;
                                                                                var n = function(t) {
                                                                                    "failed" === a.pc.iceConnectionState && (a.p2pContext.printExtLog(2, "ice connection state failed when wait for connected."),
                                                                                    a.p2pContext.Config.allowPrintLog(2) && console.log("ice connection state failed when wait for connected."),
                                                                                        e(!1))
                                                                                };
                                                                                a.pc.addEventListener("iceconnectionstatechange", n),
                                                                                    t.onResolved((function() {
                                                                                            return a.pc.removeEventListener("iceconnectionstatechange", n)
                                                                                        }
                                                                                    ))
                                                                            }
                                                                        }
                                                                    ))),
                                                                        r = !1,
                                                                    void 0 === i) {
                                                                        e.next = 24;
                                                                        break
                                                                    }
                                                                    if (!(this.p2pContext.Config.peerConnectionTimeoutMs > 0)) {
                                                                        e.next = 19;
                                                                        break
                                                                    }
                                                                    return e.next = 15,
                                                                        M.a.race(new Array(i,new M.a((function(e) {
                                                                                o = c()((function() {
                                                                                        return e(!1)
                                                                                    }
                                                                                ), a.p2pContext.Config.peerConnectionTimeoutMs)
                                                                            }
                                                                        ))));
                                                                case 15:
                                                                    r = e.sent,
                                                                        clearTimeout(o),
                                                                        e.next = 22;
                                                                    break;
                                                                case 19:
                                                                    return e.next = 21,
                                                                        i;
                                                                case 21:
                                                                    r = e.sent;
                                                                case 22:
                                                                    e.next = 25;
                                                                    break;
                                                                case 24:
                                                                    r = !0;
                                                                case 25:
                                                                    return !0 === r && (this.dc.dataChannel().onclose = function(e) {
                                                                            return a.peerSched.onPeerDisConnected(a)
                                                                        }
                                                                    ),
                                                                        t.setResult(1),
                                                                        e.abrupt("return", r);
                                                                case 28:
                                                                case "end":
                                                                    return e.stop()
                                                            }
                                                    }
                                                ), e, this)
                                            }
                                        ))),
                                            function() {
                                                return n.apply(this, arguments)
                                            }
                                    )
                                }, {
                                    key: "sendRequestMessage",
                                    value: function(e) {
                                        return this.sendMessage((function() {
                                                var t = e();
                                                if (void 0 !== t)
                                                    return {
                                                        type: "request",
                                                        requestId: -1,
                                                        action_type: "action",
                                                        action: t.action,
                                                        data: t.data
                                                    }
                                            }
                                        ))
                                    }
                                }, {
                                    key: "sendResponseMessage",
                                    value: function(e) {
                                        return this.sendMessage((function() {
                                                var t = e();
                                                if (void 0 !== t)
                                                    return {
                                                        type: "response",
                                                        requestId: t.requestId,
                                                        action_type: "status",
                                                        action: t.status,
                                                        data: t.data
                                                    }
                                            }
                                        ))
                                    }
                                }, {
                                    key: "sendMessage",
                                    value: (t = O()(k.a.mark((function e(t) {
                                                var n, i, r, o, a, s, l, u = this;
                                                return k.a.wrap((function(e) {
                                                        for (; ; )
                                                            switch (e.prev = e.next) {
                                                                case 0:
                                                                    if ("open" != (null === (n = this.dc) || void 0 === n ? void 0 : n.dataChannel().readyState)) {
                                                                        e.next = 16;
                                                                        break
                                                                    }
                                                                    if (void 0 !== (i = t())) {
                                                                        e.next = 4;
                                                                        break
                                                                    }
                                                                    return e.abrupt("return", void 0);
                                                                case 4:
                                                                    return r = i.requestId < 0,
                                                                    i.requestId < 0 && (++this.requestId,
                                                                        i.requestId = this.requestId),
                                                                        (o = {
                                                                            type: i.type,
                                                                            requestId: i.requestId,
                                                                            data: i.data
                                                                        })[i.action_type] = i.action,
                                                                        a = this.pendingRequests,
                                                                        s = this.dc,
                                                                        e.next = 12,
                                                                        new M.a((function(e) {
                                                                                if (r) {
                                                                                    a.has(o.requestId) && console.log("duplicated request id!");
                                                                                    var t = void 0;
                                                                                    u.p2pContext.Config.peerTimeoutMs > 0 && (t = c()((function() {
                                                                                            a.delete(o.requestId),
                                                                                                e(!1)
                                                                                        }
                                                                                    ), u.p2pContext.Config.peerTimeoutMs)),
                                                                                        void 0 !== t ? a.set(o.requestId, (function(n) {
                                                                                                clearTimeout(t),
                                                                                                    e(n)
                                                                                            }
                                                                                        )) : a.set(o.requestId, e)
                                                                                } else
                                                                                    e(!0);
                                                                                null == s || s.send(o)
                                                                            }
                                                                        ));
                                                                case 12:
                                                                    return l = e.sent,
                                                                        e.abrupt("return", l);
                                                                case 16:
                                                                    return e.abrupt("return", void 0);
                                                                case 17:
                                                                case "end":
                                                                    return e.stop()
                                                            }
                                                    }
                                                ), e, this)
                                            }
                                        ))),
                                            function(e) {
                                                return t.apply(this, arguments)
                                            }
                                    )
                                }, {
                                    key: "terminateAllPendingRequests",
                                    value: function() {
                                        var e;
                                        d()(e = this.pendingRequests).call(e, (function(e, t) {
                                                e(void 0)
                                            }
                                        )),
                                            this.pendingRequests.clear()
                                    }
                                }, {
                                    key: "onMessageReceived",
                                    value: function(e) {
                                        try {
                                            var t = (n = e,
                                            void 0 === i && (i = He),
                                                new Ye(i.extensionCodec,i.context,i.maxStrLength,i.maxBinLength,i.maxArrayLength,i.maxMapLength,i.maxExtLength).decode(n));
                                            null !== t.data && void 0 !== t.data && void 0 !== t.data.length && t.data.length > 1024 || (this.p2pContext.printExtLog(4, this.extData.peerId + " recv: " + t),
                                            this.p2pContext.Config.allowPrintLog(4) && console.log(this.extData.peerId + " recv: ", t)),
                                                "response" == t.type && ye()(t.requestId) && t.requestId > 0 ? this.dispatchResponse(t) : "request" == t.type && ye()(t.requestId) && this.peerSched.onPeerRequestMessage(this, t)
                                        } catch (e) {
                                            void 0 !== t && this.p2pContext.P2PDataCollectionStatus.addWastedDataSize(t.byteLength, Ke.WastedDataType.ERROR_DATA),
                                                this.p2pContext.GhostPeerIds.add(this.extData.peerId),
                                                this.close(),
                                                console.log(e)
                                        }
                                        var n, i
                                    }
                                }, {
                                    key: "dispatchResponse",
                                    value: function(e) {
                                        var t, n = this.pendingRequests.get(e.requestId);
                                        void 0 !== n ? (this.pendingRequests.delete(e.requestId),
                                            n(e)) : "ok" === e.status && void 0 !== (null === (t = e.data) || void 0 === t ? void 0 : t.length) && (this.p2pContext.printExtLog(3, "no request for received response " + e.data.byteLength),
                                        this.p2pContext.Config.allowPrintLog(3) && console.log("no request for received response " + e.data.byteLength),
                                            this.peerSched.getP2PContext().P2PDataCollectionStatus.addWastedDataSize(e.data.byteLength, Ke.WastedDataType.P2P_LATE))
                                    }
                                }]),
                                    e
                            }()
                                , Xe = function() {
                                function e(t, n, i) {
                                    E()(this, e),
                                        C()(this, "p2pContext", void 0),
                                        C()(this, "needDestroy", !1),
                                        C()(this, "ws", void 0),
                                        C()(this, "requestId", 0),
                                        C()(this, "pendingRequests", new pe.a),
                                        C()(this, "messageSink", void 0),
                                        C()(this, "trackerSourceParam", void 0),
                                        C()(this, "onReconnected", (function() {}
                                        )),
                                        this.p2pContext = t,
                                        this.trackerSourceParam = n,
                                        this.messageSink = i
                                }
                                var t, n, i, r, o;
                                return T()(e, [{
                                    key: "trackerConnect",
                                    value: (o = O()(k.a.mark((function e() {
                                                var t, n = this;
                                                return k.a.wrap((function(e) {
                                                        for (; ; )
                                                            switch (e.prev = e.next) {
                                                                case 0:
                                                                    if (this.p2pContext.printExtLog(0, "Last Order (re)connecting."),
                                                                    this.p2pContext.Config.allowPrintLog(0) && console.log("[SistersPlayer] Last Order (re)connecting."),
                                                                    !1 !== this.needDestroy) {
                                                                        e.next = 18;
                                                                        break
                                                                    }
                                                                    return e.next = 5,
                                                                        this.newTrackerConnect();
                                                                case 5:
                                                                    if (void 0 !== (t = e.sent)) {
                                                                        e.next = 10;
                                                                        break
                                                                    }
                                                                    return e.abrupt("return", void 0);
                                                                case 10:
                                                                    return this.ws = t,
                                                                        this.ws.onmessage = function(e) {
                                                                            n.onMessageReceived(e.data)
                                                                        }
                                                                        ,
                                                                        this.onReconnected(),
                                                                        this.p2pContext.printExtLog(0, "Last Order (re)connect done."),
                                                                    this.p2pContext.Config.allowPrintLog(0) && console.log("[SistersPlayer] Last Order (re)connect done."),
                                                                        e.abrupt("return", t);
                                                                case 16:
                                                                    e.next = 20;
                                                                    break;
                                                                case 18:
                                                                    this.p2pContext.printExtLog(0, "Last Order (re)connect cancel."),
                                                                    this.p2pContext.Config.allowPrintLog(0) && console.log("[SistersPlayer] Last Order (re)connect cancel.");
                                                                case 20:
                                                                case "end":
                                                                    return e.stop()
                                                            }
                                                    }
                                                ), e, this)
                                            }
                                        ))),
                                            function() {
                                                return o.apply(this, arguments)
                                            }
                                    )
                                }, {
                                    key: "newTrackerConnect",
                                    value: (r = O()(k.a.mark((function e() {
                                                var t = this;
                                                return k.a.wrap((function(e) {
                                                        for (; ; )
                                                            switch (e.prev = e.next) {
                                                                case 0:
                                                                    return e.abrupt("return", new M.a((function(e) {
                                                                            var n = new WebSocket(t.p2pContext.Config.trackerServer + t.trackerSourceParam);
                                                                            n.onopen = function(i) {
                                                                                t.needDestroy ? (n.close(),
                                                                                    e(void 0)) : e(n)
                                                                            }
                                                                                ,
                                                                                n.onclose = function(n) {
                                                                                    var i;
                                                                                    t.p2pContext.printExtLog(0, "Last Order connection is closed."),
                                                                                    t.p2pContext.Config.allowPrintLog(0) && console.warn("[SistersPlayer] Last Order connection is closed."),
                                                                                        d()(i = t.pendingRequests).call(i, (function(e, t) {
                                                                                                return e(void 0)
                                                                                            }
                                                                                        )),
                                                                                        t.pendingRequests.clear(),
                                                                                        0 == t.needDestroy ? (t.p2pContext.printExtLog(0, "Misaka will reconnect to the Last Order in " + t.p2pContext.Config.reconnectWaitTimeSec + " seconds."),
                                                                                        t.p2pContext.Config.allowPrintLog(0) && console.warn("[SistersPlayer] Misaka will reconnect to the Last Order in " + t.p2pContext.Config.reconnectWaitTimeSec + " seconds."),
                                                                                            c()((function() {
                                                                                                    t.trackerConnect()
                                                                                                }
                                                                                            ), 1e3 * t.p2pContext.Config.reconnectWaitTimeSec)) : (t.p2pContext.printExtLog(0, "Last Order reconnect cancel."),
                                                                                        t.p2pContext.Config.allowPrintLog(0) && console.log("[SistersPlayer] Last Order reconnect cancel.")),
                                                                                        e(void 0)
                                                                                }
                                                                        }
                                                                    )));
                                                                case 1:
                                                                case "end":
                                                                    return e.stop()
                                                            }
                                                    }
                                                ), e)
                                            }
                                        ))),
                                            function() {
                                                return r.apply(this, arguments)
                                            }
                                    )
                                }, {
                                    key: "dispatchResponse",
                                    value: function(e) {
                                        var t = this.pendingRequests.get(e.requestId);
                                        void 0 !== t && (this.pendingRequests.delete(e.requestId),
                                            t(e))
                                    }
                                }, {
                                    key: "sendMessage",
                                    value: function(e, t, n, i, r, o) {
                                        var a = this
                                            , s = this.ws;
                                        if (null != s && s.readyState == s.OPEN) {
                                            n < 0 && (++this.requestId,
                                                n = this.requestId);
                                            var l = {
                                                type: t,
                                                requestId: n
                                            };
                                            l[i] = r,
                                            null !== e && (l.peerId = e),
                                            void 0 !== o && (l.data = o);
                                            var c = this.pendingRequests;
                                            return new M.a((function(e) {
                                                    null != s && s.readyState == s.OPEN ? (a.p2pContext.Config.allowPrintLog(5) && console.log("send: ", l),
                                                        c.set(n, e),
                                                        s.send(v()(l))) : e(void 0)
                                                }
                                            ))
                                        }
                                        return new M.a((function(e) {
                                                return e(void 0)
                                            }
                                        ))
                                    }
                                }, {
                                    key: "sendServerRequest",
                                    value: (i = O()(k.a.mark((function e(t, n) {
                                                var i, r, o, a = this;
                                                return k.a.wrap((function(e) {
                                                        for (; ; )
                                                            switch (e.prev = e.next) {
                                                                case 0:
                                                                    if (i = this.sendMessage(null, "request", -1, "action", t, n),
                                                                        !(this.p2pContext.Config.serverTimeoutMs > 0)) {
                                                                        e.next = 9;
                                                                        break
                                                                    }
                                                                    return e.next = 4,
                                                                        M.a.race(new Array(new M.a((function(e) {
                                                                                return r = c()((function() {
                                                                                        return e(void 0)
                                                                                    }
                                                                                ), a.p2pContext.Config.serverTimeoutMs)
                                                                            }
                                                                        )),i));
                                                                case 4:
                                                                    return o = e.sent,
                                                                        clearTimeout(r),
                                                                        e.abrupt("return", o);
                                                                case 9:
                                                                    return e.next = 11,
                                                                        i;
                                                                case 11:
                                                                    return e.abrupt("return", e.sent);
                                                                case 12:
                                                                case "end":
                                                                    return e.stop()
                                                            }
                                                    }
                                                ), e, this)
                                            }
                                        ))),
                                            function(e, t) {
                                                return i.apply(this, arguments)
                                            }
                                    )
                                }, {
                                    key: "sendPeerRequest",
                                    value: (n = O()(k.a.mark((function e(t, n, i) {
                                                var r, o, a, s = this;
                                                return k.a.wrap((function(e) {
                                                        for (; ; )
                                                            switch (e.prev = e.next) {
                                                                case 0:
                                                                    if (r = this.sendMessage(t, "request", -1, "action", n, i),
                                                                        !(this.p2pContext.Config.peerConnectionTimeoutMs > 0)) {
                                                                        e.next = 9;
                                                                        break
                                                                    }
                                                                    return e.next = 4,
                                                                        M.a.race(new Array(new M.a((function(e) {
                                                                                return o = c()((function() {
                                                                                        return e(void 0)
                                                                                    }
                                                                                ), s.p2pContext.Config.peerConnectionTimeoutMs)
                                                                            }
                                                                        )),r));
                                                                case 4:
                                                                    return a = e.sent,
                                                                        clearTimeout(o),
                                                                        e.abrupt("return", a);
                                                                case 9:
                                                                    return e.next = 11,
                                                                        r;
                                                                case 11:
                                                                    return e.abrupt("return", e.sent);
                                                                case 12:
                                                                case "end":
                                                                    return e.stop()
                                                            }
                                                    }
                                                ), e, this)
                                            }
                                        ))),
                                            function(e, t, i) {
                                                return n.apply(this, arguments)
                                            }
                                    )
                                }, {
                                    key: "sendPeerResponse",
                                    value: function(e, t, n, i) {
                                        return this.sendMessage(e, "response", t, "status", n, i)
                                    }
                                }, {
                                    key: "onPeerRequest",
                                    value: function(e) {
                                        this.messageSink.onPeerMessage(this, e.peerId, e, e.requestId)
                                    }
                                }, {
                                    key: "onServerRequest",
                                    value: function(e) {
                                        this.messageSink.onServerMessage(this, e)
                                    }
                                }, {
                                    key: "onMessageReceived",
                                    value: function(e) {
                                        if (0 == this.needDestroy)
                                            try {
                                                var t = JSON.parse(e);
                                                this.p2pContext.Config.allowPrintLog(5) && console.log("recv: ", t),
                                                    "response" == t.type && ye()(t.requestId) && t.requestId > 0 ? this.dispatchResponse(t) : "request" == t.type && ye()(t.requestId) && (null == t.peerId ? this.onServerRequest(t) : this.onPeerRequest(t))
                                            } catch (e) {
                                                console.log(e)
                                            }
                                    }
                                }, {
                                    key: "destroy",
                                    value: function() {
                                        var e;
                                        this.needDestroy = !0,
                                        null != this.ws && (this.ws.close(),
                                            this.ws = void 0),
                                            d()(e = this.pendingRequests).call(e, (function(e, t) {
                                                    return e(void 0)
                                                }
                                            )),
                                            this.pendingRequests.clear()
                                    }
                                }], [{
                                    key: "connect",
                                    value: (t = O()(k.a.mark((function t(n, i, r, o) {
                                                var a;
                                                return k.a.wrap((function(t) {
                                                        for (; ; )
                                                            switch (t.prev = t.next) {
                                                                case 0:
                                                                    return a = new e(n,i,r),
                                                                        t.next = 3,
                                                                        new M.a((function(e) {
                                                                                a.onReconnected = function() {
                                                                                    e()
                                                                                }
                                                                                    ,
                                                                                    a.trackerConnect()
                                                                            }
                                                                        ));
                                                                case 3:
                                                                    return a.onReconnected = o,
                                                                        t.abrupt("return", a);
                                                                case 5:
                                                                case "end":
                                                                    return t.stop()
                                                            }
                                                    }
                                                ), t)
                                            }
                                        ))),
                                            function(e, n, i, r) {
                                                return t.apply(this, arguments)
                                            }
                                    )
                                }]),
                                    e
                            }()
                                , $e = function() {
                                function e(t, n) {
                                    E()(this, e),
                                        C()(this, "curVisibilityState", !0),
                                        C()(this, "needDestroy", !1),
                                        C()(this, "p2pContext", void 0),
                                        C()(this, "tracker", void 0),
                                        C()(this, "peerSched", void 0),
                                        this.p2pContext = t,
                                        this.peerSched = n
                                }
                                var t, n, i, r;
                                return T()(e, [{
                                    key: "initTracker",
                                    value: function(e) {
                                        this.tracker = e,
                                        1 == this.needDestroy && this.destroy()
                                    }
                                }, {
                                    key: "onTrackerReconnected",
                                    value: function() {
                                        var e = this;
                                        this.setSelfVisible(this.curVisibilityState).then((function(t) {
                                                e.p2pContext.printExtLog(0, "SetVisible after reconnect."),
                                                e.p2pContext.Config.allowPrintLog(0) && console.warn("[SistersPlayer] SetVisible after reconnect.")
                                            }
                                        ))
                                    }
                                }, {
                                    key: "getPeerList",
                                    value: (r = O()(k.a.mark((function e() {
                                                var t = this;
                                                return k.a.wrap((function(e) {
                                                        for (; ; )
                                                            switch (e.prev = e.next) {
                                                                case 0:
                                                                    if (null == this.tracker) {
                                                                        e.next = 6;
                                                                        break
                                                                    }
                                                                    return e.next = 3,
                                                                        this.tracker.sendServerRequest("getPeersList").then((function(e) {
                                                                                var n;
                                                                                return null == e || null == e.data || null == e.data.peersList ? [] : ne()(n = e.data.peersList).call(n, (function(e) {
                                                                                        return e !== t.p2pContext.CurPeerId
                                                                                    }
                                                                                ))
                                                                            }
                                                                        ));
                                                                case 3:
                                                                    return e.abrupt("return", e.sent);
                                                                case 6:
                                                                    return e.abrupt("return", new M.a((function(e) {
                                                                            return e(new Array)
                                                                        }
                                                                    )));
                                                                case 7:
                                                                case "end":
                                                                    return e.stop()
                                                            }
                                                    }
                                                ), e, this)
                                            }
                                        ))),
                                            function() {
                                                return r.apply(this, arguments)
                                            }
                                    )
                                }, {
                                    key: "sendPeerCandidate",
                                    value: (i = O()(k.a.mark((function e(t, n, i) {
                                                var r;
                                                return k.a.wrap((function(e) {
                                                        for (; ; )
                                                            switch (e.prev = e.next) {
                                                                case 0:
                                                                    if (null == this.tracker) {
                                                                        e.next = 11;
                                                                        break
                                                                    }
                                                                    return e.next = 3,
                                                                        this.tracker.sendPeerRequest(t, "candidate", {
                                                                            direction: n,
                                                                            cand: i
                                                                        });
                                                                case 3:
                                                                    if ("ok" != (null == (r = e.sent) ? void 0 : r.status)) {
                                                                        e.next = 8;
                                                                        break
                                                                    }
                                                                    return e.abrupt("return", !0);
                                                                case 8:
                                                                    return e.abrupt("return", !1);
                                                                case 9:
                                                                    e.next = 12;
                                                                    break;
                                                                case 11:
                                                                    return e.abrupt("return", !1);
                                                                case 12:
                                                                case "end":
                                                                    return e.stop()
                                                            }
                                                    }
                                                ), e, this)
                                            }
                                        ))),
                                            function(e, t, n) {
                                                return i.apply(this, arguments)
                                            }
                                    )
                                }, {
                                    key: "connectPeer",
                                    value: (n = O()(k.a.mark((function e(t, n) {
                                                var i, r, o, a, s, l = this;
                                                return k.a.wrap((function(e) {
                                                        for (; ; )
                                                            switch (e.prev = e.next) {
                                                                case 0:
                                                                    return i = new Je(this.p2pContext,this.peerSched,!1),
                                                                    null == n || n(i),
                                                                        i.extData.peerId = t,
                                                                        r = new We.c,
                                                                        e.next = 6,
                                                                        r.lock();
                                                                case 6:
                                                                    return e.next = 8,
                                                                        i.createNyaOffer((function(e) {
                                                                                r.lock().then((function() {
                                                                                        l.sendPeerCandidate(t, "offer", e),
                                                                                            r.unlock()
                                                                                    }
                                                                                ))
                                                                            }
                                                                        ));
                                                                case 8:
                                                                    if (o = e.sent,
                                                                        a = void 0,
                                                                    null == this.tracker) {
                                                                        e.next = 14;
                                                                        break
                                                                    }
                                                                    return e.next = 13,
                                                                        this.tracker.sendPeerRequest(t, "connect", {
                                                                            protocol: this.p2pContext.Config.ProtocolVersion,
                                                                            guid: this.p2pContext.guid,
                                                                            offer: o
                                                                        });
                                                                case 13:
                                                                    a = e.sent;
                                                                case 14:
                                                                    if (r.unlock(),
                                                                    null != a) {
                                                                        e.next = 18;
                                                                        break
                                                                    }
                                                                    return this.peerSched.onPeerConnectComplete(i, !1),
                                                                        e.abrupt("return");
                                                                case 18:
                                                                    if (e.prev = 18,
                                                                    "ok" === a.status) {
                                                                        e.next = 23;
                                                                        break
                                                                    }
                                                                    this.peerSched.onPeerConnectComplete(i, !1),
                                                                        e.next = 32;
                                                                    break;
                                                                case 23:
                                                                    return s = a.data,
                                                                        this.p2pContext.printExtLog(2, "peer connecting " + t),
                                                                    this.p2pContext.Config.allowPrintLog(2) && console.log("peer connecting " + t),
                                                                        e.t0 = this.peerSched,
                                                                        e.t1 = i,
                                                                        e.next = 30,
                                                                        i.acceptNyaAnswer(s);
                                                                case 30:
                                                                    e.t2 = e.sent,
                                                                        e.t0.onPeerConnectComplete.call(e.t0, e.t1, e.t2);
                                                                case 32:
                                                                    e.next = 38;
                                                                    break;
                                                                case 34:
                                                                    e.prev = 34,
                                                                        e.t3 = e.catch(18),
                                                                        console.log(e.t3),
                                                                        this.peerSched.onPeerConnectComplete(i, !1);
                                                                case 38:
                                                                case "end":
                                                                    return e.stop()
                                                            }
                                                    }
                                                ), e, this, [[18, 34]])
                                            }
                                        ))),
                                            function(e, t) {
                                                return n.apply(this, arguments)
                                            }
                                    )
                                }, {
                                    key: "getVisibilityState",
                                    value: function() {
                                        return this.curVisibilityState
                                    }
                                }, {
                                    key: "setSelfVisible",
                                    value: function(e) {
                                        var t, n, i = this;
                                        return null !== (t = null === (n = this.tracker) || void 0 === n ? void 0 : n.sendServerRequest("setVisible", {
                                            value: e
                                        }).then((function(t) {
                                                return void 0 !== t && "ok" === (null == t ? void 0 : t.status) && (i.curVisibilityState = e,
                                                    !0)
                                            }
                                        ))) && void 0 !== t ? t : M.a.resolve(!1)
                                    }
                                }, {
                                    key: "reportDownloadBlockSuccess",
                                    value: function(e) {
                                        var t, n;
                                        return null !== (t = null === (n = this.tracker) || void 0 === n ? void 0 : n.sendServerRequest("report", {
                                            id: "peerConnected",
                                            remote: e
                                        }).then((function(e) {
                                                return void 0 !== e && "ok" === (null == e ? void 0 : e.status)
                                            }
                                        ))) && void 0 !== t ? t : M.a.resolve(!1)
                                    }
                                }, {
                                    key: "onPeerMessage",
                                    value: function(e, t, n, i) {
                                        return this.peerSched.onPeerRelayMessage(t, n, i)
                                    }
                                }, {
                                    key: "onServerMessage",
                                    value: function(e, t) {
                                        switch (t.action) {
                                            case "setPeerId":
                                                this.p2pContext.CurPeerId = t.data.id;
                                                break;
                                            case "updateConfig":
                                                this.p2pContext.setConfiguration(t.data.jsonstr)
                                        }
                                    }
                                }, {
                                    key: "sendPeerResponse",
                                    value: function(e, t, n, i) {
                                        return null != this.tracker ? this.tracker.sendPeerResponse(e, t, n, i) : new M.a((function(e) {
                                                return e(void 0)
                                            }
                                        ))
                                    }
                                }, {
                                    key: "destroy",
                                    value: function() {
                                        var e;
                                        this.needDestroy = !0,
                                        null === (e = this.tracker) || void 0 === e || e.destroy()
                                    }
                                }], [{
                                    key: "connect",
                                    value: (t = O()(k.a.mark((function t(n, i, r, o) {
                                                var a, s;
                                                return k.a.wrap((function(t) {
                                                        for (; ; )
                                                            switch (t.prev = t.next) {
                                                                case 0:
                                                                    return a = new e(n,r),
                                                                        t.next = 3,
                                                                        Xe.connect(n, i, a, (function() {
                                                                                a.onTrackerReconnected()
                                                                            }
                                                                        ));
                                                                case 3:
                                                                    return s = t.sent,
                                                                        a.initTracker(s),
                                                                        a.setSelfVisible(!0),
                                                                        t.abrupt("return", a);
                                                                case 7:
                                                                case "end":
                                                                    return t.stop()
                                                            }
                                                    }
                                                ), t)
                                            }
                                        ))),
                                            function(e, n, i, r) {
                                                return t.apply(this, arguments)
                                            }
                                    )
                                }]),
                                    e
                            }()
                                , et = function e(t, n, i) {
                                E()(this, e),
                                    C()(this, "sliceId", void 0),
                                    C()(this, "isOwner", void 0),
                                    C()(this, "progress", void 0),
                                    this.sliceId = t,
                                    this.isOwner = n,
                                    this.progress = i
                            };
                            function tt(e, t) {
                                var n;
                                if (void 0 === q.a || null == Q()(e)) {
                                    if (W()(e) || (n = function(e, t) {
                                        var n;
                                        if (e) {
                                            if ("string" == typeof e)
                                                return nt(e, t);
                                            var i = ee()(n = Object.prototype.toString.call(e)).call(n, 8, -1);
                                            return "Object" === i && e.constructor && (i = e.constructor.name),
                                                "Map" === i || "Set" === i ? X()(e) : "Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i) ? nt(e, t) : void 0
                                        }
                                    }(e)) || t && e && "number" == typeof e.length) {
                                        n && (e = n);
                                        var i = 0
                                            , r = function() {};
                                        return {
                                            s: r,
                                            n: function() {
                                                return i >= e.length ? {
                                                    done: !0
                                                } : {
                                                    done: !1,
                                                    value: e[i++]
                                                }
                                            },
                                            e: function(e) {
                                                throw e
                                            },
                                            f: r
                                        }
                                    }
                                    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                                }
                                var o, a = !0, s = !1;
                                return {
                                    s: function() {
                                        n = Y()(e)
                                    },
                                    n: function() {
                                        var e = n.next();
                                        return a = e.done,
                                            e
                                    },
                                    e: function(e) {
                                        s = !0,
                                            o = e
                                    },
                                    f: function() {
                                        try {
                                            a || null == n.return || n.return()
                                        } finally {
                                            if (s)
                                                throw o
                                        }
                                    }
                                }
                            }
                            function nt(e, t) {
                                (null == t || t > e.length) && (t = e.length);
                                for (var n = 0, i = new Array(t); n < t; n++)
                                    i[n] = e[n];
                                return i
                            }
                            var it, rt = function() {
                                function e(t, n, i, r) {
                                    E()(this, e),
                                        C()(this, "p2pContext", void 0),
                                        C()(this, "pendingIncomingPeers", new pe.a),
                                        C()(this, "pendingOutcomingPeers", new pe.a),
                                        C()(this, "connectedPeers", new pe.a),
                                        C()(this, "curSliceIds", void 0),
                                        C()(this, "cancelToken", void 0),
                                        C()(this, "trackerSourceParam", void 0),
                                        C()(this, "sliceId", void 0),
                                        C()(this, "tracker", void 0),
                                        C()(this, "trackerConnecting", !1),
                                        this.trackerSourceParam = i,
                                        this.sliceId = r,
                                        this.p2pContext = t,
                                        this.cancelToken = n,
                                        this.curSliceIds = new U.a
                                }
                                var t, n, i, r;
                                return T()(e, [{
                                    key: "allowedConnectNewPeer",
                                    value: function() {
                                        var e = this.pendingIncomingPeers.size + this.pendingOutcomingPeers.size < this.p2pContext.Config.connectingLimit
                                            , t = this.connectedPeers.size < this.p2pContext.Config.connectedLimit;
                                        return e && t
                                    }
                                }, {
                                    key: "getTracker",
                                    value: function() {
                                        return this.tracker
                                    }
                                }, {
                                    key: "getP2PContext",
                                    value: function() {
                                        return this.p2pContext
                                    }
                                }, {
                                    key: "checkGuidExist",
                                    value: function(e) {
                                        var t, n = !1;
                                        return d()(t = this.connectedPeers).call(t, (function(t) {
                                                d()(t).call(t, (function(t) {
                                                        t.extData.guid == e && (n = !0)
                                                    }
                                                ))
                                            }
                                        )),
                                            n
                                    }
                                }, {
                                    key: "checkVisibilityStateNeedChange",
                                    value: (r = O()(k.a.mark((function e() {
                                                var t = this;
                                                return k.a.wrap((function(e) {
                                                        for (; ; )
                                                            switch (e.prev = e.next) {
                                                                case 0:
                                                                    return e.abrupt("return", new M.a((function(e) {
                                                                            var n = t.connectedPeers.size < t.p2pContext.Config.connectedLimit
                                                                                , i = t.connectedPeers.size <= t.p2pContext.Config.revisibleMark;
                                                                            null != t.tracker && 0 == t.trackerConnecting ? 1 == n && 1 == i && 0 == t.tracker.getVisibilityState() ? (t.p2pContext.printExtLog(0, "Misaka will visible."),
                                                                            t.p2pContext.Config.allowPrintLog(0) && console.log("[SistersPlayer] Misaka will visible."),
                                                                                t.tracker.setSelfVisible(!0),
                                                                                e()) : 0 == n && 0 == i && 1 == t.tracker.getVisibilityState() ? (t.p2pContext.printExtLog(0, "Misaka will invisible."),
                                                                            t.p2pContext.Config.allowPrintLog(0) && console.log("[SistersPlayer] Misaka will invisible."),
                                                                                t.tracker.setSelfVisible(!1),
                                                                                e()) : e() : e()
                                                                        }
                                                                    )));
                                                                case 1:
                                                                case "end":
                                                                    return e.stop()
                                                            }
                                                    }
                                                ), e)
                                            }
                                        ))),
                                            function() {
                                                return r.apply(this, arguments)
                                            }
                                    )
                                }, {
                                    key: "beginConnectPeers",
                                    value: (i = O()(k.a.mark((function e() {
                                                var t, n, i, r, o, a, s = this;
                                                return k.a.wrap((function(e) {
                                                        for (; ; )
                                                            switch (e.prev = e.next) {
                                                                case 0:
                                                                    if (this.cancelToken.hasCancel) {
                                                                        e.next = 31;
                                                                        break
                                                                    }
                                                                    if (!this.allowedConnectNewPeer() || null == this.tracker) {
                                                                        e.next = 27;
                                                                        break
                                                                    }
                                                                    return t = function(e) {
                                                                        var t, n;
                                                                        return he()(t = ue()(n = he()(e).call(e, (function(e) {
                                                                                return [Math.random(), e]
                                                                            }
                                                                        ))).call(n, (function(e, t) {
                                                                                return e[0] - t[0]
                                                                            }
                                                                        ))).call(t, (function(e) {
                                                                                return e[1]
                                                                            }
                                                                        ))
                                                                    }
                                                                        ,
                                                                        e.next = 5,
                                                                        this.tracker.getPeerList();
                                                                case 5:
                                                                    n = e.sent,
                                                                        n = t(n),
                                                                        i = tt(n),
                                                                        e.prev = 8,
                                                                        o = function() {
                                                                            var e = r.value;
                                                                            return s.p2pContext.GhostPeerIds.has(e) ? (s.p2pContext.printExtLog(2, "has a ghost peerId: " + e),
                                                                            s.p2pContext.Config.allowPrintLog(2) && console.warn("has a ghost peerId: " + e),
                                                                                "continue") : s.pendingOutcomingPeers.has(e) || s.pendingIncomingPeers.has(e) || s.connectedPeers.has(e) && s.connectedPeers.get(e).length > 0 || s.p2pContext.CurPeerId === e ? "continue" : (s.tracker.connectPeer(e, (function(t) {
                                                                                    s.pendingOutcomingPeers.set(e, t)
                                                                                }
                                                                            )),
                                                                                s.allowedConnectNewPeer() ? void 0 : "break")
                                                                        }
                                                                        ,
                                                                        i.s();
                                                                case 11:
                                                                    if ((r = i.n()).done) {
                                                                        e.next = 19;
                                                                        break
                                                                    }
                                                                    if ("continue" !== (a = o())) {
                                                                        e.next = 15;
                                                                        break
                                                                    }
                                                                    return e.abrupt("continue", 17);
                                                                case 15:
                                                                    if ("break" !== a) {
                                                                        e.next = 17;
                                                                        break
                                                                    }
                                                                    return e.abrupt("break", 19);
                                                                case 17:
                                                                    e.next = 11;
                                                                    break;
                                                                case 19:
                                                                    e.next = 24;
                                                                    break;
                                                                case 21:
                                                                    e.prev = 21,
                                                                        e.t0 = e.catch(8),
                                                                        i.e(e.t0);
                                                                case 24:
                                                                    return e.prev = 24,
                                                                        i.f(),
                                                                        e.finish(24);
                                                                case 27:
                                                                    return e.next = 29,
                                                                        new M.a((function(e) {
                                                                                return c()((function() {
                                                                                        return e()
                                                                                    }
                                                                                ), 1e4)
                                                                            }
                                                                        ));
                                                                case 29:
                                                                    e.next = 0;
                                                                    break;
                                                                case 31:
                                                                case "end":
                                                                    return e.stop()
                                                            }
                                                    }
                                                ), e, this, [[8, 21, 24, 27]])
                                            }
                                        ))),
                                            function() {
                                                return i.apply(this, arguments)
                                            }
                                    )
                                }, {
                                    key: "IteratorToArray",
                                    value: function(e) {
                                        for (var t = new Array; ; ) {
                                            var n = e.next();
                                            if (n.done)
                                                break;
                                            t.push(n.value)
                                        }
                                        return t
                                    }
                                }, {
                                    key: "getConnectedPeers",
                                    value: function() {
                                        var e, t;
                                        return le()(e = this.IteratorToArray(ae()(t = this.connectedPeers).call(t))).call(e, (function(e) {
                                                return e
                                            }
                                        ))
                                    }
                                }, {
                                    key: "getConnectingPeers",
                                    value: function() {
                                        var e, t, n;
                                        return re()(e = this.IteratorToArray(ae()(t = this.pendingIncomingPeers).call(t))).call(e, this.IteratorToArray(ae()(n = this.pendingOutcomingPeers).call(n)))
                                    }
                                }, {
                                    key: "onPeerConnectComplete",
                                    value: function(e, t) {
                                        if (!1 === e.isIncoming() ? this.pendingOutcomingPeers.delete(e.extData.peerId) : this.pendingIncomingPeers.delete(e.extData.peerId),
                                        !1 !== t) {
                                            if (this.cancelToken.hasCancel)
                                                return this.p2pContext.printExtLog(2, "Cancel connect. target peerId: " + e.extData.peerId + " when cur peerId: " + this.p2pContext.CurPeerId),
                                                this.p2pContext.Config.allowPrintLog(2) && console.warn("Cancel connect. target peerId: " + e.extData.peerId + " when cur peerId: " + this.p2pContext.CurPeerId),
                                                    void this.onPeerDisConnected(e);
                                            try {
                                                this.p2pContext.printExtLog(2, "peer connected: id:" + e.extData.peerId),
                                                this.p2pContext.Config.allowPrintLog(2) && console.log("peer connected: id:" + e.extData.peerId),
                                                !1 === this.connectedPeers.has(e.extData.peerId) && this.connectedPeers.set(e.extData.peerId, new Array),
                                                    this.connectedPeers.get(e.extData.peerId).push(e)
                                            } catch (e) {
                                                console.log(e)
                                            }
                                            this.checkVisibilityStateNeedChange()
                                        } else
                                            e.close()
                                    }
                                }, {
                                    key: "onPeerDisConnected",
                                    value: function(e) {
                                        e.close(),
                                            e.terminateAllPendingRequests();
                                        var t = this.connectedPeers.get(e.extData.peerId);
                                        if (void 0 !== t) {
                                            var n = ne()(t).call(t, (function(t) {
                                                    return t != e
                                                }
                                            ));
                                            n.length > 0 ? (this.p2pContext.printExtLog(2, "remove peerId ".concat(e.extData.peerId, " connect.")),
                                            this.p2pContext.Config.allowPrintLog(2) && console.log("remove peerId ".concat(e.extData.peerId, " connect.")),
                                                this.connectedPeers.set(e.extData.peerId, n)) : (this.p2pContext.printExtLog(2, "clear empty peerId ".concat(e.extData.peerId, " connect from connectedPeers.")),
                                            this.p2pContext.Config.allowPrintLog(2) && console.log("clear empty peerId ".concat(e.extData.peerId, " connect from connectedPeers.")),
                                                this.connectedPeers.delete(e.extData.peerId))
                                        }
                                        this.checkVisibilityStateNeedChange()
                                    }
                                }, {
                                    key: "closePeer",
                                    value: function(e) {
                                        var t = this
                                            , n = this.connectedPeers.get(e);
                                        void 0 !== n && d()(n).call(n, (function(e) {
                                                t.onPeerDisConnected(e)
                                            }
                                        ))
                                    }
                                }, {
                                    key: "initSliceId",
                                    value: function(e) {
                                        void 0 !== e && this.curSliceIds.add(e)
                                    }
                                }, {
                                    key: "addSliceId",
                                    value: function(e) {
                                        this.curSliceIds.add(e)
                                    }
                                }, {
                                    key: "deleteSliceId",
                                    value: function(e) {
                                        this.curSliceIds.delete(e)
                                    }
                                }, {
                                    key: "getSliceIds",
                                    value: function() {
                                        return this.curSliceIds
                                    }
                                }, {
                                    key: "onPeerRelayMessage",
                                    value: (n = O()(k.a.mark((function e(t, n, i) {
                                                var r, o, a, s, l, c, u, d, h, f, p = this;
                                                return k.a.wrap((function(e) {
                                                        for (; ; )
                                                            switch (e.prev = e.next) {
                                                                case 0:
                                                                    if (null == this.tracker) {
                                                                        e.next = 30;
                                                                        break
                                                                    }
                                                                    if ("connect" != (null == n ? void 0 : n.action)) {
                                                                        e.next = 29;
                                                                        break
                                                                    }
                                                                    if (!(void 0 !== this.connectedPeers.get(t) && this.connectedPeers.get(t).length > 0 || 1 == this.cancelToken.hasCancel || 0 == this.allowedConnectNewPeer() || this.p2pContext.GhostPeerIds.has(t) || null == (null == n || null === (r = n.data) || void 0 === r ? void 0 : r.guid) || this.checkGuidExist(n.data.guid))) {
                                                                        e.next = 8;
                                                                        break
                                                                    }
                                                                    this.checkGuidExist(n.data.guid) && (this.p2pContext.printExtLog(2, "refused connection, because GUID exist."),
                                                                    this.p2pContext.Config.allowPrintLog(2) && console.warn("refused connection, because GUID exist.")),
                                                                    1 == this.cancelToken.hasCancel && (this.p2pContext.printExtLog(2, "refused connection, because exiting from the Misaka Network."),
                                                                    this.p2pContext.Config.allowPrintLog(2) && console.warn("refused connection, because exiting from the Misaka Network.")),
                                                                        this.tracker.sendPeerResponse(t, i, "refused"),
                                                                        e.next = 27;
                                                                    break;
                                                                case 8:
                                                                    if ((null == n || null === (o = n.data) || void 0 === o ? void 0 : o.protocol) === this.p2pContext.Config.ProtocolVersion) {
                                                                        e.next = 12;
                                                                        break
                                                                    }
                                                                    this.tracker.sendPeerResponse(t, i, "protocol_incompatible"),
                                                                        e.next = 27;
                                                                    break;
                                                                case 12:
                                                                    return (s = new Je(this.p2pContext,this,!0)).extData.peerId = t,
                                                                        s.extData.guid = n.data.guid,
                                                                        this.pendingIncomingPeers.set(t, s),
                                                                        l = null == n || null === (a = n.data) || void 0 === a ? void 0 : a.offer,
                                                                        s.answerNyaOffer(l, (function(e) {
                                                                                null != p.tracker && p.tracker.sendPeerCandidate(t, "answer", e)
                                                                            }
                                                                        )).then((function(e) {
                                                                                null != p.tracker && p.tracker.sendPeerResponse(t, i, "ok", e)
                                                                            }
                                                                        )),
                                                                        e.next = 20,
                                                                        s.waitForConnected();
                                                                case 20:
                                                                    if (!e.sent) {
                                                                        e.next = 24;
                                                                        break
                                                                    }
                                                                    this.onPeerConnectComplete(s, !0),
                                                                        e.next = 27;
                                                                    break;
                                                                case 24:
                                                                    this.onPeerConnectComplete(s, !1),
                                                                        this.p2pContext.printExtLog(2, "peer connect timeout " + t),
                                                                    this.p2pContext.Config.allowPrintLog(2) && console.log("peer connect timeout " + t);
                                                                case 27:
                                                                    e.next = 30;
                                                                    break;
                                                                case 29:
                                                                    "candidate" == (null == n ? void 0 : n.action) ? (d = null === (c = n.data) || void 0 === c ? void 0 : c.cand,
                                                                        h = null === (u = n.data) || void 0 === u ? void 0 : u.direction,
                                                                        f = void 0,
                                                                        "offer" == h ? f = this.pendingIncomingPeers.get(t) : "answer" == h && (f = this.pendingOutcomingPeers.get(t)),
                                                                        void 0 === f ? this.tracker.sendPeerResponse(t, i, "not_found") : (f.addRemoteCandidate(d),
                                                                            this.tracker.sendPeerResponse(t, i, "ok"))) : this.tracker.sendPeerResponse(t, i, "not_implemented");
                                                                case 30:
                                                                case "end":
                                                                    return e.stop()
                                                            }
                                                    }
                                                ), e, this)
                                            }
                                        ))),
                                            function(e, t, i) {
                                                return n.apply(this, arguments)
                                            }
                                    )
                                }, {
                                    key: "onPeerRequestMessage",
                                    value: function(e, t) {
                                        var n = this
                                            , i = t.requestId;
                                        switch (t.action) {
                                            case "getFragSlices":
                                                var r = t.data.frag
                                                    , o = this.p2pContext.FragMan.getFragment(r);
                                                if (void 0 !== o && o.canShare()) {
                                                    var a, s = new Array, l = 0;
                                                    if (this.p2pContext.Config.p2pTransferSecondhandDataEnable)
                                                        for (var c = 0; c < this.p2pContext.Config.sliceCount; ++c) {
                                                            var u = o.getSliceFinishedBlockRange(c);
                                                            o.getSliceIds().has(c) || (s.push(new et(c,!1,u[1])),
                                                            o.isSliceFinished(c) && ++l)
                                                        }
                                                    d()(a = o.getSliceIds()).call(a, (function(e) {
                                                            s.push(new et(e,!0,o.getSliceBlockRange(e)[1])),
                                                                ++l
                                                        }
                                                    )),
                                                        this.p2pContext.printExtLog(4, r + " 可提供的sliceinfo: " + v()(s)),
                                                    this.p2pContext.Config.allowPrintLog(4) && console.log(r + " 可提供的sliceinfo: " + v()(s)),
                                                        e.sendResponseMessage((function() {
                                                                return {
                                                                    requestId: i,
                                                                    status: "ok",
                                                                    data: {
                                                                        final: l == n.p2pContext.Config.sliceCount,
                                                                        sliceInfos: s
                                                                    }
                                                                }
                                                            }
                                                        ))
                                                } else
                                                    void 0 === o || o.canShare() ? e.sendResponseMessage((function() {
                                                            return {
                                                                requestId: i,
                                                                status: "not_found"
                                                            }
                                                        }
                                                    )) : e.sendResponseMessage((function() {
                                                            return {
                                                                requestId: i,
                                                                status: "overload"
                                                            }
                                                        }
                                                    ));
                                                break;
                                            case "downloadBlock":
                                                var h = t.data.frag
                                                    , f = t.data.blockId
                                                    , p = this.p2pContext.FragMan.getFragment(h)
                                                    , y = null == p ? void 0 : p.getBlock(f);
                                                if (void 0 !== y) {
                                                    var g = performance.now();
                                                    y.onDataResolved((function(t) {
                                                            void 0 !== t ? p.canShare() ? e.sendResponseMessage((function() {
                                                                    return performance.now() - g > n.p2pContext.Config.peerTimeoutMs ? (n.p2pContext.printExtLog(2, "drop datablock response due to timeout"),
                                                                        void (n.p2pContext.Config.allowPrintLog(2) && console.log("drop datablock response due to timeout"))) : (p.addShareData(f, t.byteLength),
                                                                    null != n.p2pContext.P2PDataCollectionStatus && n.p2pContext.P2PDataCollectionStatus.addP2PSendSizeRealtime(t.byteLength),
                                                                        {
                                                                            requestId: i,
                                                                            status: "ok",
                                                                            data: t
                                                                        })
                                                                }
                                                            )) : (n.p2pContext.printExtLog(2, (null == p ? void 0 : p.getFragmentName()) + " is overload"),
                                                            n.p2pContext.Config.allowPrintLog(2) && console.warn((null == p ? void 0 : p.getFragmentName()) + " is overload"),
                                                                e.sendResponseMessage((function() {
                                                                        return {
                                                                            requestId: i,
                                                                            status: "overload"
                                                                        }
                                                                    }
                                                                ))) : e.sendResponseMessage((function() {
                                                                    return {
                                                                        requestId: i,
                                                                        status: "not_found"
                                                                    }
                                                                }
                                                            ))
                                                        }
                                                    ))
                                                } else
                                                    e.sendResponseMessage((function() {
                                                            return {
                                                                requestId: i,
                                                                status: "not_found"
                                                            }
                                                        }
                                                    ))
                                        }
                                    }
                                }, {
                                    key: "reportDownloadBlockSuccess",
                                    value: function(e) {
                                        var t;
                                        e.extData.isDownloadBlockReport || (null === (t = this.tracker) || void 0 === t || t.reportDownloadBlockSuccess(e.extData.peerId),
                                            e.extData.isDownloadBlockReport = !0)
                                    }
                                }, {
                                    key: "destroy",
                                    value: function() {
                                        var e, t, n, i = this;
                                        null != this.tracker && (this.tracker.destroy(),
                                            this.tracker = void 0),
                                            d()(e = this.pendingIncomingPeers).call(e, (function(e) {
                                                    e.close()
                                                }
                                            )),
                                            d()(t = this.pendingOutcomingPeers).call(t, (function(e) {
                                                    e.close()
                                                }
                                            )),
                                            d()(n = this.getConnectedPeers()).call(n, (function(e) {
                                                    i.onPeerDisConnected(e)
                                                }
                                            ))
                                    }
                                }], [{
                                    key: "create",
                                    value: (t = O()(k.a.mark((function t(n, i, r, o) {
                                                var a, s;
                                                return k.a.wrap((function(t) {
                                                        for (; ; )
                                                            switch (t.prev = t.next) {
                                                                case 0:
                                                                    return (a = new e(n,i,r,o)).trackerConnecting = !0,
                                                                        t.next = 4,
                                                                        $e.connect(n, r, a, o);
                                                                case 4:
                                                                    return s = t.sent,
                                                                        a.tracker = s,
                                                                        a.trackerConnecting = !1,
                                                                        t.abrupt("return", a);
                                                                case 8:
                                                                case "end":
                                                                    return t.stop()
                                                            }
                                                    }
                                                ), t)
                                            }
                                        ))),
                                            function(e, n, i, r) {
                                                return t.apply(this, arguments)
                                            }
                                    )
                                }]),
                                    e
                            }();
                            function ot(e, t) {
                                var n;
                                if (void 0 === q.a || null == Q()(e)) {
                                    if (W()(e) || (n = function(e, t) {
                                        var n;
                                        if (e) {
                                            if ("string" == typeof e)
                                                return at(e, t);
                                            var i = ee()(n = Object.prototype.toString.call(e)).call(n, 8, -1);
                                            return "Object" === i && e.constructor && (i = e.constructor.name),
                                                "Map" === i || "Set" === i ? X()(e) : "Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i) ? at(e, t) : void 0
                                        }
                                    }(e)) || t && e && "number" == typeof e.length) {
                                        n && (e = n);
                                        var i = 0
                                            , r = function() {};
                                        return {
                                            s: r,
                                            n: function() {
                                                return i >= e.length ? {
                                                    done: !0
                                                } : {
                                                    done: !1,
                                                    value: e[i++]
                                                }
                                            },
                                            e: function(e) {
                                                throw e
                                            },
                                            f: r
                                        }
                                    }
                                    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                                }
                                var o, a = !0, s = !1;
                                return {
                                    s: function() {
                                        n = Y()(e)
                                    },
                                    n: function() {
                                        var e = n.next();
                                        return a = e.done,
                                            e
                                    },
                                    e: function(e) {
                                        s = !0,
                                            o = e
                                    },
                                    f: function() {
                                        try {
                                            a || null == n.return || n.return()
                                        } finally {
                                            if (s)
                                                throw o
                                        }
                                    }
                                }
                            }
                            function at(e, t) {
                                (null == t || t > e.length) && (t = e.length);
                                for (var n = 0, i = new Array(t); n < t; n++)
                                    i[n] = e[n];
                                return i
                            }
                            !function(e) {
                                e[e.NORMAL = 0] = "NORMAL",
                                    e[e.DONE = 1] = "DONE",
                                    e[e.ABANDONED = 2] = "ABANDONED"
                            }(it || (it = {}));
                            var st = function e() {
                                E()(this, e),
                                    C()(this, "mutex", new We.c),
                                    C()(this, "lastQueryTime", 0),
                                    C()(this, "sliceInfos", []),
                                    C()(this, "status", it.NORMAL)
                            }
                                , lt = function() {
                                var e, t, n, i, r, o;
                                function a(e, t) {
                                    var n = this;
                                    E()(this, a),
                                        C()(this, "p2pContext", void 0),
                                        C()(this, "abandoned", void 0),
                                        C()(this, "frag", void 0),
                                        C()(this, "tasks", void 0),
                                        C()(this, "mutex", new We.c),
                                        C()(this, "cv", new We.a),
                                        this.p2pContext = e,
                                        this.abandoned = !1,
                                        this.frag = t,
                                        this.frag.onFinished((function() {
                                                n.stopDownload()
                                            }
                                        )),
                                        this.tasks = new Array(this.p2pContext.Config.sliceCount);
                                    for (var i = 0; i < this.p2pContext.Config.sliceCount; ++i) {
                                        var r = this.tasks[i] = new Array;
                                        if (!t.getSliceIds().has(i))
                                            for (var o = t.getSliceBlockRange(i), s = o[1] - 1; s >= o[0]; --s)
                                                !1 === t.isBlockFinished(s) && r.push(s)
                                    }
                                }
                                return T()(a, [{
                                    key: "requestPeerSlices",
                                    value: (e = O()(k.a.mark((function e(t, n) {
                                                var i, r, o, a = this;
                                                return k.a.wrap((function(e) {
                                                        for (; ; )
                                                            switch (e.prev = e.next) {
                                                                case 0:
                                                                    return e.prev = 0,
                                                                        e.next = 3,
                                                                        n.mutex.lock();
                                                                case 3:
                                                                    return e.next = 5,
                                                                        t.sendRequestMessage((function() {
                                                                                return !0 === a.abandoned ? void 0 : {
                                                                                    action: "getFragSlices",
                                                                                    data: {
                                                                                        frag: a.frag.getFragmentName()
                                                                                    }
                                                                                }
                                                                            }
                                                                        ));
                                                                case 5:
                                                                    return i = e.sent,
                                                                        n.lastQueryTime = performance.now(),
                                                                        null == i || "overload" == i.status ? n.status = it.ABANDONED : "not_found" == i.status ? n.status = it.NORMAL : "ok" == i.status ? (n.status = it.NORMAL,
                                                                            n.sliceInfos = i.data.sliceInfos,
                                                                        1 == (null !== (r = null === (o = i.data) || void 0 === o ? void 0 : o.final) && void 0 !== r && r) && (n.status = it.DONE)) : n.status = it.ABANDONED,
                                                                        e.abrupt("return", n);
                                                                case 9:
                                                                    return e.prev = 9,
                                                                        n.mutex.unlock(),
                                                                        e.finish(9);
                                                                case 12:
                                                                case "end":
                                                                    return e.stop()
                                                            }
                                                    }
                                                ), e, null, [[0, , 9, 12]])
                                            }
                                        ))),
                                            function(t, n) {
                                                return e.apply(this, arguments)
                                            }
                                    )
                                }, {
                                    key: "updatePeerSlices",
                                    value: function(e, t, n) {
                                        return t.status == it.DONE || !1 === n && t.mutex.isLocked() || performance.now() - t.lastQueryTime < this.p2pContext.Config.refreshPeerProgressIntervalMs ? M.a.resolve(t) : this.requestPeerSlices(e, t)
                                    }
                                }]),
                                    T()(a, [{
                                        key: "getTask",
                                        value: (o = O()(k.a.mark((function e(t) {
                                                    var n, i, r, o = this;
                                                    return k.a.wrap((function(e) {
                                                            for (; ; )
                                                                switch (e.prev = e.next) {
                                                                    case 0:
                                                                        if (!0 !== this.abandoned) {
                                                                            e.next = 2;
                                                                            break
                                                                        }
                                                                        return e.abrupt("return", void 0);
                                                                    case 2:
                                                                        return n = -1,
                                                                            e.next = 5,
                                                                            this.mutex.lock();
                                                                    case 5:
                                                                        return e.next = 7,
                                                                            this.cv.waitUntil(this.mutex, (function() {
                                                                                    if (!0 === o.abandoned)
                                                                                        return !0;
                                                                                    var e, i = ot(t);
                                                                                    try {
                                                                                        for (i.s(); !(e = i.n()).done; ) {
                                                                                            var r = e.value
                                                                                                , a = null == r ? void 0 : r.sliceId;
                                                                                            if (null != a && o.tasks.length > a) {
                                                                                                var s = o.tasks[a];
                                                                                                if (s.length > 0) {
                                                                                                    var l = s[s.length - 1];
                                                                                                    if (r.progress > l)
                                                                                                        return a = r.sliceId,
                                                                                                            n = l,
                                                                                                            s.pop(),
                                                                                                            !0
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    } catch (e) {
                                                                                        i.e(e)
                                                                                    } finally {
                                                                                        i.f()
                                                                                    }
                                                                                    return !1
                                                                                }
                                                                            ));
                                                                    case 7:
                                                                        return i = this,
                                                                            r = function() {
                                                                                if (!0 !== i.abandoned)
                                                                                    return n >= 0 ? {
                                                                                        fragName: o.frag.getFragmentName(),
                                                                                        blockId: n
                                                                                    } : void 0
                                                                            }(),
                                                                            this.mutex.unlock(),
                                                                            e.abrupt("return", r);
                                                                    case 11:
                                                                    case "end":
                                                                        return e.stop()
                                                                }
                                                        }
                                                    ), e, this)
                                                }
                                            ))),
                                                function(e) {
                                                    return o.apply(this, arguments)
                                                }
                                        )
                                    }, {
                                        key: "retry",
                                        value: (r = O()(k.a.mark((function e(t) {
                                                    var n;
                                                    return k.a.wrap((function(e) {
                                                            for (; ; )
                                                                switch (e.prev = e.next) {
                                                                    case 0:
                                                                        return n = this.frag.getBlockBelongSlice(t),
                                                                            e.next = 3,
                                                                            this.mutex.lock();
                                                                    case 3:
                                                                        this.tasks[n].push(t),
                                                                            this.cv.notifyOne(),
                                                                            this.mutex.unlock();
                                                                    case 6:
                                                                    case "end":
                                                                        return e.stop()
                                                                }
                                                        }
                                                    ), e, this)
                                                }
                                            ))),
                                                function(e) {
                                                    return r.apply(this, arguments)
                                                }
                                        )
                                    }, {
                                        key: "stopDownload",
                                        value: (i = O()(k.a.mark((function e() {
                                                    return k.a.wrap((function(e) {
                                                            for (; ; )
                                                                switch (e.prev = e.next) {
                                                                    case 0:
                                                                        return e.next = 2,
                                                                            this.mutex.lock();
                                                                    case 2:
                                                                        this.abandoned = !0,
                                                                            this.cv.notifyAll(),
                                                                            this.mutex.unlock();
                                                                    case 5:
                                                                    case "end":
                                                                        return e.stop()
                                                                }
                                                        }
                                                    ), e, this)
                                                }
                                            ))),
                                                function() {
                                                    return i.apply(this, arguments)
                                                }
                                        )
                                    }, {
                                        key: "startDownload",
                                        value: (n = O()(k.a.mark((function e(t) {
                                                    var n, i, r, o, a, s, l;
                                                    return k.a.wrap((function(e) {
                                                            for (; ; )
                                                                switch (e.prev = e.next) {
                                                                    case 0:
                                                                        for (this.abandoned = !1,
                                                                                 n = t.getConnectedPeers(),
                                                                                 i = new pe.a,
                                                                                 r = new Array,
                                                                                 o = 0; r.length < this.p2pContext.Config.totalDownloadInstances && o < this.p2pContext.Config.maxDownloadInstancesPerPeer; ++o)
                                                                            for (a = 0; r.length < this.p2pContext.Config.totalDownloadInstances && a < n.length; ++a)
                                                                                s = n[a],
                                                                                void 0 === (l = i.get(s)) && (l = new st,
                                                                                    i.set(s, l)),
                                                                                    r.push(this.processPeer(t, s, l));
                                                                        return e.next = 7,
                                                                            M.a.all(r);
                                                                    case 7:
                                                                        return e.abrupt("return", e.sent);
                                                                    case 8:
                                                                    case "end":
                                                                        return e.stop()
                                                                }
                                                        }
                                                    ), e, this)
                                                }
                                            ))),
                                                function(e) {
                                                    return n.apply(this, arguments)
                                                }
                                        )
                                    }, {
                                        key: "processPeer",
                                        value: (t = O()(k.a.mark((function e(t, n, i) {
                                                    var r, o, a, s, l, u = this;
                                                    return k.a.wrap((function(e) {
                                                            for (; ; )
                                                                switch (e.prev = e.next) {
                                                                    case 0:
                                                                        this.p2pContext.Config.allowPrintLog(4) && console.log("start process peer " + n.extData.peerId),
                                                                            r = void 0,
                                                                            o = !0,
                                                                            a = -1,
                                                                            s = k.a.mark((function e() {
                                                                                    var s, l, d;
                                                                                    return k.a.wrap((function(e) {
                                                                                            for (; ; )
                                                                                                switch (e.prev = e.next) {
                                                                                                    case 0:
                                                                                                        return e.next = 2,
                                                                                                            u.updatePeerSlices(n, i, !1);
                                                                                                    case 2:
                                                                                                        if (i.status != it.ABANDONED) {
                                                                                                            e.next = 6;
                                                                                                            break
                                                                                                        }
                                                                                                        return e.abrupt("return", "break");
                                                                                                    case 6:
                                                                                                        i.status != it.NORMAL && i.status != it.DONE || (r = i.sliceInfos);
                                                                                                    case 7:
                                                                                                        if (s = void 0,
                                                                                                            !(void 0 !== r && r.length > 0)) {
                                                                                                            e.next = 12;
                                                                                                            break
                                                                                                        }
                                                                                                        return e.next = 11,
                                                                                                            u.getTask(r);
                                                                                                    case 11:
                                                                                                        s = e.sent;
                                                                                                    case 12:
                                                                                                        if (!0 !== u.abandoned) {
                                                                                                            e.next = 14;
                                                                                                            break
                                                                                                        }
                                                                                                        return e.abrupt("return", "break");
                                                                                                    case 14:
                                                                                                        if (void 0 !== s) {
                                                                                                            e.next = 24;
                                                                                                            break
                                                                                                        }
                                                                                                        if (i.status != it.DONE) {
                                                                                                            e.next = 17;
                                                                                                            break
                                                                                                        }
                                                                                                        return e.abrupt("return", "break");
                                                                                                    case 17:
                                                                                                        if (!1 !== o) {
                                                                                                            e.next = 20;
                                                                                                            break
                                                                                                        }
                                                                                                        return e.next = 20,
                                                                                                            new M.a((function(e) {
                                                                                                                    return c()(e, u.p2pContext.Config.refreshPeerProgressIntervalMs)
                                                                                                                }
                                                                                                            ));
                                                                                                    case 20:
                                                                                                        return o = !1,
                                                                                                            e.next = 23,
                                                                                                            u.updatePeerSlices(n, i, !0);
                                                                                                    case 23:
                                                                                                        return e.abrupt("return", "continue");
                                                                                                    case 24:
                                                                                                        return o = !0,
                                                                                                            a = s.blockId,
                                                                                                            e.next = 28,
                                                                                                            n.sendRequestMessage((function() {
                                                                                                                    var e;
                                                                                                                    return !0 === u.abandoned ? void 0 : {
                                                                                                                        action: "downloadBlock",
                                                                                                                        data: {
                                                                                                                            frag: u.frag.getFragmentName(),
                                                                                                                            blockId: null === (e = s) || void 0 === e ? void 0 : e.blockId
                                                                                                                        }
                                                                                                                    }
                                                                                                                }
                                                                                                            ));
                                                                                                    case 28:
                                                                                                        if (void 0 !== (l = e.sent)) {
                                                                                                            e.next = 32;
                                                                                                            break
                                                                                                        }
                                                                                                        return a >= 0 && u.retry(a),
                                                                                                            e.abrupt("return", "break");
                                                                                                    case 32:
                                                                                                        if (!0 !== u.abandoned) {
                                                                                                            e.next = 35;
                                                                                                            break
                                                                                                        }
                                                                                                        return "ok" === l.status && void 0 !== l.data && u.p2pContext.P2PDataCollectionStatus.addWastedDataSize(l.data.byteLength, Ke.WastedDataType.P2P_LATE),
                                                                                                            e.abrupt("return", "break");
                                                                                                    case 35:
                                                                                                        if ("ok" !== l.status) {
                                                                                                            e.next = 50;
                                                                                                            break
                                                                                                        }
                                                                                                        if (u.frag.setBlockData(a, l.data, V.a.P2P, n.extData.peerId) || void 0 === l.data) {
                                                                                                            e.next = 46;
                                                                                                            break
                                                                                                        }
                                                                                                        return u.p2pContext.P2PDataCollectionStatus.addWastedDataSize(l.data.byteLength, Ke.WastedDataType.ERROR_DATA),
                                                                                                            o = !1,
                                                                                                            r = void 0,
                                                                                                        a >= 0 && u.retry(a),
                                                                                                        u.p2pContext.Config.allowPrintLog(4) && console.warn("bytelength error!!! receive data fragname：" + u.frag.getFragmentName() + " peerId: " + n.extData.peerId + " sliceId " + u.frag.getBlockBelongSlice(a) + " blockId " + a + "error data size: " + l.data.byteLength + " right data size: " + (u.frag.getBlockByteRange(a)[1] - u.frag.getBlockByteRange(a)[0])),
                                                                                                            u.p2pContext.GhostPeerIds.add(n.extData.peerId),
                                                                                                        null === (d = u.p2pContext.PeerSched) || void 0 === d || d.closePeer(n.extData.peerId),
                                                                                                            e.abrupt("return", "break");
                                                                                                    case 46:
                                                                                                        a = -1,
                                                                                                            t.reportDownloadBlockSuccess(n),
                                                                                                            e.next = 62;
                                                                                                        break;
                                                                                                    case 50:
                                                                                                        if ("not_found" !== l.status) {
                                                                                                            e.next = 57;
                                                                                                            break
                                                                                                        }
                                                                                                        o = !1,
                                                                                                            r = void 0,
                                                                                                        a >= 0 && u.retry(a),
                                                                                                        u.p2pContext.Config.allowPrintLog(4) && console.log("not_found!!! receive data fragname：" + u.frag.getFragmentName() + " peerId: " + n.extData.peerId + " sliceId " + u.frag.getBlockBelongSlice(a) + " blockId " + a),
                                                                                                            e.next = 62;
                                                                                                        break;
                                                                                                    case 57:
                                                                                                        if ("overload" !== l.status) {
                                                                                                            e.next = 62;
                                                                                                            break
                                                                                                        }
                                                                                                        return a >= 0 && u.retry(a),
                                                                                                        u.p2pContext.Config.allowPrintLog(4) && console.log("overload!!! receive data fragname：" + u.frag.getFragmentName() + " peerId: " + n.extData.peerId + " sliceId " + u.frag.getBlockBelongSlice(a) + " blockId " + a),
                                                                                                            i.status = it.ABANDONED,
                                                                                                            e.abrupt("return", "break");
                                                                                                    case 62:
                                                                                                    case "end":
                                                                                                        return e.stop()
                                                                                                }
                                                                                        }
                                                                                    ), e)
                                                                                }
                                                                            ));
                                                                    case 5:
                                                                        return e.delegateYield(s(), "t0", 6);
                                                                    case 6:
                                                                        if ("break" !== (l = e.t0)) {
                                                                            e.next = 9;
                                                                            break
                                                                        }
                                                                        return e.abrupt("break", 13);
                                                                    case 9:
                                                                        if ("continue" !== l) {
                                                                            e.next = 11;
                                                                            break
                                                                        }
                                                                        return e.abrupt("continue", 11);
                                                                    case 11:
                                                                        e.next = 5;
                                                                        break;
                                                                    case 13:
                                                                        return this.p2pContext.Config.allowPrintLog(4) && console.log(this.frag.getFragmentName() + " : stop process peer " + n.extData.peerId),
                                                                            e.abrupt("return");
                                                                    case 15:
                                                                    case "end":
                                                                        return e.stop()
                                                                }
                                                        }
                                                    ), e, this)
                                                }
                                            ))),
                                                function(e, n, i) {
                                                    return t.apply(this, arguments)
                                                }
                                        )
                                    }]),
                                    a
                            }()
                                , ct = function() {
                                function e(t) {
                                    E()(this, e),
                                        C()(this, "url", void 0),
                                        this.url = t
                                }
                                return T()(e, [{
                                    key: "FetchSize",
                                    value: function(e) {
                                        var t = this;
                                        return null == e && (e = !1),
                                            new M.a((function(n) {
                                                    fetch(t.url, {
                                                        method: "HEAD",
                                                        cache: e ? "default" : "no-cache"
                                                    }).then((function(e) {
                                                            if (e.ok && null != e.headers.get("Content-Length")) {
                                                                var t = I()(e.headers.get("Content-Length"));
                                                                n(null != t ? t : void 0)
                                                            } else
                                                                n(void 0)
                                                        }
                                                    )).catch((function(e) {
                                                            n(void 0)
                                                        }
                                                    ))
                                                }
                                            ))
                                    }
                                }, {
                                    key: "FetchPart",
                                    value: function(e) {
                                        var t = this
                                            , n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                                            , i = arguments.length > 2 ? arguments[2] : void 0
                                            , r = arguments.length > 3 ? arguments[3] : void 0;
                                        null == r && (r = !1);
                                        var o = {};
                                        n >= 0 && i > 0 && (o.Range = "bytes=" + n + "-" + (i - 1));
                                        var a, s = !!window.AbortController, l = {
                                            mode: "cors",
                                            method: "GET",
                                            headers: o,
                                            cache: r ? "default" : "no-cache"
                                        };
                                        return s && (a = new AbortController,
                                            l.signal = a.signal),
                                            new M.a((function(n) {
                                                    var i = c()((function() {
                                                            a && a.abort(),
                                                                n({
                                                                    state: {
                                                                        ok: !1,
                                                                        msg: "HTTP Part fetch response timeout " + e + " ms, aborted when fetching form server"
                                                                    },
                                                                    data: void 0
                                                                })
                                                        }
                                                    ), e);
                                                    fetch(t.url, l).then((function(e) {
                                                            if (e.ok) {
                                                                if (clearTimeout(i),
                                                                null != e.body)
                                                                    return e.arrayBuffer();
                                                                n({
                                                                    state: {
                                                                        ok: !1,
                                                                        msg: "HTTP Part fetch empty body, status code: " + e.status.toString() + " (" + e.statusText + ")"
                                                                    },
                                                                    data: void 0
                                                                })
                                                            } else
                                                                n({
                                                                    state: {
                                                                        ok: !1,
                                                                        msg: "HTTP Part fetch error, status code: " + e.status.toString() + " (" + e.statusText + ")"
                                                                    },
                                                                    data: void 0
                                                                })
                                                        }
                                                    )).then((function(e) {
                                                            var t = new Uint8Array(e);
                                                            n({
                                                                state: {
                                                                    ok: !0,
                                                                    msg: "ok"
                                                                },
                                                                data: t
                                                            })
                                                        }
                                                    )).catch((function(e) {
                                                            n({
                                                                state: {
                                                                    ok: !1,
                                                                    msg: "HTTP Part fetch error, message: " + e.toString()
                                                                },
                                                                data: void 0
                                                            })
                                                        }
                                                    ))
                                                }
                                            ))
                                    }
                                }, {
                                    key: "FetchPartByBlock",
                                    value: function(e, t, n, i, r, o) {
                                        var a = this;
                                        null == o && (o = !1);
                                        var s = {};
                                        i >= 0 && r > 0 && (s.Range = "bytes=" + i + "-" + (r - 1));
                                        var l, u = !!window.AbortController, d = {
                                            mode: "cors",
                                            method: "GET",
                                            headers: s,
                                            cache: o ? "default" : "no-cache"
                                        }, h = !1;
                                        return u && (l = new AbortController,
                                            d.signal = l.signal),
                                            new M.a((function(i) {
                                                    var r = c()((function() {
                                                            l && l.abort(),
                                                                h = !0,
                                                                i({
                                                                    ok: !1,
                                                                    msg: "HTTP Stream fetch response timeout " + e + " ms, aborted when fetching form server"
                                                                })
                                                        }
                                                    ), e);
                                                    fetch(a.url, d).then((function(e) {
                                                            if (e.ok) {
                                                                if (null != e.body)
                                                                    return clearTimeout(r),
                                                                        e.body;
                                                                i({
                                                                    ok: !1,
                                                                    msg: "HTTP Stream fetch empty body, status code: " + e.status.toString() + " (" + e.statusText + ")"
                                                                })
                                                            } else
                                                                i({
                                                                    ok: !1,
                                                                    msg: "HTTP Stream fetch error, status code: " + e.status.toString() + " (" + e.statusText + ")"
                                                                })
                                                        }
                                                    )).then((function(e) {
                                                            var r = null == e ? void 0 : e.getReader()
                                                                , o = new Uint8Array(0)
                                                                , a = 0;
                                                            null == r || r.read().then((function e(s) {
                                                                    if (!1 === h)
                                                                        if (void 0 !== s.value) {
                                                                            var l = s.value;
                                                                            if (o.length > 0) {
                                                                                var c = new Uint8Array(o.length + l.length);
                                                                                c.set(o, 0),
                                                                                    c.set(l, o.length),
                                                                                    l = c
                                                                            }
                                                                            for (var u, d = 0; ; ) {
                                                                                if (!((u = l.subarray(d, d + n)).length >= n)) {
                                                                                    o = u;
                                                                                    break
                                                                                }
                                                                                t(u, a++, !1),
                                                                                    o = new Uint8Array(0),
                                                                                    d += n
                                                                            }
                                                                            s.done ? (t(o, a++, !0),
                                                                                i({
                                                                                    ok: !0,
                                                                                    msg: "ok"
                                                                                })) : null == r || r.read().then(e).catch((function(e) {
                                                                                    i({
                                                                                        ok: !1,
                                                                                        msg: "HTTP Stream fetch reader error, message: " + e.toString()
                                                                                    })
                                                                                }
                                                                            ))
                                                                        } else
                                                                            s.done && (t(o, a++, !0),
                                                                                i({
                                                                                    ok: !0,
                                                                                    msg: "ok"
                                                                                }))
                                                                }
                                                            )).catch((function(e) {
                                                                    i({
                                                                        ok: !1,
                                                                        msg: "HTTP Stream fetch reader error, message: " + e.toString()
                                                                    })
                                                                }
                                                            ))
                                                        }
                                                    )).catch((function(e) {
                                                            i({
                                                                ok: !1,
                                                                msg: "HTTP Stream fetch error, message: " + e.toString()
                                                            })
                                                        }
                                                    ))
                                                }
                                            ))
                                    }
                                }]),
                                    e
                            }()
                                , ut = function() {
                                function e(t) {
                                    E()(this, e),
                                        C()(this, "p2pContext", void 0),
                                        C()(this, "fragMan", void 0),
                                        C()(this, "downloadForceStopArray", new pe.a),
                                        this.p2pContext = t,
                                        this.fragMan = new V.c(this.p2pContext)
                                }
                                return T()(e, [{
                                    key: "addDownloadTask",
                                    value: function(e, t, n) {
                                        return this.fragMan.addFragment(e, t, n),
                                        void 0 !== this.fragMan.getFragment(e)
                                    }
                                }, {
                                    key: "startDownload",
                                    value: function(e, t, n, i) {
                                        var r, o = this, a = this.fragMan.getFragment(n);
                                        if (null != a) {
                                            var s = a;
                                            void 0 !== e && s.setSliceIds(e.getSliceIds());
                                            var l = new ct(t);
                                            if (s.setCrcErrorCallback((function() {
                                                    o.checkFragmentData(s, l)
                                                }
                                            )),
                                            0 != s.getFragmentSize())
                                                if (null == e || void 0 !== e && 0 == e.getConnectedPeers().length)
                                                    this.p2pContext.CDNFetchTaskWorker.post((function() {
                                                            return s.doOnceQueryServer(),
                                                                l.FetchPartByBlock(o.p2pContext.Config.fetchCDNTimeoutMs, (function(e, t, n) {
                                                                        t >= 0 && t < s.getBlockCount() && (s.setBlockData(t, e, V.a.SERVER) || o.p2pContext.P2PDataCollectionStatus.addWastedDataSize(e.byteLength, Ke.WastedDataType.CDN_REPEAT, {
                                                                            fragname: s.getFragmentName(),
                                                                            sliceIds: s.getSliceIds()
                                                                        }))
                                                                    }
                                                                ), s.getBlockSize(), 0, s.getFragmentSize())
                                                        }
                                                    ), !1).then((function(e) {
                                                            null != e && e.ok || s.setFragmentData(void 0, null == e ? void 0 : e.msg)
                                                        }
                                                    ));
                                                else {
                                                    d()(r = s.getSliceIds()).call(r, (function(e) {
                                                            var t = s.getSliceByteRange(e)
                                                                , n = s.getSliceBlockRange(e);
                                                            o.p2pContext.CDNFetchTaskWorker.post((function() {
                                                                    return s.doOnceQueryServer(),
                                                                        l.FetchPartByBlock(o.p2pContext.Config.fetchCDNTimeoutMs, (function(e, t, i) {
                                                                                (t += n[0]) >= n[0] && t < n[1] && (s.setBlockData(t, e, V.a.SERVER) || o.p2pContext.P2PDataCollectionStatus.addWastedDataSize(e.byteLength, Ke.WastedDataType.CDN_REPEAT, {
                                                                                    fragname: s.getFragmentName(),
                                                                                    sliceIds: s.getSliceIds()
                                                                                }))
                                                                            }
                                                                        ), s.getBlockSize(), t[0], t[1])
                                                                }
                                                            ), !1).then((function(e) {
                                                                    null != e && e.ok || s.setFragmentData(void 0, null == e ? void 0 : e.msg)
                                                                }
                                                            ))
                                                        }
                                                    ));
                                                    var u = new lt(this.p2pContext,s)
                                                        , h = Array();
                                                    if (null != i) {
                                                        var f = new M.a((function(e) {
                                                                c()((function() {
                                                                        e(!1)
                                                                    }
                                                                ), i)
                                                            }
                                                        ));
                                                        h.push(f)
                                                    }
                                                    var p = new M.a((function(e) {
                                                            o.downloadForceStopArray.set(n, e)
                                                        }
                                                    ));
                                                    h.push(p);
                                                    var v = new M.a((function(t) {
                                                            u.startDownload(e),
                                                                s.onFinished((function(e) {
                                                                        t(!0)
                                                                    }
                                                                ))
                                                        }
                                                    ));
                                                    h.push(v),
                                                        M.a.race(h).then((function(e) {
                                                                o.stopDownload(s.getFragmentName()),
                                                                e || (u.stopDownload(),
                                                                    o.checkFragmentData(s, l))
                                                            }
                                                        ))
                                                }
                                            else
                                                this.p2pContext.FallbackFetchTaskWorker.post((function() {
                                                        return s.doOnceQueryServer(),
                                                            l.FetchPart(o.p2pContext.Config.fetchCDNTimeoutMs)
                                                    }
                                                ), !1).then((function(e) {
                                                        null != e && e.state.ok ? s.setFragmentData(e.data) : s.setFragmentData(void 0, null == e ? void 0 : e.state.msg)
                                                    }
                                                ))
                                        }
                                    }
                                }, {
                                    key: "checkFragmentData",
                                    value: function(e, t) {
                                        for (var n = void 0, i = 0; i < e.getBlockCount(); ++i)
                                            e.isBlockFinished(i) && null != n ? (this.pullFragmentData(e, t, n, i - 1),
                                                n = void 0) : e.isBlockFinished(i) || null != n || (n = i);
                                        null != n && this.pullFragmentData(e, t, n, e.getBlockCount() - 1)
                                    }
                                }, {
                                    key: "pullFragmentData",
                                    value: function(e, t, n, i) {
                                        var r = this;
                                        this.p2pContext.FallbackFetchTaskWorker.post((function() {
                                                return e.doOnceQueryServer(),
                                                    t.FetchPartByBlock(r.p2pContext.Config.fetchCDNTimeoutMs, (function(t, o, a) {
                                                            (o += n) >= n && o <= i && (e.setBlockData(o, t, V.a.SERVER) || r.p2pContext.P2PDataCollectionStatus.addWastedDataSize(t.byteLength, Ke.WastedDataType.CDN_REPEAT, {
                                                                fragname: e.getFragmentName(),
                                                                sliceIds: e.getSliceIds()
                                                            }))
                                                        }
                                                    ), e.getBlockSize(), e.getBlockByteRange(n)[0], e.getBlockByteRange(i)[1])
                                            }
                                        ), !1).then((function(t) {
                                                null != t && t.ok || e.setFragmentData(void 0, null == t ? void 0 : t.msg)
                                            }
                                        ))
                                    }
                                }, {
                                    key: "stopDownload",
                                    value: function(e) {
                                        var t = this.downloadForceStopArray.get(e);
                                        null != t && (t(!1),
                                            this.downloadForceStopArray.delete(e))
                                    }
                                }, {
                                    key: "destroy",
                                    value: function() {
                                        var e;
                                        d()(e = this.downloadForceStopArray).call(e, (function(e) {
                                                e(!1)
                                            }
                                        )),
                                            this.downloadForceStopArray.clear()
                                    }
                                }]),
                                    e
                            }()
                                , dt = i(162)
                                , ht = i.n(dt)
                                , ft = i(35)
                                , pt = i.n(ft)
                                , vt = function() {
                                function e() {
                                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 255
                                        , n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                                    E()(this, e),
                                        C()(this, "maxLine", 255),
                                        C()(this, "logBuffer", []),
                                        C()(this, "isStart", !1),
                                        this.maxLine = t,
                                        this.isStart = n
                                }
                                return T()(e, [{
                                    key: "formatTime",
                                    value: function(e) {
                                        var t, n, i, r, o, a = function(e, t) {
                                            for (var n = e.toString(); n.length < t; )
                                                n = "0" + n;
                                            return n
                                        };
                                        return re()(t = re()(n = re()(i = re()(r = re()(o = "".concat(a(e.getMonth() + 1, 2), "-")).call(o, a(e.getDate(), 2), " ")).call(r, a(e.getHours(), 2), ":")).call(i, a(e.getMinutes(), 2), ":")).call(n, a(e.getSeconds(), 2), ".")).call(t, a(e.getMilliseconds(), 3))
                                    }
                                }, {
                                    key: "log",
                                    value: function() {
                                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                                        if (this.isStart)
                                            for (this.logBuffer.push(this.formatTime(new Date) + " : " + e); this.logBuffer.length > this.maxLine; )
                                                this.logBuffer.shift()
                                    }
                                }, {
                                    key: "start",
                                    value: function() {
                                        this.isStart = !0
                                    }
                                }, {
                                    key: "stop",
                                    value: function() {
                                        this.isStart = !1
                                    }
                                }, {
                                    key: "clear",
                                    value: function() {
                                        var e;
                                        pt()(e = this.logBuffer).call(e, 0, this.logBuffer.length)
                                    }
                                }, {
                                    key: "get",
                                    value: function() {
                                        var e, t = "";
                                        return d()(e = this.logBuffer).call(e, (function(e) {
                                                t += e + "\n"
                                            }
                                        )),
                                            t
                                    }
                                }, {
                                    key: "download",
                                    value: function() {
                                        var e = document.createElement("a");
                                        e.href = ht.a.createObjectURL(new Blob([this.get()])),
                                            e.download = "logfile.log",
                                            e.click(),
                                            window.URL.revokeObjectURL(e.href)
                                    }
                                }]),
                                    e
                            }()
                                , yt = i(163)
                                , gt = function() {
                                function e() {
                                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                                    E()(this, e),
                                        C()(this, "latestWorkerId", -1),
                                        C()(this, "minAllowRunningWorkerId", 0),
                                        C()(this, "tasks", []),
                                        C()(this, "mutex", new We.c),
                                        C()(this, "cv", new We.a),
                                    t < 0 && (t = 0),
                                        this.addWorker(t)
                                }
                                var t, n, i;
                                return T()(e, [{
                                    key: "post",
                                    value: (i = O()(k.a.mark((function e(t) {
                                                var n, i = this, r = arguments;
                                                return k.a.wrap((function(e) {
                                                        for (; ; )
                                                            switch (e.prev = e.next) {
                                                                case 0:
                                                                    return n = r.length > 1 && void 0 !== r[1] && r[1],
                                                                        e.next = 3,
                                                                        this.mutex.lock();
                                                                case 3:
                                                                    return e.abrupt("return", new M.a((function(e) {
                                                                            var r, o = {
                                                                                task: (r = O()(k.a.mark((function e() {
                                                                                            return k.a.wrap((function(e) {
                                                                                                    for (; ; )
                                                                                                        switch (e.prev = e.next) {
                                                                                                            case 0:
                                                                                                                return e.next = 2,
                                                                                                                    t();
                                                                                                            case 2:
                                                                                                                return e.abrupt("return", e.sent);
                                                                                                            case 3:
                                                                                                            case "end":
                                                                                                                return e.stop()
                                                                                                        }
                                                                                                }
                                                                                            ), e)
                                                                                        }
                                                                                    ))),
                                                                                        function() {
                                                                                            return r.apply(this, arguments)
                                                                                        }
                                                                                ),
                                                                                r: function(t) {
                                                                                    return e(t)
                                                                                }
                                                                            };
                                                                            n ? i.tasks.unshift(o) : i.tasks.push(o),
                                                                                i.cv.notifyOne(),
                                                                                i.mutex.unlock()
                                                                        }
                                                                    )));
                                                                case 4:
                                                                case "end":
                                                                    return e.stop()
                                                            }
                                                    }
                                                ), e, this)
                                            }
                                        ))),
                                            function(e) {
                                                return i.apply(this, arguments)
                                            }
                                    )
                                }, {
                                    key: "getTask",
                                    value: (n = O()(k.a.mark((function e(t) {
                                                var n, i, r = this;
                                                return k.a.wrap((function(e) {
                                                        for (; ; )
                                                            switch (e.prev = e.next) {
                                                                case 0:
                                                                    return n = !1,
                                                                        e.next = 3,
                                                                        this.mutex.lock();
                                                                case 3:
                                                                    return e.next = 5,
                                                                        this.cv.waitUntil(this.mutex, (function() {
                                                                                return t < r.minAllowRunningWorkerId ? (n = !0,
                                                                                    !0) : r.tasks.length > 0
                                                                            }
                                                                        ));
                                                                case 5:
                                                                    return !1 === n && (i = this.tasks.shift()),
                                                                        this.mutex.unlock(),
                                                                        e.abrupt("return", i);
                                                                case 8:
                                                                case "end":
                                                                    return e.stop()
                                                            }
                                                    }
                                                ), e, this)
                                            }
                                        ))),
                                            function(e) {
                                                return n.apply(this, arguments)
                                            }
                                    )
                                }, {
                                    key: "workerCoroutine",
                                    value: (t = O()(k.a.mark((function e(t) {
                                                var n;
                                                return k.a.wrap((function(e) {
                                                        for (; ; )
                                                            switch (e.prev = e.next) {
                                                                case 0:
                                                                    return e.next = 2,
                                                                        this.getTask(t);
                                                                case 2:
                                                                    if (null == (n = e.sent)) {
                                                                        e.next = 11;
                                                                        break
                                                                    }
                                                                    return e.t0 = n,
                                                                        e.next = 7,
                                                                        n.task();
                                                                case 7:
                                                                    e.t1 = e.sent,
                                                                        e.t0.r.call(e.t0, e.t1),
                                                                        e.next = 12;
                                                                    break;
                                                                case 11:
                                                                    return e.abrupt("break", 14);
                                                                case 12:
                                                                    e.next = 0;
                                                                    break;
                                                                case 14:
                                                                case "end":
                                                                    return e.stop()
                                                            }
                                                    }
                                                ), e, this)
                                            }
                                        ))),
                                            function(e) {
                                                return t.apply(this, arguments)
                                            }
                                    )
                                }, {
                                    key: "getWorkerNum",
                                    value: function() {
                                        return this.latestWorkerId - this.minAllowRunningWorkerId + 1
                                    }
                                }, {
                                    key: "addWorker",
                                    value: function() {
                                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
                                        e < 0 && (e = 0);
                                        for (var t = 0; t < e; t++)
                                            this.latestWorkerId++,
                                                this.workerCoroutine(this.latestWorkerId);
                                        var n = this.getWorkerNum();
                                        return n
                                    }
                                }, {
                                    key: "removeWorker",
                                    value: function() {
                                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
                                        e < 0 && (e = 0);
                                        for (var t = this.getWorkerNum(), n = 0; n < e && t > 0; n++)
                                            this.minAllowRunningWorkerId++,
                                                this.cv.notifyAll(),
                                                t = this.getWorkerNum();
                                        return t
                                    }
                                }, {
                                    key: "removeAllTask",
                                    value: function() {
                                        for (; this.tasks.length > 0; ) {
                                            var e = this.tasks.pop();
                                            null != e && e.r(void 0)
                                        }
                                    }
                                }, {
                                    key: "removeAllWorker",
                                    value: function() {
                                        this.minAllowRunningWorkerId = this.latestWorkerId + 1,
                                            this.cv.notifyAll()
                                    }
                                }, {
                                    key: "setWorkerNum",
                                    value: function() {
                                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
                                            , t = e - this.getWorkerNum();
                                        t > 0 && this.addWorker(t),
                                        t < 0 && this.removeWorker(0 - t)
                                    }
                                }]),
                                    e
                            }()
                                , mt = i(53);
                            i(164),
                                i(85);
                            var _t, bt = function e(t) {
                                E()(this, e),
                                    C()(this, "data", void 0),
                                    this.data = t
                            }, Et = function() {
                                function e() {
                                    E()(this, e),
                                        C()(this, "remainingShareQuotaQueue", new mt.a(10))
                                }
                                return T()(e, [{
                                    key: "addFragmentDataCollection",
                                    value: function(e) {
                                        this.remainingShareQuotaQueue.push(new bt(e.getRemainingShareQuotaBytes()))
                                    }
                                }, {
                                    key: "takeShareQuota",
                                    value: function(e) {
                                        for (var t = 0; !(this.remainingShareQuotaQueue.empty() || t >= e); ) {
                                            var n = e - t;
                                            if (n > 0) {
                                                var i = n
                                                    , r = this.remainingShareQuotaQueue.front();
                                                i > r.data && (i = r.data),
                                                    t += i,
                                                    r.data -= i,
                                                r.data <= 0 && this.remainingShareQuotaQueue.pop()
                                            }
                                        }
                                        return t
                                    }
                                }]),
                                    e
                            }();
                            !function(e) {
                                e[e.DONE = 0] = "DONE",
                                    e[e.ERROR = 1] = "ERROR",
                                    e[e.NOTFOUND = 2] = "NOTFOUND"
                            }(_t || (_t = {}));
                            var St, Tt = function() {
                                function e(t, n) {
                                    E()(this, e),
                                        C()(this, "Config", void 0),
                                        C()(this, "CDNFetchTaskWorker", new gt),
                                        C()(this, "FallbackFetchTaskWorker", new gt),
                                        C()(this, "P2PDataCollectionStatus", new Ke.P2PDataCollection),
                                        C()(this, "LogFile", new vt(Number.MAX_VALUE)),
                                        C()(this, "guid", void 0),
                                        C()(this, "P2P", void 0),
                                        C()(this, "CurPeerId", ""),
                                        C()(this, "DataFetch", void 0),
                                        C()(this, "FragMan", void 0),
                                        C()(this, "PeerSched", void 0),
                                        C()(this, "GhostPeerIds", new U.a),
                                        C()(this, "printExtLog", void 0),
                                        C()(this, "sliceIdAutoChangeIntervalSignal", new We.d),
                                        this.Config = t,
                                        this.printExtLog = n,
                                        this.compatibleRTC(),
                                        this.guid = this.genGuid4(),
                                        this.P2P = new wt(this),
                                        this.DataFetch = new ut(this),
                                        this.FragMan = this.DataFetch.fragMan
                                }
                                return T()(e, [{
                                    key: "setConfiguration",
                                    value: function(e) {
                                        var t = this
                                            , n = function(e, n, i) {
                                            if (1 == i) {
                                                var r = "Config: " + e + " = " + v()(n);
                                                t.printExtLog(1, r),
                                                t.Config.allowPrintLog(2) && console.log(r),
                                                    t.sliceIdAutoChangeIntervalSignal.call()
                                            } else {
                                                var o = "[Warning] Config: " + e + " = " + v()(n) + " not allowed.";
                                                t.printExtLog(1, o),
                                                t.Config.allowPrintLog(2) && console.log(o)
                                            }
                                        };
                                        try {
                                            for (var i = JSON.parse(e), r = function() {
                                                var e, i = g()(a[o], 2), r = i[0], l = i[1];
                                                if (j()(r) == j()(""))
                                                    switch (r) {
                                                        case "trackerServer":
                                                            j()(l) == j()("") && (F()(l).call(l, "wss://") || F()(l).call(l, "ws://")) && 0 == (F()(l).call(l, "wss:///") || F()(l).call(l, "ws:///")) ? (t.Config[r] = l,
                                                                n(r, l, !0)) : n(r, l, !1);
                                                            break;
                                                        case "stunServers":
                                                            var c = [];
                                                            l instanceof Array ? (d()(l).call(l, (function(e) {
                                                                    j()(e) == j()("") && new RegExp("^(stun|turn):.+?:[0-9]{1,5}$").exec(e) ? c.push(e) : (t.printExtLog(1, "Value: " + l + " not stun/turn server address."),
                                                                    t.Config.allowPrintLog(1) && console.log("Value: " + l + " not stun/turn server address."))
                                                                }
                                                            )),
                                                            c.length > 0 && (t.Config[r] = c,
                                                                n(r, l, !0))) : n(r, l, !1);
                                                            break;
                                                        default:
                                                            if (t.Config.hasOwnProperty(r + "AllowedRange") && t.Config.hasOwnProperty(r)) {
                                                                var u = t.Config[r + "AllowedRange"][0]
                                                                    , h = t.Config[r + "AllowedRange"][1];
                                                                t.printExtLog(2, "Key: " + r + " found range."),
                                                                t.Config.allowPrintLog(2) && console.log("Key: " + r + " found range."),
                                                                    j()(l) == j()(0) && l >= u && l <= h ? (t.Config[r] = l,
                                                                        n(r, l, !0)) : n(r, l, !1)
                                                            } else
                                                                t.Config.hasOwnProperty(r) && j()(l) == j()(!0) && s()(e = t.Config.allowedChangeBooleanValues).call(e, r) > -1 ? (t.Config[r] = l,
                                                                    n(r, l, !0)) : n(r, l, !1)
                                                    }
                                            }, o = 0, a = _()(i); o < a.length; o++)
                                                r()
                                        } catch (e) {
                                            this.printExtLog(1, "Parse / Set Configuration Fail: " + e),
                                            this.Config.allowPrintLog(1) && console.warn("Parse / Set Configuration Fail: " + e)
                                        }
                                    }
                                }, {
                                    key: "destroy",
                                    value: function() {
                                        this.GhostPeerIds.clear(),
                                            this.P2P.destroy(),
                                            this.DataFetch.destroy(),
                                            this.FragMan.destroy(),
                                            this.CDNFetchTaskWorker.removeAllWorker(),
                                            this.CDNFetchTaskWorker.removeAllTask(),
                                            this.FallbackFetchTaskWorker.removeAllWorker(),
                                            this.FallbackFetchTaskWorker.removeAllTask()
                                    }
                                }, {
                                    key: "compatibleRTC",
                                    value: function() {
                                        var e = window.RTCDataChannel || window.DataChannel;
                                        e && (window.RTCDataChannel || (window.RTCDataChannel = e),
                                        window.DataChannel || (window.DataChannel = e));
                                        var t = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection;
                                        t && (window.RTCPeerConnection || (window.RTCPeerConnection = t),
                                        window.mozRTCPeerConnection || (window.mozRTCPeerConnection = t),
                                        window.webkitRTCPeerConnection || (window.webkitRTCPeerConnection = t))
                                    }
                                }, {
                                    key: "genGuid4",
                                    value: function() {
                                        return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function(e) {
                                                var t = 16 * Math.random() | 0;
                                                return ("x" == e ? t : 3 & t | 8).toString(16)
                                            }
                                        ))
                                    }
                                }]),
                                    e
                            }(), wt = function() {
                                function e(t) {
                                    E()(this, e),
                                        C()(this, "p2pContext", void 0),
                                        C()(this, "cancelToken", {
                                            hasCancel: !1
                                        }),
                                        C()(this, "sliceIdController", void 0),
                                        C()(this, "P2PDataShareQuotaController", new Et),
                                        this.p2pContext = t
                                }
                                var t, n;
                                return T()(e, [{
                                    key: "checkNatType",
                                    value: (n = O()(k.a.mark((function e() {
                                                var t = this;
                                                return k.a.wrap((function(e) {
                                                        for (; ; )
                                                            switch (e.prev = e.next) {
                                                                case 0:
                                                                    return e.abrupt("return", new M.a((function(e) {
                                                                            var n, i = {}, r = [];
                                                                            d()(n = t.p2pContext.Config.stunServers).call(n, (function(e) {
                                                                                    var t = {
                                                                                        urls: e
                                                                                    };
                                                                                    r.push(t)
                                                                                }
                                                                            ));
                                                                            var o = new RTCPeerConnection({
                                                                                iceServers: r
                                                                            });
                                                                            o.createDataChannel("natcheck"),
                                                                                o.onicecandidate = function(t) {
                                                                                    var n;
                                                                                    if (t.candidate && -1 !== s()(n = t.candidate.candidate).call(n, "srflx")) {
                                                                                        var r = function(e) {
                                                                                            for (var t, n = {
                                                                                                foundation: (t = 0 === s()(e).call(e, "a=candidate:") ? e.substring(12).split(" ") : e.substring(10).split(" "))[0],
                                                                                                component: t[1],
                                                                                                protocol: t[2].toLowerCase(),
                                                                                                priority: I()(t[3], 10),
                                                                                                ip: t[4],
                                                                                                port: I()(t[5], 10),
                                                                                                type: t[7],
                                                                                                relatedAddress: "",
                                                                                                relatedPort: NaN,
                                                                                                tcpType: "unknown"
                                                                                            }, i = 8; i < t.length; i += 2)
                                                                                                switch (t[i]) {
                                                                                                    case "raddr":
                                                                                                        n.relatedAddress = t[i + 1];
                                                                                                        break;
                                                                                                    case "rport":
                                                                                                        n.relatedPort = I()(t[i + 1], 10);
                                                                                                        break;
                                                                                                    case "tcptype":
                                                                                                        n.tcpType = t[i + 1]
                                                                                                }
                                                                                            return n
                                                                                        }(t.candidate.candidate);
                                                                                        i[r.relatedPort] || (i[r.relatedPort] = []),
                                                                                            i[r.relatedPort].push(r.port)
                                                                                    } else if (!t.candidate && 1 === L()(i).length) {
                                                                                        var o = i[L()(i)[0]];
                                                                                        e(1 === o.length ? "Cone NAT" : "Symmetric NAT")
                                                                                    }
                                                                                }
                                                                                ,
                                                                                o.createOffer().then((function(e) {
                                                                                        return o.setLocalDescription(e)
                                                                                    }
                                                                                )),
                                                                                c()((function() {
                                                                                        e("Unknown")
                                                                                    }
                                                                                ), 5e3)
                                                                        }
                                                                    )));
                                                                case 1:
                                                                case "end":
                                                                    return e.stop()
                                                            }
                                                    }
                                                ), e)
                                            }
                                        ))),
                                            function() {
                                                return n.apply(this, arguments)
                                            }
                                    )
                                }, {
                                    key: "initPeers",
                                    value: (t = O()(k.a.mark((function e(t) {
                                                var n;
                                                return k.a.wrap((function(e) {
                                                        for (; ; )
                                                            switch (e.prev = e.next) {
                                                                case 0:
                                                                    return e.next = 2,
                                                                        rt.create(this.p2pContext, this.cancelToken, t);
                                                                case 2:
                                                                    n = e.sent,
                                                                        this.p2pContext.printExtLog(0, "Last Order is Connected."),
                                                                    this.p2pContext.Config.allowPrintLog(0) && console.info("[SistersPlayer] Last Order is Connected."),
                                                                        1 == this.cancelToken.hasCancel ? n.destroy() : (this.p2pContext.PeerSched = n,
                                                                            this.sliceIdController = new yt.a(this.p2pContext,this.p2pContext.PeerSched),
                                                                            this.p2pContext.FragMan.setSliceIdController(this.sliceIdController),
                                                                            this.p2pContext.PeerSched.beginConnectPeers());
                                                                case 6:
                                                                case "end":
                                                                    return e.stop()
                                                            }
                                                    }
                                                ), e, this)
                                            }
                                        ))),
                                            function(e) {
                                                return t.apply(this, arguments)
                                            }
                                    )
                                }, {
                                    key: "startDownloadFragment",
                                    value: function(e, t, n, i) {
                                        void 0 !== this.p2pContext.FragMan.getFragment(e) && this.p2pContext.FragMan.deleteFragment(e),
                                            this.p2pContext.DataFetch.addDownloadTask(e, null == n ? 0 : n, i),
                                            this.p2pContext.DataFetch.startDownload(this.p2pContext.PeerSched, t, e)
                                    }
                                }, {
                                    key: "stopDownloadFragment",
                                    value: function(e) {
                                        this.p2pContext.DataFetch.stopDownload(e),
                                            this.p2pContext.FragMan.deleteFragmentUntil(e)
                                    }
                                }, {
                                    key: "onFragmentFinished",
                                    value: function(e, t) {
                                        var n = this;
                                        M.a.resolve().then((function() {
                                                var i = n.p2pContext.FragMan.getFragment(e);
                                                null != i ? i.onFinished((function(e) {
                                                        var r;
                                                        void 0 !== e && e.getFragStat() == V.b.END_SUCCESS ? (t(_t.DONE, e.getFragmentData()),
                                                        null != n.p2pContext.P2PDataCollectionStatus && null != i && n.p2pContext.P2PDataCollectionStatus.addLastestFragmentDataCollection(i),
                                                        null === (r = n.sliceIdController) || void 0 === r || r.addFragmentFetchData(e)) : (n.p2pContext.P2PDataCollectionStatus.addFetchError(Ke.FetchErrorType.ERROR_TO_RELOAD),
                                                            t(_t.ERROR, void 0, null == i ? void 0 : i.getFragEndErrorMsg()))
                                                    }
                                                )) : t(_t.NOTFOUND)
                                            }
                                        ))
                                    }
                                }, {
                                    key: "destroy",
                                    value: function() {
                                        var e, t;
                                        null === (e = this.sliceIdController) || void 0 === e || e.destroy(),
                                        null === (t = this.p2pContext.PeerSched) || void 0 === t || t.destroy(),
                                            this.cancelToken.hasCancel = !0
                                    }
                                }]),
                                    e
                            }(), Ct = i(54), At = i(88);
                            !function(e) {
                                e[e.ErrorNetworkTimeout = 11e3] = "ErrorNetworkTimeout",
                                    e[e.ErrorNetworkFetch = 11001] = "ErrorNetworkFetch",
                                    e[e.ErrorNetworkRead = 11002] = "ErrorNetworkRead",
                                    e[e.ErrorMseOpen = 11003] = "ErrorMseOpen",
                                    e[e.ErrorMseAppend = 11004] = "ErrorMseAppend",
                                    e[e.ErrorPlayList = 11010] = "ErrorPlayList"
                            }(St || (St = {}));
                            var kt = function() {
                                function e(t, n, i) {
                                    var r = this;
                                    E()(this, e),
                                        C()(this, "extLogCallback", (function() {}
                                        )),
                                        C()(this, "p2pContext", void 0),
                                        C()(this, "trackerSourceParam", void 0),
                                        C()(this, "nonP2PNum", 0),
                                        C()(this, "playerUpdateListCount", 0),
                                        C()(this, "p2pEnable", !1),
                                        C()(this, "realtimeData", {
                                            lastFetchItem: "--",
                                            lastPlaylistItem: "--"
                                        }),
                                        C()(this, "canStartP2PTask", !1),
                                        C()(this, "onRealtimeDataUpdate", (function() {}
                                        )),
                                    null != n && (this.extLogCallback = n);
                                    var o, a, s, l = new Ct.Configuration;
                                    if (this.trackerSourceParam = "?protocol=" + l.ProtocolVersion.toString(),
                                    null != i.trackerParams)
                                        for (var c = 0, u = _()(i.trackerParams); c < u.length; c++) {
                                            var d = g()(u[c], 2)
                                                , h = d[0]
                                                , f = d[1];
                                            null != f && (this.trackerSourceParam = this.trackerSourceParam + "&" + encodeURIComponent(h) + "=" + encodeURIComponent(f.toString()))
                                        }
                                    if (this.nonP2PNum = t,
                                        this.p2pContext = new Tt(l,(function(e, t) {
                                                return r.printExtLog(e, t)
                                            }
                                        )),
                                    null != i.sdkParams) {
                                        var p = v()(i.sdkParams);
                                        p.length > 2 && (this.printExtLog(1, "-> Init Configuration Start <-"),
                                        this.p2pContext.Config.allowPrintLog(2) && console.log("[SistersPlayer] -> Init Configuration Start <-"),
                                            this.p2pContext.setConfiguration(p),
                                            this.printExtLog(1, "-> Init Configuration Done. <-"),
                                        this.p2pContext.Config.allowPrintLog(2) && console.log("[SistersPlayer] -> Init Configuration Done. <-"))
                                    }
                                    this.p2pContext.P2P.initPeers(this.trackerSourceParam),
                                        this.p2pContext.CDNFetchTaskWorker.setWorkerNum(this.p2pContext.Config.cdnFetchInstances),
                                        this.p2pContext.FallbackFetchTaskWorker.setWorkerNum(this.p2pContext.Config.fallbackCDNFetchInstances),
                                        this.p2pEnable = !0,
                                        this.playerUpdateListCount = 0,
                                    null != (null === (o = Object({
                                        env: "production",
                                        buildtime: "2020-12-30 12:19:48",
                                        version: "1.1.16-259bdee9-release",
                                        packageVersion: "1.1.16-259bdee9",
                                        git: Object({
                                            version: "sp-1.1.11-23-g259bdee",
                                            commithash: "259bdee9f60c072ff03f849f33b48ad8b32e3f2c",
                                            branch: "release"
                                        })
                                    })) || void 0 === o ? void 0 : o.env) && (this.printExtLog(0, "Environment: production"),
                                    this.p2pContext.Config.allowPrintLog(0) && console.log("[SistersPlayer] Environment: production")),
                                    null != (null === (a = Object({
                                        env: "production",
                                        buildtime: "2020-12-30 12:19:48",
                                        version: "1.1.16-259bdee9-release",
                                        packageVersion: "1.1.16-259bdee9",
                                        git: Object({
                                            version: "sp-1.1.11-23-g259bdee",
                                            commithash: "259bdee9f60c072ff03f849f33b48ad8b32e3f2c",
                                            branch: "release"
                                        })
                                    })) || void 0 === a ? void 0 : a.buildtime) && (this.printExtLog(0, "Build Time: 2020-12-30 12:19:48"),
                                    this.p2pContext.Config.allowPrintLog(0) && console.log("[SistersPlayer] Build Time: 2020-12-30 12:19:48")),
                                    null != (null === (s = Object({
                                        env: "production",
                                        buildtime: "2020-12-30 12:19:48",
                                        version: "1.1.16-259bdee9-release",
                                        packageVersion: "1.1.16-259bdee9",
                                        git: Object({
                                            version: "sp-1.1.11-23-g259bdee",
                                            commithash: "259bdee9f60c072ff03f849f33b48ad8b32e3f2c",
                                            branch: "release"
                                        })
                                    })) || void 0 === s ? void 0 : s.version) && (this.printExtLog(0, "Version: 1.1.16-259bdee9-release"),
                                    this.p2pContext.Config.allowPrintLog(0) && console.log("[SistersPlayer] Version: 1.1.16-259bdee9-release")),
                                        this.printExtLog(1, "Create Sister GUID: " + this.p2pContext.guid),
                                    this.p2pContext.Config.allowPrintLog(1) && console.warn("[SistersPlayer] Create Sister GUID: " + this.p2pContext.guid),
                                        this.printExtLog(0, "Misaka has been created. >w<"),
                                    this.p2pContext.Config.allowPrintLog(0) && console.log("[SistersPlayer] Misaka has been created. >w<")
                                }
                                return T()(e, null, [{
                                    key: "checkP2PSupport",
                                    value: function() {
                                        var e, t = !!window.WebSocket, n = !(!window.MediaSource && !window.WebKitMediaSource), i = !!(window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection), r = window.RTCDataChannel || window.DataChannel, o = !!r, a = !!o && (null == r || null === (e = r.prototype) || void 0 === e ? void 0 : e.hasOwnProperty("onbufferedamountlow")), s = !!window.ReadableStream, l = t && n && i && o && a && s, c = "Misaka Network Check: ".concat(l ? "Supported" : "Unsupported");
                                        if ("development" == Ct.Configuration.curNodeEnv) {
                                            var u = "[SistersPlayer] ".concat(c, "\n\t") + "WebSocket: ".concat(t, "\n\t") + "MediaSource: ".concat(n, "\n\t") + "RTCPeerConnection: ".concat(i, "\n\t") + "RTCDataChannel: ".concat(o, "\n\t") + "RTCDataChannel onbufferedamountlow: ".concat(a, "\n\t") + "Fetch API ReadableStream: ".concat(s);
                                            console.log(u)
                                        } else
                                            console.log("[SistersPlayer] ".concat(c));
                                        return l
                                    }
                                }]),
                                    T()(e, [{
                                        key: "printExtLog",
                                        value: function(e, t) {
                                            t = "[SistersPlayer] " + t,
                                            this.p2pContext.Config.allowPrintExtLog(e) && this.extLogCallback(e, t)
                                        }
                                    }, {
                                        key: "destroy",
                                        value: function() {
                                            1 == this.p2pEnable && (this.p2pEnable = !1,
                                                this.printExtLog(1, "Destroy Sister GUID: " + this.p2pContext.guid),
                                            this.p2pContext.Config.allowPrintLog(1) && console.warn("[SistersPlayer] Destroy Sister GUID: " + this.p2pContext.guid),
                                                this.p2pContext.destroy(),
                                                this.printExtLog(0, "Misaka has been destroyed. OxO"),
                                            this.p2pContext.Config.allowPrintLog(0) && console.log("[SistersPlayer] Misaka has been destroyed. OxO"))
                                        }
                                    }, {
                                        key: "getDestroyState",
                                        value: function() {
                                            return 0 == this.p2pEnable
                                        }
                                    }, {
                                        key: "getP2PDataCollectionStatus",
                                        value: function() {
                                            return 1 == this.p2pEnable ? this.p2pContext.P2PDataCollectionStatus : void 0
                                        }
                                    }, {
                                        key: "getP2PInfo",
                                        value: function() {
                                            return {
                                                p2pEnable: this.p2pEnable,
                                                protocolVersion: this.p2pContext.Config.ProtocolVersion
                                            }
                                        }
                                    }, {
                                        key: "getCurPeerIdInfo",
                                        value: function() {
                                            if (null != this.p2pContext.PeerSched) {
                                                var e = this.p2pContext.CurPeerId
                                                    , t = v()(f()(this.p2pContext.PeerSched.getSliceIds()));
                                                return null != this.p2pContext.PeerSched.getTracker() ? "当前 PeerId: " + e + " , SliceIds: " + t : "当前 PeerId (已主动断开): " + e + " , SliceIds: " + t
                                            }
                                            return "正在连接..."
                                        }
                                    }, {
                                        key: "getPeerIdList",
                                        value: function() {
                                            var e, t, n = Array();
                                            return null != this.p2pContext.PeerSched && (d()(e = this.p2pContext.PeerSched.getConnectedPeers()).call(e, (function(e) {
                                                    n.push({
                                                        incoming: e.isIncoming(),
                                                        connected: !0,
                                                        peerId: e.extData.peerId
                                                    })
                                                }
                                            )),
                                                d()(t = this.p2pContext.PeerSched.getConnectingPeers()).call(t, (function(e) {
                                                        n.push({
                                                            incoming: e.isIncoming(),
                                                            connected: !1,
                                                            peerId: e.extData.peerId
                                                        })
                                                    }
                                                ))),
                                                n
                                        }
                                    }, {
                                        key: "cdnFetchAsBuffer",
                                        value: function(e, t, n) {
                                            var i = this
                                                , r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3]
                                                , o = arguments.length > 4 && void 0 !== arguments[4] && arguments[4];
                                            if (window.fetch) {
                                                var a, s = !!window.AbortController, l = {
                                                    method: "GET",
                                                    cache: r ? "default" : "no-cache"
                                                }, u = !1;
                                                s && (a = new AbortController,
                                                    l.signal = a.signal);
                                                var d = c()((function() {
                                                        a && a.abort(),
                                                            u = !0,
                                                            e(n, St.ErrorNetworkTimeout, "Failback HTTP fetch response timeout " + Ct.Configuration.failbackFetchCDNTimeoutMs + " ms, aborted.")
                                                    }
                                                ), Ct.Configuration.failbackFetchCDNTimeoutMs);
                                                fetch(n, l).then((function(r) {
                                                        if (r.ok)
                                                            if (clearTimeout(d),
                                                                r.body) {
                                                                if (!1 === u)
                                                                    if (window.ReadableStream) {
                                                                        var a = r.body.getReader()
                                                                            , s = function() {}
                                                                            , l = function(e) {
                                                                            null != e.value ? (1 == o && 1 == i.p2pEnable && null != i.p2pContext.P2PDataCollectionStatus && i.p2pContext.P2PDataCollectionStatus.addDownloadSizeDataCollection(e.value.byteLength, V.a.SERVER),
                                                                                t(n, e.value.buffer, e.done)) : t(n, new ArrayBuffer(0), e.done),
                                                                            e.done || s()
                                                                        };
                                                                        (s = function() {
                                                                                a.read().then(l).catch((function(t) {
                                                                                        e(n, St.ErrorNetworkRead, t.toString())
                                                                                    }
                                                                                ))
                                                                            }
                                                                        )()
                                                                    } else
                                                                        r.arrayBuffer().then((function(e) {
                                                                                1 == o && 1 == i.p2pEnable && null != i.p2pContext.P2PDataCollectionStatus && i.p2pContext.P2PDataCollectionStatus.addDownloadSizeDataCollection(e.byteLength, V.a.SERVER),
                                                                                    t(n, e, !0)
                                                                            }
                                                                        )).catch((function(t) {
                                                                                e(n, St.ErrorNetworkRead, t.toString())
                                                                            }
                                                                        ))
                                                            } else
                                                                e(n, St.ErrorNetworkRead, "response.body is empty.");
                                                        else
                                                            e(n, St.ErrorNetworkRead, "response.ok is false.")
                                                    }
                                                )).catch((function(t) {
                                                        e(n, St.ErrorNetworkFetch, t.toString())
                                                    }
                                                ))
                                            } else {
                                                var h = new XMLHttpRequest;
                                                h.onreadystatechange = function(e) {
                                                    2 === h.readyState && h.status >= 200 && h.status
                                                }
                                                    ,
                                                    h.onload = function(e) {
                                                        h.status >= 200 && h.status <= 299 && (null != h.response && 1 == o && 1 == i.p2pEnable && null != i.p2pContext.P2PDataCollectionStatus && i.p2pContext.P2PDataCollectionStatus.addDownloadSizeDataCollection(h.response.byteLength, V.a.SERVER),
                                                            t(n, h.response, !0))
                                                    }
                                                    ,
                                                    h.onerror = function(t) {
                                                        e(n, h.readyState > 2 ? St.ErrorNetworkRead : St.ErrorNetworkFetch, t.toString())
                                                    }
                                                    ,
                                                    h.open("GET", n),
                                                    h.responseType = "arraybuffer",
                                                    h.send()
                                            }
                                        }
                                    }, {
                                        key: "p2pFetchAsBuffer",
                                        value: function(e, t, n, i) {
                                            var r = this
                                                , o = arguments.length > 4 && void 0 !== arguments[4] && arguments[4];
                                            if (1 == this.p2pEnable) {
                                                !1 === this.canStartP2PTask && n() > 0 && this.playerUpdateListCount > this.nonP2PNum && (this.canStartP2PTask = !0);
                                                var a = this.p2pContext
                                                    , s = At.UrlHelper.getFileName(i);
                                                if (null != s) {
                                                    var l = s;
                                                    this.realtimeData.lastFetchItem = l,
                                                        this.onRealtimeDataUpdate();
                                                    var u = Math.floor(n())
                                                        , d = u - this.p2pContext.Config.p2pSafeBufferDurationForDelayStopMs;
                                                    d > 0 ? (d = Math.min(d, this.p2pContext.Config.p2pDelayStopMaxMs),
                                                        c()((function() {
                                                                a.P2P.stopDownloadFragment(l)
                                                            }
                                                        ), d)) : a.P2P.stopDownloadFragment(l);
                                                    var h = function(n, a, s) {
                                                        switch (n) {
                                                            case _t.DONE:
                                                                null != a ? t(i, a.buffer, !0) : (1 == r.p2pEnable && (r.printExtLog(0, "Fetch Error: " + i + " p2p download data lost."),
                                                                r.p2pContext.Config.allowPrintLog(0) && console.error("[SistersPlayer] Fetch Error: " + i + " p2p download data lost.")),
                                                                    r.cdnFetchAsBuffer(e, t, i, o, !1));
                                                                break;
                                                            case _t.ERROR:
                                                                1 == r.p2pEnable && (null != s ? (r.printExtLog(0, "Fetch Error: " + i + " " + s),
                                                                r.p2pContext.Config.allowPrintLog(0) && console.error("[SistersPlayer] Error: " + i + " " + s)) : (r.printExtLog(0, "Fetch Error: " + i + " p2p download error, no message."),
                                                                r.p2pContext.Config.allowPrintLog(0) && console.error("[SistersPlayer] Fetch Error: " + i + " p2p download error, no message."))),
                                                                    r.cdnFetchAsBuffer(e, t, i, o, !1);
                                                                break;
                                                            case _t.NOTFOUND:
                                                                r.cdnFetchAsBuffer(e, t, i, o, !0)
                                                        }
                                                    };
                                                    a.P2P.onFragmentFinished(l, h)
                                                } else
                                                    this.cdnFetchAsBuffer(e, t, i, o, !1)
                                            } else
                                                this.cdnFetchAsBuffer(e, t, i, o, !1)
                                        }
                                    }, {
                                        key: "updatePlaylist",
                                        value: function(e, t) {
                                            if (this.playerUpdateListCount <= this.nonP2PNum && this.playerUpdateListCount++,
                                            1 == this.p2pEnable) {
                                                var n = At.UrlHelper.getFileName(t.uri);
                                                if (null != n)
                                                    if (this.realtimeData.lastPlaylistItem = n,
                                                        this.onRealtimeDataUpdate(),
                                                    e || null == t.title || !1 === this.canStartP2PTask)
                                                        ;
                                                    else {
                                                        var i, r = [], a = 0, l = void 0, c = void 0;
                                                        s()(i = t.title).call(i, "|") >= 0 ? (r = t.title.split("|"),
                                                            c = 16) : (r = t.title.split(";"),
                                                            c = 10),
                                                        null != r[0] && (a = o()(r[0], c)),
                                                        null != r[1] && (l = o()(r[1], c)),
                                                            this.p2pContext.P2P.startDownloadFragment(n, t.uri, a, l)
                                                    }
                                            }
                                        }
                                    }]),
                                    e
                            }()
                        }
                    ])
            }
        ).call(this, n(12))
    }
    , function(e, t, n) {
        "use strict";
        function i(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1,
                    i.configurable = !0,
                "value"in i && (i.writable = !0),
                    Object.defineProperty(e, i.key, i)
            }
        }
        n.r(t),
            n.d(t, "default", (function() {
                    return r
                }
            ));
        var r = function() {
            function e(t, n, i) {
                !function(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }(this, e),
                    this._element = null,
                    this._loader = null,
                    this._responsed = !1,
                    this._onResponse = t,
                    this._onData = n,
                    this._onError = i,
                    this._onStateChangeBinder = this._onStateChange.bind(this),
                    this.QVBP2P = window.QVBP2P
            }
            var t, n, r;
            return t = e,
            (n = [{
                key: "destroy",
                value: function() {
                    this._loader && (this._loader.destroy(),
                        this._loader = null),
                        this._responsed = !1
                }
            }, {
                key: "fetchAsStream",
                value: function(e) {
                    var t = {
                        src: e,
                        videoId: this._element.id
                    };
                    this._loader && this._loader.close(),
                        this._loader = new this.QVBP2P({
                            debug: !1
                        }),
                        this._loader.listen(this.QVBP2P.ComEvents.STATE_CHANGE, this._onStateChangeBinder),
                        this._loader.loadSource(t)
                }
            }, {
                key: "_onStateChange",
                value: function(e, t) {
                    switch (t.code) {
                        case this.QVBP2P.ComCodes.RECEIVE_BUFFER:
                            this._responsed || (this._responsed = !0,
                                this._onResponse(200, "video/x-flv")),
                                t.payload ? this._onData(new Uint8Array(t.payload)) : console.warn("QVBP2P no payload");
                            break;
                        case this.QVBP2P.ComCodes.ROLLBACK:
                            console.error("TX P2P error: ".concat(e)),
                            this._onError && this._onError(11001, e)
                    }
                }
            }, {
                key: "videoElement",
                set: function(e) {
                    this._element = e
                }
            }]) && i(t.prototype, n),
            r && i(t, r),
                e
        }();
        r.isSupported = function() {
            return window.QVBP2P && window.QVBP2P.isSupported()
        }
    }
    , function(e, t, n) {
        "use strict";
        function i(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1,
                    i.configurable = !0,
                "value"in i && (i.writable = !0),
                    Object.defineProperty(e, i.key, i)
            }
        }
        n.r(t),
            n.d(t, "default", (function() {
                    return r
                }
            ));
        var r = function() {
            function e(t, n, i) {
                !function(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }(this, e),
                    this._element = null,
                    this._loader = null,
                    this._responsed = !1,
                    this._onResponse = t,
                    this._onData = n,
                    this._onError = i,
                    this._onDataFetchedBinder = this._onDataFetched.bind(this),
                    this._onReadErrorBinder = this._onReadError.bind(this),
                    this.KSLiveLoader = window.KSLiveLoader
            }
            var t, n, r;
            return t = e,
            (n = [{
                key: "destroy",
                value: function() {
                    this._loader && (this._loader.destroy(),
                        this._loader = null),
                        this._responsed = !1
                }
            }, {
                key: "fetchAsStream",
                value: function(e) {
                    this._loader && this._loader.close(),
                        this._loader = new this.KSLiveLoader(e,this._element,"flv"),
                        this._loader.onDataArrival = this._onDataFetchedBinder,
                        this._loader.onError = this._onReadErrorBinder,
                        this._loader.load()
                }
            }, {
                key: "_onDataFetched",
                value: function(e, t) {
                    this._responsed || (this._responsed = !0,
                        this._onResponse(200, "video/x-flv")),
                        this._onData(new Uint8Array(e,t))
                }
            }, {
                key: "_onReadError",
                value: function(e, t) {
                    console.error("JS P2P error: ".concat(e, ", ").concat(t)),
                    this._onError && this._onError(11001, t)
                }
            }, {
                key: "videoElement",
                set: function(e) {
                    this._element = e
                }
            }]) && i(t.prototype, n),
            r && i(t, r),
                e
        }();
        r.isSupported = function() {
            return window.KSLiveLoader && window.KSLiveLoader.isSupported()
        }
    }
    , function(e, t, n) {
        "use strict";
        function i(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1,
                    i.configurable = !0,
                "value"in i && (i.writable = !0),
                    Object.defineProperty(e, i.key, i)
            }
        }
        n.r(t),
            n.d(t, "default", (function() {
                    return r
                }
            ));
        var r = function() {
            function e(t, n, i) {
                !function(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }(this, e),
                    this._element = null,
                    this._loader = null,
                    this._responsed = !1,
                    this._onResponse = t,
                    this._onData = n,
                    this._onError = i,
                    this._onDataFetchedBinder = this._onDataFetched.bind(this),
                    this._onReadErrorBinder = this._onReadError.bind(this),
                    this.PcdnPlayer = window.PcdnPlayer
            }
            var t, n, r;
            return t = e,
            (n = [{
                key: "destroy",
                value: function() {
                    this._loader && (this._loader.off(this.PcdnPlayer.Events.DATA, this._onDataFetchedBinder),
                        this._loader.off(this.PcdnPlayer.Events.ERROR, this._onReadErrorBinder),
                        this._loader.close(),
                        this._loader = null),
                        this._responsed = !1
                }
            }, {
                key: "fetchAsStream",
                value: function(e) {
                    var t = {
                        url: e,
                        video: this._element,
                        tokenId: "6000ce11005f228e338dc31936e894ba7e94bc0f75f220d1ea",
                        authKey: "ZtK1pwv1un"
                    };
                    this._loader && this._loader.close(),
                        this._loader = new this.PcdnPlayer(t),
                        this._loader.on(this.PcdnPlayer.Events.DATA, this._onDataFetchedBinder),
                        this._loader.on(this.PcdnPlayer.Events.ERROR, this._onReadErrorBinder),
                        this._loader.play()
                }
            }, {
                key: "_onDataFetched",
                value: function(e) {
                    this._responsed || (this._responsed = !0,
                        this._onResponse(200, "video/x-flv")),
                        this._onData(new Uint8Array(e))
                }
            }, {
                key: "_onReadError",
                value: function(e) {
                    console.error("Ali P2P error: ".concat(e)),
                    this._onError && this._onError(11001, e)
                }
            }, {
                key: "videoElement",
                set: function(e) {
                    this._element = e
                }
            }]) && i(t.prototype, n),
            r && i(t, r),
                e
        }();
        r.isSupported = function() {
            return window.PcdnPlayer && window.PcdnPlayer.isSupported()
        }
    }
    , function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = function() {
            function e() {
                this._map = {}
            }
            return e.prototype.get = function(e) {
                return this._map[e]
            }
                ,
                e.prototype.set = function(e, t) {
                    this._map[e] = t
                }
                ,
                e
        }()
            , r = function(e) {
            this.status = e,
                this.ok = e >= 200 && e <= 299,
                this.headers = new i
        };
        t.CustomResponse = r
    }
    , function(e, t) {
        var n, i;
        n = this,
            i = function() {
                return function(e) {
                    function t(i) {
                        if (n[i])
                            return n[i].exports;
                        var r = n[i] = {
                            i: i,
                            l: !1,
                            exports: {}
                        };
                        return e[i].call(r.exports, r, r.exports, t),
                            r.l = !0,
                            r.exports
                    }
                    var n = {};
                    return t.m = e,
                        t.c = n,
                        t.d = function(e, n, i) {
                            t.o(e, n) || Object.defineProperty(e, n, {
                                configurable: !1,
                                enumerable: !0,
                                get: i
                            })
                        }
                        ,
                        t.n = function(e) {
                            var n = e && e.__esModule ? function() {
                                    return e.default
                                }
                                : function() {
                                    return e
                                }
                            ;
                            return t.d(n, "a", n),
                                n
                        }
                        ,
                        t.o = function(e, t) {
                            return Object.prototype.hasOwnProperty.call(e, t)
                        }
                        ,
                        t.p = "",
                        t(t.s = 0)
                }([function(e, t, n) {
                    var i = n(1).default;
                    e.exports = i
                }
                    , function(e, t, n) {
                        "use strict";
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        });
                        var i = n(2)
                            , r = (n.n(i),
                            n(7))
                            , o = function() {
                            function e(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var i = t[n];
                                    i.enumerable = i.enumerable || !1,
                                        i.configurable = !0,
                                    "value"in i && (i.writable = !0),
                                        Object.defineProperty(e, i.key, i)
                                }
                            }
                            return function(t, n, i) {
                                return n && e(t.prototype, n),
                                i && e(t, i),
                                    t
                            }
                        }()
                            , a = function() {
                            function e(t, n) {
                                return function(e, t) {
                                    if (!(e instanceof t))
                                        throw new TypeError("Cannot call a class as a function")
                                }(this, e),
                                "development" === e.CONFIG.bundleType && (console.clear(),
                                    console.dir(e.CONFIG)),
                                    this.initialize(t, n)
                            }
                            return e.prototype.initialize = function(t, n) {
                                return this.tips = new r.a(t,n),
                                    {
                                        config: e.CONFIG,
                                        destroy: this.destroy.bind(this)
                                    }
                            }
                                ,
                                e.prototype.destroy = function() {
                                    this.tips && this.tips.destroy()
                                }
                                ,
                                o(e, null, [{
                                    key: "CONFIG",
                                    get: function() {
                                        return {
                                            version: "1.0.8",
                                            gitHash: "9473675f",
                                            build: "15",
                                            bundleType: "release"
                                        }
                                    }
                                }]),
                                e
                        }();
                        t.default = a
                    }
                    , function(e, t, n) {
                        var i = n(3);
                        "string" == typeof i && (i = [[e.i, i, ""]]);
                        var r = {
                            transform: void 0
                        };
                        n(5)(i, r),
                        i.locals && (e.exports = i.locals)
                    }
                    , function(e, t, n) {
                        (e.exports = n(4)(void 0)).push([e.i, '.video-cannot-autoplay-tips {\n  font-family: "Microsoft YaHei", Arial, Helvetica, sans-serif;\n  position: absolute;\n  padding: 20px 24px;\n  z-index: 999;\n  width: 500px;\n  min-height: 220px;\n  max-height: 320px;\n  cursor: default;\n  line-height: normal;\n  left: 50%;\n  top: 50%;\n  margin: -140px 0 0 -250px;\n  opacity: 0;\n  visibility: hidden;\n  background-color: #ffffff;\n  box-sizing: border-box;\n  border: 1px solid #E9EAEC;\n  -webkit-transform: translate(0, 10px);\n  -moz-transform: translate(0, 10px);\n  -ms-transform: translate(0, 10px);\n  -o-transform: translate(0, 10px);\n  transform: translate(0, 10px);\n  -webkit-box-shadow: 0 13px 20px 0 rgba(106, 115, 133, 0.22);\n  -moz-box-shadow: 0 13px 20px 0 rgba(106, 115, 133, 0.22);\n  box-shadow: 0 13px 20px 0 rgba(106, 115, 133, 0.22);\n  -webkit-border-radius: 12px;\n  -moz-border-radius: 12px;\n  border-radius: 12px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-transition: all 0.4s ease-in-out;\n  -moz-transition: all 0.4s ease-in-out;\n  -ms-transition: all 0.4s ease-in-out;\n  -o-transition: all 0.4s ease-in-out;\n  transition: all 0.4s ease-in-out;\n}\n.video-cannot-autoplay-tips[data-state="hide"] {\n  -webkit-transform: translate(0, 10px);\n  -moz-transform: translate(0, 10px);\n  -ms-transform: translate(0, 10px);\n  -o-transform: translate(0, 10px);\n  transform: translate(0, 10px);\n  opacity: 0;\n  visibility: hidden;\n}\n.video-cannot-autoplay-tips[data-state="show"] {\n  -webkit-transform: translate(0, 0);\n  -moz-transform: translate(0, 0);\n  -ms-transform: translate(0, 0);\n  -o-transform: translate(0, 0);\n  transform: translate(0, 0);\n  opacity: 1;\n  visibility: visible;\n}\n.video-cannot-autoplay-tips-header-title {\n  font-size: 18px;\n  color: #23ADE6;\n  letter-spacing: 0.19px;\n}\n.video-cannot-autoplay-tips-body {\n  font-size: 14px;\n  margin-top: 18px;\n}\n.video-cannot-autoplay-tips-body-content {\n  color: #333333;\n}\n.video-cannot-autoplay-tips-body-tips {\n  margin: 29px 0 20px;\n  line-height: 1.7;\n  color: #999999;\n}\n.video-cannot-autoplay-tips-body-link {\n  text-decoration: none;\n  color: #23ADE6;\n  display: inline-block;\n  margin-bottom: 8px;\n}\n.video-cannot-autoplay-tips-body-link:hover {\n  color: #51beeb;\n}\n.video-cannot-autoplay-tips-footer {\n  width: 100%;\n  position: relative;\n  text-align: center;\n}\n.video-cannot-autoplay-tips-footer-confirm {\n  display: inline-block;\n  padding: 7px 31px;\n  font-size: 14px;\n  color: #ffffff;\n  background: #23ADE5;\n  cursor: pointer;\n  -webkit-border-radius: 4px;\n  -moz-border-radius: 4px;\n  border-radius: 4px;\n}\n.video-cannot-autoplay-tips-footer-confirm:hover {\n  background: #51beea;\n}\n', ""])
                    }
                    , function(e, t) {
                        function n(e, t) {
                            var n = e[1] || ""
                                , i = e[3];
                            if (!i)
                                return n;
                            if (t && "function" == typeof btoa) {
                                var r = function(e) {
                                    return "/*# sourceMappingURL=data:application/json;charset=utf-8;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(e)))) + " */"
                                }(i);
                                return [n].concat(i.sources.map((function(e) {
                                        return "/*# sourceURL=" + i.sourceRoot + e + " */"
                                    }
                                ))).concat([r]).join("\n")
                            }
                            return [n].join("\n")
                        }
                        e.exports = function(e) {
                            var t = [];
                            return t.toString = function() {
                                return this.map((function(t) {
                                        var i = n(t, e);
                                        return t[2] ? "@media " + t[2] + "{" + i + "}" : i
                                    }
                                )).join("")
                            }
                                ,
                                t.i = function(e, n) {
                                    "string" == typeof e && (e = [[null, e, ""]]);
                                    for (var i = {}, r = 0; r < this.length; r++) {
                                        var o = this[r][0];
                                        "number" == typeof o && (i[o] = !0)
                                    }
                                    for (r = 0; r < e.length; r++) {
                                        var a = e[r];
                                        "number" == typeof a[0] && i[a[0]] || (n && !a[2] ? a[2] = n : n && (a[2] = "(" + a[2] + ") and (" + n + ")"),
                                            t.push(a))
                                    }
                                }
                                ,
                                t
                        }
                    }
                    , function(e, t, n) {
                        function i(e, t) {
                            for (var n = 0; n < e.length; n++) {
                                var i = e[n]
                                    , r = p[i.id];
                                if (r) {
                                    r.refs++;
                                    for (var o = 0; o < r.parts.length; o++)
                                        r.parts[o](i.parts[o]);
                                    for (; o < i.parts.length; o++)
                                        r.parts.push(u(i.parts[o], t))
                                } else {
                                    var a = [];
                                    for (o = 0; o < i.parts.length; o++)
                                        a.push(u(i.parts[o], t));
                                    p[i.id] = {
                                        id: i.id,
                                        refs: 1,
                                        parts: a
                                    }
                                }
                            }
                        }
                        function r(e, t) {
                            for (var n = [], i = {}, r = 0; r < e.length; r++) {
                                var o = e[r]
                                    , a = t.base ? o[0] + t.base : o[0]
                                    , s = {
                                    css: o[1],
                                    media: o[2],
                                    sourceMap: o[3]
                                };
                                i[a] ? i[a].parts.push(s) : n.push(i[a] = {
                                    id: a,
                                    parts: [s]
                                })
                            }
                            return n
                        }
                        function o(e, t) {
                            var n = y(e.insertInto);
                            if (!n)
                                throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
                            var i = _[_.length - 1];
                            if ("top" === e.insertAt)
                                i ? i.nextSibling ? n.insertBefore(t, i.nextSibling) : n.appendChild(t) : n.insertBefore(t, n.firstChild),
                                    _.push(t);
                            else {
                                if ("bottom" !== e.insertAt)
                                    throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");
                                n.appendChild(t)
                            }
                        }
                        function a(e) {
                            if (null === e.parentNode)
                                return !1;
                            e.parentNode.removeChild(e);
                            var t = _.indexOf(e);
                            t >= 0 && _.splice(t, 1)
                        }
                        function s(e) {
                            var t = document.createElement("style");
                            return e.attrs.type = "text/css",
                                c(t, e.attrs),
                                o(e, t),
                                t
                        }
                        function l(e) {
                            var t = document.createElement("link");
                            return e.attrs.type = "text/css",
                                e.attrs.rel = "stylesheet",
                                c(t, e.attrs),
                                o(e, t),
                                t
                        }
                        function c(e, t) {
                            Object.keys(t).forEach((function(n) {
                                    e.setAttribute(n, t[n])
                                }
                            ))
                        }
                        function u(e, t) {
                            var n, i, r, o;
                            if (t.transform && e.css) {
                                if (!(o = t.transform(e.css)))
                                    return function() {}
                                        ;
                                e.css = o
                            }
                            if (t.singleton) {
                                var c = m++;
                                n = g || (g = s(t)),
                                    i = d.bind(null, n, c, !1),
                                    r = d.bind(null, n, c, !0)
                            } else
                                e.sourceMap && "function" == typeof URL && "function" == typeof URL.createObjectURL && "function" == typeof URL.revokeObjectURL && "function" == typeof Blob && "function" == typeof btoa ? (n = l(t),
                                        i = f.bind(null, n, t),
                                        r = function() {
                                            a(n),
                                            n.href && URL.revokeObjectURL(n.href)
                                        }
                                ) : (n = s(t),
                                        i = h.bind(null, n),
                                        r = function() {
                                            a(n)
                                        }
                                );
                            return i(e),
                                function(t) {
                                    if (t) {
                                        if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap)
                                            return;
                                        i(e = t)
                                    } else
                                        r()
                                }
                        }
                        function d(e, t, n, i) {
                            var r = n ? "" : i.css;
                            if (e.styleSheet)
                                e.styleSheet.cssText = E(t, r);
                            else {
                                var o = document.createTextNode(r)
                                    , a = e.childNodes;
                                a[t] && e.removeChild(a[t]),
                                    a.length ? e.insertBefore(o, a[t]) : e.appendChild(o)
                            }
                        }
                        function h(e, t) {
                            var n = t.css
                                , i = t.media;
                            if (i && e.setAttribute("media", i),
                                e.styleSheet)
                                e.styleSheet.cssText = n;
                            else {
                                for (; e.firstChild; )
                                    e.removeChild(e.firstChild);
                                e.appendChild(document.createTextNode(n))
                            }
                        }
                        function f(e, t, n) {
                            var i = n.css
                                , r = n.sourceMap
                                , o = void 0 === t.convertToAbsoluteUrls && r;
                            (t.convertToAbsoluteUrls || o) && (i = b(i)),
                            r && (i += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(r)))) + " */");
                            var a = new Blob([i],{
                                type: "text/css"
                            })
                                , s = e.href;
                            e.href = URL.createObjectURL(a),
                            s && URL.revokeObjectURL(s)
                        }
                        var p = {}
                            , v = function(e) {
                            var t;
                            return function() {
                                return void 0 === t && (t = e.apply(this, arguments)),
                                    t
                            }
                        }((function() {
                                return window && document && document.all && !window.atob
                            }
                        ))
                            , y = function(e) {
                            var t = {};
                            return function(n) {
                                return void 0 === t[n] && (t[n] = e.call(this, n)),
                                    t[n]
                            }
                        }((function(e) {
                                return document.querySelector(e)
                            }
                        ))
                            , g = null
                            , m = 0
                            , _ = []
                            , b = n(6);
                        e.exports = function(e, t) {
                            if ("undefined" != typeof DEBUG && DEBUG && "object" != typeof document)
                                throw new Error("The style-loader cannot be used in a non-browser environment");
                            (t = t || {}).attrs = "object" == typeof t.attrs ? t.attrs : {},
                            t.singleton || (t.singleton = v()),
                            t.insertInto || (t.insertInto = "head"),
                            t.insertAt || (t.insertAt = "bottom");
                            var n = r(e, t);
                            return i(n, t),
                                function(e) {
                                    for (var o = [], a = 0; a < n.length; a++) {
                                        var s = n[a];
                                        (l = p[s.id]).refs--,
                                            o.push(l)
                                    }
                                    for (e && i(r(e, t), t),
                                             a = 0; a < o.length; a++) {
                                        var l;
                                        if (0 === (l = o[a]).refs) {
                                            for (var c = 0; c < l.parts.length; c++)
                                                l.parts[c]();
                                            delete p[l.id]
                                        }
                                    }
                                }
                        }
                        ;
                        var E = function() {
                            var e = [];
                            return function(t, n) {
                                return e[t] = n,
                                    e.filter(Boolean).join("\n")
                            }
                        }()
                    }
                    , function(e, t) {
                        e.exports = function(e) {
                            var t = "undefined" != typeof window && window.location;
                            if (!t)
                                throw new Error("fixUrls requires window.location");
                            if (!e || "string" != typeof e)
                                return e;
                            var n = t.protocol + "//" + t.host
                                , i = n + t.pathname.replace(/\/[^\/]*$/, "/");
                            return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, (function(e, t) {
                                    var r, o = t.trim().replace(/^"(.*)"$/, (function(e, t) {
                                            return t
                                        }
                                    )).replace(/^'(.*)'$/, (function(e, t) {
                                            return t
                                        }
                                    ));
                                    return /^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o) ? e : (r = 0 === o.indexOf("//") ? o : 0 === o.indexOf("/") ? n + o : i + o.replace(/^\.\//, ""),
                                    "url(" + JSON.stringify(r) + ")")
                                }
                            ))
                        }
                    }
                    , function(e, t, n) {
                        "use strict";
                        var i = {
                            content: "主人，你的Safari浏览器不允许视频自动播放，跟我一起来调教：",
                            tips: "1、右击屏幕顶部【live.bilibili.com 地址栏】&rarr;\r\n2、点击【此网站的设置】&rarr;\r\n3、修改【自动播放】选项为【允许全部自动播放】",
                            link: {
                                href: "http://www.bilibili.com",
                                label: "查看视频演示>>"
                            },
                            confirmLabel: "我设置好了",
                            callback: null,
                            onCreateSuccess: null
                        }
                            , r = function() {
                            function e(t, n) {
                                (function(e, t) {
                                        if (!(e instanceof t))
                                            throw new TypeError("Cannot call a class as a function")
                                    }
                                )(this, e),
                                    this.container = t,
                                    this.props = Object.assign(i, n),
                                    this.htmlPrefix = "video-cannot-autoplay-tips",
                                    this._initialize()
                            }
                            return e.prototype._initialize = function() {
                                var e = this
                                    , t = document.createElement("div");
                                t.innerHTML = this._getHtml(),
                                    this.container.appendChild(t.firstElementChild),
                                    this.wrapper = this.container.querySelector("." + this.htmlPrefix),
                                    this.confirmBtn = this.container.querySelector("." + this.htmlPrefix + "-footer-confirm"),
                                this.props.onCreateSuccess && this.props.onCreateSuccess(this.wrapper),
                                    this._bindEvents(),
                                    this._addEvents(),
                                    this.container === document.body ? this.wrapper.style.cssText = "position: fixed;" : "relative" !== window.getComputedStyle(this.container, null).position && (this.container.style.cssText = "position: relative"),
                                    setTimeout((function() {
                                            e.wrapper.setAttribute("data-state", "show")
                                        }
                                    ), 0)
                            }
                                ,
                                e.prototype._bindEvents = function() {
                                    this._closeHandler = this._closeHandler.bind(this)
                                }
                                ,
                                e.prototype._addEvents = function() {
                                    this.confirmBtn.addEventListener("click", this._closeHandler)
                                }
                                ,
                                e.prototype._removeEvents = function() {
                                    this.confirmBtn.removeEventListener("click", this._closeHandler)
                                }
                                ,
                                e.prototype._closeHandler = function() {
                                    this.props.callback && this.props.callback(),
                                        this.destroy()
                                }
                                ,
                                e.prototype._getHtml = function() {
                                    var e = this.htmlPrefix
                                        , t = this.props.link ? '<a class="' + e + '-body-link" href="' + this.props.link.href + '" target="_blank">' + this.props.link.label + "</a>" : "";
                                    return '<div class="' + e + '">\n                    <div class="' + e + '-header">\n                        <span class="' + e + '-header-title">浏览器设置</span>\n                        \x3c!--<span class="' + e + '-header-close"></span>--\x3e\n                    </div>\n                    <div class="' + e + '-body">\n                        <p class="' + e + '-body-content">' + this.props.content + '</p>\n                        <p class="' + e + '-body-tips">' + this.props.tips.replace(/\r\n/g, "<br />") + "</p>\n                        " + t + '\n                    </div>\n                    <div class="' + e + '-footer">\n                        <span class="' + e + '-footer-confirm">' + this.props.confirmLabel + "</span>\n                    </div>\n                </div>"
                                }
                                ,
                                e.prototype.destroy = function() {
                                    var e = this;
                                    this.wrapper.setAttribute("data-state", "hide"),
                                        setTimeout((function() {
                                                e._removeEvents(),
                                                    e.wrapper.parentNode.removeChild(e.wrapper)
                                            }
                                        ), 500)
                                }
                                ,
                                e
                        }();
                        t.a = r
                    }
                ])
            }
            ,
            "object" == typeof t && "object" == typeof e ? e.exports = i() : "function" == typeof define && define.amd ? define([], i) : "object" == typeof t ? t.AutoPlaySettingTips = i() : n.AutoPlaySettingTips = i()
    }
    , function(e, t, n) {
        "use strict";
        var i = this && this.__importDefault || function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = n(0)
            , o = i(n(7))
            , a = i(n(2))
            , s = i(n(1))
            , l = n(59)
            , c = n(0)
            , u = function() {
            function e(e) {
                var t = this;
                this.player = e,
                    this.minTime = 220,
                    this.countTime = 0,
                    this.maskCount = 0,
                    this.isShowMask = !1,
                    this.browserTick = 1e3 / 60,
                    this.danmakuStatus = !0,
                    this.lastMaskStatus = !0,
                    this.maskUseDts = !1;
                var n = e.config.mask;
                this.maxSelectTime = n.maxSelectTime,
                    this.deleteImageFps = n.deleteImageFps,
                    this.maskFps = n.maskFps,
                    this.shouldOpenMask = n.shouldOpenMask,
                    this.fpsTime = 1e3 / this.maskFps,
                    this.deleteImageFps = this.fpsTime * this.deleteImageFps,
                    this.videoInfo = null,
                    this.imgList = [],
                    this.hasVideoInfo = !1,
                    this.cancelListenVideoId = null,
                    this.cancelDeleteId = null,
                    this.lastSelectTime = null,
                    this.lastCurrentTime = null,
                    this.beforeReloadMaskState = "false" !== localStorage.getItem(l.MASKKEY.DB_MASK_KEY),
                    this.maskState = null,
                    this.showPts = 0,
                    this.count = 0,
                    this.selectTotalTime = 0,
                    this.asyncShowTime = 0,
                    this.asyncShowTimeTotal = 0,
                    this.player = e,
                    this.firstPlayTime = null,
                    this.stateCount = 0,
                    this.isFirstReload = !1,
                    this.isHandleBrowser = s.default.isChrome(),
                this.player.config && this.player.config.urlParams && Boolean(this.player.config.urlParams["mask-use-dts"]) && (this.maskUseDts = !0),
                    this.getVideoInfoBind = function() {
                        setTimeout((function() {
                                t.getVideoInfo()
                            }
                        ), 0)
                    }
                    ,
                    this.bindEvent()
            }
            return e.prototype.init = function() {
                return this.shouldOpenMask && this.open(),
                    this
            }
                ,
                e.prototype.set = function(e, t) {
                    switch (a.default.log("mask set value, ac: " + e + ", data: " + t),
                        e) {
                        case l.MASKACTIONTYPE.MAX_SELECT_TIME:
                            this.maxSelectTime = t;
                            break;
                        case l.MASKACTIONTYPE.DELETE_IMAGE_FPS:
                            this.deleteImageFps = t;
                            break;
                        case l.MASKACTIONTYPE.MASK_FPS:
                            this.maskFps = t;
                            break;
                        case l.MASKACTIONTYPE.DANMUKU_MASK_STATUS_CHANGE:
                            if (!this.danmakuStatus)
                                return;
                            switch (t.type) {
                                case "mask":
                                    this.maskState !== t.status && this.handleChange(t.status)
                            }
                    }
                }
                ,
                e.prototype.destroy = function() {
                    this.player.event.off(r.EVENT.CREATE_PLAYER_SUCCESS),
                        this.player.event.off(r.EVENT.PLAYER_RELOAD_SUCCESSFULLY),
                        this.player.event.off(r.EVENT.GET_MASK_DATA),
                        this.player.event.off(r.EVENT.ON_ROUND),
                        this.player.event.off(r.EVENT.ON_PRE_ROUND),
                        this.player.event.off(r.EVENT.ON_PREPARING),
                        cancelAnimationFrame(this.cancelDeleteId),
                        this.hideMaskCheckbox(),
                    this.maskState && this.close()
                }
                ,
                e.prototype.handleChange = function(e) {
                    e ? this.open() : this.close(),
                        this.beforeReloadMaskState = e,
                        localStorage.setItem(l.MASKKEY.DB_MASK_KEY, e.toString()),
                        s.default.fireEventCallback(this.player.callbackMap.danmakuMaskStatusChange, {
                            type: "mask",
                            status: this.maskState
                        });
                    var t = e ? r.TRACK.OPEN_MASK : r.TRACK.CLOSE_MASK;
                    this.player.track(t)
                }
                ,
                e.prototype.bindEvent = function() {
                    var e = this
                        , t = this.player;
                    this.isHandleBrowser && (t.event.on(r.EVENT.CREATE_PLAYER_SUCCESS, this.handleCreate.bind(this)),
                        t.event.on(r.EVENT.PLAYER_RELOAD_SUCCESSFULLY, this.handleReload.bind(this)),
                        t.event.on(r.EVENT.DANMAKU_STATUS_CHANGE, this.handleDanmakuChange.bind(this)),
                        t.event.on(r.EVENT.ON_ROUND, this.onCloseLive.bind(this)),
                        t.event.on(r.EVENT.ON_PRE_ROUND, this.onCloseLive.bind(this)),
                        t.event.on(r.EVENT.ON_PREPARING, this.onCloseLive.bind(this)),
                        t.on(o.default.CALLBACK_PLAYER_STATE_CHANGE, (function() {
                                return setTimeout((function() {
                                        e.getVideoInfo()
                                    }
                                ), 0)
                            }
                        )),
                        this.player.event.on(r.EVENT.GET_MASK_DATA, this.parseMask.bind(this)),
                        requestAnimationFrame((function(t) {
                                e.setTime(t, 0, e.deleteImageFps, e.deleteImageList.bind(e), "cancelDeleteId")
                            }
                        )))
                }
                ,
                e.prototype.onCloseLive = function() {
                    this.clearMaskQueue(),
                        cancelAnimationFrame(this.cancelFpsId),
                    this.isShowMask && this.hideMaskCheckbox(),
                        this.isShowMask = !1
                }
                ,
                e.prototype.handleCreate = function(e, t) {
                    this.videoElement = e,
                        this.playerWrap = t,
                        this.init()
                }
                ,
                e.prototype.open = function() {
                    var e = this;
                    return a.default.log("mask open, state: " + this.maskState),
                        this.player.handleZzmaskChange(!1),
                    this.maskState || (requestAnimationFrame((function(t) {
                            e.setTime(t, 0, e.fpsTime, e.subscribeVideoTime.bind(e), "cancelListenVideoId")
                        }
                    )),
                    this.maskCheckBox && this.maskCheckBox.prop("checked", !0),
                        this.player.event.on(r.EVENT.PLAYER_RESIZE, this.getVideoInfoBind),
                        this.maskState = !0,
                        this.shouldOpenMask = !0),
                        this
                }
                ,
                e.prototype.close = function() {
                    return a.default.log("mask close"),
                    this.maskState && (cancelAnimationFrame(this.cancelListenVideoId),
                        this.deleteMask(),
                        this.maskState = !1,
                    this.maskCheckBox && this.maskCheckBox.prop("checked", !1),
                        this.shouldOpenMask = !1),
                        this
                }
                ,
                e.prototype.handleDanmakuChange = function(e) {
                    e ? (this.danmakuStatus = !0,
                    this.lastMaskStatus && this.open()) : (this.danmakuStatus = !1,
                        this.lastMaskStatus = this.maskState,
                        this.close())
                }
                ,
                e.prototype.clearMaskQueue = function() {
                    this.imgList.length = 0,
                        this.deleteMask()
                }
                ,
                e.prototype.handleReload = function() {
                    a.default.log("mask reload"),
                        this.clearMaskQueue(),
                        cancelAnimationFrame(this.cancelFpsId),
                    this.isShowMask && this.hideMaskCheckbox(),
                        this.isShowMask = !1,
                    this.isFirstReload || (s.default.fireEventCallback(this.player.callbackMap.danmakuMaskChange, {
                        isShowMask: !1,
                        isShowTip: !1,
                        isOpenMask: this.maskState
                    }),
                        this.isFirstReload = !0)
                }
                ,
                e.prototype.hideMaskCheckbox = function() {
                    this.player.components.newCtrl.setDanmaku("showMaskOption", !1)
                }
                ,
                e.prototype.subscribeVideoTime = function() {
                    this.hasVideoInfo || this.getVideoInfo();
                    var e = 1e3 * this.videoElement.currentTime;
                    this.selectImg(e)
                }
                ,
                e.prototype.maskUiInit = function() {
                    this.player.components.newCtrl.setDanmaku("showMaskOption", !0),
                        s.default.fireEventCallback(this.player.callbackMap.danmakuMaskChange, {
                            isShowMask: !0,
                            isShowTip: this.tipsState,
                            isOpenMask: this.maskState
                        }),
                        this.isShowMask = !0,
                    this.beforeReloadMaskState || this.handleChange(!1)
                }
                ,
                e.prototype.readPayloadType = function(e, t) {
                    var n = e.getUint8(t);
                    t += 1;
                    for (var i = 0; t < e.byteLength; ) {
                        var r = e.getUint8(t);
                        if (i += r,
                            t += 1,
                        255 !== r)
                            break
                    }
                    return {
                        size: i,
                        type: n,
                        offset: t
                    }
                }
                ,
                e.prototype.parseMask = function(e) {
                    try {
                        isNaN(e.firstPlayTime) || (this.firstPlayTime = e.firstPlayTime);
                        var t = e.pts;
                        if (this.maskUseDts && (t = e.dts),
                        this.firstPlayTime && t - this.firstPlayTime < 1e3 * this.videoElement.currentTime)
                            return;
                        var n = void 0
                            , i = "";
                        if (e.coreType !== c.CORE_TYPE.FMP4_MUXER) {
                            for (var r = this.removeNALEscape(e.arrayBuffer, e.dataOffset, e.dataSize), o = new DataView(r.buffer), a = 1, s = void 0; a < e.dataSize && (a = (s = this.readPayloadType(o, a)).offset,
                            5 !== s.type); )
                                a += s.size;
                            if (5 !== s.type || a > e.dataSize)
                                return;
                            if (a + 16 > r.buffer.byteLength)
                                return;
                            for (var l = a, u = 0; u < 16; u++)
                                i += o.getUint8(a).toString(16),
                                    a++;
                            if ("42494c494d41534b5f5f53564742494e" !== i)
                                return;
                            n = r.buffer.slice(a, l + s.size)
                        } else {
                            if (!e.uuid || e.uuid.byteLength < 16)
                                return;
                            for (var d = 0; d < 16; d++)
                                i += e.uuid[d].toString(16);
                            if ("42494c494d41534b5f5f53564742494e" !== i)
                                return;
                            n = e.arrayBuffer
                        }
                        this.isShowMask || this.maskUiInit();
                        var h = void 0;
                        try {
                            h = this.unCompress(n)
                        } catch (e) {
                            if (this.trackTime && this.trackTime - Date.now() < 6e4)
                                return;
                            this.trackTime = Date.now();
                            var f = parseInt(e.message, 10);
                            return void this.player.track(f)
                        }
                        var p = this.imgList.length
                            , v = 0;
                        for (u = p - 1; u >= 0; u--)
                            if (t > this.imgList[u].pts) {
                                v = u + 1;
                                break
                            }
                        this.imgList.splice(v, 0, {
                            pts: t,
                            baseData: h
                        })
                    } catch (e) {
                        console.error("parseMask error", e)
                    }
                }
                ,
                e.prototype.setTime = function(e, t, n, i, r) {
                    var o = this;
                    e - t > n && (i(),
                        t = e),
                        this[r] = requestAnimationFrame((function(e) {
                                o.setTime(e, t, n, i, r)
                            }
                        ))
                }
                ,
                e.prototype.deleteImageList = function() {
                    if (0 !== this.imgList.length && this.videoElement && this.videoElement.currentTime)
                        for (var e = 1e3 * this.videoElement.currentTime, t = 0; t < this.imgList.length; t++) {
                            if (this.imgList[t].pts - e - this.browserTick - this.firstPlayTime > -this.minTime) {
                                0 !== t && this.imgList.splice(0, t);
                                break
                            }
                        }
                }
                ,
                e.prototype.getFps = function(e, t) {
                    var n = this;
                    0 === t && (t = e);
                    var i = e - t;
                    (this.maskCount++,
                    i > 1e3) ? (t = e,
                        document.createElement("p").innerText = "maskFps: " + this.maskCount,
                        this.maskCount = 0) : this.countTime += i;
                    this.cancelFpsId = requestAnimationFrame((function(e) {
                            n.getFps(e, t)
                        }
                    ))
                }
                ,
                e.prototype.selectImg = function(e) {
                    if (0 === e || e === this.lastCurrentTime)
                        return !1;
                    this.lastCurrentTime = e;
                    for (var t = null, n = null, i = 0, r = this.imgList.length; i < r; i++) {
                        var o = this.imgList[i].pts - e - this.browserTick - this.firstPlayTime;
                        if (o = Math.abs(o),
                        null !== n && o >= n)
                            break;
                        n = o,
                            t = i
                    }
                    return (null === n || n > this.minTime) && (t = null),
                    null !== t && t > 0 && (this.imgList.splice(0, t),
                        t = 0),
                        this.minTime > this.maxSelectTime || null === t ? this.deleteMask() : (this.lastSelectTime && (this.asyncShowTime = Math.abs(e - this.lastSelectTime),
                            this.asyncShowTimeTotal += this.asyncShowTime),
                            this.count += 1,
                            this.selectTotalTime += n,
                            this.lastSelectTime = this.imgList[t].pts - this.firstPlayTime,
                            this.showImg(t))
                }
                ,
                e.prototype.deleteMask = function() {
                    this.player.components && this.player.components.danmaku && this.player.components.danmaku.deleteMask()
                }
                ,
                e.prototype.showImg = function(e) {
                    if (this.hasVideoInfo && this.maskState) {
                        var t = this.videoInfo
                            , n = t.direction
                            , i = t.padding
                            , r = "linear-gradient(\n                to " + n + ",\n                rgb(0,0,0,1),\n                rgb(0,0,0,1) " + i + "%,\n                rgb(0,0,0,0) " + i + "%,\n                rgba(0,0,0,0) " + (100 - i) + "%,\n                rgba(0,0,0,1) " + (100 - i) + "%,\n                rgba(0,0,0,1)),\n                url(" + this.imgList[e].baseData + ")";
                        this.player.components && this.player.components.danmaku && this.player.components.danmaku.showMask(r)
                    }
                    return e
                }
                ,
                e.prototype.getVideoInfo = function() {
                    if (this.maskState) {
                        var e, t, n = this.videoElement.videoHeight, i = this.videoElement.videoWidth, r = this.videoElement.clientHeight, o = this.videoElement.clientWidth, a = this.playerWrap[0].clientHeight, s = this.playerWrap[0].clientWidth;
                        if (0 === n || 0 === i)
                            return !1;
                        i / n > o / r ? (t = "bottom",
                            e = Math.ceil((r - n * o / i) / (2 * a) * 100 * 100) / 100) : (t = "right",
                            e = Math.ceil((o - i * r / n) / (2 * s) * 100 * 100) / 100),
                            this.hasVideoInfo = !0,
                            this.videoInfo = {
                                direction: t,
                                padding: e
                            }
                    }
                }
                ,
                e.prototype.unCompress = function(e) {
                    for (var t, n = new DataView(e), i = "", o = 0; o < e.byteLength; ) {
                        var a = this.readVarInt(n, o, 1)
                            , s = a.data;
                        o += a.useByte;
                        var c = void 0;
                        switch (parseInt(s, 10)) {
                            case l.SvgType.SVG_KEY_VERSION:
                                if ("1" !== (c = this.readVarInt(n, o, 1)).data)
                                    throw new Error(r.TRACK.MASK_VERSION_ERROR.toString());
                                o += c.useByte;
                                break;
                            case l.SvgType.SVG_KEY_META:
                                t = this.readMeta(n, o),
                                    o += 24;
                                break;
                            case l.SvgType.SVG_KEY_PATH_CLOSE:
                                i += "z ";
                                break;
                            case l.SvgType.SVG_KEY_PATH_MOVETO:
                                o += (c = this.readVarInt(n, o, 2)).useByte,
                                    i += "M" + c.data + " ";
                                break;
                            case l.SvgType.SVG_KEY_PATH_RMOVETO:
                                o += (c = this.readVarInt(n, o, 2)).useByte,
                                    i += "m" + c.data + " ";
                                break;
                            case l.SvgType.SVG_KEY_PATH_LINETO:
                                o += (c = this.readVarInt(n, o, 2)).useByte,
                                    i += "L" + c.data + " ";
                                break;
                            case l.SvgType.SVG_KEY_PATH_RLINETO:
                                o += (c = this.readVarInt(n, o, 2)).useByte,
                                    i += "l" + c.data + " ";
                                break;
                            case l.SvgType.SVG_KEY_PATH_CURVETO:
                                o += (c = this.readVarInt(n, o, 6)).useByte,
                                    i += "C" + c.data + " ";
                                break;
                            case l.SvgType.SVG_KEY_PATH_RCURVETO:
                                o += (c = this.readVarInt(n, o, 6)).useByte,
                                    i += "c" + c.data + " ";
                                break;
                            default:
                                throw new Error(r.TRACK.MASK_UNHANDLE_KEY.toString())
                        }
                    }
                    var u = t.width
                        , d = t.height
                        , h = '\n            <svg version="1.0" xmlns="http://www.w3.org/2000/svg"\n                width="' + u + 'px" height="' + d + 'px" viewBox="0 0 ' + u + " " + d + '"\n                preserveAspectRatio="xMidYMid meet">\n            <g transform="translate(' + t.transX + ", " + t.transY + ") scale(" + t.scaleX + ", " + t.scaleY + ')"\n                fill="#000000" stroke="none">\n            <path d="' + i + '">\n            </path>\n            </g>\n            </svg>\n        ';
                    return "data:image/svg+xml;base64," + window.btoa(decodeURIComponent(encodeURIComponent(h)))
                }
                ,
                e.prototype.readVarInt = function(e, t, n) {
                    if (void 0 === n && (n = 1),
                    t > e.byteLength)
                        throw new Error(r.TRACK.MASK_TYPE_ERROR.toString());
                    for (var i = [], o = 0, a = function(n) {
                        for (var r = [], a = t; a < e.byteLength; a++) {
                            var l = e.getUint8(a);
                            if (l >>> 7 != 1) {
                                r.push(l);
                                break
                            }
                            r.push(127 & l)
                        }
                        var c = 0
                            , u = r.length;
                        o += u;
                        var d = r.reduce((function(e, t) {
                                var n = Math.pow(2, 7 * c) * t;
                                return c++,
                                e + n
                            }
                        ), 0);
                        t += u,
                            i.push(s.decodeInt(d))
                    }, s = this, l = 0; l < n; l++)
                        a();
                    return {
                        useByte: o,
                        data: 1 === n ? i.join("") : i.join(" ")
                    }
                }
                ,
                e.prototype.decodeInt = function(e) {
                    return e >> 1 ^ 1 + ~(1 & e)
                }
                ,
                e.prototype.readMeta = function(e, t) {
                    return {
                        width: e.getFloat32(t).toFixed(6),
                        height: e.getFloat32(t + 4).toFixed(6),
                        transX: e.getFloat32(t + 8).toFixed(6),
                        transY: e.getFloat32(t + 12).toFixed(6),
                        scaleX: e.getFloat32(t + 16).toFixed(6),
                        scaleY: e.getFloat32(t + 20).toFixed(6)
                    }
                }
                ,
                e.prototype.removeNALEscape = function(e, t, n) {
                    t || (t = 0),
                        n = n || e.byteLength - t;
                    for (var i = new Uint8Array(e), r = 0, o = 0, a = new Uint8Array(n), s = t; s < t + n; s++)
                        s >= 2 && 3 === i[s] && 0 === i[s - 1] && 0 === i[s - 2] ? o++ : a[r++] = i[s];
                    return {
                        buffer: a.buffer,
                        nalSize: o
                    }
                }
                ,
                e
        }();
        t.default = u
    }
    , function(e, t, n) {
        "use strict";
        var i;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            function(e) {
                e[e.SVG_KEY_VERSION = 1] = "SVG_KEY_VERSION",
                    e[e.SVG_KEY_META = 2] = "SVG_KEY_META",
                    e[e.SVG_KEY_PATH_CLOSE = 3] = "SVG_KEY_PATH_CLOSE",
                    e[e.SVG_KEY_PATH_MOVETO = 4] = "SVG_KEY_PATH_MOVETO",
                    e[e.SVG_KEY_PATH_RMOVETO = 5] = "SVG_KEY_PATH_RMOVETO",
                    e[e.SVG_KEY_PATH_LINETO = 6] = "SVG_KEY_PATH_LINETO",
                    e[e.SVG_KEY_PATH_RLINETO = 7] = "SVG_KEY_PATH_RLINETO",
                    e[e.SVG_KEY_PATH_CURVETO = 8] = "SVG_KEY_PATH_CURVETO",
                    e[e.SVG_KEY_PATH_RCURVETO = 9] = "SVG_KEY_PATH_RCURVETO"
            }(i || (i = {})),
            t.SvgType = i;
        t.MASKACTIONTYPE = {
            MAX_SELECT_TIME: "maxSelectTime",
            DELETE_IMAGE_FPS: "deleteImageFps",
            MASK_FPS: "maskFps",
            DANMUKU_MASK_STATUS_CHANGE: "danmakuMaskStatusChange"
        };
        t.MASKKEY = {
            DB_TIP_KEY: "maskTipsState",
            DB_MASK_KEY: "maskOpenState"
        }
    }
    , function(e, t, n) {
        "use strict";
        var i = this && this.__importDefault || function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = i(n(1))
            , o = i(n(2))
            , a = i(n(3))
            , s = i(n(0))
            , l = function() {
            function e(e) {
                this._player = e,
                    this._blockList = [],
                    this._blockSelectedIndexList = [],
                    this.state = {},
                    this._guid = this._getGuidFunction(),
                    this.state = {
                        onSetting: !1,
                        isInitialize: !1
                    }
            }
            return e.prototype.canInject = function() {
                return this.state.isInitialize
            }
                ,
                e.prototype.set = function(e, t, n) {
                    var i = this;
                    switch (e) {
                        case "levelShield":
                            this.state.onSetting = !0;
                            break;
                        case "addShieldWord":
                            this.state.onSetting = !0,
                                this.shieldKeyword(s.default.BLOCK_ADD_SHIELD, t, (function() {
                                        i.addShield(t)
                                    }
                                ));
                            break;
                        case "addShieldUser":
                            this.state.onSetting = !0;
                            var r = t.uid + "_" + t.uname;
                            this.addShield(r, 1),
                                this._fire("addShieldList", {
                                    code: 0,
                                    msg: r
                                });
                            break;
                        case "deleteShieldId":
                            this._setBlockSelectListByIndex(t);
                            break;
                        case "roomListShield":
                            this.state.onSetting = !0,
                                this._onRoomShieldChange(!!t);
                            break;
                        case "globalShield":
                            var a = t.type
                                , l = t.level
                                , c = t.minutes;
                            a ? (this.state.onSetting = !0,
                                this._applyAdminBlock(a, l, c)) : o.default.log("Set globalShield Error, data: " + JSON.stringify(t), 1);
                            break;
                        case "setUserShield":
                            this.state.onSetting = !0,
                                this._setUserShield(t, n)
                    }
                }
                ,
                e.prototype.shieldKeyword = function(e, t, n, i) {
                    var o = this;
                    void 0 === e && (e = s.default.BLOCK_ADD_SHIELD),
                        r.default.ajax({
                            type: "post",
                            url: a.default.shieldKeyword,
                            data: {
                                roomid: this._player.config.rid,
                                type: e,
                                keyword: t
                            }
                        }, (function(a) {
                                r.default.log(a),
                                    0 === a.code ? ("function" == typeof n && n(),
                                        s.default.BLOCK_ADD_SHIELD === e ? o._fire("addShieldList", {
                                            code: 0,
                                            msg: t
                                        }) : s.default.BLOCK_REMOVE_SHIELD === e && o._fire("deleteShieldList", [i])) : o._fire("addShieldList", a)
                            }
                        ))
                }
                ,
                e.prototype.shieldUser = function(e, t, n, i) {
                    var l = this;
                    void 0 === e && (e = s.default.BLOCK_ADD_SHIELD),
                        r.default.ajax({
                            type: "post",
                            url: a.default.shieldUser,
                            data: {
                                roomid: this._player.config.rid,
                                type: e,
                                uid: t
                            }
                        }, (function(t) {
                                if (0 === t.code)
                                    if ("function" == typeof n && n(),
                                    s.default.BLOCK_ADD_SHIELD === e) {
                                        o.default.log("Block Add Shield.");
                                        var r = t.data.uid + "_" + t.data.uname;
                                        l.addShield(r, 1),
                                            l._fire("addShieldList", {
                                                code: 0,
                                                msg: r
                                            })
                                    } else
                                        s.default.BLOCK_REMOVE_SHIELD === e && l._fire("deleteShieldList", [i])
                            }
                        ))
                }
                ,
                e.prototype.shieldLevel = function(e) {
                    r.default.ajax({
                        type: "post",
                        url: a.default.setUserShield,
                        data: {
                            room_id: this._player.config.rid,
                            level_sheild: e
                        }
                    }, (function(e) {
                            r.default.log(e),
                                e.code
                        }
                    ))
                }
                ,
                e.prototype.injectUserData = function() {
                    var e = this;
                    if (this._player.user) {
                        var t = this._player.user.getFullUserConfig();
                        this._guid = this._getGuidFunction(),
                        t.userShieldKeyWord && t.userShieldKeyWord.length && t.userShieldKeyWord.forEach((function(t) {
                                e.addShield(t)
                            }
                        )),
                        t.shieldUser && t.shieldUser.length && t.shieldUser.forEach((function(t) {
                                e.addShield(t, s.default.BLOCK_MODE_USER)
                            }
                        ))
                    }
                }
                ,
                e.prototype.addShield = function(e, t) {
                    void 0 === t && (t = 0);
                    var n = this._guid()
                        , i = "bilibili_block_list_" + n;
                    this._blockList.push({
                        index: n,
                        id: i,
                        keyword: e,
                        mode: t
                    })
                }
                ,
                e.prototype.removeShield = function() {
                    var e, t = this, n = this._blockSelectedIndexList.sort((function(e, t) {
                            return t - e
                        }
                    )), i = this._blockList;
                    r.default.log(n, this._blockList),
                        n.forEach((function(n) {
                                e = i[n],
                                    r.default.log(e.keyword),
                                    function(e) {
                                        if (s.default.BLOCK_MODE_KEYWORD === e.mode)
                                            t.shieldKeyword(s.default.BLOCK_REMOVE_SHIELD, e.keyword, (function() {
                                                    i[n] = void 0
                                                }
                                            ), e.index);
                                        else if (s.default.BLOCK_MODE_USER === e.mode) {
                                            var r = parseInt(e.keyword.split("_")[0], 10);
                                            t.shieldUser(s.default.BLOCK_REMOVE_SHIELD, r, (function() {
                                                    i[n] = void 0
                                                }
                                            ), e.index)
                                        }
                                    }(e)
                            }
                        )),
                        this._checkBlockList()
                }
                ,
                e.prototype.getBlockList = function() {
                    return this._blockList
                }
                ,
                e.prototype.initialize = function() {
                    this.injectUserData(),
                        this.state.isInitialize = !0
                }
                ,
                e.prototype._getGuidFunction = function() {
                    var e = 0;
                    return function() {
                        return e++
                    }
                }
                ,
                e.prototype._checkBlockList = function() {
                    this._blockSelectedIndexList = [];
                    for (var e = 0, t = this._blockList.length; e < t; e++)
                        if (this._blockList[e])
                            return !1;
                    return this._blockList = [],
                        !0
                }
                ,
                e.prototype._applyAdminBlock = function(e, t, n) {
                    var i = this;
                    t = isNaN(t) ? 0 : t,
                        r.default.ajax({
                            type: "post",
                            url: a.default.roomSilent,
                            data: {
                                minute: n,
                                room_id: this._player.config.rid,
                                type: e,
                                level: t
                            }
                        }, (function(e) {
                                r.default.log(e),
                                    i._fire("globalShield", e)
                            }
                        ))
                }
                ,
                e.prototype._setUserShield = function(e, t) {
                    var n = this;
                    r.default.ajax({
                        url: a.default.userSilent,
                        type: "post",
                        data: e
                    }, (function(i) {
                            "function" == typeof t && t(i),
                            0 === i.code && n._updateUserShieldConfig(e)
                        }
                    ))
                }
                ,
                e.prototype._updateUserShieldConfig = function(e) {
                    var t = this._player.config;
                    switch (e.type) {
                        case "level":
                            t.user.silentLevel = e.level;
                            break;
                        case "rank":
                            t.user.silentRank = e.level;
                            break;
                        case "verify":
                            t.user.silentVerify = !!e.level
                    }
                }
                ,
                e.prototype._setBlockSelectListByIndex = function(e) {
                    r.default.log(this._blockList, this._blockSelectedIndexList),
                        this._blockSelectedIndexList = [];
                    var t = this._blockList;
                    if (e && e.length)
                        for (var n = 0, i = e.length; n < i; n++)
                            for (var o = e[n], a = 0, s = t.length; a < s; a++)
                                t[a] && t[a].index === o && this._blockSelectedIndexList.push(o);
                    this.removeShield()
                }
                ,
                e.prototype._onRoomShieldChange = function(e) {
                    var t = this;
                    void 0 === e && (e = !1),
                        r.default.ajax({
                            type: "post",
                            url: a.default.setRoomShield,
                            data: {
                                roomid: this._player.config.rid,
                                type: e
                            }
                        }, (function(n) {
                                r.default.log(n),
                                0 === n.code && t._fire("roomListShield", !!e)
                            }
                        ))
                }
                ,
                e.prototype._fire = function(e, t) {
                    r.default.fireEventCallback(this._player.callbackMap.set, {
                        component: "block",
                        action: e,
                        data: t
                    })
                }
                ,
                e._STATE_HIDE = 0,
                e._STATE_SHOW = 1,
                e
        }();
        t.default = l
    }
    , function(e, t, n) {
        "use strict";
        var i, r = this && this.__extends || (i = function(e, t) {
                    return (i = Object.setPrototypeOf || {
                                __proto__: []
                            }instanceof Array && function(e, t) {
                                e.__proto__ = t
                            }
                            || function(e, t) {
                                for (var n in t)
                                    t.hasOwnProperty(n) && (e[n] = t[n])
                            }
                    )(e, t)
                }
                    ,
                    function(e, t) {
                        function n() {
                            this.constructor = e
                        }
                        i(e, t),
                            e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                                new n)
                    }
            ), o = this && this.__assign || function() {
                return (o = Object.assign || function(e) {
                        for (var t, n = 1, i = arguments.length; n < i; n++)
                            for (var r in t = arguments[n])
                                Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                        return e
                    }
                ).apply(this, arguments)
            }
            , a = this && this.__importDefault || function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            , s = this && this.__importStar || function(e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        Object.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                return t.default = e,
                    t
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var l = a(n(62))
            , c = a(n(3))
            , u = a(n(1))
            , d = s(n(0))
            , h = n(63)
            , f = a(n(2))
            , p = function(e) {
            function t(t) {
                var n = e.call(this, t) || this;
                return n.isReady = 0,
                    n.config = t.config,
                    n.state = {
                        superUser: {
                            isSuperUser: !1,
                            superUserForceColor: 0
                        },
                        hostServer: {
                            port: -1,
                            host: "",
                            hostServerList: [{
                                host: "",
                                port: -1,
                                wssPort: -1,
                                wsPort: -1
                            }]
                        },
                        shieldInfo: {
                            shieldUserList: [],
                            keywordList: [],
                            shieldRules: {
                                rank: 0,
                                verify: 0,
                                level: 0
                            }
                        },
                        danmuConf: {
                            mode: 1,
                            color: 16777215,
                            length: 20,
                            roomid: 0
                        },
                        roomSilent: {
                            type: "level",
                            level: 0,
                            second: 0
                        },
                        roomInitData: {
                            startTime: 0,
                            liveStatus: 0,
                            uid: parseInt(u.default.getCookie("DedeUserID"), 10) || 0,
                            roomShield: 0
                        }
                    },
                    f.default.log("current visit uid: " + n.state.roomInitData.uid),
                    n
            }
            return r(t, e),
                t.prototype.initialize = function() {
                    var e = this
                        , t = [];
                    return 0 === this.config.switchCount && this.config.useType === d.default.PLAYER_ROOM ? t.length = 0 : t = this.config.downgrade ? [] : [this.requestDanmuConfApi(), this.requestRoomSilent(), this.requestShieldInfo()],
                        h.Promise.all([this.requestDanmuServerApi(), h.Promise.all(t).catch((function(e) {
                                f.default.log("Load danmu getAll api error!! Info: \\n\\n" + JSON.stringify(e) + "\\n`", 2)
                            }
                        ))]).then((function() {
                                if (0 !== t.length) {
                                    var n = e.initDanmaku();
                                    "function" == typeof e.config.onInitDanmaku && e.config.onInitDanmaku(n)
                                }
                            }
                        ))
                }
                ,
                t.prototype.setRoomInitData = function(e, t) {
                    "object" == typeof e ? this.state.roomInitData = o({}, this.state.roomInitData, e) : this.state.roomInitData[t] = e
                }
                ,
                t.prototype.getSuperUser = function() {
                    return this.state.superUser
                }
                ,
                t.prototype.getHostServer = function() {
                    return this.state.hostServer
                }
                ,
                t.prototype.getShieldInfo = function() {
                    return this.state.shieldInfo
                }
                ,
                t.prototype.getDanmuConf = function() {
                    return this.state.danmuConf
                }
                ,
                t.prototype.getRoomSilent = function() {
                    return this.state.roomSilent
                }
                ,
                t.prototype.getRoomInitData = function() {
                    return this.state.roomInitData
                }
                ,
                t.prototype.getUserConfig = function() {
                    return {
                        id: this.getRoomInitData().uid,
                        silentLevel: this.getShieldInfo().shieldRules.level,
                        silentRank: this.getShieldInfo().shieldRules.rank,
                        silentVerify: !!this.getShieldInfo().shieldRules.verify,
                        isSuperUser: this.getSuperUser().isSuperUser,
                        superUserForceColor: this.getSuperUser().superUserForceColor
                    }
                }
                ,
                t.prototype.getFullUserConfig = function() {
                    return {
                        uid: this.getRoomInitData().uid,
                        login: !!this.getRoomInitData().uid,
                        time: this.getRoomInitData().startTime,
                        state: this.getRoomInitData().liveStatus,
                        chatid: this.config.cid,
                        hostList: this.getHostServer().hostServerList.map((function(e) {
                                return e.host
                            }
                        )),
                        shieldUser: this.getShieldInfo().shieldUserList.map((function(e) {
                                return e.uid + "_" + e.uname
                            }
                        )),
                        userShieldKeyWord: this.getShieldInfo().keywordList,
                        danmakuMode: this.getDanmuConf().mode,
                        roomShield: this.getRoomInitData().roomShield,
                        roomSilentType: this.getRoomSilent().type,
                        roomSilentLevel: this.getRoomSilent().level,
                        roomSilentSecond: this.getRoomSilent().second,
                        userSilentLevel: this.getShieldInfo().shieldRules.level,
                        userSilentVerify: !!this.getShieldInfo().shieldRules.verify,
                        userSilentRank: this.getShieldInfo().shieldRules.rank,
                        danmakuColor: this.getDanmuConf().color,
                        danmakuLength: this.getDanmuConf().length
                    }
                }
                ,
                t.prototype.initDanmaku = function(e) {
                    var t = this.state.danmuConf.color.toString(16);
                    t && (t = (Array(6).join("0") + t).slice(-6));
                    var n = this.getShieldInfo().shieldUserList.map((function(e) {
                            return e.uid + "_" + e.uname
                        }
                    ))
                        , i = {
                        ready: this.isReady++,
                        level: this.getShieldInfo().shieldRules.level,
                        shield_list: this.getShieldInfo().keywordList.concat(n),
                        shield_keyword: this.getShieldInfo().keywordList,
                        shield_users: n,
                        danmu_color: "0x" + t,
                        danmu_length: this.getDanmuConf().length,
                        danmu_mode: this.getDanmuConf().mode,
                        room_silent_type: this.getRoomSilent().type,
                        room_silent_level: this.getRoomSilent().level,
                        room_silent_second: this.getRoomSilent().second,
                        user_silent_level: this.getShieldInfo().shieldRules.level,
                        user_silent_rank: this.getShieldInfo().shieldRules.rank,
                        user_silent_verify: this.getShieldInfo().shieldRules.verify
                    };
                    return "function" == typeof e && e(i),
                        i
                }
                ,
                t.prototype.requestDanmuServerApi = function(e) {
                    var t, n, i = this;
                    return void 0 === e && (e = !0),
                        new h.Promise((function(r, o) {
                                u.default.ajax({
                                    data: {
                                        id: i.config.cid,
                                        type: 0
                                    },
                                    url: c.default.danmakuHosts,
                                    beforeSend: function() {
                                        n = f.default.log("Loading danmu server getConf api"),
                                            u.default.time("Load API Danmu Server"),
                                            t = u.default.getTimeNow(!0)
                                    }
                                }, (function(o) {
                                        if (f.default.log("Loaded danmu getConf api", 0, n),
                                            f.default.log("Loaded danmaku host API:\n\n " + JSON.stringify(o) + " \n", 3),
                                            u.default.time("Load API Danmu Server", !0),
                                            e) {
                                            var a = u.default.getTimeNow(!0) - t;
                                            "function" == typeof i.config.onTrack && (i.config.onTrack(d.TRACK.STATISTIC_HOST_SERVER_LOADED, a),
                                                i.config.onTrack(d.TRACK.STATISTICS_SCRIPT_LOADED_TIME, i.config.scriptLoadTime))
                                        }
                                        o && 0 === o.code && o.data && 0 !== Object.keys(o.data).length && (i.setServerHost(o.data),
                                            r())
                                    }
                                ), (function(e) {
                                        f.default.log("Load getConf api error!! Info: \\n\\n" + JSON.stringify(e) + "\\n`", 2),
                                            o(e)
                                    }
                                ))
                            }
                        ))
                }
                ,
                t.prototype.setInitData = function(e) {
                    f.default.log("inject data" + JSON.stringify(e)),
                    e.roomBlockInfo && this.setRoomSilent(e.roomBlockInfo),
                    e.userBlockInfo && this.setShieldInfo(e.userBlockInfo),
                    e.danmakuInfo && this.setDanmuConf(e.danmakuInfo);
                    var t = this.initDanmaku();
                    "function" == typeof this.config.onInitDanmaku && this.config.onInitDanmaku(t)
                }
                ,
                t.prototype.requestDanmuConfApi = function() {
                    var e, t, n = this;
                    return new h.Promise((function(i, r) {
                            u.default.ajax({
                                data: {
                                    roomid: n.config.cid
                                },
                                url: c.default.danmuConf,
                                beforeSend: function() {
                                    t = f.default.log("Loading danmu getAll api"),
                                        e = u.default.getTimeNow(!0),
                                        u.default.time("Load Danmu Config API")
                                }
                            }, (function(o) {
                                    f.default.log("Loaded danmu getAll api. ", 0, t),
                                        f.default.log("Loaded danmaku API:\n\n " + JSON.stringify(o) + " \n", 3),
                                        u.default.time("Load Danmu Config API", !0);
                                    var a = u.default.getTimeNow(!0) - e;
                                    "function" == typeof n.config.onTrack && n.config.onTrack(d.TRACK.STATISTIC_DANMU_CONFIG_LOADED, a),
                                        o && 0 === o.code ? (n.setDanmuConf(o.data),
                                            i()) : r(o)
                                }
                            ), (function(e) {
                                    r(e)
                                }
                            ))
                        }
                    ))
                }
                ,
                t.prototype.setDanmuConf = function(e) {
                    this.state.danmuConf = o({}, this.state.danmuConf, e)
                }
                ,
                t.prototype.setServerHost = function(e) {
                    if (this.state.hostServer.port = e.port,
                        this.state.hostServer.host = e.host,
                        this.state.hostServer.token = e.token,
                    "[object Array]" === Object.prototype.toString.call(e.host_list)) {
                        var t = e.host_list.map((function(e) {
                                return {
                                    host: e.host,
                                    port: e.port,
                                    wsPort: e.ws_port,
                                    wssPort: e.wss_port
                                }
                            }
                        ));
                        this.state.hostServer.hostServerList = t.slice()
                    }
                }
                ,
                t.prototype.requestRoomSilent = function() {
                    var e, t, n = this;
                    return new h.Promise((function(i, r) {
                            u.default.ajax({
                                data: {
                                    room_id: n.config.cid
                                },
                                url: c.default.getRoomSilent,
                                beforeSend: function() {
                                    t = f.default.log("Loading room silent api"),
                                        u.default.time("Load API Room Silent"),
                                        e = u.default.getTimeNow(!0)
                                }
                            }, (function(o) {
                                    f.default.log("Loaded room silent api", 0, t),
                                        f.default.log("Loaded room silent API:\n\n " + JSON.stringify(o) + " \n", 3),
                                        u.default.time("Load API Room Silent", !0);
                                    var a = u.default.getTimeNow(!0) - e;
                                    "function" == typeof n.config.onTrack && n.config.onTrack(d.TRACK.STATISTIC_ROOM_SILENT_LOADED, a),
                                        o && 0 === o.code ? (n.setRoomSilent(o.data),
                                            i()) : r(o)
                                }
                            ), (function(e) {
                                    r(e)
                                }
                            ))
                        }
                    ))
                }
                ,
                t.prototype.setRoomSilent = function(e) {
                    "[object Object]" === Object.prototype.toString.call(e) && 0 !== Object.keys(e).length && (this.state.roomSilent.second = e.second,
                        this.state.roomSilent.type = e.type,
                        this.state.roomSilent.level = e.level)
                }
                ,
                t.prototype.requestShieldInfo = function() {
                    var e, t, n = this;
                    return new h.Promise((function(i, r) {
                            u.default.ajax({
                                url: c.default.getShieldInfo,
                                beforeSend: function() {
                                    t = f.default.log("Loading shield info api"),
                                        u.default.time("Load API Shield"),
                                        e = u.default.getTimeNow(!0)
                                }
                            }, (function(o) {
                                    f.default.log("Loaded shield info api", 0, t),
                                        f.default.log("Loaded silent info API:\n\n " + JSON.stringify(o) + " \n", 3),
                                        u.default.time("Load API Shield", !0);
                                    var a = u.default.getTimeNow(!0) - e;
                                    "function" == typeof n.config.onTrack && n.config.onTrack(d.TRACK.STATISTIC_SHIELD_INFO_LOADED, a),
                                        o && o.data ? (n.setShieldInfo(o.data),
                                            i()) : r(o)
                                }
                            ), (function(e) {
                                    r(e)
                                }
                            ))
                        }
                    ))
                }
                ,
                t.prototype.setShieldInfo = function(e) {
                    this.state.shieldInfo.shieldUserList = (e.shield_user_list || []).slice(),
                        this.state.shieldInfo.keywordList = (e.keyword_list || []).slice(),
                    "[object Object]" === Object.prototype.toString.call(e) && (this.state.shieldInfo.shieldRules = {
                        rank: e.shield_rules.rank,
                        verify: e.shield_rules.verify,
                        level: e.shield_rules.level
                    })
                }
                ,
                t.prototype._verifyUserIsSuperUser = function() {
                    var e = this;
                    u.default.ajax({
                        url: c.default.getSpecialUser
                    }, (function(t) {
                            f.default.log("Loaded Special User.");
                            var n = t.nixiang
                                , i = t.color;
                            t && n.length && i.length && n instanceof Array && n.indexOf(e.getRoomInitData().uid) > -1 && (e.state.superUser.isSuperUser = !0,
                                e.state.superUser.superUserForceColor = parseInt(i[e.getRoomInitData().uid], 10))
                        }
                    ), (function() {
                            f.default.log("Loading Special User Error.")
                        }
                    ))
                }
                ,
                t
        }(l.default);
        t.default = p
    }
    , function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = function() {
            function e(e) {
                this.options = e
            }
            return e.prototype.initialize = function() {}
                ,
                e.prototype.destroy = function() {}
                ,
                e
        }();
        t.default = i
    }
    , function(e, t, n) {
        (function(t, n) {
                /*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
                var i;
                i = function() {
                    "use strict";
                    function e(e) {
                        return "function" == typeof e
                    }
                    var i = Array.isArray ? Array.isArray : function(e) {
                        return "[object Array]" === Object.prototype.toString.call(e)
                    }
                        , r = 0
                        , o = void 0
                        , a = void 0
                        , s = function(e, t) {
                        p[r] = e,
                            p[r + 1] = t,
                        2 === (r += 2) && (a ? a(v) : b())
                    }
                        , l = "undefined" != typeof window ? window : void 0
                        , c = l || {}
                        , u = c.MutationObserver || c.WebKitMutationObserver
                        , d = "undefined" == typeof self && void 0 !== t && "[object process]" === {}.toString.call(t)
                        , h = "undefined" != typeof Uint8ClampedArray && "undefined" != typeof importScripts && "undefined" != typeof MessageChannel;
                    function f() {
                        var e = setTimeout;
                        return function() {
                            return e(v, 1)
                        }
                    }
                    var p = new Array(1e3);
                    function v() {
                        for (var e = 0; e < r; e += 2)
                            (0,
                                p[e])(p[e + 1]),
                                p[e] = void 0,
                                p[e + 1] = void 0;
                        r = 0
                    }
                    var y, g, m, _, b = void 0;
                    function E(e, t) {
                        var n = this
                            , i = new this.constructor(w);
                        void 0 === i[T] && D(i);
                        var r = n._state;
                        if (r) {
                            var o = arguments[r - 1];
                            s((function() {
                                    return P(r, i, o, n._result)
                                }
                            ))
                        } else
                            R(n, i, e, t);
                        return i
                    }
                    function S(e) {
                        if (e && "object" == typeof e && e.constructor === this)
                            return e;
                        var t = new this(w);
                        return A(t, e),
                            t
                    }
                    d ? b = function() {
                            return t.nextTick(v)
                        }
                        : u ? (g = 0,
                                m = new u(v),
                                _ = document.createTextNode(""),
                                m.observe(_, {
                                    characterData: !0
                                }),
                                b = function() {
                                    _.data = g = ++g % 2
                                }
                        ) : h ? ((y = new MessageChannel).port1.onmessage = v,
                                b = function() {
                                    return y.port2.postMessage(0)
                                }
                        ) : b = void 0 === l ? function() {
                            try {
                                var e = Function("return this")().require("vertx");
                                return void 0 !== (o = e.runOnLoop || e.runOnContext) ? function() {
                                        o(v)
                                    }
                                    : f()
                            } catch (e) {
                                return f()
                            }
                        }() : f();
                    var T = Math.random().toString(36).substring(2);
                    function w() {}
                    function C(t, n, i) {
                        n.constructor === t.constructor && i === E && n.constructor.resolve === S ? function(e, t) {
                            1 === t._state ? x(e, t._result) : 2 === t._state ? L(e, t._result) : R(t, void 0, (function(t) {
                                    return A(e, t)
                                }
                            ), (function(t) {
                                    return L(e, t)
                                }
                            ))
                        }(t, n) : void 0 === i ? x(t, n) : e(i) ? function(e, t, n) {
                            s((function(e) {
                                    var i = !1
                                        , r = function(e, t, n, i) {
                                        try {
                                            e.call(t, n, i)
                                        } catch (e) {
                                            return e
                                        }
                                    }(n, t, (function(n) {
                                            i || (i = !0,
                                                t !== n ? A(e, n) : x(e, n))
                                        }
                                    ), (function(t) {
                                            i || (i = !0,
                                                L(e, t))
                                        }
                                    ), e._label);
                                    !i && r && (i = !0,
                                        L(e, r))
                                }
                            ), e)
                        }(t, n, i) : x(t, n)
                    }
                    function A(e, t) {
                        if (e === t)
                            L(e, new TypeError("You cannot resolve a promise with itself"));
                        else if (r = typeof (i = t),
                        null === i || "object" !== r && "function" !== r)
                            x(e, t);
                        else {
                            var n = void 0;
                            try {
                                n = t.then
                            } catch (t) {
                                return void L(e, t)
                            }
                            C(e, t, n)
                        }
                        var i, r
                    }
                    function k(e) {
                        e._onerror && e._onerror(e._result),
                            I(e)
                    }
                    function x(e, t) {
                        void 0 === e._state && (e._result = t,
                            e._state = 1,
                        0 !== e._subscribers.length && s(I, e))
                    }
                    function L(e, t) {
                        void 0 === e._state && (e._state = 2,
                            e._result = t,
                            s(k, e))
                    }
                    function R(e, t, n, i) {
                        var r = e._subscribers
                            , o = r.length;
                        e._onerror = null,
                            r[o] = t,
                            r[o + 1] = n,
                            r[o + 2] = i,
                        0 === o && e._state && s(I, e)
                    }
                    function I(e) {
                        var t = e._subscribers
                            , n = e._state;
                        if (0 !== t.length) {
                            for (var i = void 0, r = void 0, o = e._result, a = 0; a < t.length; a += 3)
                                i = t[a],
                                    r = t[a + n],
                                    i ? P(n, i, r, o) : r(o);
                            e._subscribers.length = 0
                        }
                    }
                    function P(t, n, i, r) {
                        var o = e(i)
                            , a = void 0
                            , s = void 0
                            , l = !0;
                        if (o) {
                            try {
                                a = i(r)
                            } catch (e) {
                                l = !1,
                                    s = e
                            }
                            if (n === a)
                                return void L(n, new TypeError("A promises callback cannot return that same promise."))
                        } else
                            a = r;
                        void 0 !== n._state || (o && l ? A(n, a) : !1 === l ? L(n, s) : 1 === t ? x(n, a) : 2 === t && L(n, a))
                    }
                    var M = 0;
                    function D(e) {
                        e[T] = M++,
                            e._state = void 0,
                            e._result = void 0,
                            e._subscribers = []
                    }
                    var O = function() {
                        function e(e, t) {
                            this._instanceConstructor = e,
                                this.promise = new e(w),
                            this.promise[T] || D(this.promise),
                                i(t) ? (this.length = t.length,
                                    this._remaining = t.length,
                                    this._result = new Array(this.length),
                                    0 === this.length ? x(this.promise, this._result) : (this.length = this.length || 0,
                                        this._enumerate(t),
                                    0 === this._remaining && x(this.promise, this._result))) : L(this.promise, new Error("Array Methods must be provided an Array"))
                        }
                        return e.prototype._enumerate = function(e) {
                            for (var t = 0; void 0 === this._state && t < e.length; t++)
                                this._eachEntry(e[t], t)
                        }
                            ,
                            e.prototype._eachEntry = function(e, t) {
                                var n = this._instanceConstructor
                                    , i = n.resolve;
                                if (i === S) {
                                    var r = void 0
                                        , o = void 0
                                        , a = !1;
                                    try {
                                        r = e.then
                                    } catch (e) {
                                        a = !0,
                                            o = e
                                    }
                                    if (r === E && void 0 !== e._state)
                                        this._settledAt(e._state, t, e._result);
                                    else if ("function" != typeof r)
                                        this._remaining--,
                                            this._result[t] = e;
                                    else if (n === N) {
                                        var s = new n(w);
                                        a ? L(s, o) : C(s, e, r),
                                            this._willSettleAt(s, t)
                                    } else
                                        this._willSettleAt(new n((function(t) {
                                                return t(e)
                                            }
                                        )), t)
                                } else
                                    this._willSettleAt(i(e), t)
                            }
                            ,
                            e.prototype._settledAt = function(e, t, n) {
                                var i = this.promise;
                                void 0 === i._state && (this._remaining--,
                                    2 === e ? L(i, n) : this._result[t] = n),
                                0 === this._remaining && x(i, this._result)
                            }
                            ,
                            e.prototype._willSettleAt = function(e, t) {
                                var n = this;
                                R(e, void 0, (function(e) {
                                        return n._settledAt(1, t, e)
                                    }
                                ), (function(e) {
                                        return n._settledAt(2, t, e)
                                    }
                                ))
                            }
                            ,
                            e
                    }()
                        , N = function() {
                        function t(e) {
                            this[T] = M++,
                                this._result = this._state = void 0,
                                this._subscribers = [],
                            w !== e && ("function" != typeof e && function() {
                                throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")
                            }(),
                                this instanceof t ? function(e, t) {
                                    try {
                                        t((function(t) {
                                                A(e, t)
                                            }
                                        ), (function(t) {
                                                L(e, t)
                                            }
                                        ))
                                    } catch (t) {
                                        L(e, t)
                                    }
                                }(this, e) : function() {
                                    throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")
                                }())
                        }
                        return t.prototype.catch = function(e) {
                            return this.then(null, e)
                        }
                            ,
                            t.prototype.finally = function(t) {
                                var n = this.constructor;
                                return e(t) ? this.then((function(e) {
                                        return n.resolve(t()).then((function() {
                                                return e
                                            }
                                        ))
                                    }
                                ), (function(e) {
                                        return n.resolve(t()).then((function() {
                                                throw e
                                            }
                                        ))
                                    }
                                )) : this.then(t, t)
                            }
                            ,
                            t
                    }();
                    return N.prototype.then = E,
                        N.all = function(e) {
                            return new O(this,e).promise
                        }
                        ,
                        N.race = function(e) {
                            var t = this;
                            return i(e) ? new t((function(n, i) {
                                    for (var r = e.length, o = 0; o < r; o++)
                                        t.resolve(e[o]).then(n, i)
                                }
                            )) : new t((function(e, t) {
                                    return t(new TypeError("You must pass an array to race."))
                                }
                            ))
                        }
                        ,
                        N.resolve = S,
                        N.reject = function(e) {
                            var t = new this(w);
                            return L(t, e),
                                t
                        }
                        ,
                        N._setScheduler = function(e) {
                            a = e
                        }
                        ,
                        N._setAsap = function(e) {
                            s = e
                        }
                        ,
                        N._asap = s,
                        N.polyfill = function() {
                            var e = void 0;
                            if (void 0 !== n)
                                e = n;
                            else if ("undefined" != typeof self)
                                e = self;
                            else
                                try {
                                    e = Function("return this")()
                                } catch (e) {
                                    throw new Error("polyfill failed because global object is unavailable in this environment")
                                }
                            var t = e.Promise;
                            if (t) {
                                var i = null;
                                try {
                                    i = Object.prototype.toString.call(t.resolve())
                                } catch (e) {}
                                if ("[object Promise]" === i && !t.cast)
                                    return
                            }
                            e.Promise = N
                        }
                        ,
                        N.Promise = N,
                        N
                }
                    ,
                    e.exports = i()
            }
        ).call(this, n(12), n(10))
    }
    , function(e, t, n) {
        "use strict";
        var i = this && this.__importDefault || function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = i(n(65))
            , o = i(n(1))
            , a = i(n(3))
            , s = function() {
            function e(e) {
                this._container = e
            }
            return e._createModalHtml = function(e, t) {
                var n = t.reduce((function(e, t) {
                        return e + "<li>" + t.reason + "</li>"
                    }
                ), '<li style="display: none">请选择举报理由喔~</li>');
                return '\n            <div class="bilibili-live-player-report-wrap" style="\n            ">\n                <div class="bilibili-live-player-report-uname">' + e.uname + '</div>\n                <div class="bilibili-live-player-report-msg">' + e.msg + '</div>\n                <div class="bilibili-live-player-report-select-wrap">\n                    <div class="bilibili-live-player-report-select-input">\n                        <div class="bilibili-live-player-report-curt">请选择举报理由喔~</div>\n                        <div class="bilibili-live-player-report-icon"></div>\n                    </div>\n                    <ul\n                    class="bilibili-live-player-report-ul">' + n + "</ul>\n                </div>\n            </div>\n        "
            }
                ,
                e.prototype.show = function(e) {
                    var t = this;
                    o.default.ajax({
                        url: a.default.reportReason,
                        type: "get"
                    }, (function(n) {
                            var i;
                            i = 0 === n.code ? n.data : [{
                                id: 1,
                                reason: "违法违规"
                            }, {
                                id: 2,
                                reason: "低俗色情"
                            }, {
                                id: 3,
                                reason: "垃圾广告"
                            }, {
                                id: 4,
                                reason: "辱骂引战"
                            }, {
                                id: 5,
                                reason: "政治敏感"
                            }, {
                                id: 6,
                                reason: "青少年不良信息"
                            }, {
                                id: 7,
                                reason: "其他"
                            }],
                                t.handleReport(e, i)
                        }
                    ))
                }
                ,
                e.prototype.checkReportState = function() {
                    var e = document.querySelector(".live-bilibili-player-report-cancel");
                    e && e.click()
                }
                ,
                e.prototype.handleReport = function(t, n) {
                    var i = this;
                    this.checkReportState();
                    var o = e._createModalHtml(t, n)
                        , a = function(e) {
                        var t = e.target.innerText;
                        h.disabled = "请选择举报理由喔~" === t && "获取不到举报理由，请尝试刷新后举报喔~" === t,
                            u.innerText = t,
                            c.style.display = "none",
                            c.childNodes.forEach((function(e) {
                                    "none" === e.style.display && (e.style.cssText = "block")
                                }
                            )),
                            e.target.style.display = "none"
                    }
                        , s = function() {
                        c.style.display = "block"
                    }
                        , l = function() {
                        c.style.display = "none"
                    };
                    this._modal = new r.default(this._container,{
                        title: "举报弹幕",
                        html: o,
                        btns: [{
                            type: "submit",
                            text: "警察叔叔就是他",
                            click: function() {
                                i._submitFunction.call(i, t);
                                var e = document.querySelector(".bilibili-live-player-report-ul")
                                    , n = document.querySelector(".bilibili-live-player-report-select-wrap");
                                e.removeEventListener("click", a),
                                    n.removeEventListener("click", l),
                                    n.removeEventListener("click", s)
                            }
                        }, {
                            type: "cancel",
                            text: "饶他一命",
                            click: function() {
                                document.querySelector(".bilibili-live-player-report-ul").removeEventListener("click", a),
                                    d.removeEventListener("click", l),
                                    d.removeEventListener("click", s)
                            }
                        }],
                        width: 360,
                        autoRemove: !0,
                        autoShow: !0,
                        btnPostion: "flex-report"
                    });
                    var c = document.querySelector(".bilibili-live-player-report-ul")
                        , u = document.querySelector(".bilibili-live-player-report-curt")
                        , d = document.querySelector(".bilibili-live-player-report-select-wrap")
                        , h = document.querySelector(".blp-plugin-modal-btn");
                    h.disabled = !0,
                        c.addEventListener("click", a.bind(this)),
                        d.addEventListener("mouseover", s.bind(this)),
                        d.addEventListener("mouseout", l.bind(this))
                }
                ,
                e.prototype._submitFunction = function(e) {
                    var t = this
                        , n = this._container.find(".bilibili-live-player-report-curt").last()[0].innerText
                        , i = e.checkInfo;
                    n && o.default.ajax({
                        url: a.default.reportDanmaku,
                        type: "post",
                        data: {
                            reason: n,
                            roomid: e.roomid,
                            msg: e.msg,
                            uid: e.uid,
                            ts: i.ts,
                            sign: i.ct
                        }
                    }, (function(e) {
                            0 === e.code && t._modal.hide()
                        }
                    ))
                }
                ,
                e
        }();
        t.default = s
    }
    , function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = function() {
            function e(t, n) {
                this._container = t,
                    this._snippet = ['<div class="blp-plugin-modal">', '<div class="blp-plugin-modal-header"></div>', '<div class="blp-plugin-modal-body"></div>', '<div class="blp-plugin-modal-footer clearfix"></div>', '<div class="blp-plugin-modal-close"><i class="live-icon-close"></i></div>', "</div>"],
                    this._opts = $.extend({}, e._DEFAULT_OPTIONS, n),
                    this._initialize()
            }
            return e.prototype.show = function() {
                var e = this._opts
                    , t = this._template;
                this._freshPos(),
                    t._container.addClass("active"),
                "function" == typeof e.onShow && e.onShow()
            }
                ,
                e.prototype.hide = function() {
                    var e = this._opts;
                    this._template._container.removeClass("active"),
                    "function" == typeof e.onShow && e.onHide(),
                    e.autoRemove && this.destroy()
                }
                ,
                e.prototype.destroy = function() {
                    this._template._container.remove()
                }
                ,
                e.prototype._initialize = function() {
                    this._create()._bindEvents(),
                    this._opts.autoShow && this.show()
                }
                ,
                e.prototype._create = function() {
                    var e = $(this._snippet.join(""));
                    this._template = {
                        _container: e,
                        _header: e.find(".blp-plugin-modal-header"),
                        _body: e.find(".blp-plugin-modal-body"),
                        _footer: e.find(".blp-plugin-modal-footer"),
                        _close: e.find(".blp-plugin-modal-close")
                    };
                    var t = this._template
                        , n = this._opts;
                    return t._header.html(n.title),
                        t._body.html(n.html || n.text),
                        this._createBtn(t._footer, n.btns, n),
                    n.hideBtn && t._close.addClass("active"),
                        this._container.append(e),
                    n.width && e.width(n.width),
                        this
                }
                ,
                e.prototype._createBtn = function(e, t, n) {
                    var i = this;
                    if (t instanceof Array)
                        t.forEach((function(t) {
                                i._createBtn(e, t, n)
                            }
                        ));
                    else {
                        var r = void 0;
                        switch (t.type) {
                            case "submit":
                                r = $("<button>").addClass("blp-plugin-modal-btn submit-btn").html(t.text),
                                "function" == typeof t.click && r.on("click", (function(e) {
                                        t.click(e),
                                            i.hide()
                                    }
                                ));
                                break;
                            case "cancel":
                                r = $("<button>").addClass("blp-plugin-modal-btn cancel-btn").html(t.text),
                                "flex-report" === n.btnPostion && r.addClass("live-bilibili-player-report-cancel"),
                                    r.on("click", (function() {
                                            i.hide()
                                        }
                                    ))
                        }
                        r && e.append(r)
                    }
                }
                ,
                e.prototype._bindEvents = function() {
                    var e = this;
                    return this._opts.hideBtn && this._template._close.on("click", (function() {
                            e.hide()
                        }
                    )),
                        this
                }
                ,
                e.prototype._freshPos = function() {
                    var e, t, n = this._opts, i = (this._container,
                        this._template._container), r = this._template._footer, o = 0, a = 0;
                    switch (n.btnPostion) {
                        case "flex-report":
                            r.css({
                                display: "flex",
                                justifyContent: "space-between",
                                marginTop: "69px"
                            }),
                                i.css({
                                    height: 190,
                                    padding: 20
                                })
                    }
                    switch (n.position) {
                        case "center-center":
                            e = "50%",
                                t = "50%",
                                o = -1 * i.outerWidth() / 2,
                                a = -1 * i.outerHeight() / 2
                    }
                    i.css({
                        left: e,
                        top: t,
                        marginLeft: o,
                        marginTop: a
                    })
                }
                ,
                e._DEFAULT_OPTIONS = {
                    title: "Bilibili HTML5 Live Player Modal",
                    theme: "white",
                    text: "Are you confirm the operation?",
                    btns: [{
                        type: "submit",
                        text: "Confirm",
                        click: function() {}
                    }, {
                        type: "cancel",
                        text: "Cancel",
                        click: function() {}
                    }],
                    appendTo: $(document.body),
                    mask: !0,
                    position: "center-center",
                    hideBtn: !0,
                    autoShow: !0
                },
                e
        }();
        t.default = i
    }
    , function(e, t, n) {
        "use strict";
        var i = this && this.__importDefault || function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = i(n(1))
            , o = n(0)
            , a = i(n(3))
            , s = function() {
            function e(e, t) {
                var n = this;
                this.config = e,
                    this.state = t,
                    this.bufferSlowReport = function() {
                        var e = ""
                            , t = n.config.rid
                            , i = "web-" + n.config.version().version
                            , r = 0
                            , o = "-"
                            , a = null;
                        function s() {
                            if (0 !== r) {
                                if (!e)
                                    return console.error("没有流地址，无法上报卡顿数据"),
                                        void (r = 0);
                                var n = [Date.now(), t, encodeURIComponent(e), "-", "-", r, i, o].join("|");
                                $.ajax({
                                    url: "//skynet.bilivideo.com/t1000/log/report",
                                    method: "POST",
                                    contentType: "text/plain; charset=utf-8",
                                    data: n
                                }),
                                    r = 0
                            }
                        }
                        return {
                            setVideoUrl: function(t) {
                                e !== t && (s(),
                                    o = "-",
                                    e = t,
                                    clearInterval(a),
                                    a = window.setInterval((function() {
                                            s()
                                        }
                                    ), 6e4))
                            },
                            setP2PType: function(e) {
                                o = e
                            },
                            counter: function() {
                                e ? r += 1 : console.error("未设置流地址，当前卡顿计数无效")
                            }
                        }
                    }(),
                    this._initialize()
            }
            return e.prototype.send = function(e, t) {
                switch (t && t.time ? o.TRACK.STATISTICS_PLAYING_TIME : t && t.counts >= 0 || console.debug("[Player] Tracking " + r.default.getPropertyNameByValue(o.TRACK, e) + " (" + e + ")."),
                    e) {
                    case o.TRACK.UV:
                        break;
                    default:
                        this._sendEvents(e, t)
                }
            }
                ,
                e.prototype._initialize = function() {}
                ,
                e.prototype._sendEvents = function(e, t) {
                    var n = this.config
                        , i = this.state
                        , s = {
                        fId: ["home", "page", "activity"][n.useType] || "page",
                        fVer: n.version().version,
                        result: e,
                        roomId: n.rid,
                        isHttps: n.protocol.api === o.STATE_STRING.PROTOCOL_API_HTTPS,
                        guid: i.guid,
                        loadTime: 0,
                        bufferTimes: 0,
                        playurl: i.playURL,
                        deltaTs: 0,
                        errorCode: 0,
                        cTime: Date.now(),
                        quality: i.quality,
                        displayId: n.playerId,
                        param: "",
                        coreType: i.coreType,
                        coreProtocol: i.coreProtocol,
                        streamInfo: i.streamInfo
                    };
                    switch (e) {
                        case o.TRACK.EXPERIENCE_FIRST_LOADED:
                        case o.TRACK.STATISTICS_FIRST_FRAME_COST:
                        case o.TRACK.EXPERIENCE_FIRST_SCREEN_TIME:
                        case o.TRACK.EXPERIENCE_FIRST_INIT_TIME:
                        case o.TRACK.EXPERIENCE_FIRST_PLAYER:
                        case o.TRACK.EXPERIENCE_FIRST_PLAYURL:
                        case o.TRACK.EXPERIENCE_FIRST_LOAD:
                        case o.TRACK.EXPERIENCE_FIRST_AUDIO_FRAME_DECODED:
                        case o.TRACK.EXPERIENCE_FIRST_VEDIO_FRAME_DECODED:
                        case o.TRACK.STATISTIC_HTTP_CONNECTION_TIME:
                        case o.TRACK.STATISTICS_PLAYER_LOADED:
                        case o.TRACK.STATISTICS_SCRIPT_LOADED_TIME:
                        case o.TRACK.STATISTICS_INITIALIZED_TO_LOAD_PLAYURL:
                        case o.TRACK.STATISTICS_PLAYURL_LOADED:
                        case o.TRACK.STATISTICS_FIST_PACKET_COST:
                        case o.TRACK.STATISTICS_LOADEDMETADATA:
                        case o.TRACK.STATISTICS_VIDEO_BUFFERING_TIME:
                        case o.TRACK.STATISTICS_ROOM_INIT_API_LOAD_TIME:
                        case o.TRACK.STATISTIC_HOST_SERVER_LOADED:
                        case o.TRACK.STATISTIC_DANMU_CONFIG_LOADED:
                        case o.TRACK.STATISTIC_ROOM_SILENT_LOADED:
                        case o.TRACK.STATISTIC_CHASING_THRESHOLD:
                        case o.TRACK.STATISTIC_SHIELD_INFO_LOADED:
                            if (s.loadTime = Math.floor(t.time),
                            t.time < 0)
                                return !1;
                            break;
                        case o.TRACK.STATISTICS_REUSE_PLAYURL_TIME:
                            s.deltaTs = t.deltaTs;
                            break;
                        case o.TRACK.EXPERIENCE_BUFFERING_SLOWLY:
                            s.bufferTimes = t.counts;
                            break;
                        case o.TRACK.STATISTICS_PLAYING_TIME:
                            s.deltaTs = t.time,
                                s.streamInfo = {};
                            break;
                        case o.TRACK.ERROR_PLAYING:
                        case o.TRACK.ERROR_BLW_PLAYER:
                        case o.TRACK.ERROR_FIRST_PLAYING:
                            s.errorCode = t.errorCode;
                            break;
                        case o.TRACK.STATISTIC_PLAYER_RECEIVED_BYTES:
                        case o.TRACK.STATISTIC_HTTP_RECEIVED_BYTES:
                            s.deltaTs = t.delta_ts;
                            break;
                        case o.TRACK.STATISTICS_PLAYING_ERROR_WITH_CODE:
                            s.deltaTs = t.time,
                                s.errorCode = t.errorCode;
                            break;
                        case o.TRACK.STATISTICS_PAGE_INIT_TIME:
                            if (s.loadTime = Math.floor(t.time),
                            t.time > 5e3)
                                return !1;
                            break;
                        case o.TRACK.STATISTIC_PLAY_DELAY:
                        case o.TRACK.STATISTICS_VIDEO_BUFFERING:
                            s.deltaTs = t.time,
                                s.param = t.param;
                        case o.TRACK.STATISTICS_BILI_P2P:
                        case o.TRACK.STATISTICS_HEVC_SUPPORT:
                            if (!t.param)
                                return;
                            s.param = JSON.stringify(t.param)
                    }
                    var l = [s.fId, s.fVer, s.result, s.roomId, s.isHttps, s.guid, s.loadTime, s.bufferTimes, s.playurl, s.deltaTs, s.errorCode, s.cTime, s.quality, s.displayId, s.param, s.coreType, s.coreProtocol, JSON.stringify(s.streamInfo)].join("|")
                        , c = n.trackLogId;
                    o.TRACK.STATISTICS_PLAYING_TIME !== s.result && r.default.log("[Track] > " + s.result + " - " + (s.loadTime || s.deltaTs) + " ms"),
                    /localhost|127\.0\.0\.1/.test(location.origin) || -1 !== location.origin.indexOf("live-dev") || (t && t._send_beacon_ ? navigator.sendBeacon(a.default.track + "?" + c + Date.now() + l) : r.default.ajax({
                        url: a.default.track,
                        data: "" + c + Date.now() + l
                    }),
                    t && t.isFirstError && (t.isFirstError = !1,
                        this._sendEvents(o.TRACK.ERROR_FIRST_PLAYING, t)))
                }
                ,
                e
        }();
        t.default = s
    }
    , function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = n(0)
            , r = function() {
            function e(e) {
                this.componentName = "forbidden-panel",
                    this.container = e.container,
                    this.config = e.config
            }
            return e.prototype.initialize = function(e) {
                void 0 === e && (e = ""),
                    this.render(e)
            }
                ,
                e.prototype.destroy = function() {
                    this.template && this.container[0].removeChild(this.template.containerWrap)
                }
                ,
                e.prototype.parseDOM = function(e) {
                    var t = document.createElement("div");
                    return t.innerHTML = e,
                        t.childNodes
                }
                ,
                e.prototype.TPL = function() {
                    for (var e = this.config.prefix + "-" + this.componentName, t = n(68), r = document.createDocumentFragment(), o = this.parseDOM(t({
                        prefix: i.PREFIX
                    })), a = 0; a < o.length; a += 1)
                        r.appendChild(o[a]);
                    return this.template = {
                        containerWrap: r.querySelector("div." + e),
                        msgenWrap: r.querySelector("p." + e + "-text.msg-en"),
                        msgcnWrap: r.querySelector("p." + e + "-text.msg-cn"),
                        mailWrap: r.querySelector("p." + e + "-text.mail"),
                        maillinkWrap: r.querySelector("a." + e + "-mail-link")
                    },
                        r
                }
                ,
                e.prototype.render = function(e) {
                    var t = this.TPL()
                        , n = "" === e ? "Sorry, bilibili is currently not available in your country according to copyright restrictions<br/>非常抱歉，根据版权方要求，您所在的地区无法观看本直播" : e;
                    this.template.msgenWrap.textContent = this.template.msgenWrap.textContent.replace("#msg#", n).replace(/\\n/g, "<br />"),
                        this.container[0].appendChild(t)
                }
                ,
                e
        }();
        t.default = r
    }
    , function(e, t, n) {
        var i = n(4);
        e.exports = function(e) {
            var t = ""
                , n = e || {};
            return function(e) {
                var n = "".concat(e, "-forbidden-panel");
                t = t + "<div" + i.attr("class", i.classes(["".concat(n)], [!0]), !1, !0) + "><div" + i.attr("class", i.classes(["".concat(n, "-content")], [!0]), !1, !0) + "><div" + i.attr("class", i.classes(["".concat(n, "-image")], [!0]), !1, !0) + "></div><p" + i.attr("class", i.classes(["msg-en ".concat(n, "-text")], [!0]), !1, !0) + ">Bilibili is currently not available in your country .</p><p" + i.attr("class", i.classes(["msg-cn ".concat(n, "-text")], [!0]), !1, !0) + ">非常抱歉，您所在的国家或地区暂时无法观看这个直播。</p><p" + i.attr("class", i.classes(["mail ".concat(n, "-text")], [!0]), !1, !0) + ">如有疑问，请<a" + i.attr("class", i.classes(["".concat(n, "-mail-link")], [!0]), !1, !0) + ' href="mailto:livehelp@bilibili.com" target="_blank">联系我们</a></p></div></div>'
            }
                .call(this, "prefix"in n ? n.prefix : "undefined" != typeof prefix ? prefix : void 0),
                t
        }
    }
    , function(e, t, n) {
        "use strict";
        var i = this && this.__importDefault || function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = i(n(2))
            , o = n(0)
            , a = function() {
            function e(e) {
                this._container = e,
                    this._cur = 0,
                    this._max = 0,
                    this._completed = 100,
                    this._status = !0,
                    this._initialize()
            }
            return e.prototype.show = function() {
                return this._status || (this._status = !0,
                    r.default.log("LoadingPanel Show."),
                    this._container.show()),
                    this
            }
                ,
                e.prototype.hide = function() {
                    var e = this;
                    return this._status && (this._status = !1,
                        r.default.log("LoadingPanel Hide."),
                        this._percent ? (this._percent.html("Loading(100%)..."),
                            clearTimeout(this._TIMEOUT),
                            setTimeout((function() {
                                    e._container.fadeOut(300),
                                        e._percent.remove()
                                }
                            ), 100)) : this._container.hide()),
                        this
                }
                ,
                e.prototype.setPercent = function(e, t) {
                    this._max = e,
                        clearTimeout(this._TIMEOUT),
                        this._refreshPercent(t)
                }
                ,
                e.prototype._initialize = function() {
                    return this._create(),
                        r.default.log("LoadingPanel Initialized.."),
                        this
                }
                ,
                e.prototype._create = function() {
                    var e = n(70);
                    return this._container.html(e({
                        prefix: o.PREFIX
                    })),
                        this._percent = this._container.find(".bilibili-live-player-loading-panel-percent"),
                        this
                }
                ,
                e.prototype._refreshPercent = function(e) {
                    var t = this;
                    this._cur === this._completed ? (this.hide(),
                    e && e()) : this._cur < this._max ? (this._cur += Math.floor(5 * Math.random() + 1),
                    this._cur > this._completed && (this._cur = this._completed),
                        this._percent.html("Loading(" + this._cur + "%)..."),
                        this._TIMEOUT = setTimeout((function() {
                                t._refreshPercent(e)
                            }
                        ), 5)) : clearTimeout(this._TIMEOUT)
                }
                ,
                e
        }();
        t.default = a
    }
    , function(e, t, n) {
        var i = n(4);
        e.exports = function(e) {
            var t = ""
                , n = e || {};
            return function(e) {
                var n = "".concat(e, "-loading-panel");
                t = t + "<div" + i.attr("class", i.classes(["".concat(n, "-container")], [!0]), !1, !0) + "><div" + i.attr("class", i.classes(["".concat(n, "-img")], [!0]), !1, !0) + "></div></div>"
            }
                .call(this, "prefix"in n ? n.prefix : "undefined" != typeof prefix ? prefix : void 0),
                t
        }
    }
    , function(e, t, n) {
        "use strict";
        var i = this && this.__assign || function() {
                return (i = Object.assign || function(e) {
                        for (var t, n = 1, i = arguments.length; n < i; n++)
                            for (var r in t = arguments[n])
                                Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                        return e
                    }
                ).apply(this, arguments)
            }
            , r = this && this.__importDefault || function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = r(n(1))
            , a = r(n(2))
            , s = r(n(3))
            , l = n(0)
            , c = n(0)
            , u = "bilibili-live-player-ending-panel"
            , d = function() {
            function e(e, t) {
                this._player = e,
                    this._container = t,
                    this._initialized = !1,
                    this.defaultTipsText = "主播已关播",
                    this.hasHandleResize = !1
            }
            return e.prototype.show = function() {
                this._initialized || this._initialize(),
                    this._container.show()
            }
                ,
                e.prototype.hide = function() {
                    this._container.unbind().hide().html(""),
                        this._initialized = !1
                }
                ,
                e.prototype.destroy = function() {
                    var e = this._player.config.namespace;
                    this._container.off("click" + e)
                }
                ,
                e.prototype.setTipsValue = function(e, t) {
                    void 0 === t && (t = !1),
                        e = e || this.defaultTipsText,
                        t ? e = this.recieveTipsText : this.inputTipsText = e,
                    this._template && this._template._tipsWrap && this._template._tipsWrap.text(e)
                }
                ,
                e.prototype.handleResize = function() {
                    if (!this.hasHandleResize && this.showArr && this.showArr.length) {
                        for (var e = 6; e < this.showArr.length; e++)
                            this.showArr[e].cardType = this.showArr[e].cardType || "normal",
                                this.fireEvent(c.STATE_STRING.RECOMMEND_SHOW, this.showArr[e]);
                        this.hasHandleResize = !0
                    }
                }
                ,
                e.prototype._initialize = function() {
                    var e = this;
                    a.default.log("EndingPanel Initializing..");
                    var t = this._player.config
                        , n = {
                        room_id: t.rid || window.ROOMID,
                        count: 8,
                        rnd: t.rnd
                    }
                        , i = this._player.state.delay.recommend;
                    return this.inputTipsText = this._player.state.UIState.tipsText || this.defaultTipsText,
                        o.default.ajax({
                            data: n,
                            url: s.default.recommend,
                            delay: Date.now() < i.expires ? i.time : null,
                            beforeSend: function() {
                                a.default.log("Loading Recommend.."),
                                    e._initialized = !0
                            }
                        }, (function(t) {
                                a.default.log("Loaded Recommend."),
                                    t.data && t.data.recommend ? (t.data.recommend = t.data.recommend,
                                        a.default.log("EndingPanel Initialized.")) : (e.fireEvent(c.STATE_STRING.RECOMMEND_NOLIVE, null),
                                        t.data = {
                                            tips: "主播已关播..."
                                        },
                                        a.default.log("Loaded Recommend Error."),
                                        e._player.error(l.ERROR_CODE.RECOMMEND_RESOLVE_ERROR, "EndingPanel Error")),
                                t && t.data && e._create(t.data)
                            }
                        ), (function() {
                                a.default.log("Loading Recommend Error.", 2),
                                    e._player.error(l.ERROR_CODE.RECOMMEND_NETWORK_ERROR, "EndingPanel Error", !0)
                            }
                        )),
                        this._player.components.danmaku.play(),
                        this
                }
                ,
                e.prototype._bindEvents = function() {
                    var e = this
                        , t = this._player.config.namespace;
                    this._container.on("click" + t, "." + u + "-recommend-card", (function(t) {
                            t.preventDefault(),
                                e._player.track(l.TRACK.STATISTICS_RECOMMEND_ROOM);
                            try {
                                var n = $(t.target).attr("data-href") || $(t.target).parents("." + u + "-recommend-card").attr("data-href");
                                n && window.open(n)
                            } catch (e) {
                                a.default.log("Open recommend card error", 2)
                            }
                        }
                    )),
                        this._template._recommendWrap.on("click", (function(t) {
                                t.preventDefault();
                                for (var n = t.originalEvent.path, i = 0; i < n.length; i++)
                                    if ("a" === n[i].localName) {
                                        var r = n[i].getAttribute("data-index");
                                        e.showArr && r && e.fireEvent(c.STATE_STRING.RECOMMEND_CLICK, e.showArr[r])
                                    }
                            }
                        ));
                    for (var n = this._template._recommendWrap.find("." + u + "-recommend-card"), i = 0; i < n.length; i++)
                        n[i].addEventListener("mouseenter", (function(t) {
                                var n = t.target.getAttribute("data-index");
                                e.showArr && n && e.fireEvent(c.STATE_STRING.RECOMMEND_MOVE, e.showArr[n])
                            }
                        ))
                }
                ,
                e.prototype._create = function(e) {
                    var t = this._container
                        , r = n(72);
                    if (t.html(r({
                        prefix: l.PREFIX
                    })),
                        this._template = {
                            _tipsWrap: t.find("." + u + "-tips"),
                            _attentionBtnWrap: t.find("." + u + "-func-btn.btn-attention"),
                            _feedBtnWrap: t.find("." + u + "-func-btn.btn-feed"),
                            _recommendWrap: t.find("." + u + "-recommend")
                        },
                        this._player.state.UIState.recommend ? this._template._tipsWrap.html(e.tips) : this._template._tipsWrap.html(this.inputTipsText),
                        this.recieveTipsText = e.tips,
                    0 !== e.recommend.length || 0 !== e.record_list.length) {
                        var o = e.record_list.map((function(e) {
                                return i({}, e, {
                                    roomid: e.rid,
                                    cardType: "recommend"
                                })
                            }
                        ))
                            , a = e.recommend.length + e.record_list.length;
                        this.showArr = o.concat(e.recommend),
                            this.showArr = this.showArr.map((function(e) {
                                    if (!e.cardType) {
                                        var t = e.link.match(/[0-9]+$/i)
                                            , n = void 0;
                                        t && 0 !== t.length && (n = t[0]),
                                            e = i({}, e, {
                                                cardType: "normal",
                                                roomid: n
                                            })
                                    }
                                    return e
                                }
                            )),
                            this.showArr.sort((function(e, t) {
                                    return e.global_order - t.global_order
                                }
                            )),
                            this.showArr.length = a > 8 ? 8 : a
                    } else
                        this.showArr = [];
                    for (var s = 0; s < this.showArr.length && !(s >= 6); s++)
                        this.fireEvent(c.STATE_STRING.RECOMMEND_SHOW, this.showArr[s]);
                    return this._template._recommendWrap.html(this._getRecommendCard(this.showArr, 0)),
                        this._bindEvents(),
                        this
                }
                ,
                e.prototype.fireEvent = function(e, t) {
                    o.default.fireEventCallback(this._player.callbackMap.recommend, {
                        type: e,
                        data: t
                    })
                }
                ,
                e.prototype._getRecommendCard = function(e, t) {
                    if (e instanceof Array) {
                        for (var i = "", r = 0; r < e.length; r++)
                            i += this._getRecommendCard(e[r], r);
                        return i
                    }
                    var a, s = void 0, c = void 0, u = void 0, d = void 0, h = void 0, f = void 0, p = void 0, v = void 0, y = void 0;
                    if ("recommend" === e.cardType)
                        switch (s = (a = e).cover,
                            c = "/record/" + a.rid,
                            v = a.rid,
                            u = a.title,
                            d = a.uname,
                            p = a.start_time,
                            y = a.bvid,
                            a.is_sticky) {
                            case 0:
                                h = "record",
                                    f = "最新回放";
                                break;
                            case 1:
                                h = "recommend",
                                    f = "主播推荐"
                        }
                    else
                        s = (a = e).cover,
                            c = a.link,
                            u = a.title,
                            d = a.uname,
                            p = a.online,
                            v = a.roomid,
                        p > 1e4 && (p = Math.floor(p / 1e4) + "万");
                    var g = n(73);
                    return o.default.isWebPSupported && (s += "@384w_240h.webp"),
                    -1 === c.indexOf("live.bilibili") && (c = "https://live.bilibili.com" + c),
                    y && (c = "https://www.bilibili.com/video/" + y),
                        g({
                            prefix: l.PREFIX,
                            roomId: v,
                            pic: s,
                            title: u,
                            uname: d,
                            url: c,
                            online: p,
                            cardType: h,
                            cardText: f,
                            index: t
                        })
                }
                ,
                e
        }();
        t.default = d
    }
    , function(e, t, n) {
        var i = n(4);
        e.exports = function(e) {
            var t = ""
                , n = e || {};
            return function(e) {
                var n = "".concat(e, "-ending-panel");
                t = t + "<div" + i.attr("class", i.classes(["".concat(n, "-container")], [!0]), !1, !0) + "><div" + i.attr("class", i.classes(["".concat(n, "-tips")], [!0]), !1, !0) + "></div><div" + i.attr("class", i.classes(["clearfix", "".concat(n, "-recommend")], [!1, !0]), !1, !0) + "></div><div" + i.attr("class", i.classes(["".concat(n, "-info")], [!0]), !1, !0) + "> 闲置中</div></div>"
            }
                .call(this, "prefix"in n ? n.prefix : "undefined" != typeof prefix ? prefix : void 0),
                t
        }
    }
    , function(e, t, n) {
        var i = n(4);
        e.exports = function(e) {
            var t, n = "", r = e || {};
            return function(e, r, o, a, s, l, c, u, d, h) {
                var f = "".concat(l, "-ending-panel-recommend-card");
                n = n + "<a" + i.attr("class", i.classes(["".concat(f)], [!0]), !1, !0) + ' href="javascript:void(0);"' + i.attr("data-href", "".concat(h), !0, !0) + i.attr("data-roomId", "".concat(c), !0, !0) + i.attr("data-index", "".concat(o), !0, !0) + "><div" + i.attr("class", i.classes(["".concat(f, "-pic")], [!0]), !1, !0) + ">",
                r && (n = n + "<div" + i.attr("class", i.classes(["".concat(f, "-pic-").concat(r, " ").concat(f, "-pic-label")], [!0]), !1, !0) + ">" + i.escape(null == (t = e) ? "" : t) + "</div>"),
                    n = n + "<img" + (i.attr("src", "".concat(s), !0, !0) + i.attr("alt", "".concat(u), !0, !0)) + "></div><div" + i.attr("class", i.classes(["".concat(f, "-content")], [!0]), !1, !0) + "><div" + i.attr("class", i.classes(["".concat(f, "-user")], [!0]), !1, !0) + "><div" + i.attr("class", i.classes(["".concat(f, "-title")], [!0]), !1, !0) + ">" + i.escape(null == (t = u) ? "" : t) + "</div></div><div" + i.attr("class", i.classes(["clearfix", "".concat(f, "-info")], [!1, !0]), !1, !0) + "><div" + i.attr("class", i.classes(["".concat(f, "-uname")], [!0]), !1, !0) + ">" + i.escape(null == (t = d) ? "" : t) + "</div><div" + i.attr("class", i.classes(["".concat(f, "-online")], [!0]), !1, !0) + ">",
                    r ? n += i.escape(null == (t = a) ? "" : t) : n = n + "<span" + i.attr("class", i.classes(["live-old-icon-online", "".concat(f, "-icon")], [!1, !0]), !1, !0) + ">" + i.escape(null == (t = a) ? "" : t) + "</span>",
                    n += "</div></div></div></a>"
            }
                .call(this, "cardText"in r ? r.cardText : "undefined" != typeof cardText ? cardText : void 0, "cardType"in r ? r.cardType : "undefined" != typeof cardType ? cardType : void 0, "index"in r ? r.index : "undefined" != typeof index ? index : void 0, "online"in r ? r.online : "undefined" != typeof online ? online : void 0, "pic"in r ? r.pic : "undefined" != typeof pic ? pic : void 0, "prefix"in r ? r.prefix : "undefined" != typeof prefix ? prefix : void 0, "roomId"in r ? r.roomId : "undefined" != typeof roomId ? roomId : void 0, "title"in r ? r.title : "undefined" != typeof title ? title : void 0, "uname"in r ? r.uname : "undefined" != typeof uname ? uname : void 0, "url"in r ? r.url : "undefined" != typeof url ? url : void 0),
                n
        }
    }
    , function(e, t, n) {
        "use strict";
        var i = this && this.__importDefault || function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = i(n(2))
            , o = i(n(0))
            , a = function() {
            function e(e, t) {
                this._player = e,
                    this._container = t,
                    this._initialized = !1,
                    this._snippet = ['<div class="' + this._player.config.prefix + '-error-panel">', '<div class="' + this._player.config.prefix + '-error-message"></div>', '<div class="' + this._player.config.prefix + '-error-image"></div>', '<div class="' + this._player.config.prefix + '-error-code">404</div>', '<div class="' + this._player.config.prefix + '-error-tips">直播时空次元异常，正在努力恢复中</div>', "</div>"]
            }
            return e.prototype.show = function(e, t, n, i) {
                void 0 === e && (e = "Player Error"),
                void 0 === t && (t = !1),
                void 0 === i && (i = "直播时空次元异常，正在努力恢复中");
                var o = this._player.config.prefix;
                this._initialized || this._initialize(),
                    e += '<div class="' + o + '-error-operation">\n                        ( 请尝试\n                        <a class="' + o + '-error-reload" href="javascript:void(0);">刷新</a>';
                try {
                    this._detectFlashInstalled() && (e += '或\n                    <a class="' + o + '-error-redirect" href="javascript:void(0);">\n                    切换至Flash播放器</a>')
                } catch (e) {
                    r.default.log("The browser is not support Flash.", 2)
                }
                return e += ")</div>",
                    this._template._errorPanel.attr("data-error-type", t ? "image" : "message"),
                t && (this._template.tips.text(i),
                    this._template.errorCode.text(n)),
                    this._template._errorContent.html(e),
                    this
            }
                ,
                e.prototype.hide = function() {
                    return this._initialized && (this._initialized = !1,
                        this._template._errorPanel.remove()),
                        this
                }
                ,
                e.prototype._initialize = function() {
                    r.default.log("ErrorPanel Initializing.."),
                        this._container.append($(this._snippet.join("")));
                    var e = this._player.config.prefix;
                    return this._initialized = !0,
                        this._template = {
                            _errorPanel: this._container.find("." + e + "-error-panel"),
                            _errorContent: this._container.find("." + e + "-error-message"),
                            _errorImage: this._container.find("." + e + "-error-image"),
                            errorCode: this._container.find("." + e + "-error-code"),
                            tips: this._container.find("." + e + "-error-tips")
                        },
                        this._bindEvent(),
                        r.default.log("ErrorPanel Initialized."),
                        this
                }
                ,
                e.prototype._bindEvent = function() {
                    var e = this
                        , t = this._player.config.prefix;
                    this._template._errorPanel.on("click", (function(n) {
                            var i = $(n.target);
                            i.hasClass(t + "-error-reload") ? e._player.reload(o.default.LIVE_URL, 4, !0) : i.hasClass(t + "-error-redirect") && window.EmbedPlayer.loader()
                        }
                    ))
                }
                ,
                e.prototype._detectFlashInstalled = function() {
                    return function() {
                        var e, t = navigator.plugins;
                        try {
                            e = window.ActiveXObject && !1 !== new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")
                        } catch (t) {
                            e = !1
                        }
                        return void 0 !== t && "object" == typeof t["Shockwave Flash"] || e
                    }()
                }
                ,
                e
        }();
        t.default = a
    }
    , function(e, t, n) {
        "use strict";
        var i = this && this.__importStar || function(e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        Object.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                return t.default = e,
                    t
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = i(n(0))
            , o = function() {
            function e(e, t) {
                this._player = e,
                    this._container = t,
                    this._initialize()
            }
            return e.prototype._initialize = function() {
                var e = this._player.config.namespace;
                return this._container.text("进入直播间"),
                    this._container.on("click" + e, this._enterRoom.bind(this)),
                    this
            }
                ,
                e.prototype._enterRoom = function() {
                    var e, t = this._player;
                    if (this._player.config.useType === r.default.PLAYER_HOME)
                        t.event.emit(r.EVENT.HOME_ENTER_THE_ROOM, ((e = {}).cid = t.config.cid,
                            e.type = r.default.ENTER_TIPS_TYPE_VIDEO_AREA,
                            e));
                    else {
                        var n = "//live.bilibili.com/" + this._player.config.rid;
                        window.open(n),
                            this._player.stop()
                    }
                }
                ,
                e
        }();
        t.default = o
    }
    , function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = function() {
            function e(e) {
                this._container = e,
                    this._snippet = ['<div class="bilibili-live-player-loading-panel-sprite">', "</div>"],
                    this._complete = !1,
                    this._timeout = 0,
                    this._container.html(this._snippet.join("")),
                    this._container.css("background", "#000")
            }
            return e.prototype.show = function() {
                this._complete = !1,
                    this._container.show()
            }
                ,
                e.prototype.hide = function() {
                    this._complete && (clearTimeout(this._timeout),
                        this._container.hide())
                }
                ,
                e.prototype.setPercent = function(e, t) {
                    var n = this;
                    this._complete = !0,
                    t && t(),
                        this._timeout = setTimeout((function() {
                                n.hide()
                            }
                        ), 300)
                }
                ,
                e
        }();
        t.default = i
    }
    , function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = function() {
            function e(e, t) {
                this._player = e,
                    this._container = t,
                    this._prefix = e.config.prefix + "-send-container",
                    this._init()._bindEvents()
            }
            return e.prototype.refreshConfig = function(e) {
                this._config = e,
                    this._refreshComps()
            }
                ,
                e.prototype._init = function() {
                    var e = n(78)
                        , t = ""
                        , i = "_blank";
                    try {
                        t = window.parent.location.href,
                            i = "_top"
                    } catch (e) {}
                    return this._container.html(e({
                        prefix: "" + this._prefix,
                        href: t,
                        target: i
                    })),
                        this._sendInput = this._container.find("." + this._prefix + "-input"),
                        this._sendBtn = this._container.find("." + this._prefix + "-btn"),
                        this._notLogInWrapper = this._container.find("." + this._prefix + "-input-not-log-in"),
                        this
                }
                ,
                e.prototype._refreshComps = function() {
                    this._config && (this._config.login && (this._notLogInWrapper.remove(),
                        this._sendInput.show()),
                        this._sendInput.attr("maxlength", this._config.danmakuLength || 0))
                }
                ,
                e.prototype._bindEvents = function() {
                    this._sendBtn.click(this._sendHandler.bind(this)),
                        this._sendInput.keypress(this._sendHandler.bind(this))
                }
                ,
                e.prototype._sendHandler = function(e) {
                    if (this._config && this._config.login) {
                        if ("keypress" === e.type && 13 !== e.which)
                            return;
                        var t = this._sendInput.val();
                        this._sendInput.val(""),
                            this._sendInput.focus(),
                            this._player.sendDanmaku({
                                msg: t
                            })
                    }
                }
                ,
                e
        }();
        t.default = i
    }
    , function(e, t, n) {
        var i = n(4);
        e.exports = function(e) {
            var t = ""
                , n = e || {};
            return function(e, n, r) {
                var o = "".concat(n);
                t = t + "<div" + i.attr("class", i.classes(["".concat(o)], [!0]), !1, !0) + "><div" + i.attr("class", i.classes(["".concat(o, "-wrapper")], [!0]), !1, !0) + "><div" + i.attr("class", i.classes(["".concat(o, "-input-wrapper")], [!0]), !1, !0) + "><div" + i.attr("class", i.classes(["".concat(o, "-input-not-log-in")], [!0]), !1, !0) + "><span>游客无法发送弹幕，请</span><a" + (i.attr("href", "https://passport.bilibili.com/login?gourl=".concat(e), !0, !0) + i.attr("target", "".concat(r), !0, !0)) + ">登录</a><span>或</span><a" + (i.attr("href", "https://passport.bilibili.com/register/phone.html#/?gourl=".concat(e), !0, !0) + i.attr("target", "".concat(r), !0, !0)) + ">注册用户</a></div><input" + i.attr("class", i.classes(["".concat(o, "-input")], [!0]), !1, !0) + ' placeholder=""></div><div' + i.attr("class", i.classes(["".concat(o, "-button-wrapper")], [!0]), !1, !0) + "><a" + i.attr("class", i.classes(["".concat(o, "-btn")], [!0]), !1, !0) + "><span" + i.attr("class", i.classes(["".concat(o, "-label")], [!0]), !1, !0) + ">发送</span></a></div></div></div>"
            }
                .call(this, "href"in n ? n.href : "undefined" != typeof href ? href : void 0, "prefix"in n ? n.prefix : "undefined" != typeof prefix ? prefix : void 0, "target"in n ? n.target : "undefined" != typeof target ? target : void 0),
                t
        }
    }
    , function(e, t, n) {
        "use strict";
        var i = this && this.__importDefault || function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            , r = this && this.__importStar || function(e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        Object.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                return t.default = e,
                    t
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = i(n(14))
            , a = i(n(2))
            , s = r(n(0))
            , l = i(n(1));
        t.default = function(e, t) {
            var n = a.default.log
                , i = 0;
            t && (t instanceof o.default || e) && t.on(s.EVENT.PLAYER_INITIALIZED, (function() {
                    n("Player initialized"),
                        e.triggerInitCallback()
                }
            )).on(s.EVENT.PLAYER_INITIALIZED_TIME_OUT, (function() {
                    n("Player initialized time out", 2)
                }
            )).on(s.EVENT.RESOLVED_USER_INFO_API_SUCCESSFULLY, (function() {
                    n("Resolved user info apis successfully."),
                    e.state.firstLoadedAPIPlayerStatus || (l.default.fireEventCallback(e.callbackMap.firstLoadedAPIPlayer),
                        e.state.firstLoadedAPIPlayerStatus = !0)
                }
            )).on(s.EVENT.RESOLVED_USER_INFO_API_FAILED, (function() {
                    n("Resolved user apis failed.", 2)
                }
            )).on(s.EVENT.RESOLVED_PLAY_URL_FAILED, (function(t) {
                    n("Resolved playurl failed.", 2),
                        e.error(s.ERROR_CODE.PLAYURL_RESOLVE_ERROR, "Live PlayerURL ERROR", !1, t)
                }
            )).on(s.EVENT.FAILED_TO_GET_THE_PLAYURL, (function(t) {
                    e.errorRetrying ? e.event.emit(s.EVENT.ON_ERROR_RETRYING_FAILED) : (n("Fail to get the live playurl.", 2),
                        e.track(s.TRACK.STATISTICS_PLAYURL_FAILED),
                        e.error(s.ERROR_CODE.PLAYURL_NETWORK_ERROR, "Live PlayerURL ERROR", !1, t))
                }
            )).on(s.EVENT.RESOLVED_CURRENT_PLAY_URL_SUCCESSFULLY, (function(t) {
                    n("Resolved current play url successfully"),
                    e.state.firstLoadedAPIPlayurlStatus || (l.default.fireEventCallback(e.callbackMap.firstLoadedAPIPlayurl),
                        e.state.firstLoadedAPIPlayurlStatus = !0),
                        e.reloadLive(t)
                }
            )).on(s.EVENT.RESOLVED_CURRENT_PLAY_URL_FAILED, (function() {
                    n("Resolved current playurl failed.", 2)
                }
            )).on(s.EVENT.RESOLVED_ROUND_PLAY_URL_SUCCESSFULLY, (function(t) {
                    n("Resolved round playurl successfully."),
                        e.reloadRound(t)
                }
            )).on(s.EVENT.RESOLVED_ROUND_PLAY_URL_FAILED, (function(t) {
                    e.errorRetrying ? e.event.emit(s.EVENT.ON_ERROR_RETRYING_FAILED) : (n("Resolved round playurl failed.", 2),
                        e.error(s.ERROR_CODE.PLAYURL_ROUND_RESOLVE_ERROR, "Round PlayerURL ERROR", !1, t))
                }
            )).on(s.EVENT.FAILED_TO_GET_THE_ROUND_PLAYURL, (function(t) {
                    e.errorRetrying ? e.event.emit(s.EVENT.ON_ERROR_RETRYING_FAILED) : (n("Fail to get the round playurl.", 2),
                        e.track(s.TRACK.STATISTICS_PLAYURL_FAILED),
                        e.error(s.ERROR_CODE.PLAYURL_ROUND_NETWORK_ERROR, "Round PlayerURL ERROR", !1, t))
                }
            )).on(s.EVENT.ON_PLAYER_RELOADING, (function(t) {
                    n("Player on reloading."),
                    t && (e.state.onStop = !1),
                        clearTimeout(e.INTERVAL.RELOAD_LIVE);
                    var i = e.state.forceBufferTimeout ? e.state.forceBufferTimeout + 500 * e.errorRetryCount : e.INTERVAL.RELOAD_LIVE_MAX_TIME
                        , r = function() {
                        var t = e.components.video.corePlayer;
                        t && t.status === s.ILivePlayerWrapStatus.Wating ? e.INTERVAL.RELOAD_LIVE = setTimeout(r, i) : e.event.emit(s.EVENT.PLAYER_RELOAD_FAILED)
                    };
                    e.INTERVAL.RELOAD_LIVE = setTimeout(r, i),
                        e.clearPlayURL(),
                        e.reload(e.state.playURLIndex, e.state.quality, t)
                }
            )).on(s.EVENT.PLAYER_RELOAD_SUCCESSFULLY, (function() {
                    n("Player reload successfully."),
                        clearTimeout(e.INTERVAL.RELOAD_LIVE),
                        e.clearErrorHistory(),
                        e.INTERVAL.RELOAD_LIVE = 0,
                        e.showSwitchTip(s.default.SWITCH_INFO_TYPE_COMPLETED),
                        e.resetSwitchInfo(),
                        e.onPlayerLiveStatus({
                            onLive: function() {
                                if (e.state.onSwitching) {
                                    e.state.switchNextLine > -1 && ("function" == typeof e.state.reloadDoneCallback ? e.state.reloadDoneCallback(e.state.playURLIndex) : l.default.fireEventCallback(e.callbackMap.switchLine, e.state.playURLIndex));
                                    var t = e.state
                                        , n = t.switchNextQuality
                                        , i = t.qualityBackup
                                        , r = t.qualityList;
                                    e.state.switchNextQuality > -1 && l.default.fireEventCallback(e.callbackMap.switchQuality, n, i, r)
                                }
                                e.state.onSwitching = !1,
                                    e.state.onError = !1,
                                    e.state.onFixing = !1,
                                    e.state.switchNextLine = -1,
                                    e.state.switchNextQuality = -1,
                                    e.state.reloadDoneCallback = void 0,
                                e.state.reuseTime > 1 && e.track(s.TRACK.STATISTICS_REUSE_PLAYURL_TIME, {
                                    deltaTs: 3 === e.state.reuseTime ? e.errorRetryCount : e.state.reuseTime
                                }),
                                    e.state.reuseTime = 0,
                                    e.event.emit(s.EVENT.CONTROLLER_ACTIVATE_LINE, e.state.playURLIndex),
                                e.errorRetrying && e.event.emit(s.EVENT.ON_ERROR_RETRY_SUCCESSFULLY)
                            },
                            onRound: function() {
                                e.state.onError = !1,
                                e.errorRetrying && e.event.emit(s.EVENT.ON_ERROR_RETRY_SUCCESSFULLY)
                            }
                        })
                }
            )).on(s.EVENT.PLAYER_RELOAD_FAILED, (function() {
                    if (n("Player error retrying: " + e.errorRetrying),
                    e.errorRetryCount >= e.errorRetryMaxCount)
                        n("Player reload failed.", 2),
                            e.showSwitchTip(s.default.SWITCH_INFO_TYPE_FAILED),
                            e.resetSwitchInfo(),
                            e.state.playURLIndex = e.state.playURLIndexBackup,
                            e.state.quality = e.state.qualityBackup,
                            e.state.codec = e.state.codecBackup,
                            e.event.emit(s.EVENT.ON_ERROR_RETRYING_FAILED);
                    else {
                        if (e.state.onSwitching = !1,
                            e.state.onError = !1,
                        e.errorRetryCount > 0) {
                            var t = s.default.LIVE_URL;
                            if (e.state.playURLIndex === s.default.LIVE_URL) {
                                var i = [s.default.LIVE_URL, s.default.LIVE_B1URL, s.default.LIVE_B2URL, s.default.LIVE_B3URL]
                                    , r = (i.indexOf(e.state.playURLIndex) + 1) % i.length;
                                t = i[r]
                            }
                            e.state.playURLIndex = t,
                                n("Reload failed, switch to line " + t + " from line " + e.state.playURLIndex + "."),
                                e.showSwitchTip(s.default.SWITCH_INFO_TYPE_FAILED),
                                e.state.switchInfo = {}
                        }
                        e.restoreReloadFailed(),
                            e.error(s.ERROR_CODE.LIVE_PLAYER_RELOAD_ERROR, "player reload error")
                    }
                }
            )).on(s.EVENT.VIDEO_LOAD_START, (function() {
                    n("Video load start now: " + Math.floor(performance.now()) + " ms"),
                    e.state.firstLoadStart || (l.default.fireEventCallback(e.callbackMap.firstLoadStart),
                        e.state.firstLoadStart = !0)
                }
            )).on(s.EVENT.VIDEO_LOADED_META_DATA, (function(t) {
                    t = Math.floor(t),
                        n("Video loaded meta data: " + t + " ms"),
                    e.state.firstLoadedMetaData || e.event.emit(s.EVENT.FIRST_VIDEO_LOADED_META_DATA),
                        e.state.backgroundTabStartTime = 0,
                        e.play()
                }
            )).on(s.EVENT.FIRST_VIDEO_LOADED_META_DATA, (function() {
                    l.default.fireEventCallback(e.callbackMap.firstLoadedMetaData),
                        e.state.firstLoadedMetaData = !0;
                    var t = Math.floor(performance.now() - e.state.backgroundTabTime)
                        , i = Math.floor(t - e.config.initTime)
                        , r = Math.floor(t - e.state.firstPlayURLRequestTime);
                    e.config.switchCount && (t = i),
                        n(Math.floor(e.config.initTime) + " ms: InitTime, " + e.state.backgroundTabTime + " ms: backgroundTabTime."),
                        n(i + " ms: Player loaded meta data for the first time:"),
                        n(t + " ms: Player loaded live stream screen for the first time: "),
                    t < 8e3 && !e.state.wasErrorRetried && (e.track(s.TRACK.EXPERIENCE_FIRST_SCREEN_TIME, {
                        time: t
                    }),
                        e.track(s.TRACK.EXPERIENCE_FIRST_LOAD, {
                            time: r
                        }))
                }
            )).on(s.EVENT.SWITCH_LINE, (function(t) {
                    if (e.state.onSwitching)
                        return !1;
                    e.onPlayerLiveStatus({
                        onLive: function() {
                            if (t !== e.state.playURLIndex) {
                                n("Switch to line : " + t + "."),
                                    e.event.emit(s.EVENT.ON_ERROR_RETRY_CANCELED),
                                    e.state.onSwitching = !0,
                                    e.state.switchNextLine = t;
                                var i = 0 === t ? s.CONFIG_STRING.LINE_MAIN : s.CONFIG_STRING.LINE_BACKUP + t;
                                e.resetSwitchInfo(s.default.SWITCH_TYPE_LINE, i),
                                    e.showSwitchTip(s.default.SWITCH_INFO_TYPE_INIT),
                                    e.state.playURLIndexBackup = e.state.playURLIndex,
                                    e.state.playURLIndex = t,
                                    e.event.emit(s.EVENT.ON_PLAYER_RELOADING)
                            }
                        }
                    })
                }
            )).on(s.EVENT.SWITCH_QUALITY, (function(t) {
                    if (e.state.onSwitching)
                        return !1;
                    var i, r, o = (i = t.value,
                        {
                            qn: +(r = i.split("_"))[0],
                            codec: r[1]
                        });
                    if (0 === e.config.uid && o.qn > e.state.checkQn) {
                        var a = function(t) {
                            return e.state.qualityList.find((function(e) {
                                    return e.qn === t
                                }
                            ))
                        }
                            , c = a(e.state.quality + "_" + e.state.codec)
                            , u = a(e.state.checkQn + "_" + e.state.checkCodec);
                        if (c && u)
                            return e.setPlayerStatus(s.default.P_NORMAL),
                                l.default.fireEventCallback(e.callbackMap.switchQualityNotLogin, {
                                    newQn: {
                                        text: t.text,
                                        value: o.qn
                                    },
                                    oldQn: {
                                        text: c.desc,
                                        value: e.state.quality
                                    },
                                    checkQn: {
                                        text: u.desc,
                                        value: e.state.checkQn
                                    }
                                })
                    }
                    e.onPlayerLiveStatus({
                        onLive: function() {
                            if (t.value !== e.state.quality + "_" + e.state.codec) {
                                n("Switch to quality : " + t.value + "."),
                                    e.event.emit(s.EVENT.ON_ERROR_RETRY_CANCELED),
                                    e.state.onSwitching = !0,
                                    e.state.onSwitchQuality = !0,
                                    e.state.switchNextQuality = t.value;
                                var i = t.text;
                                e.resetSwitchInfo(s.default.SWITCH_TYPE_QUALITY, i),
                                    e.showSwitchTip(s.default.SWITCH_INFO_TYPE_INIT),
                                    e.state.qualityBackup = e.state.quality,
                                    e.state.codecBackup = e.state.codec,
                                    e.state.quality = o.qn,
                                    e.state.codec = o.codec,
                                    e.event.emit(s.EVENT.ON_PLAYER_RELOADING)
                            }
                        }
                    })
                }
            )).on(s.EVENT.ON_LIVE, (function(t, n) {
                    void 0 === t && (t = s.default.LIVE_URL),
                    void 0 === n && (n = s.default.QUALITY_DEFAULT),
                        e.setLiveStatus(s.default.L_STATUS_LIVE),
                        e.getCurrentLiveLine(t, n),
                    e.components.danmaku && e.components.danmaku.density(e.state.danmakuDensity)
                }
            )).on(s.EVENT.ON_PRE_ROUND, (function(t) {
                    void 0 === t && (t = 300),
                        e.event.emit(s.EVENT.ON_ERROR_RETRY_CANCELED),
                        e.setLiveStatus(s.default.L_PRE_ROUND),
                        e.preRound(t),
                    e.components.danmaku && e.components.danmaku.density(e.state.danmakuDensity)
                }
            )).on(s.EVENT.ON_ROUND, (function() {
                    e.setLiveStatus(s.default.L_STATUS_ROUND),
                        e.getRoundURL(),
                    e.components.danmaku && e.components.danmaku.density(e.state.danmakuDensity)
                }
            )).on(s.EVENT.ON_PREPARING, (function() {
                    e.setLiveStatus(s.default.L_STATUS_PREPARING),
                    e.components.video && e.components.video.destroy(!1),
                        e.end(),
                        e.event.emit(s.EVENT.ON_ERROR_RETRY_CANCELED)
                }
            )).on(s.EVENT.ON_ERROR_RETRYING, (function() {
                    if (s.default.L_STATUS_PREPARING === e.state.liveStatus)
                        return a.default.log("Preparing state, cancel the error retry"),
                            void e.event.emit(s.EVENT.ON_ERROR_RETRY_CANCELED);
                    e.state.wasErrorRetried = !0,
                    e.errorRetrying || (a.default.log("Try to recover, index = " + e.errorRetryCount, 1),
                        e.errorRetrying = !0,
                        window.clearTimeout(e.INTERVAL.RELOAD_LIVE),
                        window.clearTimeout(e.INTERVAL.ERROR_RECOVER_CALLBACK),
                        e.errorRecover(),
                        e.showPlayerController("network"))
                }
            )).on(s.EVENT.ON_ERROR_RETRYING_FAILED, (function() {
                    e.errorRetrying && (0 === e.errorRetryCount && (e.errorRetryCount = e.state.reuseTime),
                        e.errorRetryCount < e.errorRetryMaxCount ? (e.errorRetryCount++,
                            e.errorRetrying = !1,
                            e.restoreReloadFailed(),
                            clearTimeout(e.INTERVAL.ERROR_RECOVER_CALLBACK),
                            e.INTERVAL.ERROR_RECOVER_CALLBACK = window.setTimeout((function() {
                                    e.event.emit(s.EVENT.ON_ERROR_RETRYING)
                                }
                            ), 1e3 * e.errorRetryIntervalArray[e.errorRetryCount])) : (e.state.reuseTime > 1 && (e.track(s.TRACK.STATISTICS_REUSE_PLAYURL_TIME, {
                            deltaTs: e.errorRetryMaxCount
                        }),
                            e.state.reuseTime = 0),
                            e.event.emit(s.EVENT.ON_ERROR_RETRY_FAILED)))
                }
            )).on(s.EVENT.ON_ERROR_RETRY_SUCCESSFULLY, (function() {
                    e.errorRetrying = !1,
                        e.errorRetryCount = 0,
                        e.hidePlayerController("network"),
                        e.components.video.hideTextMsg()
                }
            )).on(s.EVENT.ON_ERROR_RETRY_FAILED, (function() {
                    a.default.log("Failed to recover.");
                    var t = e.components;
                    window.clearTimeout(e.INTERVAL.RELOAD_LIVE),
                        window.clearTimeout(e.INTERVAL.ERROR_RECOVER_CALLBACK),
                        t.newCtrl.end(),
                        e.setLiveStatus(s.default.L_ERROR),
                        e.pause(),
                        t.danmaku.clear(),
                        t.loadingPanel.hide(),
                        t.endingPanel.hide(),
                    e.state.loadingPicture || t.errorPanel.show("直播已断开", !0, e.getErrorResult()),
                        e.trackPlayingError()
                }
            )).on(s.EVENT.ON_ERROR_RETRY_CANCELED, (function() {
                    e.errorRetrying = !1,
                        e.errorRetryCount = 0,
                        window.clearTimeout(e.INTERVAL.RELOAD_LIVE),
                        window.clearTimeout(e.INTERVAL.ERROR_RECOVER_CALLBACK),
                        window.clearTimeout(i)
                }
            )).on(s.EVENT.TRY_TO_FIX_THE_PICTURE_IS_NOT_SYNC, (function() {
                    var t = 60 * Math.round(4 * Math.random() + 10) * 1e3;
                    window.clearTimeout(e.INTERVAL.TRY_TO_FIX_THE_PICTURE_IS_NOT_SYNC),
                        e.INTERVAL.TRY_TO_FIX_THE_PICTURE_IS_NOT_SYNC = window.setTimeout((function() {
                                a.default.log("Try to fix the picture is not sync.", 1),
                                    e.state.onFixing = !0,
                                    e.reload()
                            }
                        ), t)
                }
            )).on(s.EVENT.PLAYER_RESIZE, (function(t, n) {
                    if (!(t <= 0)) {
                        var i = t <= 500;
                        e.state.onMini = i,
                            e.toggleMiniType(i),
                        e.plugins.zzmask && e.plugins.zzmask.resize(),
                        e.components.danmaku && e.components.danmaku.fontSize(i ? .72 : e.components.newCtrl.getDanmaku().fontScale / 100 || 1).option("offsetTop", 0).resize()
                    }
                }
            )).on(s.EVENT.HOME_ENTER_THE_ROOM, (function(t) {
                    void 0 === t && (t = {
                        cid: 0,
                        type: 0
                    }),
                        l.default.fireEventCallback(e.callbackMap.enterTheRoom, t)
                }
            )).on("sss")
        }
    }
    , function(e, t, n) {
        "use strict";
        var i = this && this.__importDefault || function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = i(n(1))
            , o = i(n(15))
            , a = i(n(0))
            , s = function() {
            function e(e, t) {
                this._container = e,
                    this._version = "2.5.11",
                    this._prefix = "bilibili-live-player-context-menu",
                    this._namespace = ".bpl_context_menu",
                    this._actionClass = "js-blp-action",
                    this._DEFAULT_OPTIONS = {
                        menu: [],
                        appendTo: $(document.body),
                        align: "left",
                        theme: "black"
                    },
                    this._DEFAULT_MENU = [{
                        type: "function",
                        icon: "",
                        text: "Bilibili HTML5 Live Player " + this._version,
                        link: ""
                    }, {
                        type: "function",
                        text: "Copyright Bilibili " + (new Date).getFullYear(),
                        disabled: !0
                    }, {
                        type: "function",
                        text: "关闭"
                    }],
                    this._opts = this._DEFAULT_OPTIONS,
                    this._status = !1,
                    this._createStatus = !1,
                    this._guid = this._guidFn(),
                    this._fnCallbackList = {},
                    this._menuMap = {},
                    this._menuIndex = 0,
                    this._menuSubIndex = 0,
                    this._outerWrap = $(window),
                    this._opts = $.extend(this._opts, t),
                    this._opts.menu = this._opts.menu.concat(this._DEFAULT_MENU),
                    this._outerWrap = t.outerWrap || $(window),
                    this._initialize()
            }
            return e.prototype.show = function(e, t, n) {
                var i, r, o, a = this._template._container, s = this._opts, l = ($(window),
                    this._outerWrap), c = l.width(), u = l.height(), d = l.scrollTop() || 0, h = l.scrollLeft() || 0;
                s.appendTo.offset();
                if (this._status && this.hide(),
                    this._status = !0,
                    s.changeMode)
                    switch (o = "function" == typeof s.onChange && s.onChange($(n.target), n),
                        s.changeType) {
                        case 0:
                            break;
                        case 1:
                            this._addMenu(o);
                            break;
                        case 2:
                            this._addMenu(o, !0)
                    }
                i = a.width(),
                    t = t + (r = a.height()) + 7 > u + d ? u - r - 7 + d : t,
                c - (e = e + i + 7 > c + h ? c - i - 7 + h : e) - i < 160 && this._template._container.addClass("left-sub-menu"),
                    a.css({
                        left: e - 1,
                        top: t - 1
                    }).addClass("active")
            }
                ,
                e.prototype.hide = function() {
                    var e = this
                        , t = this._template
                        , n = this._opts;
                    if (this._status = !1,
                        t._container.removeClass("active left-sub-menu").css({
                            top: -9999,
                            left: -9999
                        }),
                    n.changeMode && n.autoRemove) {
                        var i, r = t._ul.find('>li[data-auto-remove="1"]'), o = r.find("a.context-menu-a[data-id]");
                        o.each((function(t) {
                                i = parseInt(o.eq(t).attr("data-id").toString(), 10),
                                    delete e._fnCallbackList[i]
                            }
                        )),
                            r.hide(),
                            setTimeout((function() {
                                    r.remove()
                                }
                            ), 0)
                    }
                }
                ,
                e.prototype.reset = function() {}
                ,
                e.prototype.add = function() {}
                ,
                e.prototype.delete = function(e) {
                    if (this.hide(),
                        e) {
                        var t = this.getElement(e)
                            , n = void 0;
                        if (t.submenu)
                            for (var i in t.submenu)
                                n = parseInt(i.substr(5), 10),
                                    delete this._fnCallbackList[n];
                        else
                            n = parseInt(e.substr(5), 10),
                                delete this._fnCallbackList[n];
                        t.element.parent().remove(),
                            delete this._menuMap[e]
                    }
                }
                ,
                e.prototype.destroy = function() {
                    var e = this._namespace;
                    $(window).off("click" + e).off("contextmenu" + e).off("keydown" + e),
                        this._container.off("contextmenu" + e),
                        this._template._container.off("click" + e),
                        this._guid = void 0,
                        this._template._container.remove()
                }
                ,
                e.prototype.disable = function(e, t) {
                    var n = this.getElement(e, t);
                    n && n.element.attr("data-disabled", 1)
                }
                ,
                e.prototype.enable = function(e, t) {
                    var n = this.getElement(e, t);
                    e && n.element.attr("data-disabled", 0)
                }
                ,
                e.prototype.push = function(e) {
                    this._addMenu(e, !1, !1)
                }
                ,
                e.prototype.unshift = function(e) {
                    return this._addMenu(e, !0, !1)
                }
                ,
                e.prototype.getMenuMap = function() {
                    return this._menuMap
                }
                ,
                e.prototype.getElement = function(e, t) {
                    var n, i;
                    if (this._menuMap[e]) {
                        if ((i = (n = this._menuMap[e]).submenu) && (t >= 0 || t))
                            if ("string" == typeof t)
                                n = i[t];
                            else if ("number" == typeof t)
                                for (var r in i)
                                    i[r].index === t && (n = i[r]);
                        return n
                    }
                }
                ,
                e.prototype.deactivate = function(e, t) {
                    if (e) {
                        var n = this.getElement(e, t);
                        if (n.activated && (n.activated = !1,
                            n.element.removeClass("active").attr("data-disabled", 0)),
                            a = n.submenu)
                            for (var i in a)
                                a[i].activated && (a[i].activated = !1,
                                    a[i].element.removeClass("active").attr("data-disabled", 0))
                    } else {
                        var r = this._menuMap;
                        for (var o in r) {
                            var a;
                            if (r[o].activated && (r[o].activated = !1,
                                r[o].element.removeClass("active").attr("data-disabled", 0)),
                                a = r[o].submenu)
                                for (var i in a)
                                    a[i].activated && (a[i].activated = !1,
                                        a[i].element.removeClass("active").attr("data-disabled", 0))
                        }
                    }
                }
                ,
                e.prototype.active = function(e, t) {
                    if (e) {
                        this.deactivate(e);
                        var n = this.getElement(e, t);
                        n.activated || (n.activated = !0,
                            n.element.addClass("active").attr("data-disabled", 1))
                    } else {
                        var i = this._menuMap;
                        for (var r in i) {
                            i[r].activated || (i[r].activated = !0,
                                i[r].element.addClass("active").attr("data-disabled", 1));
                            var o = i[r].submenu;
                            if (o)
                                for (var a in o)
                                    o[a].activated || (o[a].activated = !0,
                                        o[a].element.addClass("active").attr("data-disabled", 1))
                        }
                    }
                }
                ,
                e.prototype._guidFn = function() {
                    var e = 0;
                    return function() {
                        return e++
                    }
                }
                ,
                e.prototype._initialize = function() {
                    return this._create()._bindEvents(),
                        this
                }
                ,
                e.prototype._create = function() {
                    var e, t = this._opts, n = t.theme, i = this._prefix;
                    return t.appendTo.addClass("relative"),
                        e = $("<div>").addClass(i + "-container " + n).appendTo(t.appendTo),
                        this._createMenu(t.menu, e),
                        this._template = {
                            _container: e,
                            _ul: e.find(">ul.context-menu-ul"),
                            _li: e.find(">ul>li>a.context.menu-a")
                        },
                        this._createStatus = !0,
                        this
                }
                ,
                e.prototype._createMenu = function(e, t, n) {
                    var i = this
                        , r = $('<ul class="context-menu-ul">').appendTo(t);
                    e.forEach((function(e, t) {
                            i._createMenuItem(e, r, n)
                        }
                    ))
                }
                ,
                e.prototype._createMenuItem = function(e, t, n, i, r) {
                    void 0 === i && (i = !1),
                    void 0 === r && (r = !1);
                    var o, a = "function" == typeof this._guid && this._guid(), s = "item_" + a, l = ("" + e.type).trim().toLowerCase(), c = e.icon ? '<span class="' + e.icon + '"></span>' : "", u = e.title || "", d = e.text, h = e.className || "", f = i ? 1 : 0, p = e.disabled ? 1 : 0, v = e.link ? 'href="' + e.link + '" target="_blank"' : 'href="javascript:;"', y = e.attr ? e.attr.key + '="' + e.attr.value + '"' : "";
                    if (o = $('<li class="context-menu-' + l + " " + h + '" data-auto-remove="' + f + '">'),
                        l)
                        switch (l) {
                            case "title":
                                o.append('<a class="context-menu-a" title="' + u + '" href="javascript:;">' + c + d + "</a>");
                                break;
                            case "division":
                                o.append('<a class="context-menu-a" href="javascript:;" ></a>');
                                break;
                            case "function":
                                this._fnCallbackList[a] = e.click,
                                    o.append('<a class="context-menu-a ' + this._actionClass + '" title="' + u + '" data-id="' + a + '"\n                    ' + v + ' data-disabled="' + p + '" ' + y + ' data-item-id="' + s + '" >' + c + d + "</a>");
                                break;
                            case "submenu":
                                var g = $("<div/>").text(d).html();
                                o.append('<a class="context-menu-a" title="' + u + '" data-id="' + a + '"\n                    ' + v + ' data-disabled="' + p + '" >' + c + g + '<span class="context-menu-right-arrow"></span></a>')
                        }
                    return r ? o.prependTo(t) : o.appendTo(t),
                        n ? n && this._menuMap[n] && (this._menuMap[n].submenu || (this._menuMap[n].submenu = {}),
                            this._menuMap[n].submenu[s] = {
                                index: this._menuSubIndex++,
                                element: o.find(">a"),
                                activated: !1,
                                disabled: !1
                            }) : (this._menuSubIndex = 0,
                            this._menuMap["item_" + a] = {
                                index: this._menuIndex++,
                                element: o.find(">a"),
                                activated: !1,
                                disabled: !1
                            }),
                    "submenu" === l && this._createMenu(e.submenu, o, s),
                        {
                            id: s,
                            item: this._menuMap[s]
                        }
                }
                ,
                e.prototype._bindEvents = function() {
                    var e = this
                        , t = this._namespace;
                    $(window).on("click" + t, (function(t) {
                            var n = $(t.target);
                            !$.contains(e._template._container[0], n[0]) && e.hide()
                        }
                    )).on("contextmenu" + t, (function(t) {
                            var n = $(t.target);
                            !$.contains(e._container[0], n[0]) && !$.contains(e._container[0], n[0]) && e.hide()
                        }
                    )).on("keydown" + t, (function(t) {
                            a.default.KEYCODE_ESC === t.keyCode && e.hide()
                        }
                    )),
                        o.default.addFullscreenChange((function() {
                                e.hide()
                            }
                        )),
                        this._container.on("contextmenu" + t, (function(t) {
                                t.preventDefault();
                                var n = r.default.getRelativePos(t, e._container);
                                return e.show(n.x - 1, n.y - 1, t),
                                    !1
                            }
                        )),
                        this._template._container.on("click" + t, (function(t) {
                                var n = $(t.target);
                                if (!n.hasClass(e._actionClass))
                                    return !1;
                                var i = parseInt(n.attr("data-id").toString(), 10)
                                    , r = parseInt(n.attr("data-disabled").toString(), 10)
                                    , o = e._fnCallbackList[i]
                                    , a = n.attr("data-item-id");
                                r ? t.preventDefault() : ("function" == typeof o && o(e, n, i, a),
                                    e.hide())
                            }
                        )).on("contextmenu" + t, (function() {
                                return !1
                            }
                        ))
                }
                ,
                e.prototype._addMenu = function(e, t, n) {
                    var i = this;
                    void 0 === t && (t = !1),
                    void 0 === n && (n = !0);
                    var r, o = this._template;
                    return e.forEach((function(e) {
                            r = i._createMenuItem(e, o._ul, "", n, t)
                        }
                    )),
                        r
                }
                ,
                e.prototype._resetMenu = function(e) {
                    this._opts.menu = e.concat(this._DEFAULT_MENU),
                        this._container.html(""),
                        this._initialize()
                }
                ,
                e
        }();
        t.default = s
    }
    , function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = function() {
            function e(e) {
                this._container = e,
                    this._successCallbackList = [],
                    this._initialize()
            }
            return e.prototype.copy = function(e, t) {
                t && this._successCallbackList.push(t),
                    this._btn.attr("data-clipboard-text", e).trigger("click")
            }
                ,
                e.prototype._initialize = function() {
                    this._create()._bindEvents()
                }
                ,
                e.prototype._create = function() {
                    return this._btn = $("<button>").addClass("blp-clipboard-btn").attr("data-clipboard-text", "").css("display", "none").appendTo(this._container),
                        this
                }
                ,
                e.prototype._bindEvents = function() {
                    var e = this;
                    return this._clipboard = "function" == typeof window.Clipboard && new window.Clipboard(this._btn[0]),
                        this._clipboard.on("success", (function(t) {
                                t.clearSelection(),
                                    e._successCallbackList.forEach((function(e) {
                                            "function" == typeof e && e()
                                        }
                                    )),
                                    e._successCallbackList = []
                            }
                        )),
                        this._clipboard.on("error", (function(e) {
                                console.error("Clipboard Copy Error.", e)
                            }
                        )),
                        this
                }
                ,
                e
        }();
        t.default = i
    }
    , function(e, t, n) {
        "use strict";
        var i = this && this.__importDefault || function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = i(n(1))
            , o = function() {
            function e(e, t) {
                this._container = e,
                    this._cssPrefix = "bilibili-live-player-video-info",
                    this._infos = {},
                    this._initialized = !1,
                    this._graphWidth = 180,
                    this._graphHeight = 14,
                    this._minValue = 0,
                    this._updateStatus = !1,
                    this._opts = $.extend({
                        infos: []
                    }, t),
                    this._initialize()
            }
            return e.prototype.toggle = function() {
                var e = this._template._container;
                e && e.hasClass("active") ? this.hide() : this.show()
            }
                ,
                e.prototype.show = function() {
                    this._initialized || (this._initialize(),
                        this._initialized = !0),
                        this._restoreData(),
                        this._template._container.addClass("active"),
                        this._updateStatus = !0
                }
                ,
                e.prototype.hide = function() {
                    this._updateStatus = !1,
                        this._template._container.removeClass("active")
                }
                ,
                e.prototype.refresh = function(e) {
                    this._cacheData(e),
                    this._updateStatus && this._refresh(e)
                }
                ,
                e.prototype.update = function(e) {
                    return this._update(e)
                }
                ,
                e.prototype.getInfo = function() {
                    return this._infos
                }
                ,
                e.prototype._initialize = function() {
                    var e, t, n, i = this._cssPrefix, r = this._infos;
                    e = $("<div>").addClass(i + "-container").appendTo(this._container),
                        t = $('<a href="javascript:void(0);">').addClass(i + "-close").text("[x]").appendTo(e),
                        (n = $("<div>").addClass(i + "-panel").appendTo(e)).html(this._infoTemplate(r)),
                        this._template = {
                            _container: e,
                            _close: t,
                            _panel: n
                        },
                        this._initialized = !0,
                        this._bindEvents(),
                        this._cacheInfos = this._infos
                }
                ,
                e.prototype._bindEvents = function() {
                    var e = this;
                    this._template._close.on("click", (function() {
                            e.hide()
                        }
                    ))
                }
                ,
                e.prototype._infoTemplate = function(e) {
                    var t, n = this, i = "";
                    if (e instanceof Array)
                        e.forEach((function(e) {
                                i += n._infoTemplate(e)
                            }
                        ));
                    else if ("object" == typeof e && e.type && e.title)
                        switch (t = e,
                            this._infos[t.name] = {
                                type: t.type,
                                title: t.title,
                                data: t.data
                            },
                            t.type) {
                            case "text":
                                i += '<div class="info-line" data-name="' + t.name + '"><span class="info-title">' + t.title + ':</span><span class="info-data" >' + t.data + "</span></div>";
                                break;
                            case "graph":
                                this._infos[t.name].unit = t.unit,
                                    this._infos[t.name].graphPointArr = [],
                                    this._infos[t.name].graphLineArr = [],
                                    i += '<div class="info-line" data-name="' + t.name + '"><span class="info-title">' + t.title + ':</span><span class="info-graph">' + this._getGraph(this._infos[t.name]) + '</span><span class="info-data" >' + t.data + (t.unit || "") + "</span></div>"
                        }
                    return i
                }
                ,
                e.prototype._getGraph = function(e, t) {
                    var n, i, r, o = "", a = "";
                    if (t || 0 === t)
                        for (e.graphPointArr.splice(0, 1),
                                 e.graphPointArr.push(t),
                                 e.graphLineArr = [],
                                 this._maxValue = Math.max.apply(this, e.graphPointArr) || 1,
                                 this._perValue = this._graphHeight / (this._maxValue - this._minValue),
                                 i = 0,
                                 r = e.graphPointArr.length; i < r; i++) {
                            var s = e.graphPointArr[i];
                            e.graphLineArr.push([2 * i, this._graphHeight - (s - this._minValue) * this._perValue])
                        }
                    else
                        for (i = 0,
                                 r = this._graphWidth / 2; i < r; i++)
                            e.graphPointArr.push(0),
                                e.graphLineArr.push([2 * i, this._graphHeight]);
                    for (n = e.graphLineArr,
                             o += '<svg width="' + this._graphWidth + '" height="' + this._graphHeight + '" viewBox="0 0 ' + this._graphWidth + " " + this._graphHeight + '"><g><polyline stroke="white" fill="none" points="',
                             i = 0,
                             r = n.length; i < r; i++)
                        a += n[i].join(",") + " ";
                    return o += a,
                        o += '"></polyline></g></svg>'
                }
                ,
                e.prototype._update = function(e) {
                    e && e.infos && e.infos instanceof Array ? (this._opts = $.extend({
                        infos: []
                    }, e),
                        this._template._panel.html(this._infoTemplate(this._opts.infos)),
                        this._cacheInfos = this._infos) : console.error("video info update arguments error...")
                }
                ,
                e.prototype._refresh = function(e) {
                    var t, n, i = this, o = this._template._panel;
                    if (e instanceof Array)
                        e.forEach((function(e) {
                                i._refresh(e)
                            }
                        ));
                    else if ("object" == typeof e) {
                        if (!(t = this._infos[e.name]))
                            return o.append(this._infoTemplate(e)),
                                void (t = this._infos[e.name]);
                        switch (t.data = e.data,
                        "string" == typeof t.data && (t.data = r.default.escapeMessyCode(t.data)),
                            n = o.find('.info-line[data-name="' + e.name + '"]'),
                            t.type) {
                            case "text":
                                n.find(".info-data").text(t.data);
                                break;
                            case "graph":
                                n.find(".info-graph").html(this._getGraph(t, t.data)).next().text(t.data + t.unit)
                        }
                    }
                }
                ,
                e.prototype._cacheData = function(e) {
                    var t, n, i, r = this;
                    e instanceof Array ? e.forEach((function(e) {
                            r._cacheData(e)
                        }
                    )) : "object" == typeof e && (t = e.name,
                        n = e.data,
                    (i = this._cacheInfos[t]) && ("text" === i.type ? i.data = n : "graph" === i.type && (i.data = n,
                        this._getGraph(i, n))))
                }
                ,
                e.prototype._restoreData = function() {
                    var e, t;
                    for (var n in this._cacheInfos)
                        switch (t = this._cacheInfos[n],
                            e = this._template._panel.find('.info-line[data-name="' + n + '"]'),
                        "string" == typeof t.data && (t.data = r.default.escapeMessyCode(t.data)),
                            t.type) {
                            case "text":
                                e.find(".info-data").text(t.data);
                                break;
                            case "graph":
                                e.find(".info-graph").html(this._getGraph(t, t.data)).next().text(t.data + " " + t.unit)
                        }
                }
                ,
                e
        }();
        t.default = o
    }
    , function(e, t, n) {
        "use strict";
        var i = this && this.__importDefault || function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = i(n(1))
            , o = 0
            , a = 1
            , s = function() {
            function e() {}
            return e.resolve = function(t, n, i) {
                t && r.default.ajax({
                    url: t
                }, (function(r) {
                        var o = e.parse(r, t, !0, i);
                        "function" == typeof n && n(o)
                    }
                ), (function(e) {
                        i(o, "Fail to get playurl", t)
                    }
                ))
            }
                ,
                e.parse = function(e, t, n, i) {
                    var r, o = null, s = null, l = {};
                    if (!e.result) {
                        if (void 0 === e.durl) {
                            var c = "Error";
                            return e.error_text && (c = e.error_code + ": " + e.error_text),
                                void i(a, c, t)
                        }
                        e.result = "suee"
                    }
                    if ("suee" === e.result)
                        if ("local" === e.from && "suee" === e.result) {
                            if (e.durl && 0 !== e.durl.length) {
                                o = e.accept_format,
                                    s = e.accept_quality,
                                    r = e.format,
                                o && 0 !== o.length || (o = [e.format]),
                                s && 0 !== s.length || (s = [2]);
                                var u = "flv";
                                e.format && e.format.indexOf("mp4") > -1 && (u = "mp4");
                                var d = e.timelength;
                                l.type = u,
                                    l.duration = 0;
                                var h = "http";
                                if ("mp4" === u) {
                                    var f = e.durl[0]
                                        , p = f.url
                                        , v = [];
                                    n && (h = "https",
                                        p = p.replace("http://", "https://")),
                                    f.backup_url && f.backup_url.forEach((function(e) {
                                            n && (h = "https",
                                                e = e.replace("http://", "https://")),
                                                v.push(e)
                                        }
                                    )),
                                        l.url = p,
                                        l.backupURL = v,
                                        l.duration = f.length
                                } else
                                    l.segments = [],
                                        l.duration = 0,
                                        e.durl.forEach((function(e) {
                                                var t = e.url
                                                    , i = [];
                                                n && (h = "https",
                                                    t = t.replace("http://", "https://")),
                                                e.backup_url && e.backup_url.forEach((function(e) {
                                                        n && (h = "https",
                                                            e = e.replace("http://", "https://")),
                                                            i.push(e)
                                                    }
                                                ));
                                                var r = {};
                                                r.duration = e.length,
                                                    r.filesize = e.size,
                                                    r.url = t,
                                                    r.backupURL = i,
                                                    l.segments.push(r),
                                                    l.duration += r.duration
                                            }
                                        ));
                                var y = e.status
                                    , g = e.vip_type
                                    , m = e.vip_status
                                    , _ = e.has_paid
                                    , b = e.bp
                                    , E = "range";
                                if ("flv" === l.type)
                                    for (var S = l.segments, T = 0; T < S.length; T++)
                                        if (S[T].url.match(/\/ws\.acgvideo\.com\//)) {
                                            E = "param";
                                            break
                                        }
                                return {
                                    streamType: h,
                                    mediaDataSource: l,
                                    acceptFormat: o,
                                    acceptQuality: s,
                                    timelength: d,
                                    status: y,
                                    vipType: g,
                                    vipStatus: m,
                                    hasPaid: _,
                                    format: r,
                                    bp: b,
                                    seekType: E
                                }
                            }
                            i(a, "Invalid durl", t)
                        } else
                            i(a, "Unsupported video source: " + e.from, t);
                    else
                        "error" === e.result ? i(a, "Resolve Error: " + e.message, t) : i(a, "Resolve Error: result is " + e.result, t)
                }
                ,
                e
        }();
        t.default = s
    }
    , function(e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            function(e) {
                e[e.REAL_TIME_PLAYBACK = 19] = "REAL_TIME_PLAYBACK"
            }(t.SpecialType || (t.SpecialType = {}))
    }
    , function(e, t, n) {
        "use strict";
        var i = this && this.__assign || function() {
                return (i = Object.assign || function(e) {
                        for (var t, n = 1, i = arguments.length; n < i; n++)
                            for (var r in t = arguments[n])
                                Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                        return e
                    }
                ).apply(this, arguments)
            }
            , r = this && this.__importDefault || function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = n(0)
            , a = n(13)
            , s = r(n(1));
        function l(e, t, n) {
            var i = e.playurl.g_qn_desc
                , r = t.split("-").pop()
                , a = t.replace(r, o.CODEC_NAME.HEVC)
                , s = t.replace(r, o.CODEC_NAME.AVC)
                , l = [];
            return n[a] && l.push.apply(l, c(n[a], o.CODEC_NAME.HEVC, i)),
            n[s] && l.push.apply(l, c(n[s], o.CODEC_NAME.AVC, i)),
                l
        }
        function c(e, t, n) {
            return e.sort((function(e, t) {
                    return t - e
                }
            )).map((function(e) {
                    return n.find((function(t) {
                            return t.qn === e
                        }
                    ))
                }
            )).filter(Boolean).map((function(e) {
                    return {
                        qn: e.qn + "_" + t,
                        desc: e.desc + (t === o.CODEC_NAME.HEVC ? "+" : "")
                    }
                }
            ))
        }
        function u(e, t) {
            if (0 === e.length)
                return [];
            if (e.length > t)
                return e.slice(0, t);
            for (var n = e.slice(); n.length < t; )
                n = n.map((function(e) {
                        return i({}, e)
                    }
                )).concat(n.map((function(e) {
                        return i({}, e)
                    }
                )));
            return n.slice(0, t)
        }
        t.parseStreamUrl = function(e, t) {
            var n = t.forceP2PType
                , r = t.forceAvc
                , c = 1;
            try {
                c = JSON.parse(e.conf_json).cdn_rate / 1e4
            } catch (e) {
                console.error(e)
            }
            var d = Math.random() < c
                , h = function(e, t) {
                for (var n = {}, r = {}, l = 0, c = e || []; l < c.length; l++)
                    for (var u = c[l], d = 0, h = u.format || []; d < h.length; d++)
                        for (var f = h[d], p = function(e) {
                            if (e.codec_name === o.CODEC_NAME.HEVC && (l = s.default.browser.name,
                            !s.default.canPlayVideoType("hvc1.1.6.L123") || s.default.getSessionStorage(a.UNSUPPORTED_HEVC_STREAM) || "safari" !== l))
                                return "break";
                            var l, c = u.protocol_name + "-" + f.format_name + "-" + e.codec_name;
                            e.url_info = e.url_info || [];
                            var d = (t ? e.url_info : e.url_info.filter((function(e) {
                                    var t = e.host;
                                    return !/\.mcdn\./.test(t)
                                }
                            ))).map((function(t) {
                                    return {
                                        url: "" + t.host + e.base_url + t.extra,
                                        current_qn: e.current_qn,
                                        extra: t.extra,
                                        streamFormat: c
                                    }
                                }
                            ));
                            d.length && (n[c] = i({}, e, {
                                urls: d,
                                info: {
                                    protocol: u.protocol_name,
                                    format: f.format_name,
                                    codec: e.codec_name
                                }
                            })),
                            e.accept_qn && (r[c] = e.accept_qn)
                        }, v = 0, y = f.codec || []; v < y.length; v++) {
                            var g = y[v];
                            if ("break" === p(g))
                                break
                        }
                return {
                    streams: n,
                    qns: r
                }
            }(e.playurl.stream, d)
                , f = h.streams
                , p = h.qns
                , v = Number(n) || e.playurl.p2p_data.p2p_type;
            o.P2P_TYPE[v] || (v = o.P2P_TYPE.NONE);
            var y = !r && f[o.STREAM_FORMAT.HTTPSTREAM_FLV_HEVC] ? o.STREAM_FORMAT.HTTPSTREAM_FLV_HEVC : o.STREAM_FORMAT.HTTPSTREAM_FLV_AVC
                , g = f[y];
            if (v === o.P2P_TYPE.HLS_BILI) {
                var m = !r && f[o.STREAM_FORMAT.HLS_FMP4_HEVC] ? o.STREAM_FORMAT.HLS_FMP4_HEVC : o.STREAM_FORMAT.HLS_FMP4_AVC
                    , _ = f[m];
                _ ? (y = m,
                    g = _) : v = o.P2P_TYPE.NONE
            }
            if (!g)
                throw new Error("没有可播放的流类型");
            return {
                p2pType: v,
                urlList: u(g.urls, 4),
                acceptQns: l(e, y, p),
                currentQn: g.current_qn,
                currentCodec: g.codec_name,
                streamInfo: g.info,
                streamCandidates: f
            }
        }
    }
    , function(e, t, n) {
        "use strict";
        var i = this && this.__importDefault || function(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            , r = this && this.__importStar || function(e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        Object.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                return t.default = e,
                    t
            }
        ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var o = i(n(1))
            , a = i(n(3))
            , s = i(n(2))
            , l = n(87)
            , c = r(n(0))
            , u = "bilibili-live-player-video-controller"
            , d = function() {
            function e(e, t, n) {
                var i = this;
                this._player = e,
                    this._container = t,
                    this._wrap = n,
                    this.handleMouseDown = this._handleMouseDown.bind(this),
                    this.moveProgress = this._moveProgress.bind(this),
                    this.handleMouseUp = this._handleMouseUp.bind(this),
                    this.receiveMliveMessage = this._receiveMliveMessage.bind(this),
                    this.movedownClientX = null,
                    this.movedownTs = null,
                    this.currentVideoTs = null,
                    this.inMouseMove = !1,
                    this.destroyFlag = !1,
                    this.parentWindow = null,
                    this.throttleUpdate = o.default.throttle((function(e) {
                            return i.update(e)
                        }
                    ), 1e3);
                var r = this._wrap[0];
                this._template = {
                    _replayOuterContainer: r.querySelector("." + u + "-replay-outer-container"),
                    _replayContainer: r.querySelector("." + u + "-real-time-replay-container"),
                    _replayHighlights: r.querySelector("." + u + "-replay-highlights"),
                    _replayBar: r.querySelector("." + u + "-replay-bar"),
                    _replayBarPoint: r.querySelector("." + u + "-replay-bar-current-point")
                }
            }
            return e.prototype.initial = function() {
                s.default.log("Playback initial。"),
                    s.default.log("enable playback: " + this.enableReplayRoom());
                try {
                    this.parentWindow = window !== window.parent && window.parent.document && window.parent
                } catch (e) {
                    s.default.log("parent window error", 3)
                }
                this.enableReplayRoom() && (this.meetProgressDisplay(),
                    this.handleEvent(),
                    this.getPoints())
            }
                ,
                e.prototype.handleTagInfo = function(e) {
                    if (this.enableReplayRoom())
                        switch (e.type) {
                            case l.TagOperate.ADD:
                                this.drawSinglePoint(e);
                                break;
                            case l.TagOperate.DEL:
                                this.removeExistingPoint(e)
                        }
                }
                ,
                e.prototype.updateProgress = function(e) {
                    this.enableReplayRoom() && !this.inMouseMove && this.throttleUpdate(e)
                }
                ,
                e.prototype.setVideoTs = function(e) {
                    this.currentVideoTs = e
                }
                ,
                e.prototype.backLive = function() {
                    this._player.exitPlaybackMode(),
                        this.setProcessBarPixel("100%"),
                        this.updatePoints(),
                    this.destroyFlag && (this.hideReplayProgress(),
                        this._player.disablePlayback())
                }
                ,
                e.prototype.moveInController = function() {
                    this.enableReplayRoom() && this._template._replayContainer && this._container[0].appendChild(this._template._replayContainer)
                }
                ,
                e.prototype.moveOutController = function() {
                    this.enableReplayRoom() && this._template._replayContainer && this._template._replayOuterContainer.appendChild(this._template._replayContainer)
                }
                ,
                e.prototype.destroy = function() {
                    this.setProcessBarPixel("100%"),
                        this.destroyEvent(),
                        this.moveOutController(),
                        this.hideReplayProgress()
                }
                ,
                e.prototype.setDestroyFlag = function() {
                    this.destroyFlag = !0
                }
                ,
                e.prototype.redrawOrigin = function() {
                    this.endTimestamp = this.nowTime();
                    var e = this.getStartAndEndTimeStamp();
                    this.currentVideoTs = e.start,
                        this.setProcessBarPixel("0%"),
                        this.updatePoints()
                }
                ,
                e.prototype.update = function(t) {
                    if (this.isPlaybacking()) {
                        var n = this.getStartAndEndTimeStamp()
                            , i = this.currentVideoTs + Math.ceil(t)
                            , r = this.numToTwoDecimalPercent((i - n.start) / (n.end - n.start));
                        if (this.setProcessBarPixel(r),
                        n.end - i <= 0)
                            this.backLive();
                        else if (n.end - i < e.LIMIT_STREAM_SECOND) {
                            var o = this.nowTime();
                            this.endTimestamp += o - n.end > e.SPLICE_STREAM_SECOND ? e.SPLICE_STREAM_SECOND : o - n.end,
                                this.updatePoints()
                        }
                    } else
                        this.meetProgressDisplay(),
                            this.updatePoints()
                }
                ,
                e.prototype.destroyEvent = function() {
                    this._template._replayContainer.removeEventListener("mousedown", this.handleMouseDown),
                        window.removeEventListener("message", this.receiveMliveMessage)
                }
                ,
                e.prototype.hideReplayProgress = function() {
                    this._template._replayContainer.style.display = "none"
                }
                ,
                e.prototype.showReplayProgress = function() {
                    this._template._replayContainer.style.display = "block"
                }
                ,
                e.prototype.nowTime = function() {
                    return this._player._playbackTmpState && this._player._playbackTmpState.liveEndTime || Math.floor(Date.now() / 1e3)
                }
                ,
                e.prototype.meetProgressDisplay = function() {
                    var t = this.getStartAndEndTimeStamp();
                    t.end - t.start < e.MIN_SECOND ? this.hideReplayProgress() : this.showReplayProgress()
                }
                ,
                e.prototype.enableReplayRoom = function() {
                    return !!(this._player.config.useType !== c.default.PLAYER_HOME && this._player.state.enablePlayback && this._player.state.streamCandidates && this._player.state.streamCandidates[c.STREAM_FORMAT.HLS_FMP4_AVC])
                }
                ,
                e.prototype.isPlaybacking = function() {
                    return this._player.state.isPlaybacking
                }
                ,
                e.prototype.handleEvent = function() {
                    this._template._replayContainer.addEventListener("mousedown", this.handleMouseDown),
                        window.addEventListener("message", this.receiveMliveMessage, !1)
                }
                ,
                e.prototype.objectVal = function(e) {
                    var t = [];
                    for (var n in e)
                        Object.prototype.hasOwnProperty.call(e, n) && t.push(e[n]);
                    return t
                }
                ,
                e.prototype._handleMouseDown = function(e) {
                    e.preventDefault(),
                        this.movedownClientX = null,
                        this.movedownTs = null;
                    var t = e.target;
                    if (["highlight-pot", "highlight-icon", "highlight-img"].indexOf(t.className) > -1) {
                        var n = this.objectVal(t.parentElement.classList).indexOf("highlight-item") > -1 && t.parentElement || this.objectVal(t.parentElement.parentElement.classList).indexOf("highlight-item") > -1 && t.parentElement.parentElement
                            , i = n && n.getAttribute("data-ts");
                        +i && (this.movedownClientX = e.clientX,
                            this.movedownTs = +i)
                    } else
                        this.moveProgress(e);
                    window.addEventListener("mousemove", this.moveProgress),
                        window.addEventListener("mouseup", this.handleMouseUp),
                    this.parentWindow && (this.parentWindow.addEventListener("mousemove", this.moveProgress),
                        this.parentWindow.addEventListener("mouseup", this.handleMouseUp))
                }
                ,
                e.prototype._moveProgress = function(e) {
                    this.inMouseMove = !0,
                        this.drawProcessBar(this.getOffsetLeft(e))
                }
                ,
                e.prototype._handleMouseUp = function(e) {
                    window.removeEventListener("mousemove", this.moveProgress),
                        window.removeEventListener("mouseup", this.handleMouseUp),
                    this.parentWindow && (this.parentWindow.removeEventListener("mousemove", this.moveProgress),
                        this.parentWindow.removeEventListener("mouseup", this.handleMouseUp)),
                        this._player.track(c.TRACK.STATISTICS_CLICK_PLAYBACK_TIMELINE),
                        this.inMouseMove = !1;
                    this._template._replayContainer;
                    this.isPlaybacking() || (this.endTimestamp = this.nowTime());
                    var t = this.getStartAndEndTimeStamp();
                    if (e.clientX === this.movedownClientX && this.movedownTs) {
                        var n = this.numToTwoDecimalPercent((this.movedownTs - t.start) / (t.end - t.start));
                        this.setProcessBarPixel(n),
                            this.setVideoTs(this.movedownTs),
                            s.default.log("emit enterPlaybackMode, movedownTs: " + this.movedownTs),
                            this._player.enterPlaybackMode(this.movedownTs)
                    } else
                        this.clickTimeline(e);
                    var i = this.getOffsetLeft(e);
                    this.isPlaybacking() && i === this.getTimelineWidth() && this.backLive()
                }
                ,
                e.prototype._receiveMliveMessage = function(e) {
                    var t = e.origin.split("://");
                    if (t[1] && /^(?:uat-)?mlive\.bilibili\.co(?::\d+)?$/.test(t[1].split("/")[0])) {
                        s.default.log("ReceiveMliveMessage, origin: " + e.origin + ",  data: " + JSON.stringify(e.data));
                        var n = e.data;
                        if ("previewPlaybackTimelineAnchor" === n.type) {
                            var i = this.getStartAndEndTimeStamp();
                            s.default.log("ReceiveMliveMessage, timeline is " + JSON.stringify(i)),
                                this.checkTimestamp(n.data.time) ? (this._template._replayHighlights.innerHTML = "",
                                    this.drawSinglePoint({
                                        tag_id: 0,
                                        timestamp: n.data.time,
                                        pic: n.data.iconUrl
                                    })) : s.default.log("ReceiveMliveMessage time is fail。")
                        }
                    }
                }
                ,
                e.prototype.getOffsetLeft = function(e) {
                    var t = e.clientX;
                    if (e.currentTarget === this.parentWindow) {
                        var n = Array.from(this.parentWindow.document.querySelectorAll("iframe")).find((function(e) {
                                return e.contentWindow === window
                            }
                        ));
                        n && (t -= n.getBoundingClientRect().left)
                    }
                    var i = t - this._template._replayBar.getBoundingClientRect().left;
                    return i < 0 ? 0 : i > this.getTimelineWidth() ? this.getTimelineWidth() : i
                }
                ,
                e.prototype.getStartAndEndTimeStamp = function() {
                    var e = this._player.config.startTime + 10
                        , t = this.isPlaybacking() ? this.endTimestamp : this.nowTime();
                    return {
                        start: t - e >= c.MAX_PLAYBACK_TIME_SHIFT ? t - c.MAX_PLAYBACK_TIME_SHIFT : e,
                        end: t
                    }
                }
                ,
                e.prototype.updatePoints = function() {
                    var e = this;
                    this._template._replayHighlights.querySelectorAll(".highlight-item").forEach((function(t) {
                            var n = +t.getAttribute("data-ts")
                                , i = e.getStartAndEndTimeStamp();
                            if (n > i.start && n < i.end) {
                                var r = ((n - i.start) / (i.end - i.start) * 100).toFixed(2) + "%";
                                t.setAttribute("style", "left: " + r)
                            } else
                                e._template._replayHighlights.removeChild(t)
                        }
                    ))
                }
                ,
                e.prototype.checkTimestamp = function(e) {
                    var t = this.getStartAndEndTimeStamp();
                    return e >= t.start && e <= t.end
                }
                ,
                e.prototype.getPoints = function() {
                    var e = this;
                    o.default.ajax({
                        data: {
                            roomid: this._player.config.rid
                        },
                        url: a.default.replayTagsApi
                    }, (function(t) {
                            s.default.log("Loaded replayTags API:\n\n " + JSON.stringify(t) + " \n", 3),
                            0 === t.code && t.data.play_tag_list && e.drawPoints(t.data.play_tag_list)
                        }
                    ), (function(e) {
                            s.default.log("Request replayTags Error! Info: \n\n" + JSON.stringify(e) + "\n", 2)
                        }
                    ))
                }
                ,
                e.prototype.drawPoints = function(e) {
                    var t = this
                        , n = this.getStartAndEndTimeStamp()
                        , i = "";
                    e.forEach((function(e) {
                            var r = t.getHighlightHtml(e, "string", n);
                            r && (i += r)
                        }
                    )),
                        this._template._replayHighlights.innerHTML = i
                }
                ,
                e.prototype.drawSinglePoint = function(e) {
                    if (!this._template._replayHighlights.querySelector(".highlight-item-" + e.tag_id)) {
                        var t = this.getHighlightHtml(e, "node");
                        t && this._template._replayHighlights.appendChild(t)
                    }
                }
                ,
                e.prototype.removeExistingPoint = function(e) {
                    var t = this._template._replayHighlights.querySelector(".highlight-item-" + e.tag_id);
                    t && this._template._replayHighlights.removeChild(t)
                }
                ,
                e.prototype.getHighlightHtml = function(e, t, n) {
                    var i = n || this.getStartAndEndTimeStamp();
                    if (this.checkTimestamp(e.timestamp)) {
                        var r = e.pic
                            , o = ((e.timestamp - i.start) / (i.end - i.start) * 100).toFixed(2) + "%"
                            , a = '<div class="highlight-pot"></div>' + (r ? '<div class="highlight-icon"><div class="highlight-img" style="background-image: url(' + r + ')"></div></div>' : "");
                        if ("string" === t)
                            return '\n                <div class="highlight-item highlight-item-' + e.tag_id + '" style="left: ' + o + '" data-ts="' + e.timestamp + '">\n                    ' + a + "\n                </div>\n                ";
                        if ("node" === t)
                            return this.createElement("div", "highlight-item highlight-item-" + e.tag_id, a, [["style", "left: " + o], ["data-ts", "" + e.timestamp]], !0)
                    }
                }
                ,
                e.prototype.createElement = function(e, t, n, i, r) {
                    var o = document.createElement(e);
                    if (t && (o.className = t),
                    n && (r ? o.innerHTML = n : o.textContent = n),
                        i)
                        for (var a = 0, s = i.length; a < s; a++)
                            o.setAttribute(i[a][0], i[a][1]);
                    return o
                }
                ,
                e.prototype.getTimelineWidth = function() {
                    return this._template._replayContainer.clientWidth
                }
                ,
                e.prototype.drawProcessBar = function(e) {
                    var t = this.getTimelineWidth()
                        , n = this.numToTwoDecimalPercent(e / t);
                    this.setProcessBarPixel(n)
                }
                ,
                e.prototype.setProcessBarPixel = function(e) {
                    this._template._replayBar.style.width = e,
                        this._template._replayBarPoint.style.left = e
                }
                ,
                e.prototype.playbackStreaming = function(e) {
                    var t = this.getTimelineWidth()
                        , n = this.getStartAndEndTimeStamp();
                    this.currentVideoTs = Math.ceil(e / t * 1e3 * (n.end - n.start) / 1e3) + n.start,
                        s.default.log("emit enterPlaybackMode, start: " + n.start + ", end: " + n.end + ", current: " + this.currentVideoTs),
                        this._player.enterPlaybackMode(this.currentVideoTs)
                }
                ,
                e.prototype.clickTimeline = function(e) {
                    var t = this.getOffsetLeft(e);
                    this.drawProcessBar(t),
                        this.playbackStreaming(t)
                }
                ,
                e.prototype.numToTwoDecimalPercent = function(e) {
                    var t = e > 1 ? 100 : 100 * e
                        , n = t.toString().split(".")[1];
                    return (n && n.length > 2 ? t.toFixed(2) : t) + "%"
                }
                ,
                e.MIN_SECOND = 300,
                e.LIMIT_STREAM_SECOND = 30,
                e.SPLICE_STREAM_SECOND = 30,
                e
        }();
        t.default = d
    }
    , function(e, t, n) {
        "use strict";
        var i;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            function(e) {
                e.ADD = "ADD",
                    e.DEL = "DEL"
            }(i || (i = {})),
            t.TagOperate = i
    }
]);
